{"version":3,"file":"ej2-gantt.min.js","sources":["../../src/gantt/base/utils.js","../../src/gantt/base/date-processor.js","../../src/gantt/base/task-processor.js","../../src/gantt/base/css-constants.js","../../src/gantt/actions/chart-scroll.js","../../src/gantt/renderer/virtual-content-render.js","../../src/gantt/base/gantt-chart.js","../../src/gantt/renderer/timeline.js","../../src/gantt/models/column.js","../../src/gantt/base/tree-grid.js","../../src/gantt/models/day-working-time.js","../../src/gantt/models/add-dialog-field-settings.js","../../src/gantt/models/edit-dialog-field-settings.js","../../src/gantt/models/edit-settings.js","../../src/gantt/models/event-marker.js","../../src/gantt/models/filter-settings.js","../../src/gantt/models/search-settings.js","../../src/gantt/models/holiday.js","../../src/gantt/models/label-settings.js","../../src/gantt/models/selection-settings.js","../../src/gantt/models/splitter-settings.js","../../src/gantt/models/task-fields.js","../../src/gantt/models/timeline-settings.js","../../src/gantt/models/tooltip-settings.js","../../src/gantt/models/sort-settings.js","../../src/gantt/models/resource-fields.js","../../src/gantt/models/loading-indicator.js","../../src/gantt/models/week-working-time.js","../../src/gantt/renderer/chart-rows.js","../../src/gantt/actions/dependency.js","../../src/gantt/renderer/connector-line.js","../../src/gantt/base/splitter.js","../../src/gantt/renderer/tooltip.js","../../src/gantt/actions/keyboard.js","../../src/gantt/base/gantt.js","../../src/gantt/base/interface.js","../../src/gantt/actions/cell-edit.js","../../src/gantt/renderer/edit-tooltip.js","../../src/gantt/actions/taskbar-edit.js","../../src/gantt/actions/dialog-edit.js","../../src/gantt/actions/connector-line-edit.js","../../src/gantt/actions/edit.js","../../src/gantt/actions/column-reorder.js","../../src/gantt/actions/column-resize.js","../../src/gantt/actions/filter.js","../../src/gantt/actions/sort.js","../../src/gantt/actions/selection.js","../../src/gantt/actions/toolbar.js","../../src/gantt/base/constant.js","../../src/gantt/renderer/nonworking-day.js","../../src/gantt/renderer/event-marker.js","../../src/gantt/actions/day-markers.js","../../src/gantt/actions/critical-path.js","../../src/gantt/actions/undo-redo.js","../../src/gantt/actions/context-menu.js","../../src/gantt/actions/excel-export.js","../../src/gantt/actions/column-menu.js","../../src/gantt/actions/rowdragdrop.js","../../src/gantt/export/pdf-base/pdf-style/gantt-theme.js","../../src/gantt/export/pdf-base/dictionary.js","../../src/gantt/export/pdf-base/pdf-borders.js","../../src/gantt/export/pdf-base/pdf-style/style.js","../../src/gantt/export/pdf-base/treegrid-layouter.js","../../src/gantt/export/pdf-treegrid.js","../../src/gantt/export/pdf-base/pdf-grid-table.js","../../src/gantt/export/export-helper.js","../../src/gantt/export/pdf-taskbar.js","../../src/gantt/export/pdf-timeline.js","../../src/gantt/export/pdf-connector-line.js","../../src/gantt/export/pdf-event-marker.js","../../src/gantt/export/pdf-gantt.js","../../src/gantt/actions/pdf-export.js","../../src/gantt/actions/virtual-scroll.js","../../src/global.js"],"sourcesContent":["/**\n * Common methods used in Gantt\n */\nimport { isNullOrUndefined, extend, getValue } from '@syncfusion/ej2-base';\nimport { DataManager, UrlAdaptor, WebApiAdaptor, ODataAdaptor } from '@syncfusion/ej2-data';\nimport { WebMethodAdaptor, CacheAdaptor, RemoteSaveAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\n/**\n * @param {Element} elem .\n * @param {string} selector .\n * @param {boolean} isID .\n * @returns {Element} .\n * @hidden\n */\nexport function parentsUntil(elem, selector, isID) {\n    var parent = elem;\n    while (parent) {\n        if (isID ? parent.id === selector : parent.classList.contains(selector)) {\n            break;\n        }\n        parent = parent.parentElement;\n    }\n    return parent;\n}\n/**\n * @param {ITaskData} ganttProp .\n * @returns {boolean} .\n * @hidden\n */\nexport function isScheduledTask(ganttProp) {\n    if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n        isNullOrUndefined(ganttProp.duration)) {\n        return null;\n    }\n    else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n        isNullOrUndefined(ganttProp.duration)) {\n        return false;\n    }\n    else {\n        return true;\n    }\n}\n/**\n * @param {Gantt} parent .\n * @returns {boolean} .\n * @hidden\n */\nexport function isCountRequired(parent) {\n    if (parent.dataSource && !(parent.dataSource instanceof DataManager) &&\n        'result' in parent.dataSource) {\n        return true;\n    }\n    return false;\n}\n/**\n * @param {object} obj .\n * @returns {object} .\n * @hidden\n */\nexport function getSwapKey(obj) {\n    var temp = {};\n    for (var _i = 0, _a = Object.keys(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        temp[obj[key]] = key;\n    }\n    return temp;\n}\n/**\n * @param {object} obj .\n * @returns {boolean} .\n * @hidden\n */\nexport function isEmptyObject(obj) {\n    if (isNullOrUndefined(obj) || typeof obj !== 'object') {\n        return false;\n    }\n    return Object.keys(obj).length === 0;\n}\n/**\n * @param {Date} date .\n * @returns {number} .\n * @hidden\n */\nexport function getUniversalTime(date) {\n    var year = date.getFullYear();\n    var month = date.getMonth();\n    var day = date.getDate();\n    var hours = date.getHours();\n    var minutes = date.getMinutes();\n    var seconds = date.getSeconds();\n    var milliseconds = date.getMilliseconds();\n    return Date.UTC(year, month, day, hours, minutes, seconds, milliseconds);\n}\n/**\n * @param {object} dataSource .\n * @returns {boolean} .\n * @hidden\n */\nexport function isRemoteData(dataSource) {\n    if (dataSource instanceof DataManager) {\n        var adaptor = dataSource.adaptor;\n        return (adaptor instanceof ODataAdaptor || (adaptor instanceof ODataV4Adaptor) ||\n            (adaptor instanceof WebApiAdaptor) || (adaptor instanceof WebMethodAdaptor) ||\n            (adaptor instanceof CacheAdaptor) || (adaptor instanceof RemoteSaveAdaptor) ||\n            adaptor instanceof UrlAdaptor);\n    }\n    return false;\n}\n/**\n * @param {IGanttData[]} records .\n * @param {boolean} isNotExtend .\n * @param {ITaskAddedEventArgs} eventArgs .\n * @param {Gantt} parent .\n * @returns {object[]} .\n * @hidden\n */\nexport function getTaskData(records, isNotExtend, eventArgs, parent) {\n    if (eventArgs) {\n        var result = void 0;\n        for (var i = 0; i < records.length; i++) {\n            var data = isNotExtend ?\n                (records[parseInt(i.toString(), 10)].taskData) : extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result = (data);\n        }\n        return result;\n    }\n    else {\n        var result = [];\n        for (var i = 0; i < records.length; i++) {\n            if (!isNullOrUndefined(parent) && parent.timezone) {\n                updateDates(records[i], parent);\n            }\n            var data = isNotExtend ? (records[parseInt(i.toString(), 10)].taskData) :\n                extend({}, records[parseInt(i.toString(), 10)].taskData, {}, true);\n            result.push(data);\n        }\n        return result;\n    }\n}\n/**\n * @param {IGanttData} record .\n * @param {Gantt} parent .\n * @returns {null} .\n * @hidden\n */\nexport function updateDates(record, parent) {\n    // let startDate: Date = (record as IGanttData).taskData[parent.taskFields.startDate];\n    if (record && !isNullOrUndefined(record.ganttProperties)) {\n        record.taskData[parent.taskFields.startDate] = parent.dateValidationModule.remove(record.ganttProperties.startDate, parent.timezone);\n        if (parent.taskFields.endDate !== null) {\n            record.taskData[parent.taskFields.endDate] = parent.dateValidationModule.remove(record.ganttProperties.endDate, parent.timezone);\n        }\n        if (parent.taskFields.baselineEndDate || parent.taskFields.baselineStartDate) {\n            record.taskData[parent.taskFields.baselineStartDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineStartDate, parent.timezone);\n            record.taskData[parent.taskFields.baselineEndDate] = parent.dateValidationModule.remove(record.ganttProperties.baselineEndDate, parent.timezone);\n        }\n    }\n    return null;\n}\n/**\n * @param {string} str .\n * @param {string[]} args .\n * @returns {string} .\n * @hidden\n */\nexport function formatString(str, args) {\n    var regx;\n    for (var i = 0; i < args.length; i++) {\n        // eslint-disable-next-line security/detect-non-literal-regexp\n        regx = new RegExp('\\\\{' + (i) + '\\\\}', 'gm');\n        str = str.replace(regx, args[i].toString());\n    }\n    return str;\n}\n/**\n * @param {any} value .\n * @param {string} key1 .\n * @param {any} collection .\n * @param {string} key2\n * @returns {number} .\n * @hidden\n */\n/* eslint-disable-next-line */\nexport function getIndex(value, key1, collection, key2) {\n    var index = -1;\n    for (var i = 0; i < collection.length; i++) {\n        if (getValue(key1, collection[i]) === getValue(key1, value) && isNullOrUndefined(key2)\n            || (!isNullOrUndefined(key2) && getValue(key1, collection[i]) === getValue(key1, value)\n                && getValue(key2, collection[i]) === getValue(key2, value))) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pixelToPoint(value) {\n    return (value * 76) / 92;\n}\n/**\n * @param {number} value .\n * @returns {number} .\n * @hidden\n */\nexport function pointToPixel(value) {\n    return (value * 92) / 76;\n}\nvar uid = 0;\n/**\n * @returns {number} .\n * @hidden\n */\nexport function getUid() {\n    return uid++;\n}\n","import { isNullOrUndefined, getValue, setValue } from '@syncfusion/ej2-base';\n/**\n *  Date processor is used to handle date of task data.\n */\nvar DateProcessor = /** @class */ (function () {\n    function DateProcessor(parent) {\n        this.fromSegments = false;\n        this.mondayTimeRangeLength = 0;\n        this.tuesdayTimeRangeLength = 0;\n        this.wednesdayTimeRangeLength = 0;\n        this.thursdayTimeRangeLength = 0;\n        this.fridayTimeRangeLength = 0;\n        this.saturdayTimeRangeLength = 0;\n        this.sundayTimeRangeLength = 0;\n        this.parent = parent;\n    }\n    /**\n     * @param {ITaskData} ganttProp .\n     * @returns {boolean} .\n     */\n    DateProcessor.prototype.isValidateNonWorkDays = function (ganttProp) {\n        return (!isNullOrUndefined(ganttProp) && ganttProp.isAutoSchedule &&\n            (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0)) ||\n            (isNullOrUndefined(ganttProp) && (!this.parent.includeWeekend || this.parent.totalHolidayDates.length > 0));\n    };\n    /**\n     * Method to convert given date value as valid start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkStartDate = function (date, ganttProp, validateAsMilestone, isLoad) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var currentDay = new Date(date.getTime());\n        var dayStartTime = this.parent['getCurrentDayStartTime'](currentDay);\n        var dayEndTime = this.parent['getCurrentDayEndTime'](currentDay);\n        var cloneStartDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneStartDate);\n        validateAsMilestone = isNullOrUndefined(validateAsMilestone) ? !isNullOrUndefined(ganttProp) ?\n            ganttProp.isMilestone : false : validateAsMilestone;\n        if (hour < dayStartTime && (!validateAsMilestone || isLoad)) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour < dayStartTime && validateAsMilestone) {\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if ((hour === dayEndTime && (!ganttProp || !validateAsMilestone)) || hour > dayEndTime) {\n            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n            dayStartTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n            this.setTime(dayStartTime, cloneStartDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            var workingRange = this.parent.workingTimeRanges;\n            if (this.parent.weekWorkingTime.length > 0) {\n                workingRange = this.parent['getWorkingRange'](cloneStartDate);\n            }\n            for (var index = 0; index < workingRange.length; index++) {\n                var value = workingRange[index];\n                if (hour >= value.to && (workingRange[index + 1] &&\n                    hour < workingRange[index + 1].from)) {\n                    // milestone can fall at end any interval time\n                    if ((hour === value.to && (!ganttProp || !validateAsMilestone)) || hour !== value.to) {\n                        this.setTime(workingRange[index + 1].from, cloneStartDate);\n                    }\n                    break;\n                }\n            }\n        }\n        var tStartDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tStartDate = new Date(cloneStartDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                // check holidays and weekends\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    dayStartTime = this.parent['getCurrentDayStartTime'](tStartDate);\n                    if (ganttProp) {\n                        dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : tStartDate);\n                    }\n                    var startTime = (!validateAsMilestone || isLoad) ? dayStartTime : dayEndTime;\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneStartDate.getTime());\n                        cloneStartDate = this.getNextWorkingDay(cloneStartDate);\n                        startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                        if (tempDate.getTime() !== cloneStartDate.getTime() && !validateAsMilestone) {\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneStartDate.getTime() >= holidayFrom.getTime() && cloneStartDate.getTime() < holidayTo.getTime()) {\n                            cloneStartDate.setDate(cloneStartDate.getDate() + 1);\n                            startTime = this.parent['getCurrentDayStartTime'](cloneStartDate);\n                            this.setTime(startTime, cloneStartDate);\n                        }\n                    }\n                }\n            } while (tStartDate.getTime() !== cloneStartDate.getTime());\n            return new Date(cloneStartDate.getTime());\n        }\n        else {\n            return new Date(cloneStartDate.getTime());\n        }\n    };\n    /**\n     * To update given date value to valid end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkEndDate = function (date, ganttProp, validateAsMilestone) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        var dayStartTime;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            var currentDay = date;\n            if (!this.parent.includeWeekend && ganttProp && ganttProp.isAutoSchedule || (this.parent.editModule\n                && this.parent.editModule.taskbarEditModule && this.parent.editModule.taskbarEditModule.taskBarEditRecord\n                && !this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.isAutoSchedule)) {\n                currentDay = this.getNextWorkingDay(date);\n            }\n            dayStartTime = this.parent['getStartTime'](currentDay);\n            dayEndTime = this.parent['getEndTime'](currentDay);\n        }\n        else {\n            dayStartTime = this.parent.defaultStartTime;\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        var cloneEndDate = new Date(date.getTime());\n        var hour = this.getSecondsInDecimal(cloneEndDate);\n        if (hour > dayEndTime) {\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour <= dayStartTime && !validateAsMilestone) {\n            var taskfields = this.parent.taskFields;\n            if (this.parent.editModule && this.parent.editModule['editedRecord'] && (!this.parent.editModule['editedRecord'][taskfields.startDate] && this.parent.editModule['editedRecord'][taskfields.endDate])) {\n                cloneEndDate.setDate(cloneEndDate.getDate());\n            }\n            else {\n                cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n            }\n            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n            this.setTime(dayEndTime, cloneEndDate);\n        }\n        else if (hour > dayStartTime && hour < dayEndTime) {\n            for (var index = 0; index < this.parent.workingTimeRanges.length; index++) {\n                var value = this.parent.workingTimeRanges[index];\n                if (hour > value.to && (this.parent.workingTimeRanges[index + 1] &&\n                    hour <= this.parent.workingTimeRanges[index + 1].from)) {\n                    this.setTime(this.parent.workingTimeRanges[index].to, cloneEndDate);\n                    break;\n                }\n            }\n        }\n        var tempCheckDate;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            do {\n                tempCheckDate = new Date(cloneEndDate.getTime());\n                var holidayLength = this.parent.totalHolidayDates.length;\n                if (this.isValidateNonWorkDays(ganttProp)) {\n                    if (!this.parent.includeWeekend) {\n                        var tempDate = new Date(cloneEndDate.getTime());\n                        cloneEndDate = this.getPreviousWorkingDay(cloneEndDate);\n                        dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                        if (tempDate.getTime() !== cloneEndDate.getTime()) {\n                            this.setTime(dayEndTime, cloneEndDate);\n                        }\n                    }\n                    for (var count = 0; count < holidayLength; count++) {\n                        var holidayFrom = this.getDateFromFormat(new Date(this.parent.totalHolidayDates[count]));\n                        var holidayTo = new Date(holidayFrom.getTime());\n                        var tempHoliday = new Date(cloneEndDate.getTime());\n                        tempHoliday.setMinutes(cloneEndDate.getMilliseconds() - 2);\n                        holidayFrom.setHours(0, 0, 0, 0);\n                        holidayTo.setHours(23, 59, 59, 59);\n                        if (cloneEndDate.getTime() >= holidayFrom.getTime() && cloneEndDate.getTime() < holidayTo.getTime() ||\n                            tempHoliday.getTime() >= holidayFrom.getTime() && tempHoliday.getTime() < holidayTo.getTime()) {\n                            cloneEndDate.setDate(cloneEndDate.getDate() - 1);\n                            dayEndTime = this.parent['getCurrentDayEndTime'](cloneEndDate);\n                            if (!(cloneEndDate.getTime() === holidayFrom.getTime() && dayEndTime === 86400 &&\n                                this.getSecondsInDecimal(cloneEndDate) === 0)) {\n                                this.setTime(dayEndTime, cloneEndDate);\n                            }\n                        }\n                    }\n                }\n            } while (tempCheckDate.getTime() !== cloneEndDate.getTime());\n            return new Date(cloneEndDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(cloneEndDate) && this.parent.defaultEndTime !== 86400) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](date);\n                this.setTime(dayEndTime, cloneEndDate);\n            }\n            return new Date(cloneEndDate.getTime());\n        }\n    };\n    /**\n     * To validate the baseline start date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineStartDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](date);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp ? ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour < dayStartTime) {\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayEndTime) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](cloneDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                }\n                this.setTime(dayStartTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] &&\n                        hour < this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i + 1].from, cloneDate);\n                        break;\n                    }\n                }\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To validate baseline end date\n     *\n     * @param {Date} date .\n     * @param {ITaskData} ganttProp .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.checkBaselineEndDate = function (date, ganttProp) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n            var dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp ? ganttProp.startDate ? ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate : date : date);\n            var cloneDate = new Date(date.getTime());\n            var hour = this.getSecondsInDecimal(cloneDate);\n            if (hour > dayEndTime) {\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour < dayStartTime && !isNullOrUndefined(ganttProp) && !ganttProp.isMilestone) {\n                cloneDate.setDate(cloneDate.getDate() - 1);\n                dayEndTime = this.parent['getCurrentDayEndTime'](cloneDate);\n                this.setTime(dayEndTime, cloneDate);\n            }\n            else if (hour > dayStartTime && hour < dayEndTime) {\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var value = this.parent.workingTimeRanges[i];\n                    if (hour > value.to && (this.parent.workingTimeRanges[i + 1] && hour <= this.parent.workingTimeRanges[i + 1].from)) {\n                        this.setTime(this.parent.workingTimeRanges[i].to, cloneDate);\n                        break;\n                    }\n                }\n            }\n            if (ganttProp && ganttProp.baselineStartDate && cloneDate &&\n                ganttProp.baselineStartDate.getTime() > cloneDate.getTime()) {\n                cloneDate.setDate(cloneDate.getDate() + 1);\n            }\n            return cloneDate;\n        }\n    };\n    /**\n     * To calculate start date value from duration and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempStartDate = null;\n        if (!isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(ganttProp.duration)) {\n            tempStartDate = this.getStartDate(ganttProp.endDate, ganttProp.duration, ganttProp.durationUnit, ganttProp);\n        }\n        this.parent.setRecordValue('startDate', tempStartDate, ganttProp, true);\n        if (this.parent.taskFields.startDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tempEndDate = null;\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttProp.startDate)) {\n            if (!isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                if (this.compareDates(ganttProp.startDate, ganttProp.endDate) === 1) {\n                    this.parent.setRecordValue('startDate', new Date(ganttProp.endDate.getTime()), ganttProp, true);\n                    dayStartTime = this.parent['getCurrentDayStartTime'](ganttProp.isAutoSchedule ? ganttProp.autoStartDate : ganttProp.startDate);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.isAutoSchedule ? ganttProp.autoEndDate : ganttProp.endDate);\n                    this.setTime(dayStartTime, ganttProp.startDate);\n                }\n                this.calculateDuration(ganttData);\n            }\n            if (!isNullOrUndefined(ganttProp.duration)) {\n                var duration = !isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 1 ?\n                    this.totalDuration(ganttProp.segments) : ganttProp.duration;\n                tempEndDate = this.getEndDate(ganttProp.startDate, duration, ganttProp.durationUnit, ganttProp, false);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        else {\n            tempEndDate = ganttData[this.parent.taskFields.endDate];\n            if (!isNullOrUndefined(tempEndDate)) {\n                dayEndTime = this.parent['getCurrentDayEndTime'](tempEndDate);\n                this.setTime(dayEndTime, tempEndDate);\n            }\n            this.parent.setRecordValue('endDate', tempEndDate, ganttProp, true);\n        }\n        if (this.parent.taskFields.endDate) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        }\n    };\n    DateProcessor.prototype.totalDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            duration += segments[i].duration + segments[i].offsetDuration;\n        }\n        return duration;\n    };\n    /**\n     * To calculate duration from start date and end date\n     *\n     * @param {IGanttData} ganttData - Defines the gantt data.\n     * @returns {void} .\n     */\n    DateProcessor.prototype.calculateDuration = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var tDuration;\n        if (!isNullOrUndefined(ganttProperties.segments) && ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            tDuration = this.parent.editModule.taskbarEditModule.sumOfDuration(ganttProperties.segments);\n        }\n        else {\n            if ((!isNullOrUndefined(this.parent.taskFields.milestone)) && (!isNullOrUndefined(ganttProperties.startDate))\n                && !isNullOrUndefined(ganttProperties.endDate) &&\n                (ganttProperties.startDate).getTime() === (ganttProperties.endDate).getTime()\n                && (ganttData.taskData[this.parent.taskFields.milestone] === false)) {\n                tDuration = 1;\n            }\n            else {\n                tDuration = this.getDuration(ganttProperties.startDate, ganttProperties.endDate, ganttProperties.durationUnit, ganttProperties.isAutoSchedule, ganttProperties.isMilestone);\n            }\n        }\n        this.parent.setRecordValue('duration', tDuration, ganttProperties, true);\n        var col = this.parent.columnByField[this.parent.columnMapping.duration];\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isCellEdit && !isNullOrUndefined(col)) {\n            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                var dialog = this.parent.editModule.dialogModule.dialog;\n                if (!isNullOrUndefined(dialog)) {\n                    var textBox = dialog.querySelector('#' + this.parent.element.id + 'Duration')\n                        .ej2_instances[0];\n                    if (!isNullOrUndefined(textBox) && textBox.value !== tDuration.toString()) {\n                        textBox.value = tDuration.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n            if (this.parent.taskFields.duration) {\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                if (this.parent.taskFields.durationUnit) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'durationUnit');\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} sDate Method to get total nonworking time between two date values\n     * @param {Date} eDate .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonworkingTime = function (sDate, eDate, isAutoSchedule, isCheckTimeZone) {\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var weekendCount = (!this.parent.includeWeekend && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) && isAutoSchedule ?\n            this.getWeekendCount(sDate, eDate) : 0;\n        var totalHours = this.getNumberOfSeconds(sDate, eDate, isCheckTimeZone);\n        var holidaysCount = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.getHolidaysCount(sDate, eDate) : 0;\n        var totWorkDays = (totalHours - (weekendCount * 86400) - (holidaysCount * 86400)) / 86400; // working days between two dates\n        var nonWorkHours = this.getNonWorkingSecondsOnDate(sDate, eDate, isAutoSchedule);\n        var totalNonWorkTime = (this.parent.weekWorkingTime.length > 0 ?\n            this.nonWorkingSeconds(sDate, eDate, isAutoSchedule, totWorkDays) : (totWorkDays * (86400 - this.parent.secondsPerDay))) +\n            (weekendCount * 86400) + (holidaysCount * 86400) + nonWorkHours;\n        return totalNonWorkTime;\n    };\n    DateProcessor.prototype.nonWorkingSeconds = function (sDate, eDate, isAutoSchedule, workDays, fromDuration) {\n        var newStartDate = sDate.getTime() > eDate.getTime() ? new Date(eDate.getTime()) : new Date(sDate.getTime());\n        var newEndDate = sDate.getTime() > eDate.getTime() ? new Date(sDate.getTime()) : new Date(eDate.getTime());\n        var timeDiff = 0;\n        var count = 0;\n        if (fromDuration) {\n            var dayStartTime = this.parent['getCurrentDayStartTime'](newStartDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](newStartDate);\n            if (!(newStartDate.getHours() < dayEndTime / 3600 && newStartDate.getHours() >= dayStartTime / 3600)) {\n                newStartDate.setDate(newStartDate.getDate() + 1);\n            }\n        }\n        else {\n            newStartDate.setDate(newStartDate.getDate() + 1);\n            newStartDate.setHours(0, 0, 0, 0);\n            newEndDate.setHours(0, 0, 0, 0);\n        }\n        if (workDays > 0 || isNullOrUndefined(workDays)) {\n            while ((fromDuration && newStartDate.getTime() <= newEndDate.getTime())\n                || (!fromDuration && newStartDate.getTime() < newEndDate.getTime())) {\n                if (isAutoSchedule) {\n                    if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                        do {\n                            newStartDate.setDate(newStartDate.getDate() + 1);\n                        } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                    }\n                    if (!this.parent.includeWeekend) {\n                        this.getNextWorkingDay(newStartDate);\n                    }\n                }\n                if (newStartDate.getTime() <= newEndDate.getTime()) {\n                    count++;\n                    var currentDaySeconds = this.parent['getSecondsPerDay'](newStartDate);\n                    if (fromDuration) {\n                        timeDiff += currentDaySeconds;\n                    }\n                    else {\n                        timeDiff += 86400 - currentDaySeconds;\n                    }\n                    newStartDate.setDate(newStartDate.getDate() + 1);\n                    if (isAutoSchedule) {\n                        if (this.isOnHolidayOrWeekEnd(newStartDate, true)) {\n                            do {\n                                newStartDate.setDate(newStartDate.getDate() + 1);\n                            } while (this.isOnHolidayOrWeekEnd(newStartDate, true));\n                        }\n                        if (!this.parent.includeWeekend) {\n                            this.getNextWorkingDay(newStartDate);\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            return 0;\n        }\n        if (fromDuration) {\n            if (timeDiff > 0) {\n                timeDiff = timeDiff / count;\n            }\n            else {\n                timeDiff = this.parent.secondsPerDay;\n            }\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} durationUnit .\n     * @param {boolean} isAutoSchedule .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getDuration = function (startDate, endDate, durationUnit, isAutoSchedule, isMilestone, isCheckTimeZone) {\n        if (isNullOrUndefined(startDate) || isNullOrUndefined(endDate)) {\n            return null;\n        }\n        isCheckTimeZone = isNullOrUndefined(isCheckTimeZone) ? true : isCheckTimeZone;\n        var durationValue = 0;\n        var timeDiff = this.getTimeDifference(startDate, endDate, isCheckTimeZone) / 1000;\n        var nonWorkHours = this.getNonworkingTime(startDate, endDate, isAutoSchedule, isCheckTimeZone);\n        var durationHours = timeDiff - nonWorkHours;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.nonWorkingSeconds(startDate, endDate, isAutoSchedule, undefined, true);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (isMilestone && this.parent.getFormatedDate(startDate) === this.parent.getFormatedDate(endDate)) {\n            durationValue = 0;\n        }\n        else {\n            if (!durationUnit || durationUnit === 'day') {\n                durationValue = (totSeconds === 0) ? 0 : durationHours / totSeconds;\n            }\n            else if (durationUnit === 'minute') {\n                durationValue = durationHours / 60;\n            }\n            else {\n                durationValue = durationHours / 3600;\n            }\n        }\n        return parseFloat(durationValue.toString());\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {Date} date .\n     *  @returns {number} .\n     */\n    DateProcessor.prototype.getDurationAsSeconds = function (duration, durationUnit, date) {\n        var value = 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](date);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        if (!durationUnit || durationUnit.toLocaleLowerCase() === 'day') {\n            value = totSeconds * duration;\n        }\n        else if (durationUnit.toLocaleLowerCase() === 'hour') {\n            value = duration * 3600;\n        }\n        else {\n            value = duration * 60;\n        }\n        return value;\n    };\n    /**\n     * To get date from start date and duration\n     *\n     * @param {Date} startDate .\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} validateAsMilestone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getEndDate = function (startDate, duration, durationUnit, ganttProp, validateAsMilestone) {\n        var tempStart = new Date(startDate.getTime());\n        var endDate = new Date(startDate.getTime());\n        var sDate = new Date(startDate.getTime());\n        var secondDuration;\n        if (this.parent.weekWorkingTime.length > 0 && (!durationUnit || durationUnit.toLocaleLowerCase() === 'day')) {\n            secondDuration = this.calculateSecondDuration(duration, sDate, secondDuration, startDate, true);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, startDate);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            endDate.setSeconds(endDate.getSeconds() + secondDuration);\n            nonWork = this.getNonworkingTime(tempStart, endDate, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                endDate = this.checkStartDate(endDate, ganttProp, validateAsMilestone);\n            }\n            tempStart = new Date(endDate.getTime());\n        }\n        return endDate;\n    };\n    /**\n     * Calculate start date based on end date and duration.\n     *\n     * @param {Date} endDate - To calculate start date value from end date and duration.\n     * @param {number} duration - The duration value.\n     * @param {string} durationUnit - The unit of duration.\n     * @param {ITaskData} ganttProp - The Gantt task properties.\n     * @param {boolean} fromValidation - A flag indicating if the calculation is from validation.\n     * @returns {Date} The calculated start date.\n     * @private\n     */\n    DateProcessor.prototype.getStartDate = function (endDate, duration, durationUnit, ganttProp, fromValidation) {\n        var tempEnd = new Date(endDate.getTime());\n        var startDate = new Date(endDate.getTime());\n        var secondDuration;\n        var eDate = new Date(tempEnd.getTime());\n        if (this.parent.weekWorkingTime.length > 0) {\n            secondDuration = this.calculateSecondDuration(duration, eDate, secondDuration, tempEnd, false);\n        }\n        else {\n            secondDuration = this.getDurationAsSeconds(duration, durationUnit, tempEnd);\n        }\n        var nonWork = 0;\n        var workHours = 0;\n        while (secondDuration > 0) {\n            startDate.setSeconds(startDate.getSeconds() - secondDuration);\n            nonWork = this.getNonworkingTime(startDate, tempEnd, ganttProp.isAutoSchedule, true);\n            workHours = secondDuration - nonWork;\n            secondDuration = secondDuration - workHours;\n            if (secondDuration > 0) {\n                tempEnd = this.checkEndDate(startDate, ganttProp);\n            }\n            tempEnd = new Date(startDate.getTime());\n        }\n        /* To render the milestone in proper date while loading */\n        if (fromValidation && ganttProp.isMilestone) {\n            startDate.setDate(startDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProp.endDate ? ganttProp.isAutoSchedule ? ganttProp.endDate : ganttProp.autoEndDate : startDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, startDate);\n            startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp, true);\n        }\n        return startDate;\n    };\n    DateProcessor.prototype.calculateSecondDuration = function (duration, sDate, secondDuration, startDate, fromEndDate) {\n        if (duration < 1) {\n            secondDuration = this.parent['getSecondsPerDay'](sDate) * duration;\n        }\n        else {\n            secondDuration = 0;\n            var durationValue = duration;\n            var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](sDate);\n            if (!(sDate.getHours() < dayEndTime / 3600 && sDate.getHours() > dayStartTime / 3600) && this.fromSegments) {\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n            }\n            while (durationValue > 0) {\n                if (this.isOnHolidayOrWeekEnd(sDate, true)) {\n                    do {\n                        if (fromEndDate) {\n                            sDate.setDate(sDate.getDate() + 1);\n                        }\n                        else {\n                            sDate.setDate(sDate.getDate() - 1);\n                        }\n                    } while (this.isOnHolidayOrWeekEnd(sDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    sDate = fromEndDate ? this.getNextWorkingDay(sDate) : this.getPreviousWorkingDay(sDate);\n                }\n                var totSeconds = this.parent['getSecondsPerDay'](sDate);\n                var num = 0;\n                if (this.getSecondsInDecimal(startDate) !== this.parent['getStartTime'](startDate) && !Number.isInteger(durationValue)) {\n                    var deciNumber = duration.toString().split('.');\n                    num = parseFloat('.' + deciNumber[1]);\n                    totSeconds = totSeconds * num;\n                    durationValue = durationValue - num;\n                }\n                if (durationValue < 1) {\n                    totSeconds = totSeconds * durationValue;\n                }\n                secondDuration = secondDuration + totSeconds;\n                if (fromEndDate) {\n                    sDate.setDate(sDate.getDate() + 1);\n                }\n                else {\n                    sDate.setDate(sDate.getDate() - 1);\n                }\n                if (!num) {\n                    durationValue--;\n                }\n            }\n        }\n        return secondDuration;\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isLoad .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getProjectStartDate = function (ganttProp, isLoad) {\n        if (!isNullOrUndefined(this.parent.cloneProjectStartDate)) {\n            if (typeof this.parent.cloneProjectStartDate === 'string') {\n                this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            }\n            var cloneStartDate = this.checkStartDate(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectStartDate = cloneStartDate;\n            return new Date(cloneStartDate.getTime());\n        }\n        else if (!isNullOrUndefined(this.parent.projectStartDate)) {\n            var cloneStartDate = this.getDateFromFormat(this.parent.projectStartDate);\n            this.parent.cloneProjectStartDate = this.checkStartDate(cloneStartDate);\n        }\n        else if (!isNullOrUndefined(isLoad)) {\n            var flatData = this.parent.flatData;\n            var minStartDate = void 0;\n            if (flatData.length > 0) {\n                minStartDate = flatData[0].ganttProperties.startDate;\n            }\n            else {\n                minStartDate = new Date();\n                minStartDate.setHours(0, 0, 0, 0);\n            }\n            for (var index = 1; index < flatData.length; index++) {\n                var startDate = flatData[index].ganttProperties.startDate;\n                if (!isNullOrUndefined(startDate) && this.compareDates(startDate, minStartDate) === -1) {\n                    minStartDate = startDate;\n                }\n            }\n            this.parent.cloneProjectStartDate = this.checkStartDate(minStartDate, ganttProp);\n        }\n        else {\n            return null;\n        }\n        return new Date(this.parent.cloneProjectStartDate.getTime());\n    };\n    /**\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidStartDate = function (ganttProp, isAuto) {\n        var sDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = !ganttProp.isAutoSchedule && ganttProp.autoDuration ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(startDate)) {\n            if (!isNullOrUndefined(endDate)) {\n                sDate = new Date(endDate.getTime());\n                var dayStartTime = this.parent['getCurrentDayStartTime'](sDate);\n                this.setTime(dayStartTime, sDate);\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var ganttTask = this.parent.getTaskByUniqueID(ganttProp.uniqueID);\n                if (this.parent.allowUnscheduledTasks && ganttTask &&\n                    ganttTask.parentItem && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)) {\n                    var parentTask = this.parent.getParentTask(ganttTask.parentItem);\n                    while (parentTask && !parentTask.ganttProperties.startDate) {\n                        parentTask = this.parent.getParentTask(parentTask.parentItem);\n                    }\n                    sDate = (!parentTask || !parentTask.ganttProperties.startDate) ? this.parent.cloneProjectStartDate\n                        : parentTask.ganttProperties.startDate;\n                }\n                else {\n                    sDate = this.getProjectStartDate(ganttProp);\n                }\n            }\n        }\n        else {\n            sDate = new Date(startDate.getTime());\n        }\n        return sDate;\n    };\n    /**\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {boolean} isAuto .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getValidEndDate = function (ganttProp, isAuto) {\n        var eDate = null;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration;\n        if (isNullOrUndefined(endDate)) {\n            if (!isNullOrUndefined(startDate)) {\n                if (ganttProp.isMilestone) {\n                    eDate = this.checkStartDate(startDate);\n                }\n                else {\n                    eDate = new Date(startDate.getTime());\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](endDate ? endDate : eDate);\n                    this.setTime(dayEndTime, eDate);\n                }\n            }\n            else if (!isNullOrUndefined(duration)) {\n                var sDate = this.getValidStartDate(ganttProp);\n                if (sDate) {\n                    eDate = this.getEndDate(sDate, duration, ganttProp.durationUnit, ganttProp, false);\n                }\n            }\n        }\n        else {\n            eDate = new Date(endDate.getTime());\n        }\n        return eDate;\n    };\n    DateProcessor.prototype.getWorkingTime = function (day, currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        if (!isNullOrUndefined(currentRange.from) && !isNullOrUndefined(currentRange.to)) {\n            startDate.setHours(0, 0, 0, 0);\n            var tempDate = new Date(startDate.getTime());\n            startDate.setTime(startDate.getTime() + (currentRange.from * 3600000));\n            var startHour = new Date(startDate.getTime());\n            if (currentRange.to === 24) {\n                var currentRangeTo = 24 * 60 * 60 * 1000;\n                tempDate.setTime(tempDate.getTime() + (currentRangeTo));\n            }\n            else {\n                tempDate.setTime(tempDate.getTime() + (currentRange.to * 3600000));\n            }\n            var endHour = new Date(tempDate.getTime());\n            var timeDiff = endHour.getTime() - startHour.getTime();\n            var sdSeconds = this.getSecondsInDecimal(startHour);\n            var edSeconds = this.getSecondsInDecimal(endHour);\n            if (edSeconds === 0) {\n                edSeconds = 86400;\n            }\n            totalSeconds += timeDiff / 1000;\n            if (count === 0) {\n                this.parent.defaultStartTime = sdSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignStartTime(day, sdSeconds);\n                }\n            }\n            if (count === this[day.toLowerCase() + 'TimeRangeLength'] - 1 || day === '') {\n                this.parent.defaultEndTime = edSeconds;\n                if (this.parent.weekWorkingTime.length > 0) {\n                    this.assignEndTime(day, edSeconds);\n                }\n            }\n            if (count > 0) {\n                if (day === '') {\n                    nonWorkingHours.push(nonWorkingHours[nonWorkingHours.length - 1] +\n                        sdSeconds - workingTimeRanges[count - 1].to);\n                    if (workingTimeRanges[count - 1].to < sdSeconds) {\n                        nonWorkingTimeRanges.push({\n                            from: workingTimeRanges[count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - workingTimeRanges[count - 1].to)\n                        });\n                    }\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(this.parent[day.toLowerCase() + 'NonWorkingHours'][this.parent[day.toLowerCase() + 'NonWorkingHours'].length - 1] +\n                        sdSeconds - this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'][count - 1].to);\n                    if (this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to < sdSeconds) {\n                        this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                            from: this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to, to: sdSeconds, isWorking: false,\n                            interval: (sdSeconds - this.parent[day.toLowerCase() + 'WorkingTimeRanges'][count - 1].to)\n                        });\n                    }\n                }\n            }\n            else {\n                if (day === '') {\n                    nonWorkingHours.push(0);\n                    nonWorkingTimeRanges.push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n                else {\n                    this.parent[day.toLowerCase() + 'NonWorkingHours'].push(0);\n                    this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({ from: 0, to: sdSeconds, isWorking: false, interval: sdSeconds });\n                }\n            }\n            if (day === '') {\n                workingTimeRanges.push({ from: sdSeconds, to: edSeconds });\n                nonWorkingTimeRanges.push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n            else {\n                this.parent[day.toLowerCase() + 'WorkingTimeRanges'].push({ from: sdSeconds, to: edSeconds });\n                this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                    from: sdSeconds, to: edSeconds, isWorking: true, interval: (edSeconds - sdSeconds)\n                });\n            }\n        }\n        return totalSeconds;\n    };\n    DateProcessor.prototype.assignStartTime = function (day, sdSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultStartTime = sdSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultStartTime = sdSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultStartTime = sdSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultStartTime = sdSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.assignEndTime = function (day, edSeconds) {\n        switch (day) {\n            case 'Monday':\n                this.parent.mondayDefaultEndTime = edSeconds;\n                break;\n            case 'Tuesday':\n                this.parent.tuesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Wednesday':\n                this.parent.wednesdayDefaultEndTime = edSeconds;\n                break;\n            case 'Thursday':\n                this.parent.thursdayDefaultEndTime = edSeconds;\n                break;\n            case 'Friday':\n                this.parent.fridayDefaultEndTime = edSeconds;\n                break;\n            case 'Saturday':\n                this.parent.saturdayDefaultEndTime = edSeconds;\n                break;\n            case 'Sunday':\n                this.parent.sundayDefaultEndTime = edSeconds;\n                break;\n            default:\n                break;\n        }\n    };\n    DateProcessor.prototype.calculateWeekWorkTime = function (day, currentDay, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges) {\n        var seconds = 0;\n        for (var j = 0; j < currentDay.length; j++) {\n            var currentRange = currentDay[j];\n            seconds = seconds + this.getWorkingTime(day, currentRange, startDate, totalSeconds, j, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent[day.toLowerCase() + 'DefaultStartTime'] / 3600 !== 24) {\n            this.parent[day.toLowerCase() + 'NonWorkingTimeRanges'].push({\n                from: this.parent[day.toLowerCase() + 'DefaultEndTime'], to: 86400,\n                isWorking: false, interval: 86400 - this.parent[day.toLowerCase() + 'DefaultEndTime']\n            });\n        }\n        return seconds;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.getSecondsPerDay = function () {\n        var totalSeconds = 0;\n        var startDate = new Date('10/11/2018');\n        this.parent.nonWorkingHours = [];\n        var nonWorkingHours = this.parent.nonWorkingHours;\n        this.parent.workingTimeRanges = [];\n        this.parent.workingTimeRanges = [];\n        var workingTimeRanges = this.parent.workingTimeRanges;\n        this.parent.nonWorkingTimeRanges = [];\n        var nonWorkingTimeRanges = this.parent.nonWorkingTimeRanges;\n        for (var _i = 0, _a = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _i < _a.length; _i++) {\n            var day = _a[_i];\n            this[day.toLowerCase() + \"TimeRangeLength\"] = this.parent.dayWorkingTime.length;\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            for (var i = 0; i < this.parent.weekWorkingTime.length; i++) {\n                this[this.parent.weekWorkingTime[i].dayOfWeek.toLowerCase() + 'TimeRangeLength']\n                    = this.parent.weekWorkingTime[i].timeRange.length;\n            }\n            var weekWorkingTime = this.parent.weekWorkingTime;\n            var dayWorkingTime_1 = this.parent.dayWorkingTime;\n            for (var _b = 0, weekWorkingTime_1 = weekWorkingTime; _b < weekWorkingTime_1.length; _b++) {\n                var weekDay = weekWorkingTime_1[_b];\n                if (weekDay.timeRange && weekDay.timeRange.length > 0) {\n                    var seconds_1 = this.calculateWeekWorkTime(weekDay.dayOfWeek, weekDay.timeRange, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[weekDay.dayOfWeek.toLowerCase() + \"Seconds\"] = seconds_1;\n                }\n            }\n            for (var _c = 0, _d = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']; _c < _d.length; _c++) {\n                var day = _d[_c];\n                var dayDefaultStartTime = this.parent[day.toLowerCase() + \"DefaultStartTime\"];\n                if (isNullOrUndefined(dayDefaultStartTime)) {\n                    var seconds_2 = this.calculateWeekWorkTime(day, dayWorkingTime_1, startDate, totalSeconds, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n                    this.parent[day.toLowerCase() + \"Seconds\"] = seconds_2;\n                }\n            }\n        }\n        var dayWorkingTime = this.parent.dayWorkingTime;\n        var length = dayWorkingTime.length;\n        var seconds = 0;\n        for (var count = 0; count < length; count++) {\n            var currentRange = dayWorkingTime[count];\n            seconds = seconds + this.getWorkingTime('', currentRange, startDate, totalSeconds, count, nonWorkingHours, workingTimeRanges, nonWorkingTimeRanges);\n        }\n        if (this.parent.defaultEndTime / 3600 !== 24) {\n            nonWorkingTimeRanges.push({\n                from: this.parent.defaultEndTime, to: 86400,\n                isWorking: false, interval: 86400 - this.parent.defaultEndTime\n            });\n        }\n        totalSeconds = seconds;\n        return totalSeconds;\n    };\n    /**\n     *\n     * @param {string} value .\n     * @param {boolean} isFromDialog .\n     * @returns {object} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.getDurationValue = function (value, isFromDialog) {\n        var durationUnit = null;\n        var duration = null;\n        if (typeof value === 'string') {\n            var values = value.match(/(\\d*\\.*\\d+|.+$)/g);\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0].toString().trim());\n                var unit = values[1] ? values[1].toString().trim().toLowerCase() : null;\n                if (getValue('minute', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', this.parent.durationUnitEditText).indexOf(unit) !== -1) {\n                    durationUnit = 'day';\n                }\n            }\n        }\n        else {\n            duration = value;\n            durationUnit = null;\n        }\n        var output = {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n        return output;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getNextWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1) {\n            date.setDate(date.getDate() + 1);\n            date = this.getNextWorkingDay(date);\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * get weekend days between two dates without including args dates\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getWeekendCount = function (startDate, endDate) {\n        var weekendCount = 0;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setHours(0, 0, 0, 0);\n        sDate.setDate(sDate.getDate() + 1);\n        eDate.setHours(0, 0, 0, 0);\n        while (sDate.getTime() < eDate.getTime()) {\n            if (this.parent.nonWorkingDayIndex.indexOf(sDate.getDay()) !== -1) {\n                weekendCount += 1;\n            }\n            sDate.setDate(sDate.getDate() + 1);\n        }\n        return weekendCount;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNumberOfSeconds = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var timeDiff = 0;\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            timeDiff = (this.getTimeDifference(sDate, eDate, isCheckTimeZone)) / 1000;\n        }\n        if (timeDiff % 86400 !== 0) {\n            timeDiff = timeDiff - (timeDiff % 86400) + 86400;\n        }\n        return timeDiff;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getHolidaysCount = function (startDate, endDate) {\n        var holidaysCount = 0;\n        var holidays = this.parent.totalHolidayDates;\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        sDate.setDate(sDate.getDate() + 1);\n        sDate.setHours(0, 0, 0, 0);\n        eDate.setHours(0, 0, 0, 0);\n        if (sDate.getTime() < eDate.getTime()) {\n            for (var i = 0; i < holidays.length; i++) {\n                var currentHoliday = this.getDateFromFormat(new Date(holidays[i]));\n                if (sDate.getTime() <= currentHoliday.getTime() && eDate.getTime() > currentHoliday.getTime()) {\n                    if ((!this.parent.includeWeekend && this.parent.nonWorkingDayIndex.indexOf(currentHoliday.getDay()) === -1) ||\n                        this.parent.includeWeekend) {\n                        holidaysCount += 1;\n                    }\n                }\n            }\n        }\n        return holidaysCount;\n    };\n    /**\n     * @returns {number[]} .\n     * @private\n     */\n    DateProcessor.prototype.getHolidayDates = function () {\n        var holidays = this.parent.holidays;\n        var holidayDates = [];\n        for (var i = 0; i < holidays.length; i++) {\n            var from = this.getDateFromFormat(holidays[i].from);\n            var to = this.getDateFromFormat(holidays[i].to);\n            if (isNullOrUndefined(from) && isNullOrUndefined(to)) {\n                continue;\n            }\n            else if (isNullOrUndefined(from) || isNullOrUndefined(to)) {\n                var tempDate = from ? from : to;\n                tempDate.setHours(0, 0, 0, 0);\n                if (holidayDates.indexOf(tempDate.getTime()) === -1) {\n                    holidayDates.push(tempDate.getTime());\n                }\n            }\n            else {\n                while (from <= to) {\n                    from.setHours(0, 0, 0, 0);\n                    if (holidayDates.indexOf(from.getTime()) === -1) {\n                        holidayDates.push(from.getTime());\n                    }\n                    from.setDate(from.getDate() + 1);\n                }\n            }\n        }\n        return holidayDates;\n    };\n    /**\n     * @param {Date} date .\n     * @param {boolean} checkWeekEnd .\n     * @returns {boolean} .\n     * @private\n     */\n    /*Check given date is on holidays*/\n    DateProcessor.prototype.isOnHolidayOrWeekEnd = function (date, checkWeekEnd) {\n        checkWeekEnd = !isNullOrUndefined(checkWeekEnd) ? checkWeekEnd : this.parent.includeWeekend;\n        if (!this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            checkWeekEnd = true;\n        }\n        if (!checkWeekEnd && this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n            return true;\n        }\n        var holidays = this.parent.totalHolidayDates;\n        for (var count = 0; count < holidays.length; count++) {\n            var holidayFrom = this.getDateFromFormat(new Date(holidays[count]));\n            var holidayTo = new Date(holidayFrom.getTime());\n            holidayFrom.setHours(0, 0, 0, 0);\n            holidayTo.setHours(23, 59, 59, 59);\n            if (date.getTime() >= holidayFrom.getTime() && date.getTime() < holidayTo.getTime()) {\n                return true;\n            }\n        }\n        return false;\n    };\n    /**\n     * To calculate non working times in given date\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isAutoSchedule .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getNonWorkingSecondsOnDate = function (startDate, endDate, isAutoSchedule) {\n        var sHour = this.getSecondsInDecimal(startDate);\n        var eHour = this.getSecondsInDecimal(endDate);\n        var startRangeIndex = -1;\n        var endRangeIndex = -1;\n        var totNonWrkSecs = 0;\n        var startOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(startDate, null) : false;\n        var endOnHoliday = (isAutoSchedule && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) ? this.isOnHolidayOrWeekEnd(endDate, null) : false;\n        var startnonWorkingTimeRange;\n        var endnonWorkingTimeRange;\n        if (this.parent.weekWorkingTime.length > 0) {\n            startnonWorkingTimeRange = this.parent['getNonWorkingRange'](startDate);\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n            }\n            endnonWorkingTimeRange = this.parent['getNonWorkingRange'](endDate);\n            for (var i = 0; i < endnonWorkingTimeRange.length; i++) {\n                var val = endnonWorkingTimeRange[i];\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        else {\n            startnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            endnonWorkingTimeRange = this.parent.nonWorkingTimeRanges;\n            for (var i = 0; i < startnonWorkingTimeRange.length; i++) {\n                var val = startnonWorkingTimeRange[i];\n                if (sHour >= val.from && sHour <= val.to) {\n                    startRangeIndex = i;\n                }\n                if (eHour >= val.from && eHour <= val.to) {\n                    endRangeIndex = i;\n                }\n            }\n        }\n        if (startDate.getDate() !== endDate.getDate() || startDate.getMonth() !== endDate.getMonth() ||\n            startDate.getFullYear() !== endDate.getFullYear()) {\n            if (!startOnHoliday) {\n                for (var i = startRangeIndex; i < startnonWorkingTimeRange.length; i++) {\n                    if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                        if (i === startRangeIndex) {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                        }\n                        else {\n                            totNonWrkSecs += (startnonWorkingTimeRange[i].interval);\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += (86400 - sHour);\n            }\n            if (!endOnHoliday) {\n                for (var i = 0; i <= endRangeIndex; i++) {\n                    if (!endnonWorkingTimeRange[i].isWorking) {\n                        if (i === endRangeIndex) {\n                            totNonWrkSecs += (eHour - endnonWorkingTimeRange[i].from);\n                        }\n                        else {\n                            totNonWrkSecs += endnonWorkingTimeRange[i].interval;\n                        }\n                    }\n                }\n            }\n            else {\n                totNonWrkSecs += eHour;\n            }\n        }\n        else {\n            if (startRangeIndex !== endRangeIndex) {\n                if (!endOnHoliday) {\n                    for (var i = startRangeIndex; i <= endRangeIndex; i++) {\n                        if (!isNullOrUndefined(startnonWorkingTimeRange[i]) && !startnonWorkingTimeRange[i].isWorking) {\n                            if (i === startRangeIndex) {\n                                totNonWrkSecs += (startnonWorkingTimeRange[i].to - sHour);\n                            }\n                            else if (i === endRangeIndex) {\n                                totNonWrkSecs += (eHour - startnonWorkingTimeRange[i].from);\n                            }\n                            else {\n                                totNonWrkSecs += startnonWorkingTimeRange[i].interval;\n                            }\n                        }\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n            else {\n                if (!endOnHoliday) {\n                    var range = startnonWorkingTimeRange[startRangeIndex];\n                    if (!range.isWorking) {\n                        totNonWrkSecs = eHour - sHour;\n                    }\n                }\n                else {\n                    totNonWrkSecs += (eHour - sHour);\n                }\n            }\n        }\n        return totNonWrkSecs;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {Date} .\n     */\n    DateProcessor.prototype.getPreviousWorkingDay = function (date) {\n        var dayIndex = date.getDay();\n        var previousIndex = (dayIndex === 0) ? 6 : dayIndex - 1;\n        var dayEndTime = this.parent['getCurrentDayEndTime'](date);\n        if (this.parent.nonWorkingDayIndex.indexOf(dayIndex) !== -1 || (this.parent.nonWorkingDayIndex.indexOf(previousIndex) !== -1\n            && dayEndTime === 86400 && this.getSecondsInDecimal(date) === 0)) {\n            date.setDate(date.getDate() - 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(date.getDay()) !== -1) {\n                date = this.getPreviousWorkingDay(date);\n            }\n            return date;\n        }\n        else {\n            return date;\n        }\n    };\n    /**\n     * To get non-working day indexes.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.getNonWorkingDayIndex = function () {\n        var weekDay = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];\n        var weekDayLength = weekDay.length;\n        if (this.parent.workWeek.length === 0) {\n            this.parent.workWeek = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];\n        }\n        var workWeek = this.parent.workWeek.slice();\n        var length = workWeek.length;\n        for (var i = 0; i < length; i++) {\n            workWeek[i] = workWeek[i].toLowerCase();\n        }\n        this.parent.nonWorkingDayIndex = [];\n        for (var i = 0; i < weekDayLength; i++) {\n            if (workWeek.indexOf(weekDay[i]) === -1) {\n                this.parent.nonWorkingDayIndex.push(i);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} seconds .\n     * @param {Date} date .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.setTime = function (seconds, date) {\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var hour = seconds / 3600;\n        hour = parseInt(hour, 10);\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        var min = (seconds - (hour * 3600)) / 60;\n        min = parseInt(min, 10);\n        var sec = seconds - (hour * 3600) - (min * 60);\n        date.setHours(hour, min, sec);\n    };\n    /**\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {boolean} isCheckTimeZone .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getTimeDifference = function (startDate, endDate, isCheckTimeZone) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        if (isCheckTimeZone) {\n            this.updateDateWithTimeZone(sDate, eDate);\n        }\n        return eDate.getTime() - sDate.getTime();\n    };\n    /**\n     * @param {Date} sDate .\n     * @param {Date} eDate .\n     * @returns {void} .\n     */\n    DateProcessor.prototype.updateDateWithTimeZone = function (sDate, eDate) {\n        var sTZ = sDate.getTimezoneOffset();\n        var eTZ = eDate.getTimezoneOffset();\n        var uTZ;\n        var uDate;\n        if (sTZ !== eTZ) {\n            var standardTZ = new Date(new Date().getFullYear(), 0, 1).getTimezoneOffset();\n            if (standardTZ !== sTZ) {\n                uDate = sDate;\n                uTZ = sTZ;\n            }\n            else if (standardTZ !== eTZ) {\n                uDate = eDate;\n                uTZ = eTZ;\n            }\n            if (standardTZ < 0) {\n                var tzDiff = standardTZ - uTZ;\n                uDate.setTime(uDate.getTime() + (tzDiff * 60 * 1000));\n            }\n            else if (standardTZ >= 0) {\n                var tzDiff = uTZ - standardTZ;\n                uDate.setTime(uDate.getTime() - (tzDiff * 60 * 1000));\n            }\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @returns {number} .\n     */\n    DateProcessor.prototype.getSecondsInDecimal = function (date) {\n        return (date.getHours() * 60 * 60) + (date.getMinutes() * 60) + date.getSeconds() + (date.getMilliseconds() / 1000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {number} localOffset .\n     * @param {string} timezone .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.offset = function (date, timezone) {\n        var localOffset = date.getTimezoneOffset();\n        try {\n            var convertedDate = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n            if (!isNaN(convertedDate.getTime())) {\n                return ((date.getTime() - convertedDate.getTime()) / 60000) + localOffset;\n            }\n            return 0;\n        }\n        catch (error) {\n            return 0;\n        }\n    };\n    DateProcessor.prototype.remove = function (date, timezone) {\n        if (!isNullOrUndefined(date)) {\n            date = this.reverse(date, timezone, date.getTimezoneOffset());\n        }\n        return date;\n    };\n    DateProcessor.prototype.reverse = function (date, fromOffset, toOffset) {\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {Date} date .\n     * @param {string} timezone .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.convert = function (date, timezone) {\n        var fromOffset = date.getTimezoneOffset();\n        var toOffset = this.offset(date, timezone);\n        if (typeof fromOffset === 'string') {\n            fromOffset = this.offset(date, fromOffset);\n        }\n        if (typeof toOffset === 'string') {\n            toOffset = this.offset(date, toOffset);\n        }\n        var fromLocalOffset = date.getTimezoneOffset();\n        date = new Date(date.getTime() + (fromOffset - toOffset) * 60000);\n        var toLocalOffset = date.getTimezoneOffset();\n        return new Date(date.getTime() + (toLocalOffset - fromLocalOffset) * 60000);\n    };\n    /**\n     * @param {string | Date} date .\n     * @param {boolean} toConvert .\n     * @returns {Date} .\n     * @private\n     */\n    DateProcessor.prototype.getDateFromFormat = function (date, toConvert) {\n        var updatedDate;\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        else if (date instanceof Date) {\n            updatedDate = new Date(date.getTime());\n        }\n        else {\n            var dateObject = this.parent.globalize.parseDate(date, { format: this.parent.getDateFormat(), type: 'dateTime' });\n            updatedDate = isNullOrUndefined(dateObject) && !isNaN(new Date(date).getTime()) ? new Date(date) : dateObject;\n        }\n        if (!isNullOrUndefined(this.parent.timezone) && toConvert) {\n            var convertedDate = this.convert(updatedDate, this.parent.timezone);\n            return convertedDate;\n        }\n        else {\n            return updatedDate;\n        }\n    };\n    /**\n     * @param {Date} date1 .\n     * @param {Date} date2 .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.compareDates = function (date1, date2) {\n        if (!isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return (date1.getTime() > date2.getTime()) ? 1 : (date1.getTime() < date2.getTime()) ? -1 : 0;\n        }\n        else if (!isNullOrUndefined(date1) && isNullOrUndefined(date2)) {\n            return 1;\n        }\n        else if (isNullOrUndefined(date1) && !isNullOrUndefined(date2)) {\n            return -1;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     *\n     * @param {number} duration .\n     * @param {string} durationUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getDurationString = function (duration, durationUnit) {\n        var value = '';\n        if (!isNullOrUndefined(duration)) {\n            value += parseFloat(duration.toFixed(2)) + ' ';\n            if (!isNullOrUndefined(durationUnit)) {\n                var plural = duration !== 1;\n                if (durationUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (durationUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (durationUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * Method to get work with value and unit.\n     *\n     * @param {number} work .\n     * @param {string} workUnit .\n     * @returns {string} .\n     * @private\n     */\n    DateProcessor.prototype.getWorkString = function (work, workUnit) {\n        var value = '';\n        if (!isNullOrUndefined(work)) {\n            value += parseFloat(work).toFixed(2) + ' ';\n            if (!isNullOrUndefined(workUnit)) {\n                var plural = work !== 1;\n                if (workUnit === 'day') {\n                    value += plural ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                }\n                else if (workUnit === 'hour') {\n                    value += plural ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                }\n                else if (workUnit === 'minute') {\n                    value += plural ? this.parent.localeObj.getConstant('minutes') :\n                        this.parent.localeObj.getConstant('minute');\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    DateProcessor.prototype.calculateProjectDatesForValidatedTasks = function (editArgs) {\n        var _this = this;\n        var projectStartDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var projectEndDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = (getValue('dataOperation.dataArray', this.parent));\n        if ((!projectStartDate || !projectEndDate) && (flatData && flatData.length === 0)) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        else if (flatData.length > 0) {\n            var sortedStartDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(a[_this.parent.taskFields.startDate])).getTime() -\n                    (new Date(b[_this.parent.taskFields.startDate])).getTime());\n            });\n            var sortedEndDate = flatData.slice().sort(function (a, b) {\n                return ((new Date(b[_this.parent.taskFields.endDate])).getTime() - (new Date(a[_this.parent.taskFields.endDate])).getTime());\n            });\n            minStartDate = sortedStartDate[0][this.parent.taskFields.startDate];\n            maxEndDate = sortedEndDate[sortedEndDate.length - 1][this.parent.taskFields.endDate];\n        }\n        this.parent.cloneProjectStartDate = projectStartDate ? new Date(projectStartDate.getTime()) :\n            typeof minStartDate === 'string' ? new Date(minStartDate) : minStartDate;\n        this.parent.cloneProjectEndDate = projectEndDate ? new Date(projectEndDate.getTime()) :\n            typeof maxEndDate === 'string' ? new Date(maxEndDate) : maxEndDate;\n    };\n    /**\n     *\n     * @param {object} editArgs .\n     * @returns {void} .\n     * @private\n     */\n    DateProcessor.prototype.calculateProjectDates = function (editArgs) {\n        var _this = this;\n        if (this.parent.isLoad && this.parent.enablePersistence &&\n            this.parent.cloneProjectStartDate && this.parent.cloneProjectEndDate) {\n            this.parent.cloneProjectStartDate = this.getDateFromFormat(this.parent.cloneProjectStartDate);\n            this.parent.cloneProjectEndDate = this.getDateFromFormat(this.parent.cloneProjectEndDate);\n            return;\n        }\n        var sDate = typeof this.parent.projectStartDate === 'string' ?\n            new Date(this.parent.projectStartDate) : this.parent.projectStartDate;\n        var eDate = typeof this.parent.projectEndDate === 'string' ?\n            new Date(this.parent.projectEndDate) : this.parent.projectEndDate;\n        var projectStartDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectStartDate\n            ? this.getDateFromFormat(this.parent.cloneProjectStartDate) : this.getDateFromFormat(sDate);\n        var projectEndDate = this.parent.timelineModule.isZooming && this.parent.cloneProjectEndDate\n            ? this.getDateFromFormat(this.parent.cloneProjectEndDate) : this.getDateFromFormat(eDate);\n        var minStartDate = null;\n        var maxEndDate = null;\n        var flatData = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var taskRange = [];\n        var addDateToList = function (date) {\n            if (!isNullOrUndefined(date)) {\n                taskRange.push(date);\n            }\n        };\n        var sortDates = function (dates) {\n            if (dates.length > 0) {\n                dates.sort(function (a, b) {\n                    return a.getTime() - b.getTime();\n                });\n                minStartDate = new Date(dates[0].getTime());\n                maxEndDate = dates.length > 1 ? new Date(dates[dates.length - 1].getTime()) : null;\n            }\n        };\n        if (((!projectStartDate || !projectEndDate) && flatData.length > 0) || editArgs || this.parent.timelineModule.isZoomToFit) {\n            var viewData = void 0;\n            if (currentViewData.length > 0 && this.parent.timelineModule.isZoomToFit &&\n                this.parent.treeGrid.filterModule &&\n                this.parent.treeGrid.filterModule.filteredResult.length > 0) {\n                viewData = currentViewData;\n            }\n            else {\n                viewData = flatData;\n            }\n            viewData.forEach(function (data) {\n                taskRange = [];\n                var task = data.ganttProperties;\n                var tempStartDate;\n                var tempEndDate;\n                if (isNullOrUndefined(task.startDate) && isNullOrUndefined(task.endDate)) {\n                    tempStartDate = null;\n                    tempEndDate = null;\n                }\n                else {\n                    tempStartDate = _this.getValidStartDate(task);\n                    tempEndDate = _this.getValidEndDate(task);\n                }\n                addDateToList(minStartDate);\n                addDateToList(maxEndDate);\n                addDateToList(tempStartDate);\n                addDateToList(tempEndDate);\n                if (_this.parent.renderBaseline && !_this.parent.timelineModule.isZoomToFit) {\n                    addDateToList(task.baselineStartDate);\n                    addDateToList(task.baselineEndDate);\n                }\n                if (task.indicators && task.indicators.length > 0 && !_this.parent.timelineModule.isZoomToFit) {\n                    task.indicators.forEach(function (item) {\n                        addDateToList(_this.getDateFromFormat(item.date));\n                    });\n                }\n                sortDates(taskRange);\n            });\n            taskRange = [];\n            addDateToList(minStartDate);\n            addDateToList(maxEndDate);\n            //update schedule dates as per holiday and strip line collection\n            if (this.parent.eventMarkers.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var eventMarkers = this.parent.eventMarkers;\n                // eslint-disable-next-line\n                eventMarkers.forEach(function (marker, index) {\n                    addDateToList(_this.getDateFromFormat(marker.day));\n                });\n            }\n            if (this.parent.totalHolidayDates.length > 0 && !this.parent.timelineModule.isZoomToFit) {\n                var holidays = this.parent.totalHolidayDates;\n                // eslint-disable-next-line\n                holidays.forEach(function (holiday, index) {\n                    addDateToList(new Date(holiday));\n                });\n            }\n            sortDates(taskRange);\n            if (!minStartDate || !maxEndDate) {\n                if (!minStartDate) {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                    minStartDate.setHours(0, 0, 0, 0);\n                }\n                else {\n                    minStartDate = isNullOrUndefined(minStartDate) ? this.getDateFromFormat(new Date()) : minStartDate;\n                }\n                maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n                maxEndDate.setDate(maxEndDate.getDate() + 20);\n            }\n        }\n        else if ((!projectStartDate || !projectEndDate) && flatData.length === 0) {\n            minStartDate = this.getDateFromFormat(new Date());\n            maxEndDate = this.getDateFromFormat(new Date(minStartDate.getTime()));\n        }\n        if (!editArgs) {\n            this.prevProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.cloneProjectStartDate = minStartDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectStartDate)) ? new Date(projectStartDate.getTime()) :\n                    minStartDate : minStartDate : new Date(projectStartDate.getTime());\n            this.parent.cloneProjectEndDate = maxEndDate ? (!this.parent.timelineModule.isZoomToFit) ?\n                (!isNullOrUndefined(projectEndDate)) ? new Date(projectEndDate.getTime()) :\n                    maxEndDate : maxEndDate : new Date(projectEndDate.getTime());\n        }\n        else {\n            setValue('minStartDate', minStartDate, editArgs);\n            setValue('maxEndDate', maxEndDate, editArgs);\n        }\n        this.parent['isProjectDateUpdated'] = true;\n    };\n    /**\n     *\n     * @param {ITaskSegment} segments .\n     * @returns {number} .\n     * @private\n     */\n    DateProcessor.prototype.splitTasksDuration = function (segments) {\n        var duration = 0;\n        var sDate = segments[0].startDate;\n        var eDate = segments[segments.length - 1].endDate;\n        if (this.parent.timelineModule.bottomTier === 'Hour') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60));\n        }\n        else if (this.parent.timelineModule.bottomTier === 'Minutes') {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60));\n        }\n        else {\n            duration += Math.ceil(this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24));\n        }\n        return duration;\n    };\n    return DateProcessor;\n}());\nexport { DateProcessor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined, getValue, extend, setValue } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { getUniversalTime, isCountRequired, isScheduledTask } from './utils';\nimport { DateProcessor } from './date-processor';\n/**\n * To calculate and update task related values\n */\nvar TaskProcessor = /** @class */ (function (_super) {\n    __extends(TaskProcessor, _super);\n    function TaskProcessor(parent) {\n        var _this = _super.call(this, parent) || this;\n        _this.customSegmentProperties = [];\n        _this.isBaseline = false;\n        _this.isDurationValueUpdated = false;\n        _this.uid = 0;\n        _this.isTaskIDInteger = true;\n        _this.recordIndex = 0;\n        _this.taskIds = [];\n        _this.hierarchyData = [];\n        _this.addEventListener();\n        return _this;\n    }\n    TaskProcessor.prototype.addEventListener = function () {\n        this.parent.on('beforeDataManipulate', this.checkDataBinding.bind(this));\n    };\n    /**\n     * @param {boolean} isChange .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.checkDataBinding = function (isChange) {\n        var _this = this;\n        if (isChange) {\n            this.parent.flatData = [];\n            this.parent.currentViewData = [];\n            this.parent.updatedRecords = [];\n            this.dataArray = [];\n            this.taskIds = [];\n            this.parent.ids = [];\n            this.recordIndex = 0;\n            this.hierarchyData = [];\n            this.parent.predecessorsCollection = [];\n            this.parent.treeGrid.parentData = [];\n            this.parent.taskIds = [];\n        }\n        if (isNullOrUndefined(this.parent.dataSource)) {\n            this.parent.dataSource = [];\n            this.parent.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else if (this.parent.dataSource instanceof DataManager) {\n            this.initDataSource(isChange);\n        }\n        else {\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n                var ganttdata = getValue('result', this.parent.dataSource);\n                this.dataArray = ganttdata;\n            }\n            else {\n                this.dataArray = this.parent.dataSource;\n            }\n            this.processTimeline();\n            this.cloneDataSource();\n            this.parent.renderGantt(isChange);\n            this.parent.flatData.map(function (data) {\n                _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n            });\n        }\n        this.parent.flatData.map(function (data) {\n            _this.parent.chartRowsModule.updateSegment(data.ganttProperties.segments, data.ganttProperties.taskId);\n        });\n    };\n    TaskProcessor.prototype.processTimeline = function () {\n        this.parent.processTimeline();\n        if (!this.parent.enableValidation) {\n            this.parent.dataOperation.calculateProjectDatesForValidatedTasks();\n            this.parent.timelineModule.validateTimelineProp();\n        }\n    };\n    TaskProcessor.prototype.initDataSource = function (isChange) {\n        var _this = this;\n        var queryManager = this.parent.query instanceof Query ? this.parent.query : new Query();\n        queryManager.requiresCount();\n        var dataManager = this.parent.dataSource;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            this.processTimeline();\n            this.parent.renderGantt(isChange);\n        }\n        else {\n            dataManager.executeQuery(queryManager).then(function (e) {\n                _this.dataArray = e.result;\n                _this.processTimeline();\n                if (!_this.parent.loadChildOnDemand || (_this.parent.loadChildOnDemand && !(_this.parent.taskFields.hasChildMapping))) {\n                    _this.cloneDataSource();\n                }\n                _this.parent.renderGantt(isChange);\n            }).catch(function (e) {\n                // Trigger action failure event\n                _this.parent.processTimeline();\n                _this.parent.renderGantt(isChange);\n                _this.parent.trigger('actionFailure', { error: e });\n            });\n        }\n    };\n    TaskProcessor.prototype.constructDataSource = function (dataSource) {\n        var mappingData = new DataManager(dataSource).executeLocal(new Query()\n            .group(this.parent.taskFields.parentID));\n        var rootData = [];\n        var index;\n        for (var i = 0; i < mappingData.length; i++) {\n            var groupData = mappingData[i];\n            if (!isNullOrUndefined(groupData.key)) {\n                index = this.taskIds.indexOf(groupData.key.toString());\n                if (index > -1) {\n                    if (!isNullOrUndefined(groupData.key)) {\n                        dataSource[index][this.parent.taskFields.child] = groupData.items;\n                        continue;\n                    }\n                }\n            }\n            if (index !== -1) {\n                rootData.push.apply(rootData, groupData.items); // eslint-disable-line\n            }\n        }\n        this.hierarchyData = this.dataReorder(dataSource, rootData);\n    };\n    TaskProcessor.prototype.cloneDataSource = function () {\n        var taskIdMapping = this.parent.taskFields.id;\n        var parentIdMapping = this.parent.taskFields.parentID;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(taskIdMapping) && !isNullOrUndefined(parentIdMapping)) {\n            var data = [];\n            var tempDataArray = void 0;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization) {\n                tempDataArray = JSON.parse(JSON.stringify(this.dataArray));\n            }\n            for (var i = 0; i < this.dataArray.length; i++) {\n                var tempData = this.dataArray[i];\n                if (tempData['parentItem']) {\n                    delete tempData['parentItem'];\n                }\n                data.push(extend({}, {}, tempData, true));\n                if (!isNullOrUndefined(tempData[taskIdMapping])) {\n                    this.taskIds.push(tempData[taskIdMapping].toString());\n                }\n            }\n            if (!this.parent.taskFields.child) {\n                this.parent.setProperties({ taskFields: { child: 'Children' } }, true);\n            }\n            if (!isNullOrUndefined(tempDataArray)) {\n                this.constructDataSource(this.dataArray);\n                this.dataArray = tempDataArray;\n            }\n            else {\n                this.constructDataSource(data);\n            }\n            hierarchicalData = this.hierarchyData;\n        }\n        else {\n            hierarchicalData = this.dataArray;\n        }\n        if (this.parent.taskFields.segmentId) {\n            this.segmentCollection = new DataManager(this.parent.segmentData).executeLocal(new Query()\n                .group(this.parent.taskFields.segmentId));\n            if (!this.parent.taskFields.segments) {\n                this.parent.taskFields.segments = 'Segments';\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var resources = extend([], [], this.parent.resources, true);\n            var unassignedTasks = [];\n            this.constructResourceViewDataSource(resources, hierarchicalData, unassignedTasks);\n            if (unassignedTasks.length > 0) {\n                var record = {};\n                var resourceName = this.parent.resourceFields.name || 'resourceName';\n                record[this.parent.resourceFields.id] = 0;\n                record[resourceName] = this.parent.localeObj.getConstant('unassignedTask');\n                record[this.parent.taskFields.child] = unassignedTasks;\n                resources.push(record);\n            }\n            hierarchicalData = resources;\n        }\n        this.prepareDataSource(hierarchicalData);\n    };\n    /**\n     * @param {object[]} resources .\n     * @param {object[]} data .\n     * @param {object[]} unassignedTasks .\n     * @returns {void} .\n     *\n     */\n    TaskProcessor.prototype.constructResourceViewDataSource = function (resources, data, unassignedTasks) {\n        var _loop_1 = function (i) {\n            var tempData = data[i];\n            var child = this_1.parent.taskFields.child !== null ? this_1.parent.taskFields.child : this_1.parent.taskFields.child = 'Children';\n            var resourceData = tempData && tempData[this_1.parent.taskFields.resourceInfo];\n            var resourceIdMapping = this_1.parent.resourceFields.id;\n            if ((!tempData[child] || tempData[child].length === 0) && resourceData && resourceData.length) {\n                if (typeof (resourceData) === 'string') {\n                    this_1.isResourceString = true;\n                    var id = resourceData;\n                    for (var j = 0; j < resources.length; j++) {\n                        if (resources[j][this_1.parent.resourceFields.name].toString() === id.toString()) {\n                            if (resources[j][child]) {\n                                resources[j][child].push(tempData);\n                            }\n                            else {\n                                resources[j][child] = [tempData];\n                            }\n                            break;\n                        }\n                    }\n                }\n                else {\n                    resourceData.forEach(function (resource) {\n                        var id = (typeof resource === 'object') ? resource[resourceIdMapping] :\n                            resource;\n                        for (var j = 0; j < resources.length; j++) {\n                            if (resources[j][resourceIdMapping].toString() === id.toString()) {\n                                if (resources[j][child]) {\n                                    resources[j][child].push(tempData);\n                                }\n                                else {\n                                    resources[j][child] = [tempData];\n                                }\n                                break;\n                            }\n                        }\n                    });\n                }\n            }\n            else if (!tempData[child] || (tempData[child] && tempData[child].length === 0)) {\n                unassignedTasks.push(tempData);\n            }\n            if (tempData[this_1.parent.taskFields.child] && tempData[this_1.parent.taskFields.child].length) {\n                this_1.constructResourceViewDataSource(resources, tempData[this_1.parent.taskFields.child], unassignedTasks);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < data.length; i++) {\n            _loop_1(i);\n        }\n    };\n    /**\n     * Function to manipulate data-source\n     *\n     * @param {object[]} data .\n     * @returns {void} .\n     * @hidden\n     */\n    TaskProcessor.prototype.prepareDataSource = function (data) {\n        this.prepareRecordCollection(data, 0);\n        this.parent.initialLoadData = extend({}, {}, this.parent.flatData, true);\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.parent.dataMap = this.parent.flatData.reduce(function (map, val) {\n                map.set(val.uniqueID, val);\n                return map;\n            }, new Map());\n        }\n        // Method to maintain the shared task uniqueIds\n        if (this.parent.viewType === 'ResourceView') {\n            this.calculateSharedTaskUniqueIds();\n        }\n        if (this.parent.taskFields.dependency && this.parent.predecessorModule) {\n            this.parent.predecessorModule.ensurePredecessorCollection();\n        }\n    };\n    TaskProcessor.prototype.calculateSharedTaskUniqueIds = function () {\n        var _loop_2 = function (i) {\n            var value = [];\n            value[0] = this_2.parent.getTaskIds()[i][0];\n            value[1] = this_2.parent.getTaskIds()[i].slice(1);\n            if (value[0] !== 'R') {\n                var sharedRecords_1 = [];\n                var ids_1 = [];\n                this_2.parent.flatData.filter(function (data) {\n                    if (data.ganttProperties.taskId.toString() === value[1] && data.level !== 0) {\n                        ids_1.push(data.ganttProperties.rowUniqueID);\n                        sharedRecords_1.push(data);\n                    }\n                });\n                for (var j = 0; j < sharedRecords_1.length; j++) {\n                    sharedRecords_1[j].ganttProperties.sharedTaskUniqueIds = ids_1;\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            _loop_2(i);\n        }\n    };\n    TaskProcessor.prototype.prepareRecordCollection = function (data, level, parentItem) {\n        var _this = this;\n        var length = data.length;\n        var _loop_3 = function (i) {\n            var tempData = data[i];\n            if (!isNullOrUndefined(this_3.parent.taskFields.segmentId)) {\n                var segmentData = this_3.segmentCollection.\n                    filter(function (x) { return x.key === tempData[_this.parent.taskFields.id]; });\n                if (segmentData.length > 0) {\n                    tempData[this_3.parent.taskFields.segments] = segmentData[0].items;\n                }\n            }\n            if (this_3.parent.taskFields.hasChildMapping && tempData['parentUniqueID']) {\n                parentItem = this_3.parent.getTaskByUniqueID(tempData['parentUniqueID']);\n            }\n            var ganttData = this_3.createRecord(tempData, level, parentItem, true);\n            if (!this_3.parent.enableValidation || (!this_3.parent.autoCalculateDateScheduling || (this_3.parent.isLoad &&\n                this_3.parent.treeGrid.loadChildOnDemand && this_3.parent.taskFields.hasChildMapping))) {\n                this_3.updateTaskLeftWidth(ganttData);\n            }\n            ganttData.index = this_3.recordIndex++;\n            this_3.parent.ids[ganttData.index] = ganttData.ganttProperties.rowUniqueID;\n            this_3.parent.flatData.push(ganttData);\n            this_3.parent.setTaskIds(ganttData);\n            var childData = tempData[this_3.parent.taskFields.child] || (tempData['taskData'] && tempData['taskData'][this_3.parent.taskFields.child]);\n            if (this_3.parent.viewType === 'ResourceView' && isNullOrUndefined(childData)\n                && isNullOrUndefined(ganttData.parentItem) && ganttData.level === 0) {\n                var ganttProp = ganttData.ganttProperties;\n                var parentData = ganttData;\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', null, parentData.ganttProperties, true);\n                this_3.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', null, parentData.ganttProperties, true);\n                var parentProgress = 0;\n                var parentProp = parentData.ganttProperties;\n                this_3.parent.setRecordValue('isMilestone', false, parentProp, true);\n                if (parentProp.isAutoSchedule) {\n                    this_3.calculateDuration(parentData);\n                }\n                this_3.updateWorkWithDuration(parentData);\n                var parentWork = parentProp.work;\n                this_3.parent.setRecordValue('work', parentWork, parentProp, true);\n                this_3.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                if (!isNullOrUndefined(this_3.parent.taskFields.type)) {\n                    this_3.updateMappingData(parentData, 'type');\n                }\n                this_3.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                this_3.parent.setRecordValue('totalProgress', 0, parentProp, true);\n                this_3.parent.setRecordValue('totalDuration', 0, parentProp, true);\n                if (!parentProp.isAutoSchedule) {\n                    this_3.parent.setRecordValue('autoDuration', this_3.calculateAutoDuration(parentProp), parentProp, true);\n                    this_3.updateAutoWidthLeft(parentData);\n                }\n                if (!this_3.parent.allowParentDependency) {\n                    this_3.resetDependency(parentData);\n                }\n                this_3.updateWidthLeft(parentData);\n                this_3.updateTaskData(parentData);\n            }\n            if (this_3.parent.taskFields.hasChildMapping) {\n                parentItem = null;\n            }\n            if (!isNullOrUndefined(childData) && childData.length > 0) {\n                this_3.prepareRecordCollection(childData, ganttData.level + 1, ganttData);\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_3(i);\n        }\n    };\n    /**\n     * Method to update custom field values in gantt record\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.addCustomFieldValue = function (data, ganttRecord) {\n        var columns = this.parent.ganttColumns;\n        var length = columns.length;\n        if (length) {\n            for (var i = 0; i < length; i++) {\n                var fieldName = ganttRecord[columns[i].field];\n                if (fieldName === undefined) {\n                    this.parent.setRecordValue(columns[i].field, data[columns[i].field], ganttRecord);\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getGanttUid = function (prefix) {\n        return prefix + this.uid++;\n    };\n    /**\n     * To populate Gantt record\n     *\n     * @param {object} data .\n     * @param {number} level .\n     * @param {IGanttData} parentItem .\n     * @param {boolean} isLoad .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.createRecord = function (data, level, parentItem, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var resourceFields = this.parent.resourceFields;\n        var progress = data[taskSettings.progress];\n        var id = null;\n        var name = null;\n        var notes = data[taskSettings.notes];\n        progress = progress ? parseFloat(progress.toString()) ? parseFloat(progress.toString()) : 0 : 0;\n        progress = (100 < progress) ? 100 : progress;\n        var predecessors = data[taskSettings.dependency];\n        var baselineStartDate = this.getDateFromFormat(data[taskSettings.baselineStartDate], true);\n        var baselineEndDate = this.getDateFromFormat(data[taskSettings.baselineEndDate], true);\n        var ganttData;\n        var unModifiedData;\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && !this.parent.enableVirtualization) {\n            ganttData = data;\n            unModifiedData = JSON.parse(JSON.stringify(data));\n        }\n        else {\n            ganttData = {};\n        }\n        var ganttProperties = {};\n        var autoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                data[taskSettings.manual] === true ? false : true;\n        this.parent.setRecordValue('ganttProperties', ganttProperties, ganttData);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessor && data['ganttProperties'].predecessor.length > 0 && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessor', data['ganttProperties'].predecessor, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(data[taskSettings.id])) {\n            id = data[taskSettings.id];\n            if (typeof id !== 'number' && !(/^-?\\d+$/.test(id))) {\n                this.isTaskIDInteger = false;\n            }\n            name = data[taskSettings.name];\n            var shouldLoadChild = (this.parent.loadChildOnDemand &&\n                taskSettings.hasChildMapping && data['taskData']) ? true : false;\n            if (shouldLoadChild) {\n                ganttData['taskData'] = data['taskData'];\n            }\n            else {\n                if (data['taskData'] && data['ganttProperties']) {\n                    this.addTaskData(ganttData, data['taskData'], isLoad);\n                }\n                else {\n                    this.addTaskData(ganttData, data, isLoad);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(data[resourceFields.id])) {\n            id = data[resourceFields.id];\n            if (isNullOrUndefined(data[resourceFields.name]) && data['resourceName'] === 'Unassigned Task') {\n                name = data['resourceName'];\n            }\n            else {\n                name = data[resourceFields.name];\n            }\n            this.addTaskData(ganttData, data, false);\n        }\n        this.parent.setRecordValue('taskId', id, ganttProperties, true);\n        this.parent.setRecordValue('taskName', name, ganttProperties, true);\n        // eslint-disable-next-line\n        this.parent && taskSettings.parentID && this.parent.setRecordValue('parentId', data[taskSettings.parentID], ganttProperties, true);\n        this.addCustomFieldValue(data, ganttData);\n        this.parent.setRecordValue('isAutoSchedule', autoSchedule, ganttProperties, true);\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n            this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n        }\n        else if (data['ganttProperties']) {\n            this.parent.setRecordValue('resourceInfo', data['ganttProperties'].resourceInfo, ganttProperties, true);\n        }\n        this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n        this.parent.setRecordValue('indicators', data[taskSettings.indicators], ganttProperties, true);\n        this.updateResourceName(ganttData);\n        if ((!isNullOrUndefined(data[taskSettings.child]) && data[taskSettings.child].length > 0) ||\n            (data['taskData'] && data['taskData'][taskSettings.child] && data['taskData'][taskSettings.child].length > 0)) {\n            this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n            if (!this.parent.allowParentDependency) {\n                this.resetDependency(ganttData);\n            }\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && ganttData.taskData[taskSettings.hasChildMapping]) {\n                this.parent.setRecordValue('hasChildRecords', true, ganttData);\n            }\n            else {\n                this.parent.setRecordValue('hasChildRecords', false, ganttData);\n            }\n        }\n        this.calculateScheduledValues(ganttData, data, isLoad);\n        this.parent.setRecordValue('baselineStartDate', this.checkBaselineStartDate(baselineStartDate, ganttProperties), ganttProperties, true);\n        // set default end time, if hour is 0\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0 && baselineEndDate) {\n            dayEndTime = this.parent['getEndTime'](baselineEndDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (baselineEndDate && baselineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, baselineEndDate);\n        }\n        if ((ganttProperties.baselineStartDate && baselineEndDate &&\n            (ganttProperties.baselineStartDate.getTime() > baselineEndDate.getTime())) ||\n            ((!isNullOrUndefined(ganttProperties.baselineStartDate) && !isNullOrUndefined(ganttProperties.startDate)\n                && (ganttProperties.baselineStartDate.getTime() === ganttProperties.startDate.getTime()))\n                && (!isNullOrUndefined(baselineEndDate) && !isNullOrUndefined(ganttProperties.endDate)\n                    && (baselineEndDate.toLocaleDateString() === ganttProperties.endDate.toLocaleDateString())) &&\n                ganttProperties.isMilestone)) {\n            baselineEndDate = ganttProperties.baselineStartDate;\n        }\n        this.parent.setRecordValue('baselineEndDate', this.checkBaselineEndDate(baselineEndDate, ganttProperties), ganttProperties, true);\n        this.parent.setRecordValue('progress', progress, ganttProperties, true);\n        this.parent.setRecordValue('totalProgress', progress, ganttProperties, true);\n        if (data['ganttProperties'] && data['ganttProperties'].predecessorsName && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('predecessorsName', data['ganttProperties'].predecessorsName, ganttProperties, true);\n        }\n        else {\n            this.parent.setRecordValue('predecessorsName', predecessors, ganttProperties, true);\n        }\n        this.parent.setRecordValue('notes', notes, ganttProperties, true);\n        this.parent.setRecordValue('cssClass', data[taskSettings.cssClass], ganttProperties, true);\n        this.parent.setRecordValue('parentItem', this.getCloneParent(parentItem), ganttData);\n        if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && this.parent.currentViewData.length > 0) {\n            this.parent.setRecordValue('parentItem', ganttData.parentItem, this.parent.currentViewData[this.taskIds.indexOf(data[taskSettings.id].toString())]);\n        }\n        var parentUniqId = ganttData.parentItem ? ganttData.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, ganttData);\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(taskSettings.parentID)\n            && !isNullOrUndefined(ganttData.parentItem)) {\n            this.parent.setRecordValue('parentId', ganttData.parentItem.taskId, ganttProperties, true);\n        }\n        this.parent.setRecordValue('level', level, ganttData);\n        if (data['ganttProperties'] && this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n        }\n        else {\n            if (this.parent.loadChildOnDemand && taskSettings.hasChildMapping && data['uniqueID']) {\n                this.parent.setRecordValue('uniqueID', data['uniqueID'], ganttData);\n            }\n            else {\n                this.parent.setRecordValue('uniqueID', this.getGanttUid(this.parent.element.id + '_data_'), ganttData);\n            }\n        }\n        this.parent.setRecordValue('uniqueID', ganttData.uniqueID, ganttProperties, true);\n        this.parent.setRecordValue('childRecords', [], ganttData);\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n            !isNullOrUndefined(taskSettings.child)) {\n            this.parent.setRecordValue(taskSettings.child, [], ganttData);\n        }\n        if (ganttData.hasChildRecords) {\n            this.parent.setRecordValue('autoStartDate', ganttData.ganttProperties.startDate, ganttProperties);\n            this.parent.setRecordValue('autoEndDate', ganttData.ganttProperties.endDate, ganttProperties);\n            this.parent.setRecordValue('autoDuration', ganttData.ganttProperties.duration, ganttProperties);\n        }\n        this.parent.setRecordValue('expanded', (ganttData.hasChildRecords && this.parent.collapseAllParentTasks) ? false : true, ganttData);\n        if (isNullOrUndefined(unModifiedData)) {\n            this.updateExpandStateMappingValue(ganttData, data);\n        }\n        else {\n            this.updateExpandStateMappingValue(ganttData, unModifiedData);\n        }\n        if (!isLoad) {\n            this.parent.setRecordValue('width', this.calculateWidth(ganttData), ganttProperties, true);\n            this.parent.setRecordValue('left', this.calculateLeft(ganttProperties, ganttData), ganttProperties, true);\n            this.parent.setRecordValue('progressWidth', this.getProgressWidth(ganttProperties.width, progress), ganttProperties, true);\n            if (ganttProperties.baselineEndDate && ganttProperties.baselineStartDate) {\n                this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(ganttProperties), ganttProperties, true);\n                this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(ganttProperties), ganttProperties, true);\n            }\n        }\n        if (isNullOrUndefined(taskSettings.work)) {\n            this.updateWorkWithDuration(ganttData);\n        }\n        if (!isNullOrUndefined(taskSettings.manual)) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'manual');\n        }\n        this.updateTaskData(ganttData);\n        if (predecessors) {\n            this.parent.predecessorsCollection.push(ganttData);\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            parentItem.childRecords.push(ganttData);\n            if (this.parent.dataSource instanceof Object && isCountRequired(this.parent) &&\n                !isNullOrUndefined(this.parent.taskFields.child)) {\n                parentItem[this.parent.taskFields.child].push(ganttData.taskData);\n            }\n        }\n        if (this.parent.viewType === 'ProjectView') {\n            this.parent.setRecordValue('rowUniqueID', ganttProperties.taskId.toString(), ganttProperties, true);\n        }\n        else {\n            var uniqueId = ganttData.uniqueID.replace(this.parent.element.id + '_data_', '');\n            // if (this.parent.viewType === 'ResourceView' && typeof(ganttData.ganttProperties.taskId) === 'string') {\n            //     uniqueId = ganttProperties.taskId.toString();\n            // }\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttData);\n            this.parent.setRecordValue('rowUniqueID', uniqueId, ganttProperties, true);\n            this.parent.setRecordValue('sharedTaskUniqueIds', [], ganttProperties, true);\n        }\n        if (this.parent.allowUnscheduledTasks && ganttData.ganttProperties.startDate\n            && (ganttData.ganttProperties.endDate || ganttData.ganttProperties.duration)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n            if (!isLoad) {\n                this.updateWidthLeft(ganttData);\n            }\n        }\n        this.parent.chartRowsModule.updateSegment(ganttData.ganttProperties.segments, ganttData.ganttProperties.taskId);\n        return ganttData;\n    };\n    TaskProcessor.prototype.sortSegmentsData = function (segments, onLoad, ganttProp) {\n        var _this = this;\n        if (onLoad) {\n            segments.sort(function (a, b) {\n                var startDate = _this.parent.taskFields.startDate;\n                return _this.getDateFromFormat(a[startDate]).getTime() - _this.getDateFromFormat(b[startDate]).getTime();\n            });\n        }\n        else {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n        }\n        return segments;\n    };\n    TaskProcessor.prototype.setSegmentsInfo = function (data, onLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var ganttSegments = [];\n        var segments;\n        var sumOfDuration = 0;\n        var remainingDuration = 0;\n        var totalOffsetDuration = 0;\n        var predefinedProperties = [this.parent.taskFields.duration, this.parent.taskFields.endDate,\n            this.parent.taskFields.startDate, this.parent.taskFields.id];\n        var taskData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.segments)) {\n            segments = onLoad ? data.taskData[this.parent.taskFields.segments] : data.ganttProperties.segments;\n            if (!onLoad) {\n                if (data.taskData[this.parent.taskFields.segments] && data.taskData[this.parent.taskFields.segments].length > 0) {\n                    data.taskData[this.parent.taskFields.segments].forEach(function (segment) {\n                        var cleanedObject = {};\n                        var extraProperties = {};\n                        for (var key in segment) {\n                            if (predefinedProperties.indexOf(key) !== -1) {\n                                cleanedObject[key] = segment[key];\n                            }\n                            else {\n                                extraProperties[key] = segment[key];\n                            }\n                        }\n                        _this.customSegmentProperties.push(extraProperties);\n                    });\n                }\n            }\n            if (!isNullOrUndefined(segments) && segments.length > 1) {\n                this.sortSegmentsData(segments, onLoad, data.ganttProperties);\n                for (var i = 0; i < segments.length; i++) {\n                    var segment = segments[i];\n                    var startDate = onLoad ? segment[taskSettings.startDate] : segment.startDate;\n                    var endDate = onLoad ? segment[taskSettings.endDate] : segment.endDate;\n                    var duration = onLoad ? segment[taskSettings.duration] : segment.duration;\n                    startDate = this.getDateFromFormat(startDate);\n                    startDate = this.checkStartDate(startDate, data.ganttProperties, false);\n                    if (!isNullOrUndefined(duration)) {\n                        endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            endDate = (!isNullOrUndefined(data.ganttProperties.endDate)) && endDate.getTime() >=\n                                data.ganttProperties.endDate.getTime() && i === segments.length - 1 ? data.ganttProperties.endDate : endDate;\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    else {\n                        endDate = this.getDateFromFormat(endDate);\n                        if (endDate && (isNullOrUndefined(duration) || String(duration) === '')) {\n                            var dayEndTime = void 0;\n                            if (this.parent.weekWorkingTime.length > 0) {\n                                dayEndTime = this.parent['getEndTime'](endDate);\n                            }\n                            else {\n                                dayEndTime = this.parent.defaultEndTime;\n                            }\n                            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                                this.setTime(dayEndTime, endDate);\n                            }\n                        }\n                        endDate = this.checkEndDate(endDate, data.ganttProperties, false);\n                        duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                            totalOffsetDuration += this.getDuration(ganttSegments[i - 1].endDate, startDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            totalOffsetDuration = (totalOffsetDuration < 1) ? 1 : totalOffsetDuration;\n                        }\n                        if (taskSettings.duration) {\n                            remainingDuration = data.ganttProperties.duration - sumOfDuration - totalOffsetDuration;\n                            if (remainingDuration <= 0) {\n                                continue;\n                            }\n                            duration = i === segments.length - 1 ? remainingDuration : remainingDuration > 0 &&\n                                duration > remainingDuration ? remainingDuration : duration;\n                            endDate = this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                        }\n                        else if (!taskSettings.duration && taskSettings.endDate && endDate) {\n                            duration = this.getDuration(startDate, endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                            if (ganttSegments.length > 0 && endDate.getTime() < startDate.getTime()\n                                && endDate.getTime() <= data.ganttProperties.endDate.getTime()) {\n                                ganttSegments[i - 1].duration = this.getDuration(ganttSegments[i - 1].startDate, data.ganttProperties.endDate, data.ganttProperties.durationUnit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                                continue;\n                            }\n                        }\n                    }\n                    segment = {};\n                    if (!(startDate && endDate) || !(startDate && !isNullOrUndefined(duration))) {\n                        break;\n                    }\n                    sumOfDuration += Number(duration);\n                    segment.startDate = startDate;\n                    segment.endDate = endDate;\n                    segment.duration = Number(duration);\n                    segment.width = 0;\n                    segment.left = 0;\n                    segment.segmentIndex = i;\n                    ganttSegments.push(segment);\n                    if (!isNullOrUndefined(ganttSegments[i - 1])) {\n                        var unit = void 0;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            if (this.parent.timelineSettings.bottomTier.unit === 'Minutes') {\n                                unit = 'minute';\n                            }\n                            else if (this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n                                unit = 'hour';\n                            }\n                            else {\n                                unit = data.ganttProperties.durationUnit;\n                            }\n                        }\n                        else {\n                            unit = data.ganttProperties.durationUnit;\n                        }\n                        var offsetDuration = this.getDuration(ganttSegments[i - 1].endDate, ganttSegments[i].startDate, unit, data.ganttProperties.isAutoSchedule, data.ganttProperties.isMilestone);\n                        segment.offsetDuration = offsetDuration;\n                        if (offsetDuration < 1) {\n                            if (this.parent.weekWorkingTime.length === 0) {\n                                segment.startDate = this.getEndDate(ganttSegments[i - 1].endDate, 1, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            }\n                            else {\n                                var prevSegmentDate = new Date(ganttSegments[i - 1].endDate.getTime());\n                                segment.startDate = new Date(prevSegmentDate.setHours(prevSegmentDate.getHours() + 24));\n                                if (this.isOnHolidayOrWeekEnd(segment.startDate, true)) {\n                                    do {\n                                        segment.startDate.setDate(segment.startDate.getDate() + 1);\n                                    } while (this.isOnHolidayOrWeekEnd(segment.startDate, true));\n                                }\n                                if (!this.parent.includeWeekend) {\n                                    segment.startDate = this.getNextWorkingDay(segment.startDate);\n                                }\n                                var dayEndTime = this.parent['getEndTime'](ganttSegments[i - 1].endDate);\n                                if (this.getSecondsInDecimal(ganttSegments[i - 1].endDate) === dayEndTime) {\n                                    this.setTime(this.parent['getEndTime'](segment.startDate), segment.startDate);\n                                }\n                            }\n                            segment.startDate = this.checkStartDate(segment.startDate, data.ganttProperties, false);\n                            segment.endDate = this.getEndDate(segment.startDate, segment.duration, data.ganttProperties.durationUnit, data.ganttProperties, false);\n                            segment.endDate = !taskSettings.duration && taskSettings.endDate\n                                && segment.endDate > data.ganttProperties.endDate ? data.ganttProperties.endDate : segment.endDate;\n                            segment.offsetDuration = 1;\n                        }\n                    }\n                    else {\n                        segment.offsetDuration = 0;\n                    }\n                    /* eslint-disable-next-line */\n                    var segmentData = data[this.parent.taskFields.segments] ? data[this.parent.taskFields.segments] : segments;\n                    taskData.push(this.setSegmentTaskData(segment, segmentData[i]));\n                }\n                this.parent.setRecordValue('duration', sumOfDuration, data.ganttProperties, true);\n                if (!isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue('endDate', ganttSegments[ganttSegments.length - 1].endDate, data.ganttProperties, true);\n                }\n                if (!isNullOrUndefined(taskSettings.endDate) && !isNullOrUndefined(ganttSegments[ganttSegments.length - 1])) {\n                    this.parent.setRecordValue(this.parent.taskFields.endDate, ganttSegments[ganttSegments.length - 1].endDate, data, true);\n                }\n                if (!onLoad && taskData && taskData.length > 0) {\n                    taskData.forEach(function (task, index) {\n                        var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                        taskData[index] = mergedObject;\n                    });\n                }\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, taskData, data);\n            }\n        }\n        if (ganttSegments.length > 1) {\n            this.parent.setRecordValue('segments', ganttSegments, data.ganttProperties, true);\n            this.parent.setRecordValue(this.parent.taskFields.segments, data.taskData[this.parent.taskFields.segments], data, true);\n        }\n        else {\n            ganttSegments = null;\n        }\n        return ganttSegments;\n    };\n    TaskProcessor.prototype.setSegmentTaskData = function (segments, segmenttaskData) {\n        var taskSettings = this.parent.taskFields;\n        var taskData = extend({}, {}, segmenttaskData, true);\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            taskData[this.parent.taskFields.startDate] = segments.startDate;\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            taskData[this.parent.taskFields.endDate] = segments.endDate;\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            taskData[this.parent.taskFields.duration] = Number(segments.duration);\n        }\n        return taskData;\n    };\n    TaskProcessor.prototype.fetchResources = function (ganttData) {\n        if ((this.parent.editModule && this.parent.editModule.dialogModule &&\n            (this.parent.editModule.dialogModule['isFromAddDialog'] || this.parent.editModule.dialogModule['isFromEditDialog']))) {\n            return this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            return ganttData.ganttProperties.resourceInfo;\n        }\n    };\n    /**\n     * Method to calculate work based on resource unit and duration.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateWorkWithDuration = function (ganttData) {\n        if (this.parent['triggeredColumnName'] === this.parent.taskFields.work && ganttData.ganttProperties.duration !== 0 &&\n            (isNullOrUndefined(ganttData.ganttProperties.resourceInfo) || ganttData.ganttProperties.resourceInfo.length !== 0)) {\n            return;\n        }\n        var resources = this.fetchResources(ganttData);\n        var work = 0;\n        var resourceOneDayWork;\n        if ((!isNullOrUndefined(resources) && resources.length > 0) && !ganttData.hasChildRecords) {\n            var resourcesLength = resources.length;\n            var index = void 0;\n            var resourceUnit = void 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n            for (index = 0; index < resourcesLength; index++) {\n                // const resource: any = ganttData.ganttProperties.resourceInfo ? ganttData.ganttProperties.resourceInfo : resources;\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                resourceOneDayWork = (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : 0);\n                work += (resourceOneDayWork * durationInDay);\n            }\n            //Update work as per defined unit.\n            if (ganttData.ganttProperties.workUnit === 'minute') {\n                work = work * 60;\n            }\n            if (ganttData.ganttProperties.workUnit === 'day') {\n                work = work / actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (work % 1 !== 0) {\n                work = parseFloat(work.toFixed(2));\n            }\n        }\n        else if (!ganttData.hasChildRecords && !isNullOrUndefined(ganttData.ganttProperties.work) &&\n            (!isNullOrUndefined(ganttData.ganttProperties.duration) && ganttData.ganttProperties.duration > 0)) {\n            work = ganttData.ganttProperties.work;\n        }\n        if (ganttData.childRecords) {\n            if (ganttData.childRecords.length > 0 && this.parent.isOnEdit) {\n                var childCompletedWorks = 0;\n                for (var i = 0; i < ganttData.childRecords.length; i++) {\n                    childCompletedWorks += ganttData.childRecords[i].ganttProperties.work;\n                }\n                work += childCompletedWorks;\n            }\n        }\n        if (ganttData.ganttProperties.taskType === 'FixedUnit' && resourceOneDayWork === 0) {\n            work = 0;\n            this.parent.setRecordValue('duration', 0, ganttData.ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                this.parent.setRecordValue(this.parent.taskFields.duration, 0, ganttData, true);\n            }\n        }\n        this.parent.setRecordValue('work', work, ganttData.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.work) && !this.parent.isLoad) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} parent .\n     * @returns {IParent} .\n     * @private\n     */\n    TaskProcessor.prototype.getCloneParent = function (parent) {\n        if (!isNullOrUndefined(parent)) {\n            var cloneParent = {};\n            cloneParent.uniqueID = parent.uniqueID;\n            cloneParent.expanded = parent.expanded;\n            cloneParent.level = parent.level;\n            cloneParent.index = parent.index;\n            cloneParent.taskId = parent.ganttProperties.rowUniqueID;\n            return cloneParent;\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateResources = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttProperties = void 0;\n            var ganttData = void 0;\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttProperties = this.parent.flatData[index].ganttProperties;\n                ganttData = this.parent.flatData[index];\n                this.parent.setRecordValue('resourceInfo', this.setResourceInfo(data), ganttProperties, true);\n                this.updateResourceName(ganttData);\n            }\n        }\n    };\n    TaskProcessor.prototype.addTaskData = function (ganttData, data, isLoad) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var dataManager = this.parent.dataSource;\n        if (isLoad) {\n            if (taskSettings.parentID || (dataManager instanceof DataManager &&\n                dataManager.dataSource.json && dataManager.dataSource.offline)) {\n                if (taskSettings.parentID) {\n                    var id = data[taskSettings.id];\n                    var index = this.taskIds.indexOf(id.toString());\n                    var tempData_1 = (index > -1) ? this.dataArray[index] : {};\n                    if (!isNullOrUndefined(this.parent.taskFields.segmentId)) {\n                        var segmentDataCollection = this.segmentCollection.\n                            filter(function (x) { return x.key === tempData_1[_this.parent.taskFields.id]; });\n                        if (segmentDataCollection.length > 0) {\n                            tempData_1[this.parent.taskFields.segments] = segmentDataCollection[0].items;\n                        }\n                    }\n                    this.parent.setRecordValue('taskData', tempData_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData', data, ganttData);\n                }\n            }\n            else {\n                this.parent.setRecordValue('taskData', data, ganttData);\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData', data, ganttData);\n        }\n    };\n    TaskProcessor.prototype.updateExpandStateMappingValue = function (ganttData, data) {\n        var expandStateMapping = this.parent.taskFields.expandState;\n        var mappingValue = data[expandStateMapping];\n        var updatableValue;\n        if (expandStateMapping && ganttData.hasChildRecords) {\n            if (!isNullOrUndefined(mappingValue)) {\n                updatableValue = mappingValue.toString() === 'true' ? true : false;\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization && data['expanded']) {\n                    updatableValue = true;\n                }\n            }\n            else if (isNullOrUndefined(mappingValue) && !this.parent.collapseAllParentTasks) {\n                updatableValue = true;\n            }\n            else if (isNullOrUndefined(mappingValue) && this.parent.collapseAllParentTasks) {\n                updatableValue = false;\n            }\n            this.parent.setRecordValue('taskData.' + expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue(expandStateMapping, updatableValue, ganttData);\n            this.parent.setRecordValue('expanded', updatableValue, ganttData);\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.setValidatedDates = function (ganttData, data) {\n        var ganttProperties = ganttData.ganttProperties;\n        var taskSettings = this.parent.taskFields;\n        var duration = data[taskSettings.duration];\n        var startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n        var endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        this.parent.setRecordValue('startDate', new Date(startDate.getTime()), ganttProperties, true);\n        if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n        }\n        else {\n            this.calculateDuration(ganttData);\n        }\n        this.parent.setRecordValue('endDate', new Date((endDate.getTime())), ganttProperties, true);\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {object} data .\n     * @param {boolean} isLoad .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateScheduledValues = function (ganttData, data, isLoad) {\n        var taskSettings = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        var duration = data[taskSettings.duration];\n        duration = isNullOrUndefined(duration) || duration === '' ? null : duration;\n        var startDate;\n        var endDate;\n        if (ganttProperties.startDate && ganttProperties.endDate) {\n            startDate = this.getDateFromFormat(ganttProperties.startDate, true);\n            endDate = this.getDateFromFormat(ganttProperties.endDate, true);\n        }\n        else {\n            startDate = this.getDateFromFormat(data[taskSettings.startDate], true);\n            endDate = this.getDateFromFormat(data[taskSettings.endDate], true);\n        }\n        var segments = taskSettings.segments ? (data[taskSettings.segments] ||\n            ganttData.taskData[taskSettings.segments]) : null;\n        var isMileStone = taskSettings.milestone ? data[taskSettings.milestone] ? true : false : false;\n        var durationMapping = data[taskSettings.durationUnit] ? data[taskSettings.durationUnit] : '';\n        this.parent.setRecordValue('durationUnit', this.validateDurationUnitMapping(durationMapping), ganttProperties, true);\n        var work = !isNullOrUndefined(data[taskSettings.work]) ? parseFloat(data[taskSettings.work]) : 0;\n        this.parent.setRecordValue('workUnit', this.validateWorkUnitMapping(this.parent.workUnit), ganttProperties, true);\n        var taskTypeMapping = data[taskSettings.type] ? data[taskSettings.type] : '';\n        var tType = this.validateTaskTypeMapping(taskTypeMapping);\n        this.parent.setRecordValue('taskType', tType, ganttProperties, true);\n        var isUnassignedTask = data[this.parent.resourceFields.name] === this.parent.localeObj.getConstant('unassignedTask');\n        if (isUnassignedTask) {\n            this.parent.setRecordValue('taskType', 'FixedDuration', ganttProperties, true);\n        }\n        if (isLoad && !this.parent.enableValidation && startDate && endDate) {\n            this.setValidatedDates(ganttData, data);\n        }\n        else {\n            if (!endDate && !startDate && (isNullOrUndefined(duration) || duration === '')) {\n                if (this.parent.allowUnscheduledTasks) {\n                    return;\n                }\n                else {\n                    this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                    this.parent.setRecordValue('startDate', this.getProjectStartDate(ganttProperties, isLoad), ganttProperties, true);\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            else if (startDate) {\n                this.calculateDateFromStartDate(startDate, endDate, duration, ganttData, isLoad);\n            }\n            else if (endDate) {\n                this.calculateDateFromEndDate(endDate, duration, ganttData);\n            }\n            else if (!isNullOrUndefined(duration) && duration !== '') {\n                this.updateDurationValue(duration, ganttProperties);\n                var startDate_1 = this.parent.allowUnscheduledTasks ? null : this.getProjectStartDate(ganttProperties, isLoad);\n                this.parent.setRecordValue('startDate', startDate_1, ganttProperties, true);\n                if (this.parent.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                }\n                else {\n                    this.calculateEndDate(ganttData);\n                }\n            }\n        }\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(ganttData.ganttProperties.startDate) &&\n                !isNullOrUndefined(this.parent.taskFields.startDate)) {\n                ganttData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n                ganttData.taskData[this.parent.taskFields.startDate] = ganttData.ganttProperties.startDate;\n            }\n            if (!isNullOrUndefined(ganttData.ganttProperties.endDate) &&\n                !isNullOrUndefined(this.parent.taskFields.endDate)) {\n                ganttData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n                ganttData.taskData[this.parent.taskFields.endDate] = ganttData.ganttProperties.endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.work)) {\n            var durationUnit = this.parent.taskFields.durationUnit && data[taskSettings.durationUnit] ?\n                data[taskSettings.durationUnit] : this.parent.durationUnit;\n            ganttProperties.durationUnit = this.validateDurationUnitMapping(durationUnit);\n            if (isNaN(work) || isNullOrUndefined(work)) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                }\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('work', work, ganttProperties, true);\n                switch (tType) {\n                    case 'FixedDuration':\n                        // To validate the work column as well,when initial dataset have 0 duration\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.duration === 0) {\n                            this.updateWorkWithDuration(ganttData);\n                        }\n                        break;\n                    case 'FixedWork':\n                        if ((!isNullOrUndefined(ganttData[this.parent.taskFields.resourceInfo]) &&\n                            !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) &&\n                            ganttData.ganttProperties.resourceInfo.length !== 0) ||\n                            ganttProperties.work === 0) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                    case 'FixedUnit':\n                        if (!ganttData.hasChildRecords) {\n                            this.updateDurationWithWork(ganttData);\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(taskSettings.type)) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'type');\n                }\n                if (ganttProperties.duration === 0) {\n                    this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n                    }\n                    this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                }\n                else if (!isNullOrUndefined(ganttProperties.startDate) && !isNullOrUndefined(ganttProperties.duration)) {\n                    this.parent.setRecordValue('isMilestone', false, ganttProperties, true);\n                    if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, false, ganttData, true);\n                    }\n                    this.calculateEndDate(ganttData);\n                }\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'work');\n        }\n        else if (taskSettings.type && ganttProperties.taskType) {\n            this.parent.dataOperation.updateMappingData(ganttData, 'type');\n        }\n        if (!isNullOrUndefined(segments)) {\n            this.parent.setRecordValue('segments', this.setSegmentsInfo(ganttData, true), ganttProperties, true);\n        }\n        if (ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n        if (!isNullOrUndefined(isMileStone) && isMileStone) {\n            this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n            if (!isNullOrUndefined(this.parent.taskFields) && !isNullOrUndefined(this.parent.taskFields.milestone)) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, ganttData, true);\n            }\n            this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n        }\n    };\n    /**\n     * Method to update duration with work value.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateDurationWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        if (!isNullOrUndefined(resources) && resources.length > 0) {\n            var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n            var totalResourceOneDayWork = 0;\n            var totSeconds = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n            }\n            else {\n                totSeconds = this.parent.secondsPerDay;\n            }\n            var actualOneDayWork = (totSeconds) / 3600;\n            var updatedDuration = 0;\n            var resourceUnit = void 0;\n            var index = void 0;\n            for (index = 0; index < resourcesLength; index++) {\n                resourceUnit = resources[index][this.parent.resourceFields.unit]; //in percentage\n                totalResourceOneDayWork += (resourceUnit > 0 ? (actualOneDayWork * resourceUnit) / 100 : (ganttData.ganttProperties.taskType !== 'FixedUnit' ? ((ganttProperties.taskType !== 'FixedWork' && ganttProperties.duration !== 0) ? actualOneDayWork : 0) : 0)); //in hours\n            }\n            var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n            if (resourcesLength > 0 && totalResourceOneDayWork > 0) {\n                updatedDuration += (totalHours / totalResourceOneDayWork);\n            }\n            if (ganttProperties.taskType === 'FixedUnit' && totalResourceOneDayWork === 0) {\n                this.parent.setRecordValue('work', 0, ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.work, 0, ganttData, true);\n            }\n            //Update duration as per defined unit.\n            if (ganttProperties.durationUnit === 'minute') {\n                updatedDuration = updatedDuration * actualOneDayWork * 60;\n            }\n            if (ganttProperties.durationUnit === 'hour') {\n                updatedDuration = updatedDuration * actualOneDayWork;\n            }\n            //To check the decimal places.\n            if (updatedDuration % 1 !== 0) {\n                updatedDuration = parseFloat(updatedDuration.toFixed(2));\n            }\n            if (!isNullOrUndefined(ganttProperties.duration)) {\n                this.parent.setRecordValue('duration', updatedDuration, ganttProperties, true);\n            }\n            this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n            if (this.parent.editModule && this.parent.editModule.dialogModule && this.parent.editModule.dialogModule['isFromEditDialog']) {\n                this.isDurationValueUpdated = true;\n            }\n        }\n    };\n    /**\n     * Update units of resources with respect to duration and work of a task.\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateUnitWithWork = function (ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var resources = this.fetchResources(ganttData);\n        var resourcesLength = !isNullOrUndefined(resources) ? resources.length : 0;\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](ganttData.ganttProperties.startDate ? ganttData.ganttProperties.startDate : ganttData.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        var actualOneDayWork = (totSeconds) / 3600;\n        if (resourcesLength === 0) {\n            return;\n        }\n        var durationInDay = this.getDurationInDay(ganttData.ganttProperties.duration, ganttData.ganttProperties.durationUnit);\n        var totalHours = this.getWorkInHour(ganttProperties.work, ganttProperties.workUnit);\n        var totalUnitInPercentage = durationInDay > 0 ? (totalHours / (durationInDay * actualOneDayWork)) * 100 : 0;\n        var individualUnit = totalUnitInPercentage === 0 ? 0 : totalUnitInPercentage > 0 ?\n            totalUnitInPercentage / resourcesLength : 100;\n        //To check the decimal places.\n        if (individualUnit % 1 !== 0) {\n            individualUnit = parseFloat(individualUnit.toFixed(2));\n        }\n        for (var index = 0; index < resourcesLength; index++) {\n            resources[index][this.parent.resourceFields.unit] = individualUnit;\n            if (!this.parent.isLoad && !isNullOrUndefined(this.parent.editModule) &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule) &&\n                !this.parent.editModule.dialogModule['isEdit'] &&\n                (!isNullOrUndefined(this.parent.editModule.cellEditModule) && !this.parent.editModule.cellEditModule.isCellEdit)) {\n                if (ganttProperties.resourceInfo) {\n                    ganttProperties.resourceInfo[index][this.parent.resourceFields.unit] = individualUnit;\n                }\n            }\n            if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                !isNullOrUndefined(this.parent.editModule.dialogModule.ganttResources[index])) {\n                this.parent.editModule.dialogModule.ganttResources[index][this.parent.resourceFields.unit] = individualUnit;\n            }\n        }\n        //To update the unit value in data source\n        this.updateResourceName(ganttData);\n    };\n    TaskProcessor.prototype.calculateDateFromEndDate = function (endDate, duration, ganttData) {\n        var ganttProperties = ganttData.ganttProperties;\n        var dayEndTime;\n        if (this.parent.weekWorkingTime.length > 0) {\n            dayEndTime = this.parent['getEndTime'](endDate);\n        }\n        else {\n            dayEndTime = this.parent.defaultEndTime;\n        }\n        if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.setTime(dayEndTime, endDate);\n        }\n        var validateAsMilestone = (parseInt(duration, 10) === 0) ? true : null;\n        this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties, validateAsMilestone), ganttProperties, true);\n        if (isNullOrUndefined(duration) || duration === '') {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('startDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && duration !== '') {\n            this.updateDurationValue(duration, ganttProperties);\n            this.parent.setRecordValue('startDate', this.getStartDate(ganttProperties.endDate, ganttProperties.duration, ganttProperties.durationUnit, ganttProperties), ganttProperties, true);\n        }\n    };\n    TaskProcessor.prototype.calculateDateFromStartDate = function (startDate, endDate, duration, ganttData, isLoad) {\n        var ganttProperties = ganttData.ganttProperties;\n        var validateAsMilestone = (parseInt(duration, 10) === 0 || ((startDate && endDate) &&\n            (new Date(startDate.getTime()) === new Date(endDate.getTime())))) ? true : null;\n        this.parent.setRecordValue('startDate', this.checkStartDate(startDate, ganttProperties, validateAsMilestone, isLoad), ganttProperties, true);\n        if (this.parent.isTreeGridRendered && ganttData) {\n            this.updateTaskData(ganttData);\n        }\n        if (!endDate && (isNullOrUndefined(duration) || duration === '')) {\n            if (this.parent.allowUnscheduledTasks) {\n                this.parent.setRecordValue('endDate', null, ganttProperties, true);\n                this.parent.setRecordValue('duration', null, ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('duration', 1, ganttProperties, true);\n                this.calculateEndDate(ganttData);\n            }\n        }\n        else if (!isNullOrUndefined(duration) && !endDate) {\n            this.updateDurationValue(duration, ganttProperties);\n            this.calculateEndDate(ganttData);\n        }\n        else if (endDate && (isNullOrUndefined(duration) || duration === '')) {\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                this.setTime(dayEndTime, endDate);\n            }\n            this.parent.setRecordValue('endDate', this.checkEndDate(endDate, ganttData.ganttProperties), ganttProperties, true);\n            if (this.compareDates(ganttProperties.startDate, ganttProperties.endDate) === 1) {\n                this.parent.setRecordValue('endDate', ganttProperties.startDate, ganttProperties, true);\n                this.parent.setRecordValue('isMilestone', true, ganttProperties, true);\n                this.parent.setRecordValue('duration', 0, ganttProperties, true);\n            }\n            else {\n                this.calculateDuration(ganttData);\n            }\n        }\n        else {\n            this.updateDurationValue(duration, ganttProperties);\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.calculateEndDate(ganttData);\n            }\n            else {\n                this.parent.setRecordValue('endDate', endDate, ganttProperties, true);\n            }\n        }\n    };\n    /**\n     *\n     * @param {number} parentWidth .\n     * @param {number} percent .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getProgressWidth = function (parentWidth, percent) {\n        return (parentWidth * percent) / 100;\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateWidth = function (ganttData, isAuto) {\n        var ganttProp = ganttData.ganttProperties;\n        var sDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var eDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var unscheduledTaskWidth = 3;\n        if (isNullOrUndefined(sDate) && isNullOrUndefined(eDate)) {\n            sDate = this.getValidStartDate(ganttProp, isAuto);\n            eDate = this.getValidEndDate(ganttProp, isAuto);\n        }\n        if (isNullOrUndefined(sDate) || isNullOrUndefined(eDate)) {\n            return unscheduledTaskWidth;\n        }\n        else if (ganttProp.isMilestone && (!ganttData.hasChildRecords || ganttProp.isAutoSchedule)) {\n            //let taskBarHeight: number = this.getTaskbarHeight();\n            return 0;\n        }\n        else {\n            return this.getTaskWidth(sDate, eDate, ganttProp);\n        }\n    };\n    TaskProcessor.prototype.getTaskbarHeight = function () {\n        var rowHeight = this.parent.rowHeight;\n        var taskBarHeight = this.parent.taskbarHeight;\n        if (taskBarHeight < rowHeight) {\n            return taskBarHeight;\n        }\n        else {\n            return rowHeight;\n        }\n    };\n    /**\n     * Method to calculate left\n     *\n     * @param {ITaskData} ganttProp .\n     * @param {IGanttData} ganttRecord .\n     * @param {boolean} isAuto .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateLeft = function (ganttProp, ganttRecord, isAuto) {\n        var sDate = null;\n        var left = -300;\n        var startDate = isAuto ? ganttProp.autoStartDate : ganttProp.startDate;\n        var endDate = isAuto ? ganttProp.autoEndDate : ganttProp.endDate;\n        var duration = isAuto ? ganttProp.autoDuration : ganttProp.duration; // eslint-disable-line\n        var milestone = ganttProp.isMilestone;\n        if (ganttRecord && this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) && isNullOrUndefined(endDate)\n            && !isNullOrUndefined(duration) && !ganttRecord.hasChildRecords && ganttRecord.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && ganttRecord[this.parent.taskFields.manual]))) {\n            var parentRec = this.parent.getParentTask(ganttRecord.parentItem);\n            if (parentRec.ganttProperties.startDate) {\n                startDate = parentRec.ganttProperties.startDate;\n            }\n        }\n        if (startDate) {\n            sDate = new Date(startDate.getTime());\n        }\n        else if (endDate) {\n            sDate = new Date(endDate.getTime());\n            milestone = isNullOrUndefined(startDate) && this.parent.allowUnscheduledTasks ? false : true;\n        }\n        else {\n            sDate = this.getValidStartDate(ganttProp);\n        }\n        if (!isNullOrUndefined(sDate)) {\n            left = this.getTaskLeft(sDate, milestone);\n        }\n        return left;\n    };\n    /**\n     * calculate the left position of the auto scheduled taskbar\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoLeft = function (ganttProperties) {\n        return this.getTaskLeft(ganttProperties.autoStartDate, ganttProperties.isMilestone);\n    };\n    /**\n     * To calculate duration of Gantt record with auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     */\n    TaskProcessor.prototype.calculateAutoDuration = function (ganttProperties) {\n        return this.getDuration(ganttProperties.autoStartDate, ganttProperties.autoEndDate, ganttProperties.durationUnit, false, ganttProperties.isMilestone);\n    };\n    /**\n     * calculate the with between auto scheduled start date and auto scheduled end date\n     *\n     * @param {ITaskData} ganttProperties - Defines the gantt data.\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateAutoWidth = function (ganttProperties) {\n        return this.getTaskWidth(ganttProperties.autoStartDate, ganttProperties.autoEndDate);\n    };\n    /**\n     * calculate the left margin of the baseline element\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineLeft = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate) {\n            return (this.getTaskLeft(baselineStartDate, ganttProperties.isMilestone));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * calculate the width between baseline start date and baseline end date.\n     *\n     * @param {ITaskData} ganttProperties .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateBaselineWidth = function (ganttProperties) {\n        var baselineStartDate = this.getDateFromFormat(ganttProperties.baselineStartDate);\n        var baselineEndDate = this.getDateFromFormat(ganttProperties.baselineEndDate);\n        if (baselineStartDate && baselineEndDate && (baselineStartDate.getTime() !== baselineEndDate.getTime())) {\n            this.isBaseline = true;\n            return (this.getTaskWidth(baselineStartDate, baselineEndDate));\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * To get tasks width value\n     *\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {ITaskData} [ganttData] .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskWidth = function (startDate, endDate, ganttData) {\n        var sDate = new Date(startDate.getTime());\n        var eDate = new Date(endDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        var zoomOrTimeline = this.parent.timelineModule.customTimelineSettings;\n        var isValid = false;\n        var modifiedsDate = new Date(startDate.getTime());\n        var hour = 0;\n        if (!isNullOrUndefined(ganttData) && ganttData.durationUnit === 'hour') {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 60 * 1000);\n        }\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute') || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' && ganttData.duration < 1) {\n            modifiedsDate = new Date(modifiedsDate.getTime() + ganttData.duration * 60 * 1000);\n        }\n        if (this.isBaseline && tierMode === 'Day') {\n            var duration = this.getDuration(sDate, eDate, 'day', true, false);\n            this.isBaseline = false;\n            if (duration > 0 && duration < 1) {\n                return (duration * this.parent.perDayWidth);\n            }\n        }\n        if (this.parent.weekWorkingTime.length > 0) {\n            var date = new Date(startDate.getTime());\n            for (var count = startDate.getDate(); count <= endDate.getDate(); count++) {\n                var day = date.getDay();\n                var currentDay = void 0;\n                var weekWorkingTime = this.parent.weekWorkingTime;\n                switch (day) {\n                    case 0:\n                        currentDay = 'Sunday';\n                        break;\n                    case 1:\n                        currentDay = 'Monday';\n                        break;\n                    case 2:\n                        currentDay = 'Tuesday';\n                        break;\n                    case 3:\n                        currentDay = 'Wednesday';\n                        break;\n                    case 4:\n                        currentDay = 'Thursday';\n                        break;\n                    case 5:\n                        currentDay = 'Friday';\n                        break;\n                    case 6:\n                        currentDay = 'Saturday';\n                        break;\n                    default:\n                        currentDay = '';\n                }\n                var isValid_1 = true;\n                for (var i = 0; i < weekWorkingTime.length; i++) {\n                    if (weekWorkingTime[i][currentDay]\n                        && weekWorkingTime[i][currentDay].length > 0) {\n                        isValid_1 = false;\n                        for (var j = 0; j < weekWorkingTime[i][currentDay].length; j++) {\n                            hour = hour + weekWorkingTime[i][currentDay][j].to\n                                - weekWorkingTime[i][currentDay][j].from;\n                        }\n                    }\n                }\n                if (isValid_1) {\n                    for (var k = 0; k < this.parent.dayWorkingTime.length; k++) {\n                        hour = hour + this.parent.dayWorkingTime[k].to - this.parent.dayWorkingTime[k].from;\n                    }\n                }\n                date = new Date(date.setDate(date.getDate() + 1));\n                if (!this.parent.includeWeekend) {\n                    date = this.parent.dataOperation.getNextWorkingDay(date);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < this.parent.dayWorkingTime.length; i++) {\n                hour = hour + this.parent.dayWorkingTime[i].to - this.parent.dayWorkingTime[i].from;\n            }\n        }\n        var dateDiff = modifiedsDate.getTime() - sDate.getTime();\n        var dayStartTime;\n        var dayEndTime;\n        if (!isNullOrUndefined(ganttData) && (ganttData.durationUnit === 'minute' && ganttData.duration < (hour * 60)) || !isNullOrUndefined(ganttData) && ganttData.durationUnit === 'day' &&\n            !isNullOrUndefined(ganttData.duration) && /^\\d+\\.\\d+$/.test(ganttData.duration.toString())) {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if ((Math.floor((dateDiff / (1000 * 60 * 60)) % 24) >= hour || dateDiff === 0)) {\n                    isValid = true;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime && isValid) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime && isValid) {\n                    eDate.setHours(24);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            else {\n                isValid = true;\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (isValid) {\n                    if (this.parent.taskFields.duration && ganttData.durationUnit === 'day' && /^\\d+\\.\\d+$/.test(ganttData.duration.toString()) && this.parent.timelineModule.bottomTier === 'Day'\n                        && isNullOrUndefined(ganttData.segments)) {\n                        var holidaysCount = this.parent.holidays && this.parent.holidays.length > 0\n                            ? this.getHolidaysCount(sDate, eDate)\n                            : 0;\n                        var weekendCount = !this.parent.includeWeekend ? this.getWeekendCount(sDate, eDate) : 0;\n                        if (this.hasDSTTransition(sDate.getFullYear())) {\n                            return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                        }\n                        else {\n                            if (!this.parent.timelineSettings.showWeekend) {\n                                return ((holidaysCount + ganttData.duration) * this.parent.perDayWidth);\n                            }\n                            else {\n                                return ((holidaysCount + weekendCount + ganttData.duration) * this.parent.perDayWidth);\n                            }\n                        }\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                }\n                else {\n                    var isOnHoliday = false;\n                    var isEndDateCorrect = function (startDate, endDate, duration, totalWorkingHoursPerDay) {\n                        var start = new Date(startDate);\n                        var end = new Date(endDate);\n                        if (isNaN(start.getTime()) || isNaN(end.getTime()) || duration <= 0 || totalWorkingHoursPerDay <= 0) {\n                            return false;\n                        }\n                        var expectedEnd = new Date(start);\n                        var hoursToAdd = duration * totalWorkingHoursPerDay;\n                        var fullDays = Math.floor(hoursToAdd / totalWorkingHoursPerDay);\n                        var remainingHours = hoursToAdd % totalWorkingHoursPerDay;\n                        expectedEnd.setDate(expectedEnd.getDate() + fullDays);\n                        expectedEnd.setHours(expectedEnd.getHours() + remainingHours);\n                        return expectedEnd.getTime() !== end.getTime() &&\n                            Math.abs((expectedEnd.getTime() - end.getTime()) / (1000 * 60 * 60 * 24)) > 1;\n                    };\n                    isOnHoliday = isEndDateCorrect(sDate, eDate, ganttData.duration, hour);\n                    if (ganttData.durationUnit === 'day' && ganttData.duration < 1 && !isOnHoliday) {\n                        return (ganttData.duration * this.parent.perDayWidth);\n                    }\n                    if (this.hasDSTTransition(sDate.getFullYear()) || sDate.getTimezoneOffset() === -180) {\n                        return ((this.getTimeDifference(sDate, eDate, true) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n                    }\n                    else {\n                        return ((this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * hour)) * this.parent.perDayWidth);\n                    }\n                }\n            }\n        }\n        else {\n            if (tierMode === 'Day') {\n                if (this.parent.weekWorkingTime.length > 0) {\n                    dayStartTime = this.parent['getStartTime'](sDate);\n                    dayEndTime = this.parent['getEndTime'](eDate);\n                }\n                else {\n                    dayStartTime = this.parent.defaultStartTime;\n                    dayEndTime = this.parent.defaultEndTime;\n                }\n                if (this.getSecondsInDecimal(sDate) === dayStartTime) {\n                    sDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayEndTime) {\n                    eDate.setHours(24);\n                    eDate.setHours(0, 0, 0, 0);\n                }\n                if (this.getSecondsInDecimal(eDate) === dayStartTime) {\n                    eDate.setHours(0, 0, 0, 0);\n                }\n            }\n            if ((sDate).getTime() === (eDate).getTime()) {\n                return (this.parent.perDayWidth);\n            }\n            else {\n                if (this.hasDSTTransition(sDate.getFullYear())) {\n                    var weekEndCount = 0;\n                    var weekEndInMilliSecond = 0;\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        weekEndCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(sDate, eDate);\n                        if (weekEndCount > 0) {\n                            weekEndInMilliSecond = weekEndCount * (1000 * 60 * 60 * 24);\n                        }\n                    }\n                    var width = ((getUniversalTime(eDate) - getUniversalTime(sDate)) - weekEndInMilliSecond) /\n                        60000 * ((this.parent.perDayWidth) / 24) / 60;\n                    return width;\n                }\n                else {\n                    var totalDays = this.getTimeDifference(sDate, eDate) / (1000 * 60 * 60 * 24);\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        var currentDate = new Date(sDate.getTime());\n                        var nonWorkingDays = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(currentDate, eDate);\n                        var workingDays = totalDays - nonWorkingDays;\n                        return workingDays * this.parent.perDayWidth;\n                    }\n                    else {\n                        return totalDays * this.parent.perDayWidth;\n                    }\n                }\n            }\n        }\n    };\n    TaskProcessor.prototype.getDSTTransitions = function (year, timeZone) {\n        function findLastSunday(year, month) {\n            var lastDayOfMonth = new Date(Date.UTC(year, month + 1, 0)); // Last day of the month\n            var lastSunday = new Date(Date.UTC(year, month, lastDayOfMonth.getUTCDate() - lastDayOfMonth.getUTCDay()));\n            return lastSunday;\n        }\n        function convertToTimezone(date, timeZone) {\n            var formatter = new Intl.DateTimeFormat('en-US', {\n                timeZone: timeZone,\n                year: 'numeric',\n                month: '2-digit',\n                day: '2-digit',\n                hour: '2-digit',\n                minute: '2-digit',\n                second: '2-digit',\n                hour12: false\n            });\n            var formattedDate = formatter.format(date);\n            var _a = formattedDate.match(/\\d+/g).map(Number), month = _a[0], day = _a[1], year = _a[2], hour = _a[3], minute = _a[4], second = _a[5];\n            return new Date(year, month - 1, day, hour, minute, second);\n        }\n        var dstStartDate = findLastSunday(year, 2);\n        var dstEndDate = findLastSunday(year, 9);\n        return {\n            dstStart: convertToTimezone(dstStartDate, timeZone),\n            dstEnd: convertToTimezone(dstEndDate, timeZone)\n        };\n    };\n    TaskProcessor.prototype.hasDSTTransition = function (year) {\n        var start = 0;\n        var end = 11;\n        var baseOffset = new Date(year, start, 1).getTimezoneOffset();\n        while (start <= end) {\n            var mid = Math.floor((start + end) / 2);\n            var currentOffset = new Date(year, mid, 1).getTimezoneOffset();\n            if (currentOffset !== baseOffset) {\n                return true;\n            }\n            if (currentOffset > baseOffset) {\n                end = mid - 1;\n            }\n            else {\n                start = mid + 1;\n            }\n        }\n        return false;\n    };\n    /**\n     * Get task left value\n     *\n     * @param {Date} startDate .\n     * @param {boolean} isMilestone .\n     * @param {boolean} isFromTimelineVirtulization .\n     * @returns {number} .\n     * @private\n     */\n    TaskProcessor.prototype.getTaskLeft = function (startDate, isMilestone, isFromTimelineVirtulization) {\n        var isTimeSet = false;\n        var date = new Date(startDate.getTime());\n        var tierMode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit !== 'None' ? this.parent.timelineModule.customTimelineSettings.bottomTier.unit :\n            this.parent.timelineModule.customTimelineSettings.topTier.unit;\n        if (tierMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](date);\n                dayEndTime = this.parent['getEndTime'](date);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(date) === dayStartTime) {\n                date.setHours(0, 0, 0, 0);\n            }\n            else if (isMilestone && this.getSecondsInDecimal(date) === dayEndTime) {\n                date.setHours(24);\n                isTimeSet = true;\n            }\n            else if (this.getSecondsInDecimal(date) === dayEndTime && this.parent.allowUnscheduledTasks) {\n                date.setHours(22);\n                isTimeSet = true;\n            }\n        }\n        var leftValueForStartDate;\n        if (this.parent.enableTimelineVirtualization && (this.parent.isLoad || isFromTimelineVirtulization) &&\n            !this.parent.timelineModule['performedTimeSpanAction']) {\n            leftValueForStartDate = (this.parent.enableTimelineVirtualization\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n                ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        }\n        var timelineStartDate = (!isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).toString()) : new Date(this.parent.timelineModule.timelineStartDate);\n        if (timelineStartDate) {\n            var leftValue = void 0;\n            var hasDST = this.hasDSTTransition(startDate.getFullYear());\n            var transitions = void 0;\n            // if (hasDST) {\n            //     transitions = this.getDSTTransitions(startDate.getFullYear(), this.systemTimeZone);\n            // }\n            // if (this.parent.isInDst(startDate) && !this.parent.isInDst(timelineStartDate)) {\n            //     let newTimelineStartDate: Date;\n            //     if (this.parent.isInDst(date)) {\n            //         newTimelineStartDate = new Date(timelineStartDate.getTime() - (60 * 60 * 1000));\n            //     } else {\n            //         newTimelineStartDate = new Date(timelineStartDate.getTime());\n            //     }\n            //     leftValue = (date.getTime() - newTimelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            // }\n            // else {\n            //     let width: number;\n            //     if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n            //         !isTimeSet && !this.parent['isFromEventMarker']) {\n            //         const newDate: Date = new Date(startDate.getTime());\n            //         const setStartDate: Date = new Date(newDate.setHours(0, 0, 0, 0));\n            //         const duration: number = this.getDuration(setStartDate, startDate, 'day', true, false);\n            //         width = duration * this.parent.perDayWidth;\n            //         date.setHours(0, 0, 0, 0);\n            //         leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            //         if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n            //             leftValue += width;\n            //         }\n            //     }\n            //     else {\n            //         leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n            //     }\n            // }\n            if (this.hasDSTTransition(date.getFullYear())) {\n                if (!this.parent.timelineSettings.showWeekend) {\n                    leftValue = this.calculateLeftValue(timelineStartDate, date);\n                }\n                else {\n                    leftValue = (getUniversalTime(date) - getUniversalTime(timelineStartDate)) /\n                        60000 * ((this.parent.perDayWidth) / 24) / 60;\n                }\n                return leftValue;\n            }\n            else {\n                var width = void 0;\n                if (this.parent.timelineModule.bottomTier === 'Day' && this.getSecondsInDecimal(date) !== this.parent.defaultStartTime && this.getSecondsInDecimal(date) !== 0 &&\n                    !isTimeSet && !this.parent['isFromEventMarker']) {\n                    var newDate = new Date(startDate.getTime());\n                    var setStartDate = new Date(newDate.setHours(0, 0, 0, 0));\n                    var duration = this.getDuration(setStartDate, startDate, 'day', true, false);\n                    width = duration * this.parent.perDayWidth;\n                    date.setHours(0, 0, 0, 0);\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        leftValue = this.calculateLeftValue(timelineStartDate, date);\n                    }\n                    else {\n                        leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    }\n                    if (this.getSecondsInDecimal(startDate) !== this.parent.defaultStartTime && this.parent.timelineModule.bottomTier === 'Day') {\n                        leftValue += width;\n                    }\n                }\n                else {\n                    if (!this.parent.timelineSettings.showWeekend) {\n                        leftValue = this.calculateLeftValue(timelineStartDate, date);\n                    }\n                    else {\n                        leftValue = (date.getTime() - timelineStartDate.getTime()) / (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n                    }\n                }\n            }\n            // const timelineStartTime: number = timelineStartDate.getTime();\n            // let dstStartTime: number | undefined;\n            // if (transitions && transitions['dstStart']) {\n            //     dstStartTime = transitions['dstStart'].getTime();\n            // }\n            // const isBeforeOrAtDSTStart: boolean = timelineStartTime <= dstStartTime;\n            // if (hasDST && this.parent.dayWorkingTime[0]['properties'].from > transitions['dstStart'].getHours() && isBeforeOrAtDSTStart && tierMode === 'Day' && this.getSecondsInDecimal(date) === this.parent.defaultStartTime) {\n            //     if ((leftValue % this.parent.perDayWidth) !== 0) {\n            //         const leftDifference: number = this.parent.perDayWidth - (leftValue % this.parent.perDayWidth);\n            //         leftValue = leftValue + leftDifference;\n            //     }\n            // }\n            // const topTier: Object = this.parent.timelineModule.customTimelineSettings.topTier;\n            // if (topTier && topTier['unit'] === 'Hour' && topTier['count'] === 1) {\n            //     tierMode = topTier['unit'];\n            //     countValue = topTier['count'];\n            // }\n            // const pervYear: number = startDate.getFullYear() - 1;\n            // let isprevYearTransitions : boolean = false;\n            // if (timelineStartDate.getFullYear() <= pervYear) {\n            //     if (timelineStartDate.getFullYear() < pervYear) {\n            //         isprevYearTransitions = true;\n            //     }\n            //     else {\n            //         const pervDSTTransitions: Object = this.getDSTTransitions(timelineStartDate.getFullYear(), this.systemTimeZone);\n            //         if (startDate >= pervDSTTransitions['dstStart']) {\n            //             isprevYearTransitions = true;\n            //         }\n            //     }\n            // }\n            // const isHourly: boolean = this.parent.timelineModule.topTier === 'Hour' || this.parent.timelineModule.bottomTier === 'Hour';\n            // const isDaily: boolean = this.parent.timelineModule.topTier === 'Day' || this.parent.timelineModule.bottomTier === 'Day';\n            // const isStartDateInDst: boolean = this.parent.isInDst(startDate);\n            // const isTimelineStartDateInDst: boolean = this.parent.isInDst(timelineStartDate);\n            // const perHourWidth: number = this.parent.perDayWidth / 24;\n            // if (!isStartDateInDst && isTimelineStartDateInDst) {\n            //     if ((countValue !== 1 && isHourly) || (countValue === 1 && isDaily)) {\n            //         leftValue -= perHourWidth;\n            //     }\n            // }\n            // const unitHour: boolean = ((tierMode === 'Hour' && countValue === 1) || (tierMode === 'Minutes' && countValue === 60));\n            // if (hasDST && unitHour && ((startDate >= transitions['dstStart']) || isprevYearTransitions) && !this.parent.enableTimelineVirtualization) {\n            //     if (countValue === 1) {\n            //         const projectStartDate: Date = new Date(this.parent.projectStartDate);\n            //         const projectEndDate: Date = new Date(this.parent.projectEndDate);\n            //         const yearsCount: number[] = [];\n            //         for (let year: number = projectStartDate.getFullYear(); year <= projectEndDate.getFullYear(); year++) {\n            //             yearsCount.push(year);\n            //         }\n            //         const findYearIndex: (year: number) => number = (year: number): number => {\n            //             return yearsCount.indexOf(year);\n            //         };\n            //         let index: number = findYearIndex(startDate.getFullYear());\n            //         if (index !== -1) {\n            //             if ((startDate > transitions['dstEnd']) || index === 0) {\n            //                 index += 1;\n            //             }\n            //             leftValue -= index * (this.parent.perDayWidth / 24);\n            //         }\n            //     }\n            // }\n            return leftValue;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     * Calculates the left pixel value for a task on the Gantt chart, considering non-working days.\n     *\n     * This method calculates the horizontal position or \"left value\" for a task based on its start date, current date,\n     * and the position of non-working days. This is useful for determining the visual placement of tasks in the Gantt chart.\n     *\n     * @param {Date} timelineStartDate - The start date of the timeline from which to calculate the left position.\n     * @param {Date} currentDate - The current date for which the left value is being calculated.\n     * @returns {number} - Returns the calculated left value in pixels.\n     */\n    TaskProcessor.prototype.calculateLeftValue = function (timelineStartDate, currentDate) {\n        var startdate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var nonWorkingDaysCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(startdate, currentDate);\n        var totalMilliseconds;\n        if (this.hasDSTTransition(currentDate.getFullYear())) {\n            totalMilliseconds = (getUniversalTime(currentDate) - getUniversalTime(timelineStartDate));\n        }\n        else {\n            totalMilliseconds = currentDate.getTime() - timelineStartDate.getTime();\n        }\n        var nonWorkingMilliseconds = nonWorkingDaysCount * 24 * 60 * 60 * 1000;\n        var workingMilliseconds = totalMilliseconds - nonWorkingMilliseconds;\n        var leftValue = (workingMilliseconds / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        return leftValue;\n    };\n    TaskProcessor.prototype.getSplitTaskWidth = function (sDate, duration, data) {\n        var startDate = new Date(sDate.getTime());\n        var endDate = new Date((this.getEndDate(startDate, duration, data.ganttProperties.durationUnit, data.ganttProperties, false).getTime()));\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var dayEndTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](startDate);\n                dayEndTime = this.parent['getEndTime'](endDate);\n            }\n            else {\n                dayStartTime = this.parent.defaultStartTime;\n                dayEndTime = this.parent.defaultEndTime;\n            }\n            if (this.getSecondsInDecimal(startDate) === dayStartTime) {\n                startDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayEndTime) {\n                endDate.setHours(24);\n            }\n            if (this.getSecondsInDecimal(endDate) === dayStartTime) {\n                endDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (!this.parent.timelineSettings.showWeekend) {\n            var currentDate = new Date(startDate.getTime());\n            var nonWorkingDaysCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(currentDate, endDate);\n            var totalMilliseconds = endDate.getTime() - startDate.getTime();\n            var nonWorkingMilliseconds = nonWorkingDaysCount * 24 * 60 * 60 * 1000;\n            var workingMilliseconds = totalMilliseconds - nonWorkingMilliseconds;\n            return (workingMilliseconds / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth;\n        }\n        else {\n            return ((this.getTimeDifference(startDate, endDate) / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        }\n    };\n    TaskProcessor.prototype.getSplitTaskLeft = function (sDate, segmentTaskStartDate) {\n        var stDate = new Date(sDate.getTime());\n        var tierViewMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        if (tierViewMode === 'Day') {\n            var dayStartTime = void 0;\n            var segmentStartTime = void 0;\n            if (this.parent.weekWorkingTime.length > 0) {\n                dayStartTime = this.parent['getStartTime'](stDate);\n                segmentStartTime = this.parent['getStartTime'](segmentTaskStartDate);\n            }\n            else {\n                segmentStartTime = dayStartTime = this.parent.defaultStartTime;\n            }\n            if (this.getSecondsInDecimal(stDate) === dayStartTime) {\n                stDate.setHours(0, 0, 0, 0);\n            }\n            if (this.getSecondsInDecimal(segmentTaskStartDate) === segmentStartTime) {\n                segmentTaskStartDate.setHours(0, 0, 0, 0);\n            }\n        }\n        if (segmentTaskStartDate) {\n            var weekEndCount = 0;\n            var weekEndInMilliSecond = 0;\n            if (!this.parent.timelineSettings.showWeekend) {\n                var startdate = new Date(segmentTaskStartDate.getTime());\n                var segmentStartdate = new Date(stDate.getTime());\n                weekEndCount = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(startdate, segmentStartdate);\n                if (weekEndCount > 0) {\n                    weekEndInMilliSecond = weekEndCount * (1000 * 60 * 60 * 24);\n                }\n            }\n            return (stDate.getTime() - segmentTaskStartDate.getTime() - weekEndInMilliSecond) /\n                (1000 * 60 * 60 * 24) * this.parent.perDayWidth;\n        }\n        else {\n            return 0;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {string} fieldName .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateMappingData = function (ganttData, fieldName) {\n        var columnMapping = this.parent.columnMapping;\n        var ganttProp = ganttData.ganttProperties;\n        if (isNullOrUndefined(columnMapping[fieldName]) && fieldName !== 'taskType' && fieldName !== 'segments') {\n            return;\n        }\n        if (fieldName === 'predecessorName') {\n            //\n        }\n        else if (fieldName === 'resourceInfo') {\n            var resourceData = ganttProp.resourceInfo;\n            var resourceSettings = this.parent.resourceFields;\n            // eslint-disable-next-line\n            var resourcesId = [];\n            var resourcesName = [];\n            if (!isNullOrUndefined(resourceData)) {\n                for (var i = 0; i < resourceData.length; i++) {\n                    resourcesId.push(resourceData[i][resourceSettings.id]);\n                    var resName = resourceData[i][resourceSettings.name];\n                    var resourceUnit = resourceData[i][resourceSettings.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (resName) {\n                        resourcesName.push(resName);\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceNames', resourcesName.join(','), ganttProp, true);\n            if (this.isResourceString) {\n                if (ganttData.taskData[this.parent.taskFields.resourceInfo] &&\n                    ganttData.taskData[this.parent.taskFields.resourceInfo][0]) {\n                    ganttData.taskData[this.parent.taskFields.resourceInfo] =\n                        ganttData.taskData[this.parent.taskFields.resourceInfo][0][resourceSettings.name];\n                }\n                this.updateTaskDataResource(ganttData);\n            }\n            else {\n                this.updateTaskDataResource(ganttData);\n            }\n            this.parent.setRecordValue(columnMapping[fieldName], resourcesName.join(','), ganttData);\n        }\n        else if (fieldName === 'startDate' || fieldName === 'endDate') {\n            this.setRecordDate(ganttData, ganttProp[fieldName], columnMapping[fieldName]);\n        }\n        else if (fieldName === 'duration') {\n            this.setRecordDuration(ganttData, columnMapping[fieldName]);\n        }\n        else if (fieldName === 'work') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.work, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n        else if (fieldName === 'type') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp.taskType, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp.taskType, ganttData);\n        }\n        else if (fieldName === 'manual') {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], !ganttProp.isAutoSchedule, ganttData);\n        }\n        else if (fieldName === 'segments') {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, this.segmentTaskData(ganttData), ganttData);\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + columnMapping[fieldName], ganttProp[fieldName], ganttData);\n            this.parent.setRecordValue(columnMapping[fieldName], ganttProp[fieldName], ganttData);\n        }\n    };\n    TaskProcessor.prototype.segmentTaskData = function (data) {\n        var _this = this;\n        var segments = data.ganttProperties.segments;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(segments)) {\n            return null;\n        }\n        var taskData = extend([], [], data.taskData[taskSettings.segments], true);\n        for (var i = 0; i < segments.length; i++) {\n            if (this.parent.isEdit || (this.parent.editModule && this.parent.editModule.dialogModule &&\n                getValue('isEdit', this.parent.editModule.dialogModule)) || (this.parent.contextMenuModule && getValue('isEdit', this.parent.contextMenuModule))) {\n                taskData[i] = {};\n            }\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                taskData[i][this.parent.taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                taskData[i][this.parent.taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                taskData[i][this.parent.taskFields.duration] = Number(segments[i].duration);\n            }\n        }\n        if (this.customSegmentProperties.length > 0 && taskData && taskData.length > 0) {\n            taskData.forEach(function (task, index) {\n                var mergedObject = Object.assign({}, task, _this.customSegmentProperties[index]);\n                taskData[index] = mergedObject;\n            });\n        }\n        return taskData;\n    };\n    /**\n     * Method to update the task data resource values\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     */\n    TaskProcessor.prototype.updateTaskDataResource = function (ganttData) {\n        var resourceData = ganttData.ganttProperties.resourceInfo;\n        var preTaskResources = ganttData.taskData[this.parent.taskFields.resourceInfo];\n        var resourceSettings = this.parent.resourceFields;\n        if (isNullOrUndefined(preTaskResources)) {\n            ganttData.taskData[this.parent.taskFields.resourceInfo] = resourceData;\n        }\n        else if (resourceData && resourceData.length) {\n            for (var i = 0; i < resourceData.length; i++) {\n                var isAdded = false;\n                if (typeof (preTaskResources) === 'string') {\n                    if (typeof preTaskResources === 'string') {\n                        if ((preTaskResources) === (resourceData[i][resourceSettings.name])) {\n                            preTaskResources = resourceData[i][resourceSettings.name];\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var j = 0; j < preTaskResources.length; j++) {\n                        if (typeof preTaskResources[j] === 'number' || typeof preTaskResources[j] === 'string') {\n                            if (parseInt(preTaskResources[j], 10) ===\n                                parseInt(resourceData[i][resourceSettings.id], 10)) {\n                                preTaskResources[j] = resourceData[i];\n                                isAdded = true;\n                                break;\n                            }\n                        }\n                        else if (preTaskResources[j][resourceSettings.id] === resourceData[i][resourceSettings.id] && typeof preTaskResources[j] !== 'number') {\n                            preTaskResources[j] = extend({}, preTaskResources[j], resourceData[i], true);\n                            isAdded = true;\n                            break;\n                        }\n                    }\n                }\n                if (!isAdded) {\n                    if (typeof (preTaskResources) === 'string') {\n                        preTaskResources = resourceData[i][resourceSettings.name];\n                    }\n                    else {\n                        preTaskResources.push(resourceData[i]);\n                    }\n                }\n            }\n            var data_1 = [];\n            if (!isNullOrUndefined(preTaskResources)) {\n                if (typeof (preTaskResources) !== 'string') {\n                    var _loop_4 = function (k) {\n                        resourceData.filter(function (resourceInfo) {\n                            if (resourceInfo[resourceSettings.id] === preTaskResources[k][resourceSettings.id]\n                                && data_1.indexOf(preTaskResources[k]) === -1) {\n                                data_1.push(preTaskResources[k]);\n                            }\n                        });\n                    };\n                    for (var k = 0; k < preTaskResources.length; k++) {\n                        _loop_4(k);\n                    }\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, data_1, ganttData);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, preTaskResources, ganttData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], ganttData);\n        }\n    };\n    TaskProcessor.prototype.setRecordDate = function (task, value, mapping) {\n        var tempDate = typeof value === 'string' ? new Date(value) : value;\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        this.parent.setRecordValue(mapping, value, task);\n        if (!isNullOrUndefined(value)) {\n            value = new Date(tempDate.getTime());\n        }\n        if (!this.parent.isLoad && !this.parent.isDynamicData) {\n            this.parent.setRecordValue('taskData.' + mapping, value, task);\n        }\n        this.parent.isDynamicData = false;\n    };\n    TaskProcessor.prototype.getDurationInDay = function (duration, durationUnit) {\n        if (durationUnit === 'day') {\n            return duration;\n        }\n        else if (durationUnit === 'hour') {\n            return duration / (this.parent.secondsPerDay / 3600);\n        }\n        else {\n            return duration / (this.parent.secondsPerDay / 60);\n        }\n    };\n    TaskProcessor.prototype.setRecordDuration = function (task, mapping) {\n        var duration = task.ganttProperties.duration;\n        var durationUnit = task.ganttProperties.durationUnit;\n        if (!isNullOrUndefined(duration)) {\n            this.parent.setRecordValue(mapping, task.ganttProperties.duration, task);\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            var durationValue = (getValue(mapping, task.taskData));\n            if (isNaN(durationValue) && isNullOrUndefined(this.parent.taskFields.durationUnit) && !isNullOrUndefined(durationValue)) {\n                this.parent.setRecordValue('taskData.' + mapping, this.getDurationString(duration, durationUnit), task);\n            }\n            else {\n                if (typeof durationValue === 'string') {\n                    this.parent.setRecordValue('taskData.' + mapping, duration.toString(), task);\n                }\n                else {\n                    this.parent.setRecordValue('taskData.' + mapping, duration, task);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue(mapping, duration, task);\n            this.parent.setRecordValue('taskData.' + mapping, duration, task);\n        }\n        if (this.parent.taskFields.durationUnit) {\n            task.taskData[this.parent.taskFields.durationUnit] = task.ganttProperties.durationUnit;\n        }\n    };\n    TaskProcessor.prototype.setDataSource = function (data) {\n        var dataArray;\n        var createData = [];\n        if (Array.isArray(data)) {\n            dataArray = data;\n        }\n        var length = dataArray.length;\n        for (var i = 0; i < length; i++) {\n            var record = data[i];\n            createData.push(record);\n            if (!(isNullOrUndefined(data[i][this.parent.taskFields.child]))) {\n                this.setDataSource(data[i][this.parent.taskFields.child]);\n            }\n        }\n        return createData;\n    };\n    TaskProcessor.prototype.setStartDate = function (task) {\n        var _this = this;\n        var hierarchicalData = [];\n        if (!isNullOrUndefined(this.parent.taskFields.parentID) && !isNullOrUndefined(this.parent.taskFields.id)) {\n            hierarchicalData = this.setDataSource(this.parent.dataSource);\n        }\n        else {\n            hierarchicalData = this.parent.dataSource;\n        }\n        hierarchicalData.map(function (record) {\n            if (task.ganttProperties.taskId === record[_this.parent.taskFields.id]) {\n                if (!isNullOrUndefined(_this.parent.taskFields.startDate)) {\n                    task[_this.parent.taskFields.startDate] = record[_this.parent.taskFields.startDate];\n                }\n                if (!isNullOrUndefined(_this.parent.taskFields.endDate)) {\n                    task[_this.parent.taskFields.endDate] = record[_this.parent.taskFields.endDate];\n                }\n            }\n        });\n    };\n    TaskProcessor.prototype.getWorkInHour = function (work, workUnit) {\n        if (workUnit === 'day') {\n            return work * (this.parent.secondsPerDay / 3600);\n        }\n        else if (workUnit === 'minute') {\n            return work / 60;\n        }\n        else {\n            return work;\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateTaskData = function (ganttData) {\n        var dataMapping = this.parent.taskFields;\n        var ganttProperties = ganttData.ganttProperties;\n        if (!isNullOrUndefined(ganttData.taskData)) {\n            var data = ganttData.taskData;\n            if (dataMapping.id) {\n                this.parent.setRecordValue('taskData.' + dataMapping.id, ganttProperties.taskId, ganttData);\n                this.parent.setRecordValue(dataMapping.id, ganttProperties.taskId, ganttData);\n            }\n            if (dataMapping.name) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.name, ganttProperties.taskName, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.name, ganttProperties.taskName, ganttData);\n            }\n            if (dataMapping.startDate) {\n                this.setRecordDate(ganttData, ganttProperties.startDate, dataMapping.startDate);\n            }\n            if (dataMapping.endDate) {\n                this.setRecordDate(ganttData, ganttProperties.endDate, dataMapping.endDate);\n            }\n            if (dataMapping.duration) {\n                if (isNullOrUndefined(dataMapping.milestone) || (!isNullOrUndefined(dataMapping.milestone) &&\n                    !ganttData.taskData[dataMapping.milestone])) {\n                    this.setRecordDuration(ganttData, dataMapping.duration);\n                }\n            }\n            if (dataMapping.durationUnit) {\n                data[dataMapping.durationUnit] = ganttProperties.durationUnit;\n            }\n            if (dataMapping.progress) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.progress, ganttProperties.progress, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.progress, ganttProperties.progress, ganttData);\n            }\n            if (dataMapping.baselineStartDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineStartDate, dataMapping.baselineStartDate);\n            }\n            if (dataMapping.baselineEndDate) {\n                this.setRecordDate(ganttData, ganttProperties.baselineEndDate, dataMapping.baselineEndDate);\n            }\n            if (dataMapping.notes) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.notes, ganttProperties.notes, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.notes, ganttProperties.notes, ganttData);\n            }\n            if (dataMapping.cssClass) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.cssClass, ganttProperties.cssClass, ganttData);\n            }\n            if (dataMapping.indicators) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.indicators, ganttProperties.indicators, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.indicators, ganttProperties.indicators, ganttData);\n            }\n            if (dataMapping.parentID) {\n                var parentID = this.parent.viewType === 'ProjectView' ? ganttProperties.parentId : data[dataMapping.parentID];\n                this.parent.setRecordValue('taskData.' + dataMapping.parentID, parentID, ganttData);\n                this.parent.setRecordValue(dataMapping.parentID, ganttProperties.parentId, ganttData);\n            }\n            if (dataMapping.work) {\n                if (!this.parent.isLoad) {\n                    this.parent.setRecordValue('taskData.' + dataMapping.work, ganttProperties.work, ganttData);\n                }\n                this.parent.setRecordValue(dataMapping.work, ganttProperties.work, ganttData);\n            }\n            if (dataMapping.type) {\n                this.parent.setRecordValue('taskData.' + dataMapping.type, ganttProperties.taskType, ganttData);\n                this.parent.setRecordValue(dataMapping.type, ganttProperties.taskType, ganttData);\n            }\n        }\n    };\n    /**\n     * To set resource value in Gantt record\n     *\n     * @param {object} data .\n     * @returns {object[]} .\n     * @private\n     */\n    TaskProcessor.prototype.setResourceInfo = function (data) {\n        var _this = this;\n        // eslint-disable-next-line\n        var resourceIdCollection;\n        if (isNullOrUndefined(data[this.parent.taskFields.resourceInfo])) {\n            return resourceIdCollection;\n        }\n        if (this.parent.isLoad) {\n            resourceIdCollection = data[this.parent.taskFields.resourceInfo];\n        }\n        else {\n            resourceIdCollection = data['taskData'] && this.parent.taskFields.resourceInfo in data['taskData']\n                ? data['taskData'][this.parent.taskFields.resourceInfo]\n                : data[this.parent.taskFields.resourceInfo];\n        }\n        var resourceData;\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.dialogModule)\n            && this.parent.editModule.dialogModule.isAddNewResource) {\n            resourceData = this.parent.editModule.dialogModule.ganttResources;\n        }\n        else {\n            resourceData = this.parent.resources;\n        }\n        var resourceIDMapping = this.parent.resourceFields.id;\n        var resourceUnitMapping = this.parent.resourceFields.unit;\n        var resourceGroup = this.parent.resourceFields.group;\n        var resources = [];\n        if (typeof (resourceIdCollection) === 'string' && resourceIdCollection !== '') {\n            var resource_1 = [];\n            var resourceIds_1 = data[this.parent.taskFields.resourceInfo].split(',');\n            if (resourceIds_1) {\n                resourceData.forEach(function (resourceInfo) {\n                    if (resourceIds_1.includes(resourceInfo[_this.parent.resourceFields.name])) {\n                        resource_1.push(resourceInfo);\n                    }\n                });\n                var ganttDataResource = extend({}, resource_1[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping) && !isNullOrUndefined(resourceIdCollection[resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup) && !isNullOrUndefined(resourceIdCollection[resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[resourceGroup];\n                }\n            }\n        }\n        else {\n            var _loop_5 = function (count) {\n                var resource = resourceData.filter(function (resourceInfo) {\n                    if (typeof (resourceIdCollection[count]) === 'object' &&\n                        resourceIdCollection[count][resourceIDMapping] === resourceInfo[resourceIDMapping]) {\n                        return true;\n                    }\n                    else {\n                        return (resourceIdCollection[count] === resourceInfo[resourceIDMapping]);\n                    }\n                });\n                var ganttDataResource = extend({}, resource[0]);\n                resources.push(ganttDataResource);\n                if (!isNullOrUndefined(resourceUnitMapping)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceUnitMapping])) {\n                    ganttDataResource[resourceUnitMapping] = resourceIdCollection[count][resourceUnitMapping];\n                }\n                if (!isNullOrUndefined(resourceGroup)\n                    && !isNullOrUndefined(resourceIdCollection[count][resourceGroup])) {\n                    ganttDataResource[resourceGroup] = resourceIdCollection[count][resourceGroup];\n                }\n            };\n            for (var count = 0; count < resourceIdCollection.length; count++) {\n                _loop_5(count);\n            }\n        }\n        this.updateResourceUnit(resources);\n        return resources;\n    };\n    /**\n     * To set resource unit in Gantt record\n     *\n     * @param {object[]} resourceData .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceUnit = function (resourceData) {\n        var resourceUnit = this.parent.resourceFields.unit;\n        if (!isNullOrUndefined(resourceUnit)) {\n            var length_1 = resourceData.length;\n            var index = void 0;\n            for (index = 0; index < length_1; index++) {\n                if (isNullOrUndefined(resourceData[index][resourceUnit])) {\n                    resourceData[index][resourceUnit] = 100;\n                }\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateResourceName = function (data) {\n        var resourceInfo = data.ganttProperties.resourceInfo;\n        var resourceName = [];\n        var taskMapping = this.parent.taskFields;\n        if (resourceInfo && resourceInfo.length > 0) {\n            var resourceLength = resourceInfo.length;\n            if (typeof data.taskData[this.parent.taskFields.resourceInfo] === 'string') {\n                var taskResources = data.taskData[this.parent.taskFields.resourceInfo];\n                var stringResourceName = taskResources;\n                this.parent.setRecordValue('resourceNames', stringResourceName, data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, stringResourceName, data, true);\n                this.updateTaskDataResource(data);\n            }\n            else {\n                var taskResources = extend([], [], data.taskData[this.parent.taskFields.resourceInfo], true);\n                this.parent.setRecordValue('taskData.' + this.parent.taskFields.resourceInfo, [], data);\n                for (var i = 0; i < resourceLength; i++) {\n                    var resource = resourceInfo[i];\n                    var resName = resource[this.parent.resourceFields.name];\n                    var resourceUnit = resource[this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (!isNullOrUndefined(resName)) {\n                        resourceName.push(resName);\n                    }\n                    if (data.taskData) {\n                        var mapping = taskMapping.resourceInfo;\n                        if (taskResources[i] && typeof (taskResources[parseInt(i.toString(), 10)] === 'object')) {\n                            data.taskData[mapping].push(taskResources[i]);\n                        }\n                        else {\n                            data.taskData[mapping].push(resource[this.parent.resourceFields.id]);\n                        }\n                    }\n                }\n                this.parent.setRecordValue('resourceNames', resourceName.join(','), data.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.resourceInfo, resourceName.join(','), data, true);\n                this.updateTaskDataResource(data);\n            }\n        }\n    };\n    TaskProcessor.prototype.dataReorder = function (flatCollection, rootCollection) {\n        var result = [];\n        while (flatCollection.length > 0 && rootCollection.length > 0) {\n            var index = rootCollection.indexOf(flatCollection[0]);\n            if (index === -1) {\n                flatCollection.shift();\n            }\n            else {\n                result.push(flatCollection.shift());\n                rootCollection.splice(index, 1);\n            }\n        }\n        return result;\n    };\n    TaskProcessor.prototype.validateDurationUnitMapping = function (durationUnit) {\n        var unit = durationUnit;\n        if ((unit === 'minute') || (unit === 'minutes') || (unit === 'm') || (unit === 'min')) {\n            unit = 'minute';\n        }\n        else if ((unit === 'hour') || (unit === 'hours') || (unit === 'h') || (unit === 'hr')) {\n            unit = 'hour';\n        }\n        else if ((unit === 'day') || (unit === 'days') || (unit === 'd')) {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    TaskProcessor.prototype.validateTaskTypeMapping = function (taskType) {\n        var type = taskType;\n        if (type === 'FixedDuration') {\n            type = 'FixedDuration';\n        }\n        else if (type === 'FixedUnit') {\n            type = 'FixedUnit';\n        }\n        else if (type === 'FixedWork') {\n            type = 'FixedWork';\n        }\n        else {\n            type = this.parent.taskType;\n        }\n        return type;\n    };\n    TaskProcessor.prototype.validateWorkUnitMapping = function (workUnit) {\n        var unit = workUnit;\n        if (unit === 'minute') {\n            unit = 'minute';\n        }\n        else if (unit === 'hour') {\n            unit = 'hour';\n        }\n        else if (unit === 'day') {\n            unit = 'day';\n        }\n        else {\n            unit = this.parent.workUnit.toLocaleLowerCase();\n        }\n        return unit;\n    };\n    /**\n     * To update duration value in Task\n     *\n     * @param {string} duration .\n     * @param {ITaskData} ganttProperties .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateDurationValue = function (duration, ganttProperties) {\n        var tempDuration = this.getDurationValue(duration);\n        if (!isNaN(getValue('duration', tempDuration))) {\n            this.parent.setRecordValue('duration', getValue('duration', tempDuration), ganttProperties, true);\n        }\n        if (!isNullOrUndefined(getValue('durationUnit', tempDuration))) {\n            this.parent.setRecordValue('durationUnit', getValue('durationUnit', tempDuration), ganttProperties, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttData = function () {\n        if (this.parent.flatData.length > 0) {\n            var data = void 0;\n            var ganttData = void 0;\n            this.parent.secondsPerDay = this.getSecondsPerDay();\n            for (var index = 0; index < this.parent.flatData.length; index++) {\n                data = this.parent.flatData[index].taskData;\n                ganttData = this.parent.flatData[index];\n                if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                    this.setRecordDuration(ganttData, this.parent.taskFields.duration);\n                }\n                if (this.parent.isLoad) {\n                    this.setStartDate(ganttData);\n                }\n                this.calculateScheduledValues(ganttData, data, false);\n            }\n            this.updateGanttData();\n        }\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInStartDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() >= from.getTime() && day.getTime() < to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    //check day is fall between from and to date range\n    TaskProcessor.prototype._isInEndDateRange = function (day, from, to) {\n        var isInRange = false;\n        if (day.getTime() > from.getTime() && day.getTime() <= to.getTime()) {\n            isInRange = true;\n        }\n        return isInRange;\n    };\n    /**\n     * Method to find overlapping value of the parent task\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingValues = function (resourceTask) {\n        var _this = this;\n        var tasks = resourceTask.childRecords;\n        var currentTask;\n        var ranges = [];\n        if (tasks.length <= 1) {\n            resourceTask.ganttProperties.workTimelineRanges = [];\n            return;\n        }\n        tasks = this.setSortedChildTasks(resourceTask);\n        this.updateOverlappingIndex(tasks);\n        var _loop_6 = function (count) {\n            currentTask = tasks[count];\n            var currSegments = (currentTask.ganttProperties.segments || [\n                { startDate: currentTask.ganttProperties.startDate, endDate: currentTask.ganttProperties.endDate }\n            ]).map(function (_a) {\n                var startDate = _a.startDate, endDate = _a.endDate;\n                return ({\n                    startDate: new Date(startDate),\n                    endDate: new Date(endDate)\n                });\n            });\n            var range = [];\n            currSegments.forEach(function (currSegment) {\n                var cStartDate = new Date(currSegment.startDate.getTime());\n                var cEndDate = new Date(currSegment.endDate.getTime());\n                for (var index = 0; index < count; index++) {\n                    var task = tasks[index];\n                    var taskSegments = (task.ganttProperties.segments || [\n                        { startDate: task.ganttProperties.startDate, endDate: task.ganttProperties.endDate }\n                    ]).map(function (_a) {\n                        var startDate = _a.startDate, endDate = _a.endDate;\n                        return ({\n                            startDate: new Date(startDate),\n                            endDate: new Date(endDate)\n                        });\n                    });\n                    taskSegments.forEach(function (segment) {\n                        var tStartDate = segment.startDate;\n                        var tEndDate = segment.endDate;\n                        var rangeObj = {};\n                        if (cStartDate && cEndDate && tEndDate\n                            && (_this._isInStartDateRange(cStartDate, tStartDate, tEndDate)\n                                || _this._isInEndDateRange(cEndDate, tStartDate, tEndDate) ||\n                                (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()))) {\n                            if ((tStartDate.getTime() > cStartDate.getTime() && tStartDate.getTime() < cEndDate.getTime()\n                                && tEndDate.getTime() > cStartDate.getTime() && tEndDate.getTime() >= cEndDate.getTime())\n                                || (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() <= tEndDate.getTime())) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() > tEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            else if (cStartDate.getTime() > tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime()) {\n                                rangeObj.from = cStartDate;\n                                rangeObj.to = cEndDate;\n                            }\n                            else if (tStartDate.getTime() >= cStartDate.getTime() && tEndDate.getTime() <= cEndDate.getTime()) {\n                                rangeObj.from = tStartDate;\n                                rangeObj.to = tEndDate;\n                            }\n                            if (rangeObj.from && rangeObj.to) {\n                                range.push(rangeObj);\n                            }\n                        }\n                    });\n                }\n            });\n            ranges.push.apply(ranges, this_4.mergeRangeCollections(range));\n        };\n        var this_4 = this;\n        for (var count = 1; count < tasks.length; count++) {\n            _loop_6(count);\n        }\n        this.parent.setRecordValue('workTimelineRanges', this.mergeRangeCollections(ranges, true), resourceTask.ganttProperties, true);\n        this.calculateRangeLeftWidth(resourceTask.ganttProperties.workTimelineRanges);\n    };\n    /**\n     * @param {IGanttData[]} tasks .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateOverlappingIndex = function (tasks) {\n        for (var i = 0; i < tasks.length; i++) {\n            tasks[i].ganttProperties.eOverlapIndex = i;\n        }\n    };\n    /**\n     * Method to calculate the left and width value of oarlapping ranges\n     *\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.calculateRangeLeftWidth = function (ranges) {\n        for (var count = 0; count < ranges.length; count++) {\n            ranges[count].left = this.getTaskLeft(ranges[count].from, false);\n            ranges[count].width = this.getTaskWidth(ranges[count].from, ranges[count].to);\n        }\n    };\n    /**\n     * @param {IWorkTimelineRanges[]} ranges .\n     * @param {boolean} isSplit .\n     * @returns {IWorkTimelineRanges[]} .\n     * @private\n     */\n    TaskProcessor.prototype.mergeRangeCollections = function (ranges, isSplit) {\n        var finalRange = [];\n        var currentTopRange = {};\n        var cCompareRange = {};\n        var cStartDate;\n        var cEndDate;\n        var tStartDate;\n        var tEndDate;\n        var sortedRanges = new DataManager(ranges).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        for (var i = 0; i < sortedRanges.length; i++) {\n            if (finalRange.length === 0 && i === 0) {\n                finalRange.push(sortedRanges[i]);\n                continue;\n            }\n            currentTopRange = finalRange[finalRange.length - 1];\n            cStartDate = currentTopRange.from;\n            cEndDate = currentTopRange.to;\n            cCompareRange = sortedRanges[i];\n            tStartDate = cCompareRange.from;\n            tEndDate = cCompareRange.to;\n            if ((cStartDate.getTime() === tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())\n                || (cStartDate.getTime() < tStartDate.getTime() && cEndDate.getTime() >= tEndDate.getTime())) {\n                continue;\n            }\n            /* eslint-disable-next-line */\n            else if ((cStartDate.getTime() <= tStartDate.getTime() && cEndDate.getTime() >= tStartDate.getTime() && cEndDate.getTime() < tEndDate.getTime())\n                || (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() === tStartDate.getTime())) {\n                currentTopRange.to = tEndDate;\n            }\n            else if (cEndDate.getTime() < tStartDate.getTime() && this.checkStartDate(cEndDate).getTime() !== tStartDate.getTime()) {\n                finalRange.push(sortedRanges[i]);\n            }\n        }\n        if (isSplit) {\n            finalRange = this.splitRangeCollection(finalRange);\n        }\n        return finalRange;\n    };\n    /**\n     * Sort resource child records based on start date\n     *\n     * @param {IGanttData} resourceTask .\n     * @returns {IGanttData} .\n     * @private\n     */\n    TaskProcessor.prototype.setSortedChildTasks = function (resourceTask) {\n        var sortedRecords = [];\n        sortedRecords = new DataManager(resourceTask.childRecords).executeLocal(new Query()\n            .sortBy(this.parent.taskFields.startDate, 'Ascending'));\n        return sortedRecords;\n    };\n    TaskProcessor.prototype.splitRangeCollection = function (rangeCollection, fromField, toField) {\n        var splitArray = [];\n        var unit;\n        if (this.parent.timelineModule.isSingleTier) {\n            unit = this.parent.timelineModule.bottomTier !== 'None' ?\n                this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        }\n        else {\n            unit = this.parent.timelineModule.bottomTier;\n        }\n        if (unit === 'Week' || unit === 'Month' || unit === 'Year') {\n            splitArray = rangeCollection;\n        }\n        else if (unit === 'Day') {\n            splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n        }\n        else {\n            if (this.parent.workingTimeRanges[0].from === 0 && this.parent.workingTimeRanges[0].to === 86400) {\n                splitArray = this.getRangeWithWeek(rangeCollection, fromField, toField);\n            }\n            else {\n                splitArray = this.getRangeWithDay(rangeCollection, fromField, toField);\n            }\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.getRangeWithDay = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            splitArray.push.apply(splitArray, this.splitRangeForDayMode(ranges[parseInt(i.toString(), 10)], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForDayMode = function (range, fromField, toField) {\n        var fromString = fromField ? fromField : 'from';\n        var toString = toField ? toField : 'to';\n        var tempStart = new Date(range[fromString]);\n        var end = new Date(range[toString]);\n        var ranges = [];\n        var rangeObject = {};\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                var nStart = new Date(tempStart.getTime());\n                var nEndDate = new Date(tempStart.getTime());\n                var nextAvailDuration = 0;\n                var sHour = this.parent.dataOperation.getSecondsInDecimal(tempStart);\n                var startRangeIndex = -1;\n                for (var i = 0; i < this.parent.workingTimeRanges.length; i++) {\n                    var val = this.parent.workingTimeRanges[i];\n                    if (sHour >= val.from && sHour <= val.to) {\n                        startRangeIndex = i;\n                        break;\n                    }\n                }\n                if (startRangeIndex !== -1) {\n                    nextAvailDuration = Math.round(this.parent.workingTimeRanges[startRangeIndex].to - sHour);\n                    nEndDate.setSeconds(nEndDate.getSeconds() + nextAvailDuration);\n                }\n                var taskName = 'task';\n                if (nEndDate.getTime() < end.getTime()) {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = nEndDate;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                else {\n                    rangeObject = {};\n                    if (range.task) {\n                        rangeObject[taskName] = extend([], range.task);\n                    }\n                    rangeObject[fromString] = nStart;\n                    rangeObject[toString] = end;\n                    rangeObject.isSplit = true;\n                    ranges.push(rangeObject);\n                }\n                tempStart = this.checkStartDate(nEndDate);\n            } while (tempStart.getTime() < end.getTime());\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    TaskProcessor.prototype.getRangeWithWeek = function (ranges, fromField, toField) {\n        var splitArray = [];\n        for (var i = 0; i < ranges.length; i++) {\n            // eslint-disable-next-line\n            splitArray.push.apply(splitArray, this.splitRangeForWeekMode(ranges[i], fromField, toField));\n        }\n        return splitArray;\n    };\n    TaskProcessor.prototype.splitRangeForWeekMode = function (range, fromField, toField) {\n        var from = fromField ? fromField : 'from';\n        var to = toField ? toField : 'to';\n        var start = new Date(range[from]);\n        var tempStart = new Date(range[from]);\n        var end = new Date(range[to]);\n        var isInSplit = false;\n        var ranges = [];\n        var rangeObj = {};\n        tempStart.setDate(tempStart.getDate() + 1);\n        if (tempStart.getTime() < end.getTime()) {\n            do {\n                if (this.parent.dataOperation.isOnHolidayOrWeekEnd(tempStart, null)) {\n                    var tempEndDate = new Date(tempStart.getTime());\n                    tempEndDate.setDate(tempStart.getDate() - 1);\n                    var dayEndTime = void 0;\n                    if (this.parent.weekWorkingTime.length > 0) {\n                        dayEndTime = this.parent['getEndTime'](tempEndDate);\n                    }\n                    else {\n                        dayEndTime = this.parent.defaultEndTime;\n                    }\n                    this.setTime(dayEndTime, tempEndDate);\n                    rangeObj = {};\n                    rangeObj[from] = start;\n                    rangeObj.isSplit = true;\n                    rangeObj[to] = new Date(tempEndDate);\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    var isStartNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(start, null);\n                    var isTempEndDateNotHolidayOrWeekend = !this.parent.dataOperation.isOnHolidayOrWeekEnd(tempEndDate, null);\n                    var isDifferentDates = start.getTime() !== tempEndDate.getTime();\n                    if (isStartNotHolidayOrWeekend && isTempEndDateNotHolidayOrWeekend && isDifferentDates) {\n                        ranges.push(rangeObj);\n                    }\n                    tempEndDate.setDate(tempEndDate.getDate() + 1);\n                    start = this.checkStartDate(tempEndDate);\n                    tempStart = new Date(start.getTime());\n                    isInSplit = true;\n                }\n                else {\n                    tempStart.setDate(tempStart.getDate() + 1);\n                }\n            } while (tempStart.getTime() < end.getTime());\n            if (isInSplit) {\n                if (start.getTime() !== end.getTime()) {\n                    rangeObj = {};\n                    if (range.task) {\n                        rangeObj.task = extend([], range.task, true);\n                    }\n                    rangeObj[from] = start;\n                    rangeObj[to] = end;\n                    rangeObj.isSplit = true;\n                    ranges.push(rangeObj);\n                }\n            }\n            else {\n                ranges.push(range);\n            }\n        }\n        else {\n            ranges.push(range);\n        }\n        return ranges;\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateGanttData = function () {\n        this.systemTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n        var flatData = this.parent.flatData;\n        if (!flatData.length) {\n            return;\n        }\n        var parentTaskMap = new Map();\n        for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n            var task = flatData_1[_i];\n            parentTaskMap.set(task.uniqueID, task);\n        }\n        for (var i = 0, lenth = flatData.length; i < lenth; i++) {\n            this.updateTaskLeftWidth(flatData[i], parentTaskMap);\n        }\n    };\n    TaskProcessor.prototype.shouldProcessUpdateWidth = function () {\n        return (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                Boolean(this.parent.taskFields.hasChildMapping)));\n    };\n    /**\n     * Update all gantt data collection width, progress width and left value\n     *\n     * @param {IGanttData} data .\n     * @param {Map<string, IGanttData>} parentRecords .\n     * @returns {void} .\n     * @public\n     */\n    TaskProcessor.prototype.updateTaskLeftWidth = function (data, parentRecords) {\n        if (parentRecords === void 0) { parentRecords = null; }\n        var task = data.ganttProperties;\n        if (!data.hasChildRecords || this.shouldProcessUpdateWidth()) {\n            this.updateWidthLeft(data);\n        }\n        this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n        this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n        var parentItem = data.parentItem ? (parentRecords != null ? parentRecords.get(data.parentItem.uniqueID) :\n            this.parent.getParentTask(data.parentItem)) : null;\n        var isLastChild = parentItem && parentItem.childRecords.slice(-1)[0] === data;\n        if (parentItem) {\n            if (isLastChild && !data.hasChildRecords && this.parent.enableValidation) {\n                if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                    this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                    this.updateParentItems(parentItem);\n                }\n                if (this.shouldProcessUpdateWidth()) {\n                    this.updateWidthLeft(parentItem);\n                }\n            }\n            else if (parentItem && !this.parent.enableValidation) {\n                this.updateWidthLeft(parentItem);\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.reUpdateGanttDataPosition = function () {\n        var flatData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n            && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            flatData = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            flatData = this.parent.flatData;\n        }\n        var length = flatData.length;\n        for (var i = 0; i < length; i++) {\n            var data = flatData[i];\n            var task = data.ganttProperties;\n            this.updateWidthLeft(data);\n            if (this.parent.taskMode !== 'Auto' && data.hasChildRecords) {\n                this.updateAutoWidthLeft(data);\n            }\n            this.parent.setRecordValue('baselineLeft', this.calculateBaselineLeft(task), task, true);\n            this.parent.setRecordValue('baselineWidth', this.calculateBaselineWidth(task), task, true);\n            this.parent.dataOperation.updateTaskData(data);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        var totalSegmentsProgressWidth = 0;\n        // task endDate may be changed in segment calculation so this must be calculated first.\n        // task width calculating was based on endDate\n        var progressResizer = 0;\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            var segments = ganttRecord.segments;\n            for (var i = 0; i < segments.length; i++) {\n                var segment = segments[i];\n                if (i === 0 && !isNullOrUndefined(ganttRecord.startDate)\n                    && !isNullOrUndefined(segment.startDate) && !isNullOrUndefined(segment.startDate.getTime()) &&\n                    segment.startDate.getTime() !== ganttRecord.startDate.getTime()) {\n                    segment.startDate = ganttRecord.startDate;\n                    var endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttRecord.durationUnit, ganttRecord, false);\n                    segment.endDate = this.parent.dataOperation.checkEndDate(endDate, ganttRecord, false);\n                    this.parent.chartRowsModule.incrementSegments(segments, 0, data);\n                }\n                segment.width = this.getSplitTaskWidth(segment.startDate, segment.duration, data);\n                totalSegmentsProgressWidth = totalSegmentsProgressWidth + segment.width;\n                segment.showProgress = false;\n                segment.progressWidth = -1;\n                if (i !== 0) {\n                    var pStartDate = new Date(ganttRecord.startDate.getTime());\n                    segment.left = this.getSplitTaskLeft(segment.startDate, pStartDate);\n                }\n            }\n            var setProgress = this.parent.dataOperation.getProgressWidth(totalSegmentsProgressWidth, ganttRecord.progress);\n            var isValid = true;\n            for (var i = 0; i < segments.length; i++) {\n                if (isValid) {\n                    if (setProgress <= segments[i].width) {\n                        segments[i].progressWidth = setProgress;\n                        segments[i].showProgress = true;\n                        isValid = false;\n                    }\n                    else {\n                        segments[i].progressWidth = segments[i].width;\n                        setProgress = setProgress - segments[i].progressWidth;\n                    }\n                    if (segments[i].showProgress) {\n                        progressResizer = progressResizer + segments[i].left + segments[i].progressWidth;\n                    }\n                }\n            }\n            this.parent.setRecordValue('segments', ganttRecord.segments, ganttRecord, true);\n            this.parent.dataOperation.updateMappingData(data, 'segments');\n        }\n        this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data), ganttRecord, true);\n        this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttRecord, data), ganttRecord, true);\n        if (!isNullOrUndefined(ganttRecord.segments) && ganttRecord.segments.length > 0) {\n            this.parent.setRecordValue('progressWidth', progressResizer, ganttRecord, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule || !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n        }\n    };\n    /**\n     * method to update left, width, progress width in record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateAutoWidthLeft = function (data) {\n        var ganttRecord = data.ganttProperties;\n        this.parent.setRecordValue('autoWidth', this.calculateWidth(data, true), ganttRecord, true);\n        this.parent.setRecordValue('autoLeft', this.calculateLeft(ganttRecord, data, true), ganttRecord, true);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth((ganttRecord.isAutoSchedule ||\n            !data.hasChildRecords ? ganttRecord.width : ganttRecord.autoWidth), ganttRecord.progress), ganttRecord, true);\n    };\n    /**\n     * To calculate parent progress value\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @returns {object} .\n     * @private\n     */\n    TaskProcessor.prototype.getParentProgress = function (childGanttRecord) {\n        var durationInDay = 0;\n        var progressValues = {};\n        var totSeconds;\n        if (this.parent.weekWorkingTime.length > 0) {\n            totSeconds = this.parent['getSecondsPerDay'](childGanttRecord.ganttProperties.startDate ? childGanttRecord.ganttProperties.startDate : childGanttRecord.ganttProperties.endDate);\n        }\n        else {\n            totSeconds = this.parent.secondsPerDay;\n        }\n        switch (childGanttRecord.ganttProperties.durationUnit) {\n            case 'hour':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 3600));\n                break;\n            case 'minute':\n                durationInDay = (childGanttRecord.ganttProperties.duration / (totSeconds / 60));\n                break;\n            default:\n                durationInDay = childGanttRecord.ganttProperties.duration;\n        }\n        if (childGanttRecord.hasChildRecords) {\n            setValue('totalProgress', childGanttRecord.ganttProperties.totalProgress, progressValues);\n            setValue('totalDuration', childGanttRecord.ganttProperties.totalDuration ? childGanttRecord.ganttProperties.totalDuration : 0, progressValues);\n        }\n        else {\n            setValue('totalProgress', childGanttRecord.ganttProperties.progress * durationInDay, progressValues);\n            setValue('totalDuration', durationInDay, progressValues);\n        }\n        return progressValues;\n    };\n    TaskProcessor.prototype.resetDependency = function (record) {\n        var dependency = this.parent.taskFields.dependency;\n        if (!isNullOrUndefined(dependency)) {\n            var recordProp = record.ganttProperties;\n            this.parent.setRecordValue('predecessor', [], recordProp, true);\n            this.parent.setRecordValue('predecessorsName', null, recordProp, true);\n            this.parent.setRecordValue('taskData.' + dependency, null, record);\n            this.parent.setRecordValue(dependency, null, record);\n        }\n    };\n    TaskProcessor.prototype.isUnscheduledTask = function (ganttProperties, parantData) {\n        var properties = ['startDate', 'endDate', 'duration'];\n        var count = 0;\n        var filledProperty = null;\n        for (var _i = 0, properties_1 = properties; _i < properties_1.length; _i++) {\n            var prop = properties_1[_i];\n            if (ganttProperties && ganttProperties[prop]) {\n                count++;\n                filledProperty = prop;\n            }\n        }\n        if (count === 1 || (count === 0 && !isNullOrUndefined(parantData) && parantData.hasChildRecords)) {\n            return [true, filledProperty];\n        }\n        else {\n            return [false, null];\n        }\n    };\n    TaskProcessor.prototype.isFromManual = function (childData) {\n        if (this.parent.allowUnscheduledTasks && this.parent.editModule && this.parent['oldRecords'] && this.parent['oldRecords'].length > 0 &&\n            isNullOrUndefined(childData.ganttProperties.startDate) && isNullOrUndefined(childData.ganttProperties.endDate)\n            && !isNullOrUndefined(childData.ganttProperties.duration) && !childData.hasChildRecords && childData.parentItem &&\n            (this.parent.taskMode === 'Manual' || (this.parent.taskMode === 'Custom' && childData[this.parent.taskFields.manual]))) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @param {IParent | IGanttData} cloneParent .\n     * @param {boolean} isParent .\n     * @returns {void} .\n     * @private\n     */\n    TaskProcessor.prototype.updateParentItems = function (cloneParent, isParent) {\n        var _this = this;\n        var parentData = isParent ? cloneParent : this.parent.getParentTask(cloneParent);\n        parentData = parentData ? parentData : cloneParent;\n        var deleteUpdate = false;\n        var ganttProp = !isNullOrUndefined(parentData) ? parentData.ganttProperties : null;\n        /* eslint-disable-next-line */\n        var _a = this.isUnscheduledTask(ganttProp, parentData), isParentUnschecule = _a[0], propertyWithValue = _a[1];\n        if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n            if (parentData && parentData.childRecords && parentData.childRecords.length > 0) {\n                var previousStartDate = ganttProp.isAutoSchedule ? ganttProp.startDate : ganttProp.autoStartDate;\n                var previousEndDate = ganttProp.isAutoSchedule ? ganttProp.endDate :\n                    ganttProp.autoEndDate;\n                var childRecords_1 = parentData.childRecords;\n                var childLength = childRecords_1.length;\n                var totalDuration = 0;\n                var minStartDate = null;\n                var maxEndDate = null;\n                var milestoneCount = 0;\n                var totalProgress = 0;\n                var childCompletedWorks = 0;\n                var childData_1;\n                var countOfScheduled_1 = 0;\n                var countOfUnScheduled_1 = 0;\n                childRecords_1.some(function (childRecord) {\n                    var _a = _this.isUnscheduledTask(childRecord['ganttProperties']), isUnscheduled = _a[0], propertyWithValue = _a[1];\n                    if (isUnscheduled && propertyWithValue === 'duration') {\n                        ++countOfUnScheduled_1;\n                    }\n                    else if (!isUnscheduled) {\n                        ++countOfScheduled_1;\n                    }\n                    return countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0;\n                });\n                var isChildBoth = (countOfScheduled_1 > 0 && countOfUnScheduled_1 > 0) ? true : undefined;\n                var _loop_7 = function (count) {\n                    childData_1 = (this_5.parent.loadChildOnDemand && this_5.parent.taskFields.hasChildMapping) ?\n                        this_5.parent.currentViewData.filter(function (item) {\n                            return item.ganttProperties.taskId === childRecords_1[count][_this.parent.taskFields.id];\n                        })[0] :\n                        childRecords_1[count];\n                    if (this_5.parent.isOnDelete && childData_1.isDelete) {\n                        if (childLength === 1 && this_5.parent.viewType === 'ProjectView') {\n                            deleteUpdate = true;\n                        }\n                        return \"continue\";\n                    }\n                    var startDate = void 0;\n                    var endDate = void 0;\n                    var _a = this_5.isUnscheduledTask(childData_1.ganttProperties), isUnscheduled = _a[0], propertyWithValue_1 = _a[1];\n                    var parentRec = void 0;\n                    if (this_5.isFromManual(childData_1)) {\n                        var ganttRec = this_5.parent['oldRecords'].filter(function (record) { return record.ganttProperties.uniqueID === childData_1.ganttProperties.uniqueID; })[0];\n                        if (ganttRec) {\n                            parentRec = this_5.parent.getParentTask(ganttRec.parentItem);\n                        }\n                    }\n                    var rec = parentRec ? parentRec : childData_1;\n                    var prop = parentRec ? parentRec.ganttProperties : ganttProp;\n                    startDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        ganttProp.startDate : this_5.getValidStartDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoStartDate)) {\n                        startDate = rec.ganttProperties.autoStartDate;\n                    }\n                    endDate = ((isUnscheduled && (propertyWithValue_1 !== 'startDate' && propertyWithValue_1 !== 'endDate')) && !isParentUnschecule) ?\n                        this_5.getEndDate(ganttProp.startDate, rec.ganttProperties.duration, rec.ganttProperties.durationUnit, rec.ganttProperties, false) : this_5.getValidEndDate(rec.ganttProperties);\n                    if (parentData.hasChildRecords && !prop.isAutoSchedule\n                        && !isNullOrUndefined(rec.ganttProperties.autoEndDate)) {\n                        endDate = rec.ganttProperties.autoEndDate;\n                    }\n                    if (isUnscheduled && !(propertyWithValue_1 === 'startDate' || propertyWithValue_1 === 'endDate')) {\n                        var formattedEndDate = this_5.getDateFromFormat(endDate);\n                        var formattedStartDate = this_5.getDateFromFormat(startDate);\n                        if (formattedEndDate > maxEndDate) {\n                            maxEndDate = formattedEndDate;\n                        }\n                        if (formattedStartDate < minStartDate) {\n                            minStartDate = formattedStartDate;\n                        }\n                    }\n                    var isChildBothAndScheduled = (isChildBoth && !isUnscheduled) || isNullOrUndefined(isChildBoth);\n                    if (isNullOrUndefined(minStartDate) && isChildBothAndScheduled) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (isNullOrUndefined(maxEndDate) && isChildBothAndScheduled) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(endDate) && maxEndDate && this_5.compareDates(endDate, maxEndDate) === 1) {\n                        maxEndDate = this_5.getDateFromFormat(endDate);\n                    }\n                    if (!isNullOrUndefined(startDate) && minStartDate && this_5.compareDates(startDate, minStartDate) === -1) {\n                        minStartDate = this_5.getDateFromFormat(startDate);\n                    }\n                    if (!childData_1.ganttProperties.isMilestone && isScheduledTask(childData_1.ganttProperties)) {\n                        var progressValues = this_5.getParentProgress(childData_1);\n                        totalProgress += getValue('totalProgress', progressValues);\n                        totalDuration += getValue('totalDuration', progressValues);\n                        if (childData_1[this_5.parent.taskFields.duration] < 1) {\n                            totalDuration = Number(totalDuration.toFixed(4));\n                        }\n                    }\n                    else {\n                        milestoneCount++;\n                    }\n                    var work = childData_1.ganttProperties.work;\n                    if (typeof work === 'string') {\n                        // If it's a string, convert it to a number\n                        var numericValue = parseFloat(work);\n                        if (!isNaN(numericValue)) {\n                            childCompletedWorks += numericValue;\n                        }\n                    }\n                    else if (typeof work === 'number') {\n                        // If it's already a number, simply add it to childCompletedWorks\n                        childCompletedWorks += work;\n                    }\n                };\n                var this_5 = this;\n                for (var count = 0; count < childLength; count++) {\n                    _loop_7(count);\n                }\n                if (!deleteUpdate) {\n                    var taskCount = (this.parent.isOnDelete && childData_1.isDelete) ?\n                        childLength - milestoneCount - 1 : childLength - milestoneCount;\n                    var parentProgress = (taskCount > 0 && totalDuration > 0) ?\n                        Number((totalProgress / totalDuration).toFixed(2)) : 0;\n                    var parentProp = parentData.ganttProperties;\n                    var milestone = (taskCount === 0) && minStartDate && maxEndDate &&\n                        minStartDate.getTime() === maxEndDate.getTime() ? true : false;\n                    if (this.compareDates(previousStartDate, minStartDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'startDate' : 'autoStartDate', minStartDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('startDate', minStartDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    if (this.compareDates(previousEndDate, maxEndDate) !== 0) {\n                        this.parent.setRecordValue(ganttProp.isAutoSchedule ? 'endDate' : 'autoEndDate', maxEndDate, parentData.ganttProperties, true);\n                        if ((((!isNullOrUndefined(ganttProp.autoDuration)) ? ganttProp.autoDuration === 0 : ganttProp.duration === 0)) && parentData['isManual'] && milestone && (parentData.hasChildRecords && parentData.ganttProperties.isAutoSchedule && this.parent.editModule.taskbarEditModule.taskbarEditedArgs.action !== 'TaskbarEditing')) {\n                            this.parent.setRecordValue('endDate', maxEndDate, parentData.ganttProperties, true);\n                        }\n                    }\n                    this.parent.setRecordValue('isMilestone', milestone, parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                        this.updateMappingData(parentData, 'milestone');\n                        this.parent.setRecordValue(this.parent.taskFields.milestone, milestone, parentData, true);\n                        this.parent.setRecordValue('taskData.' + this.parent.taskFields.milestone, milestone, parentData, true);\n                    }\n                    if (parentProp.isAutoSchedule) {\n                        if (this.isFromManual(childData_1)) {\n                            if (parentData.childRecords.length === 1) {\n                                parentData.ganttProperties.duration = childData_1.ganttProperties.duration;\n                            }\n                            this.calculateEndDate(parentData);\n                        }\n                        else {\n                            this.calculateDuration(parentData);\n                        }\n                    }\n                    this.updateWorkWithDuration(parentData);\n                    var parentWork = parentProp.work;\n                    parentWork = this.parent.isOnEdit ? parentWork : (parentWork + childCompletedWorks);\n                    this.parent.setRecordValue('work', parentWork, parentProp, true);\n                    this.parent.setRecordValue('taskType', 'FixedDuration', parentProp, true);\n                    if (!isNullOrUndefined(this.parent.taskFields.type)) {\n                        this.updateMappingData(parentData, 'type');\n                    }\n                    this.parent.setRecordValue('progress', Math.floor(parentProgress), parentProp, true);\n                    this.parent.setRecordValue('totalProgress', totalProgress, parentProp, true);\n                    this.parent.setRecordValue('totalDuration', totalDuration, parentProp, true);\n                    this.parent.setRecordValue('autoDuration', parentProp.duration, parentProp, true);\n                    if (!parentProp.isAutoSchedule) {\n                        this.parent.setRecordValue('autoDuration', this.calculateAutoDuration(parentProp), parentProp, true);\n                        this.updateAutoWidthLeft(parentData);\n                    }\n                    if (!this.parent.allowParentDependency) {\n                        this.resetDependency(parentData);\n                    }\n                    this.updateWidthLeft(parentData);\n                    this.updateTaskData(parentData);\n                }\n            }\n        }\n        else {\n            this.parent.setRecordValue('endDate', parentData.taskData[this.parent.taskFields.endDate], parentData.ganttProperties, true);\n        }\n        if (deleteUpdate && parentData.childRecords.length === 1 && parentData.ganttProperties.duration === 0) {\n            this.parent.setRecordValue('isMilestone', true, parentData.ganttProperties, true);\n            this.updateWidthLeft(parentData);\n            this.updateTaskData(parentData);\n        }\n        var parentItem = !isNullOrUndefined(parentData) ?\n            this.parent.getParentTask(parentData.parentItem) : null;\n        if (parentItem) {\n            if ((this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) || this.parent.viewType === 'ResourceView') {\n                this.updateParentItems(parentItem);\n            }\n        }\n        deleteUpdate = false;\n    };\n    return TaskProcessor;\n}(DateProcessor));\nexport { TaskProcessor };\n","/**\n * CSS Constants\n */\n/** @hidden */\nexport var root = 'e-gantt';\nexport var ganttChartPane = 'e-gantt-chart-pane';\nexport var treeGridPane = 'e-gantt-tree-grid-pane';\nexport var splitter = 'e-gantt-splitter';\nexport var ganttChart = 'e-gantt-chart';\nexport var ganttSingleTimeline = 'e-gantt-single-timeline';\nexport var chartBodyContainer = 'e-chart-root-container';\nexport var toolbar = 'e-gantt-toolbar';\nexport var chartScrollElement = 'e-chart-scroll-container';\nexport var chartBodyContent = 'e-chart-rows-container';\nexport var scrollContent = 'e-content';\nexport var adaptive = 'e-device';\nexport var focusCell = 'e-grid';\n// Timeline-Class\nexport var taskTable = 'e-task-table';\nexport var zeroSpacing = 'e-zero-spacing';\nexport var timelineHeaderContainer = 'e-timeline-header-container';\nexport var timelineHeaderTableContainer = 'e-timeline-header-table-container';\nexport var timelineHeaderTableBody = 'e-timeline-header-table-body';\nexport var timelineTopHeaderCell = 'e-timeline-top-header-cell';\nexport var timelineHeaderCellLabel = 'e-header-cell-label';\nexport var weekendHeaderCell = 'e-weekend-header-cell';\nexport var timelineSingleHeaderCell = 'e-timeline-single-header-cell';\nexport var timelineSingleHeaderOuterDiv = 'e-timeline-single-header-outer-div';\nexport var virtualTable = 'e-virtualtable';\nexport var virtualTrack = 'e-virtualtrack';\n// Chart Rows-Class\nexport var leftLabelContainer = 'e-left-label-container';\nexport var leftLabelTempContainer = 'e-left-label-container e-left-label-temp-container';\nexport var leftLabelInnerDiv = 'e-left-label-inner-div';\nexport var rightLabelContainer = 'e-right-label-container';\nexport var rightLabelTempContainer = 'e-right-label-container e-right-label-temp-container';\nexport var rightLabelInnerDiv = 'e-right-label-inner-div';\nexport var taskBarMainContainer = 'e-taskbar-main-container';\nexport var parentTaskBarInnerDiv = 'e-gantt-parent-taskbar-inner-div';\nexport var parentProgressBarInnerDiv = 'e-gantt-parent-progressbar-inner-div';\nexport var taskLabel = 'e-task-label';\nexport var childTaskBarInnerDiv = 'e-gantt-child-taskbar-inner-div';\nexport var childProgressBarInnerDiv = 'e-gantt-child-progressbar-inner-div';\nexport var criticalChildTaskBarInnerDiv = 'e-gantt-child-critical-taskbar-inner-div';\nexport var criticalChildProgressBarInnerDiv = 'e-gantt-child-critical-progressbar-inner-div';\nexport var criticalMilestone = 'e-critical-milestone';\nexport var baselineBar = 'e-baseline-bar';\nexport var baselineMilestoneContainer = 'e-baseline-gantt-milestone-container';\nexport var baselineMilestoneDiv = 'e-baseline-gantt-milestone';\nexport var chartRowCell = 'e-chart-row-cell';\nexport var chartRow = 'e-chart-row';\nexport var rowExpand = 'e-row-expand';\nexport var rowCollapse = 'e-row-collapse';\nexport var collapseParent = 'e-collapse-parent';\nexport var collapseMultiTaskBar = 'e-gantt-multi-taskbar';\nexport var taskBarLeftResizer = 'e-taskbar-left-resizer';\nexport var taskBarRightResizer = 'e-taskbar-right-resizer';\nexport var childProgressResizer = 'e-child-progress-resizer';\nexport var progressBarHandler = 'e-progressbar-handler';\nexport var progressHandlerElement = 'e-progressbar-handler-element';\nexport var progressBarHandlerAfter = 'e-progressbar-handler-after';\nexport var icon = 'e-icon';\nexport var traceMilestone = 'e-gantt-milestone';\nexport var parentMilestone = 'e-gantt-parent-milestone';\nexport var traceChildTaskBar = 'e-gantt-child-taskbar';\nexport var traceChildProgressBar = 'e-gantt-child-progressbar';\nexport var manualParentMainContainer = 'e-manualparent-main-container';\nexport var manualParentTaskBar = 'e-gantt-manualparenttaskbar';\nexport var manualParentMilestone = 'e-gantt-manualparent-milestone';\nexport var manualChildTaskBar = 'e-gantt-child-manualtaskbar';\nexport var manualChildProgressBar = 'e-gantt-child-manualprogressbar';\nexport var manualParentRightResizer = 'e-gantt-manualparenttaskbar-right';\nexport var manualParentLeftResizer = 'e-gantt-manualparenttaskbar-left';\nexport var traceManualUnscheduledTask = 'e-gantt-unscheduled-manualtask';\nexport var traceParentTaskBar = 'e-gantt-parent-taskbar';\nexport var traceParentProgressBar = 'e-gantt-parent-progressbar';\nexport var traceUnscheduledTask = 'e-gantt-unscheduled-task';\nexport var criticalUnscheduledTask = 'e-gantt-critical-unscheduled-taskbar';\nexport var taskIndicatorDiv = 'e-indicator-span';\nexport var leftResizeGripper = 'e-left-resize-gripper';\nexport var rightResizeGripper = 'e-right-resize-gripper';\nexport var progressResizeGripper = 'e-progress-resize-gripper';\nexport var label = 'e-label';\nexport var templatePadding = 'e-template-padding';\n//event Markers classes\nexport var eventMarkersContainer = 'e-event-markers-container';\nexport var eventMarkersChild = 'e-event-markers';\nexport var eventMarkersSpan = 'e-span-label';\n//holiday classes\nexport var nonworkingContainer = 'e-nonworking-day-container';\nexport var holidayContainer = 'e-holiday-container';\nexport var holidayElement = 'e-holiday';\nexport var holidayLabel = 'e-span';\n//weekend classes\nexport var weekendContainer = 'e-weekend-container';\nexport var weekend = 'e-weekend';\n//Unscheduled Taskbar\nexport var unscheduledTaskbarLeft = 'e-gantt-unscheduled-taskbar-left';\nexport var unscheduledTaskbarRight = 'e-gantt-unscheduled-taskbar-right';\nexport var unscheduledTaskbar = 'e-gantt-unscheduled-taskbar';\nexport var unscheduledMilestoneTop = 'e-unscheduled-milestone-top';\nexport var unscheduledMilestoneBottom = 'e-unscheduled-milestone-bottom';\n//Connector Line\nexport var dependencyViewContainer = 'e-gantt-dependency-view-container';\nexport var connectorLineContainer = 'e-connector-line-container';\nexport var connectorLine = 'e-line';\nexport var connectorLineSVG = 'e-connector-line';\nexport var criticalConnectorLineSVG = 'e-critical-line';\nexport var criticalConnectorArrowSVG = 'e-critical-line-arrow';\nexport var connectorLineArrow = 'e-connector-line-arrow';\nexport var criticalConnectorLine = 'e-criticalconnector-line';\nexport var criticalConnectorLineRightArrow = 'e-criticalconnector-line-right-arrow';\nexport var criticalConnectorLineLeftArrow = 'e-criticalconnector-line-left-arrow';\nexport var connectorLineRightArrow = 'e-connector-line-right-arrow';\nexport var connectorLineLeftArrow = 'e-connector-line-left-arrow';\nexport var connectorLineZIndex = 'e-connector-line-z-index';\nexport var connectorLineHover = 'e-connector-line-hover';\nexport var criticalConnectorLineHover = 'e-critical-connector-line-hover';\nexport var connectorLineHoverZIndex = 'e-connector-line-hover-z-index';\nexport var connectorLineRightArrowHover = 'e-connector-line-right-arrow-hover';\nexport var connectorLineLeftArrowHover = 'e-connector-line-left-arrow-hover';\nexport var criticalConnectorLineRightArrowHover = 'e-critical-connector-line-right-arrow-hover';\nexport var criticalConnectorLineLeftArrowHover = 'e-critical-connector-line-left-arrow-hover';\nexport var connectorTouchPoint = 'e-connectortouchpoint';\nexport var connectorPointLeft = 'e-connectorpoint-left';\nexport var connectorPointRight = 'e-connectorpoint-right';\nexport var connectorPointLeftHover = 'e-connectorpoint-left-hover';\nexport var connectorPointRightHover = 'e-connectorpoint-right-hover';\nexport var falseLine = 'e-gantt-false-line';\nexport var connectorTooltipTaskName = 'e-tooltiptaskname';\nexport var connectorTooltipFalse = 'e-predecessor-false';\nexport var connectorTooltipTrue = 'e-predecessor-true';\nexport var rightConnectorPointOuterDiv = 'e-right-connectorpoint-outer-div';\nexport var leftConnectorPointOuterDiv = 'e-left-connectorpoint-outer-div';\nexport var connectorPointAllowBlock = 'e-connectorpoint-allow-block';\nexport var ganttTooltip = 'e-gantt-tooltip';\n// Context Menu\nexport var columnHeader = '.e-gridheader';\nexport var content = '.e-content';\nexport var editForm = '.e-gridform';\nexport var deleteIcon = 'e-delete';\nexport var saveIcon = 'e-save';\nexport var cancelIcon = 'e-cancel';\nexport var ascendingIcon = 'e-icon-ascending';\nexport var descendingIcon = 'e-icon-descending';\nexport var editIcon = 'e-edit';\nexport var indentIcon = 'e-indent';\nexport var outdentIcon = 'e-outdent';\nexport var addIcon = 'e-add';\nexport var criticalPathIcon = 'e-critical-path';\nexport var addAboveIcon = 'e-add-above';\nexport var addBelowIcon = 'e-add-below';\n//Predecessor touch mode\nexport var activeParentTask = 'e-active-parent-task';\nexport var activeChildTask = 'e-active-child-task';\nexport var activeConnectedTask = 'e-active-connected-task';\nexport var touchMode = 'e-predecessor-touch-mode';\n//Over allocation range container\nexport var rangeContainer = 'e-rangecontainer';\nexport var rangeChildContainer = 'e-rg-rangdiv';\nexport var rangeChildMiddleContainer = 'e-rg-middlerangdiv';\n","import { formatUnit, EventHandler, getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * To handle scroll event on chart and from TreeGrid\n *\n * @hidden\n */\nvar ChartScroll = /** @class */ (function () {\n    /**\n     * Constructor for the scrolling.\n     *\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function ChartScroll(parent) {\n        this.previousCount = -1;\n        this.isSetScrollLeft = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.parent = parent;\n        this.element = this.parent.ganttChartModule.scrollElement;\n        this.addEventListeners();\n    }\n    /**\n     * Bind event\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.addEventListeners = function () {\n        this.parent.on('grid-scroll', this.gridScrollHandler, this);\n        EventHandler.add(this.element, 'scroll', this.onScroll, this);\n        this.parent.treeGrid.grid.on('showGanttShimmer', this.updateShimmer, this);\n        this.parent.treeGrid.grid.on('removeGanttShimmer', this.removeShimmer, this);\n        this.parent.treeGrid.grid.on('virtualTransform', this.transformChange, this);\n    };\n    /**\n     * Unbind events\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.removeEventListeners = function () {\n        EventHandler.remove(this.element, 'scroll', this.onScroll);\n        this.parent.off('grid-scroll', this.gridScrollHandler);\n        this.parent.treeGrid.grid.off('showGanttShimmer', this.updateShimmer);\n        this.parent.treeGrid.grid.off('removeGanttShimmer', this.removeShimmer);\n        this.parent.treeGrid.grid.off('virtualTransform', this.transformChange);\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     */\n    ChartScroll.prototype.gridScrollHandler = function (args) {\n        this.element.scrollTop = getValue('top', args);\n        this.isFromTreeGrid = true;\n    };\n    /**\n     * Method to update vertical grid line, holiday, event markers and weekend container's top position on scroll action\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.updateContent = function () {\n        var ganttElement = this.parent.element;\n        var currentCount = Math.round(this.element.scrollLeft / ganttElement.offsetWidth);\n        if (this.previousCount !== currentCount || this.parent.timelineModule['performedTimeSpanAction'] || this.parent.timelineModule.isZoomingAction) {\n            this.parent.timelineModule.isZoomingAction = false;\n            this.deleteTableElements();\n            this.parent.timelineModule.createTimelineSeries();\n            if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n                this.parent['renderChartVerticalLines']();\n            }\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule['eventMarkerRender'].renderEventMarkers();\n            }\n            this.parent.timelineModule['performedTimeSpanAction'] = false;\n            if (this.parent.dayMarkersModule) {\n                this.parent.dayMarkersModule.nonworkingDayRender.renderWeekends();\n                this.parent.dayMarkersModule.nonworkingDayRender.renderHolidays();\n            }\n            this.updateChartElementStyles();\n            this.previousCount = currentCount;\n            if (this.isSetScrollLeft) {\n                this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            }\n        }\n    };\n    ChartScroll.prototype.getTimelineLeft = function () {\n        var tLeft;\n        var ganttElement = this.parent.element;\n        var resultantWidth = this.parent.timelineModule.wholeTimelineWidth > (ganttElement.offsetWidth * 3) ?\n            this.parent.timelineModule.wholeTimelineWidth - ganttElement.offsetWidth * 3 : 0;\n        if (this.element.scrollLeft === (this.parent.enableRtl ? -resultantWidth : resultantWidth)) {\n            tLeft = this.element.scrollLeft;\n        }\n        else {\n            var left = this.parent.enableRtl ? -this.element.scrollLeft : this.element.scrollLeft;\n            tLeft = (left > ganttElement.offsetWidth) ? left - ganttElement.offsetWidth : 0;\n        }\n        if (tLeft >= resultantWidth) {\n            tLeft = resultantWidth;\n        }\n        if ((tLeft <= ganttElement.offsetWidth) && this.isBackwardScrolled) {\n            tLeft = 0;\n        }\n        if (this.parent.timelineModule.isZoomToFit || this.parent.timelineModule.isZooming) {\n            tLeft = 0;\n        }\n        return tLeft;\n    };\n    ChartScroll.prototype.deleteTableElements = function () {\n        var tableContainer = this.parent.element.getElementsByClassName('e-timeline-header-table-container');\n        do {\n            tableContainer[0].remove();\n        } while (tableContainer.length > 0);\n        if (this.parent.element.querySelector('#ganttContainerline-container')) {\n            this.parent.element.querySelector('#ganttContainerline-container').innerHTML = '';\n        }\n        if (this.parent.element.querySelector('.e-nonworking-day-container')) {\n            this.parent.element.querySelector('.e-nonworking-day-container').outerHTML = null;\n        }\n    };\n    ChartScroll.prototype.updateChartElementStyles = function () {\n        var translateXValue = this.getTimelineLeft();\n        if (this.parent.enableTimelineVirtualization) {\n            // updating connector line & task table styles\n            var dependencyViewer = this.parent.connectorLineModule.dependencyViewContainer;\n            var taskTable = this.parent.chartRowsModule.taskTable;\n            if (!this.parent.enableRtl) {\n                dependencyViewer.style.left = -translateXValue + 'px';\n                taskTable.style.left = -translateXValue + 'px';\n            }\n            else {\n                dependencyViewer.style.left = translateXValue + 'px';\n                taskTable.style.right = -translateXValue + 'px';\n            }\n            taskTable.style.width = this.parent.timelineModule.wholeTimelineWidth + 'px';\n        }\n    };\n    ChartScroll.prototype.updateTopPosition = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        var contentScrollTop = content.scrollTop;\n        var scrollTop;\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var top_1 = this.parent.virtualScrollModule.getTopPosition();\n            scrollTop = contentScrollTop - top_1;\n        }\n        else {\n            scrollTop = contentScrollTop;\n        }\n        if (!isNullOrUndefined(this.parent.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.parent.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.parent.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.parent.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.top = formatUnit(scrollTop);\n            }\n            if (weekendContainer) {\n                weekendContainer.style.top = formatUnit(scrollTop);\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.top = formatUnit(scrollTop);\n            }\n        }\n        if (this.parent.chartVerticalLineContainer) {\n            this.parent.chartVerticalLineContainer.style.top = formatUnit(scrollTop);\n        }\n    };\n    ChartScroll.prototype.removeShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.hideMaskRow();\n            if (!parent.allowTaskbarOverlap && parent.showOverAllocation) {\n                for (var i = 0; i < parent.currentViewData.length; i++) {\n                    var tr = parent.chartRowsModule.ganttChartTableBody.childNodes[i];\n                    if (tr['style'].display !== 'none' && parent.currentViewData[i].hasChildRecords && !parent.currentViewData[i].expanded) {\n                        if (parent.ganttChartModule.isExpandAll || parent.ganttChartModule.isCollapseAll) {\n                            parent.treeGrid.getRowByIndex(i)['style'].height = tr['style'].height;\n                        }\n                        else {\n                            parent.treeGrid.getRows()[i]['style'].height = tr['style'].height;\n                        }\n                    }\n                }\n                parent.contentHeight = parent.enableRtl ? parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                parent.element.getElementsByClassName('e-chart-rows-container')[0]['style'].height = parent.contentHeight + 'px';\n            }\n        }, 0);\n    };\n    ChartScroll.prototype.transformChange = function () {\n        this.parent.ganttChartModule.virtualRender.adjustTable();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    ChartScroll.prototype.updateShimmer = function () {\n        var parent = this.parent;\n        setTimeout(function () {\n            parent.showMaskRow();\n        }, 0);\n    };\n    ChartScroll.prototype.updateSpinner = function () {\n        var parent = this.parent;\n        this.parent.showSpinner();\n        window.clearTimeout(this.isScrolling);\n        this.isScrolling = setTimeout(function () {\n            parent.hideSpinner();\n        }, 200);\n    };\n    /**\n     * Scroll event handler\n     *\n     * @returns {void} .\n     */\n    ChartScroll.prototype.onScroll = function () {\n        var _this = this;\n        var scrollArgs = {};\n        if (this.element.scrollTop !== this.previousScroll.top) {\n            // eslint-disable-next-line\n            !this.isFromTreeGrid ? this.parent.notify('chartScroll', { top: this.element.scrollTop }) : (this.isFromTreeGrid = false);\n            scrollArgs.previousScrollTop = this.previousScroll.top;\n            this.previousScroll.top = this.element.scrollTop;\n            scrollArgs.scrollTop = this.element.scrollTop;\n            scrollArgs.scrollDirection = 'Vertical';\n            scrollArgs.action = 'VerticalScroll';\n            this.updateTopPosition();\n        }\n        if (this.element.scrollLeft !== this.previousScroll.left) {\n            this.isBackwardScrolled = (this.element.scrollLeft < this.previousScroll.left && !this.parent.enableRtl);\n            this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n            scrollArgs.previousScrollLeft = this.previousScroll.left;\n            this.previousScroll.left = this.element.scrollLeft;\n            scrollArgs.scrollLeft = this.element.scrollLeft;\n            scrollArgs.scrollDirection = 'Horizontal';\n            scrollArgs.action = 'HorizontalScroll';\n            if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth >\n                this.parent.element.offsetWidth * 3) {\n                this.isSetScrollLeft = true;\n                if (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    this.updateContent();\n                }\n                this.parent.ganttChartModule.updateWidthAndHeight();\n                if (this.parent.element.getElementsByClassName('e-weekend-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-weekend-container')[0]['style'].height = '100%';\n                }\n                if (this.parent.element.getElementsByClassName('e-holiday-container')[0]) {\n                    this.parent.element.getElementsByClassName('e-holiday-container')[0]['style'].height = '100%';\n                }\n            }\n            else if (this.parent.enableTimelineVirtualization && this.parent.timelineModule.wholeTimelineWidth <\n                this.parent.element.offsetWidth * 3) {\n                this.parent.connectorLineModule.svgObject.setAttribute('width', '100%');\n            }\n        }\n        this.parent.timelineModule['performedTimeSpanAction'] = false;\n        if ((!isNullOrUndefined(scrollArgs.scrollDirection)) && (this.parent.enableVirtualization === true ||\n            this.parent.enableTimelineVirtualization === true) && (this.parent.isToolBarClick ||\n            isNullOrUndefined(this.parent.isToolBarClick))) {\n            this.parent.isVirtualScroll = true;\n            if (this.parent.showIndicator || isNullOrUndefined(this.parent.showIndicator)) {\n                if (!this.parent.enableVirtualMaskRow && this.parent.enableVirtualization && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                    this.updateSpinner();\n                }\n                else if (this.parent.enableTimelineVirtualization && !this.parent['isRowSelected'] && Math.abs(this.element.scrollLeft - scrollArgs.previousScrollLeft) > 1000) {\n                    if (!this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Spinner') {\n                        this.updateSpinner();\n                    }\n                    else {\n                        this.parent.showMaskRow();\n                        setTimeout(function () {\n                            _this.removeShimmer();\n                        }, 0);\n                    }\n                }\n                this.parent['isRowSelected'] = false;\n            }\n        }\n        this.isSetScrollLeft = false;\n        this.parent.isToolBarClick = true;\n        scrollArgs.requestType = 'scroll';\n        this.parent.trigger('actionComplete', scrollArgs);\n    };\n    /**\n     * To set height for chart scroll container\n     *\n     * @param {string | number} height - To set height for scroll container in chart side\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setHeight = function (height) {\n        this.element.style.height = formatUnit(height);\n    };\n    /**\n     * To set width for chart scroll container\n     *\n     * @param {string | number} width - To set width to scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setWidth = function (width) {\n        this.element.style.width = formatUnit(width);\n    };\n    /**\n     * To set scroll top for chart scroll container\n     *\n     * @param {number} scrollTop - To set scroll top for scroll container\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.setScrollTop = function (scrollTop) {\n        this.element.scrollTop = scrollTop;\n        this.parent.treeGrid.element.querySelector('.e-content').scrollTop = scrollTop;\n    };\n    /**\n     * To set scroll left for chart scroll container\n     *\n     * @param {number} scrollLeft  - To set scroll left for scroll container\n     * @param {number} leftSign - specifies left sign\n     * @returns {void} .\n     */\n    ChartScroll.prototype.setScrollLeft = function (scrollLeft, leftSign) {\n        scrollLeft = leftSign === -1 && this.parent.enableRtl ? -scrollLeft : scrollLeft;\n        this.isSetScrollLeft = true;\n        this.element.scrollLeft = scrollLeft;\n        this.parent.ganttChartModule.chartTimelineContainer.scrollLeft = this.element.scrollLeft;\n        if (!this.parent.enableTimelineVirtualization) {\n            this.previousScroll.left = this.element.scrollLeft;\n        }\n    };\n    /**\n     * Destroy scroll related elements and unbind the events\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartScroll.prototype.destroy = function () {\n        this.removeEventListeners();\n    };\n    return ChartScroll;\n}());\nexport { ChartScroll };\n","import { createElement } from '@syncfusion/ej2-base';\n/**\n * virtual Content renderer for Gantt\n */\nvar VirtualContentRenderer = /** @class */ (function () {\n    function VirtualContentRenderer(parent) {\n        this.parent = parent;\n    }\n    /**\n     * To render a wrapper for chart body content when virtualization is enabled.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.renderWrapper = function () {\n        this.wrapper = createElement('div', { className: 'e-virtualtable', styles: 'position: absolute; transform: translate(0px, 0px);' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.wrapper);\n        this.virtualTrack = createElement('div', { className: 'e-virtualtrack', styles: 'position: relative; pointer-events: none; width: 100%;' });\n        this.parent.ganttChartModule.scrollElement.appendChild(this.virtualTrack);\n        this.wrapper.appendChild(this.parent.ganttChartModule.chartBodyContent);\n    };\n    /**\n     * To append child elements for wrappered element when virtualization is enabled.\n     *\n     * @param {HTMLElement} element .\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.appendChildElements = function (element) {\n        this.wrapper.appendChild(element);\n    };\n    /**\n     * To adjust gantt content table's style when virtualization is enabled\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    VirtualContentRenderer.prototype.adjustTable = function () {\n        var content = this.parent.treeGrid.getContent().querySelector('.e-content').querySelector('.e-virtualtable');\n        if (this.parent.enableTimelineVirtualization) {\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var translateXValue = void 0;\n            if (virtualTable !== '') {\n                translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            else {\n                var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n            }\n            var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n        }\n        else {\n            this.parent.ganttChartModule.virtualRender.wrapper.style.transform = content.style.transform;\n        }\n    };\n    return VirtualContentRenderer;\n}());\nexport { VirtualContentRenderer };\n","import { createElement, formatUnit, EventHandler, Browser } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, closest, addClass, removeClass, getValue, setValue } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { ChartScroll } from '../actions/chart-scroll';\nimport { click } from '@syncfusion/ej2-grids';\nimport { VirtualContentRenderer } from '../renderer/virtual-content-render';\n/**\n * module to render gantt chart - project view\n */\nvar GanttChart = /** @class */ (function () {\n    function GanttChart(parent) {\n        this.isExpandCollapseFromChart = false;\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n        this.debounceTimeoutNext = 0;\n        this.debounceTimeout = 0;\n        this.isGanttElement = false;\n        this.previousPinchDistance = 0;\n        this.currentToolbarIndex = -1;\n        this.isPinching = false;\n        this.preventScrollIntoView = false;\n        this.parent = parent;\n        this.chartTimelineContainer = null;\n        this.rangeViewContainer =\n            createElement('div', { className: cls.rangeContainer });\n        this.rangeViewContainer.setAttribute('role', 'button');\n        this.rangeViewContainer.setAttribute('aria-label', 'RangeContainer');\n        this.virtualRender = new VirtualContentRenderer(this.parent);\n        this.addEventListener();\n    }\n    GanttChart.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.renderChartContainer, this);\n        this.parent.on('recordsUpdated', this.renderChartElements, this);\n        this.parent.on('dataReady', this.renderInitialContents, this);\n        this.parent.on('tree-grid-created', this.renderChartContents, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    GanttChart.prototype.renderChartContents = function () {\n        this.parent.notify('refreshDayMarkers', {});\n        this.wireEvents();\n    };\n    /**\n     * Method to render top level containers in Gantt chart\n     *\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderChartContainer = function () {\n        this.chartElement = createElement('div', { id: this.parent.element.id + 'GanttChart', className: cls.ganttChart });\n        this.parent.chartPane.appendChild(this.chartElement);\n        this.renderTimelineContainer();\n        this.renderBodyContainers();\n        // render top level div header and content\n        // Get timeline header from timeline class file and append to header div\n        // render content div\n        // Render scroll able div\n        // Render container for all element like, table, weekend and holidays\n        // Get rows element from rows renderer class\n        // Get label related info label renderer class\n        // Get baseline from baseline renderer class\n        // Get weekend elements from weekend-holidays renderer class\n    };\n    /**\n     * method to render timeline, holidays, weekends at load time\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderInitialContents = function () {\n        this.parent.timelineModule.createTimelineSeries();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderOverAllocationContainer = function () {\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            var data = this.parent.flatData[i];\n            if (data.childRecords.length > 0) {\n                this.parent.dataOperation.updateOverlappingValues(data);\n            }\n        }\n        var rangeContainer = this.parent.element.querySelector('.' + cls.rangeContainer);\n        if (rangeContainer) {\n            rangeContainer.innerHTML = '';\n        }\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            this.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    GanttChart.prototype.renderChartElements = function () {\n        if (this.parent.isFromOnPropertyChange) {\n            this.rangeViewContainer.innerHTML = '';\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n            this.parent.isFromOnPropertyChange = false;\n        }\n        else {\n            this.parent.chartRowsModule.renderChartRows();\n            if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n                this.parent.connectorLineIds = [];\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.predecessorModule.createConnectorLinesCollection();\n            }\n            this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n            for (var i = 0; i < this.parent.chartRowsModule.ganttChartTableBody.children.length; i++) {\n                if (this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4]) {\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[2].setAttribute('tabindex', '-1');\n                    this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[4].setAttribute('tabindex', '-1');\n                }\n                else {\n                    if (this.parent.viewType === 'ProjectView') {\n                        var node = this.parent.chartRowsModule.ganttChartTableBody.\n                            children[parseInt(i.toString(), 10)].children[0].children[1].children[1];\n                        if (!isNullOrUndefined(node)) {\n                            this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[1].setAttribute('tabindex', '-1');\n                        }\n                    }\n                    else if (this.parent.chartRowsModule.ganttChartTableBody.children[parseInt(i.toString(), 10)].children[0].\n                        children[1].children[0]) {\n                        this.parent.chartRowsModule.ganttChartTableBody.children[i].children[0].children[1].children[0].setAttribute('tabindex', '-1');\n                    }\n                }\n            }\n            var criticalModule = this.parent.criticalPathModule;\n            if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, this.parent.enableCriticalPath, criticalModule.predecessorCollectionTaskIds);\n            }\n            if (this.parent.showOverAllocation) {\n                this.renderOverAllocationContainer();\n            }\n        }\n        this.updateWidthAndHeight();\n        if (this.parent.isLoad) {\n            this.parent.notify('selectRowByIndex', {});\n        }\n        if (this.parent.timelineModule.isZoomToFit) {\n            this.parent.timelineModule.processZoomToFit();\n        }\n    };\n    /**\n     * @param {IGanttData[]} records .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderRangeContainer = function (records) {\n        var recordLength = records.length;\n        var count;\n        var ganttRecord;\n        var rangeCollection;\n        if (this.parent.treeGrid.grid.filterSettings.columns.length === 0) {\n            for (count = 0; count < recordLength; count++) {\n                ganttRecord = records[count];\n                rangeCollection = ganttRecord.ganttProperties.workTimelineRanges;\n                if (rangeCollection) {\n                    this.renderRange(rangeCollection, ganttRecord);\n                }\n            }\n        }\n    };\n    GanttChart.prototype.getTopValue = function (currentRecord) {\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var recordIndex = updatedRecords.indexOf(currentRecord);\n        if (currentRecord.parentItem && recordIndex === -1) {\n            var nestedParent = this.parent.getRecordByID(currentRecord.parentItem.taskId);\n            recordIndex = updatedRecords.indexOf(nestedParent);\n        }\n        if (!currentRecord.expanded) {\n            return (recordIndex * this.parent.rowHeight);\n        }\n        return ((recordIndex + 1) * this.parent.rowHeight);\n    };\n    // Recursively collects all child records in a hierarchy.\n    GanttChart.prototype.getHierarchyChildRecords = function (records) {\n        var hierarchyChildRecords = [];\n        for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n            var record = records_1[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                hierarchyChildRecords.push(record); // Include the current record\n                this.collectHierarchyChildren(record.childRecords, hierarchyChildRecords);\n            }\n        }\n        return hierarchyChildRecords;\n    };\n    // Helper function to append children records to the list.\n    GanttChart.prototype.collectHierarchyChildren = function (records, accumulator) {\n        for (var _i = 0, records_2 = records; _i < records_2.length; _i++) {\n            var record = records_2[_i];\n            if (record.childRecords && record.childRecords.length > 0) {\n                accumulator.push(record);\n                this.collectHierarchyChildren(record.childRecords, accumulator);\n            }\n        }\n    };\n    // Get height for range bar, considering hierarchy child records.\n    GanttChart.prototype.getRangeHeight = function (data) {\n        var heightDifference = Math.floor(this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n        if (!data.expanded && data.hasChildRecords) {\n            return this.calculateCollapsedRowHeight(heightDifference);\n        }\n        var hierarchyChildLength = this.calculateHierarchyChildLength(data);\n        return this.calculateExpandedRowHeight(data.childRecords.length, hierarchyChildLength, heightDifference);\n    };\n    // Calculates height when the row is collapsed.\n    GanttChart.prototype.calculateCollapsedRowHeight = function (heightDifference) {\n        return this.parent.rowHeight - heightDifference;\n    };\n    // Calculates the total length from hierarchy children.\n    GanttChart.prototype.calculateHierarchyChildLength = function (data) {\n        if (!data.childRecords || data.childRecords.length === 0) {\n            return 0;\n        }\n        var hierarchyChildRecords = this.getHierarchyChildRecords(data.childRecords);\n        var hierarchyChildDataLength = 0;\n        for (var _i = 0, hierarchyChildRecords_1 = hierarchyChildRecords; _i < hierarchyChildRecords_1.length; _i++) {\n            var item = hierarchyChildRecords_1[_i];\n            if (item.childRecords.length !== 0 && item.expanded) {\n                hierarchyChildDataLength += item.childRecords.length;\n            }\n        }\n        return hierarchyChildDataLength;\n    };\n    // Calculates height when the row is expanded and incorporates child records.\n    GanttChart.prototype.calculateExpandedRowHeight = function (childLength, hierarchyChildLength, heightDifference) {\n        return ((childLength + hierarchyChildLength) * this.parent.rowHeight) - heightDifference;\n    };\n    GanttChart.prototype.renderRange = function (rangeCollection, currentRecord) {\n        var topValue = 0;\n        var rowIndex = this.parent.currentViewData.indexOf(currentRecord);\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            // Handling overallocation lines for multiple hierarchy-level record collapse actions - Task:887301\n            var parentRecord = currentRecord.parentItem ? this.parent.getParentTask(currentRecord.parentItem) : null;\n            if (currentRecord.parentItem &&\n                parentRecord &&\n                !parentRecord.expanded &&\n                currentRecord.hasChildRecords &&\n                !currentRecord.expanded) {\n                topValue = this.parent.getRowByIndex(this.parent.getRootParent(currentRecord, 0).index).offsetTop;\n            }\n            else {\n                var rowOffset = this.parent.getRowByIndex(rowIndex).offsetTop;\n                topValue = !currentRecord.expanded ? rowOffset : rowOffset + this.parent.rowHeight;\n            }\n        }\n        else {\n            topValue = this.getTopValue(currentRecord);\n        }\n        var sameIDElement = this.rangeViewContainer.querySelector('.' + 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID);\n        if (sameIDElement) {\n            sameIDElement.remove();\n        }\n        var parentDiv = createElement('div', {\n            className: 'rangeContainer' + currentRecord.ganttProperties.rowUniqueID, styles: \"top:\" + topValue + \"px; position: absolute;\"\n        });\n        if (currentRecord.level === 0 && !currentRecord.expanded && isNullOrUndefined(currentRecord.parentItem)\n            && !this.parent.enableMultiTaskbar) {\n            return;\n        }\n        if (currentRecord.level > 0 && currentRecord.expanded && !this.parent.getRecordByID(currentRecord.parentItem.taskId).expanded) {\n            return;\n        }\n        for (var i = 0; i < rangeCollection.length; i++) {\n            var height = void 0;\n            var node = this.parent.chartRowsModule.ganttChartTableBody.childNodes;\n            if (!this.parent.allowTaskbarOverlap && !currentRecord.expanded && this.parent.enableMultiTaskbar) {\n                // Render proper overallocation line height during collapseall actions - Task:872518\n                var parentRecord = this.parent.getRootParent(currentRecord, 0);\n                rowIndex = parentRecord.expanded ? rowIndex : this.parent.currentViewData.indexOf(parentRecord);\n                height = parseInt(node[rowIndex].style.height, 10) -\n                    (this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight);\n            }\n            else {\n                height = this.getRangeHeight(currentRecord);\n            }\n            var leftDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-leftarc', styles: (this.parent.enableRtl ? 'right:' : 'left:') +\n                    ((this.parent.enableRtl ? rangeCollection[i].left + rangeCollection[i].width - 5 : rangeCollection[i].left) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px;\\n                height: \" + (height + 1) + \"px; border-right: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            var rightDiv = createElement('div', {\n                className: cls.rangeChildContainer + ' ' + 'e-rightarc',\n                styles: (this.parent.enableRtl ? 'right:' : 'left:') + ((this.parent.enableRtl ? rangeCollection[i].left :\n                    rangeCollection[i].left + rangeCollection[i].width - 5) + \"px;\\n                top: \" + Math.floor((this.parent.rowHeight - this.parent.chartRowsModule.taskBarHeight) / 2) + \"px; height: \" + (height + 1) + \"px;\\n                border-left: 0px;\\n                z-index: \" + ((this.parent.viewType === 'ProjectView') ? currentRecord.childRecords.length > 1 ? currentRecord.childRecords.length + 1 : currentRecord.childRecords.length : 6))\n            });\n            parentDiv.appendChild(leftDiv);\n            parentDiv.appendChild(rightDiv);\n            this.rangeViewContainer.appendChild(parentDiv);\n        }\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.rangeViewContainer);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.renderTimelineContainer = function () {\n        this.chartTimelineContainer =\n            createElement('div', { className: cls.timelineHeaderContainer });\n        if (this.parent.enableRtl) {\n            this.chartTimelineContainer.style.borderLeftWidth = '1px';\n            this.chartTimelineContainer.style.borderRightWidth = '0px';\n        }\n        this.chartTimelineContainer.setAttribute('role', 'presentation');\n        this.chartElement.appendChild(this.chartTimelineContainer);\n    };\n    /**\n     * initiate chart container\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.renderBodyContainers = function () {\n        this.chartBodyContainer = createElement('div', { className: cls.chartBodyContainer });\n        this.chartElement.appendChild(this.chartBodyContainer);\n        this.scrollElement = createElement('div', {\n            className: cls.chartScrollElement + ' ' + cls.scrollContent, styles: 'position:relative;'\n        });\n        this.chartBodyContainer.appendChild(this.scrollElement);\n        this.chartBodyContent = createElement('div', { className: cls.chartBodyContent, styles: 'position:relative; overflow:hidden ' });\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization || this.parent.enableTimelineVirtualization) {\n            this.parent.ganttChartModule.virtualRender.renderWrapper();\n        }\n        else {\n            this.scrollElement.appendChild(this.chartBodyContent);\n        }\n        // this.parent.chartRowsModule.createChartTable();\n        this.scrollObject = new ChartScroll(this.parent);\n        //this.scrollObject.setWidth(this.chartProperties.width);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        this.scrollObject.\n            setHeight(this.parent.ganttHeight - this.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateWidthAndHeight = function () {\n        //empty row height\n        var emptydivHeight = 36;\n        var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n            this.parent.contentHeight;\n        var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (emptyHeight >= contentElement['offsetHeight'] || this.parent.height === 'auto' || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n            this.chartBodyContent.style.height = formatUnit(emptyHeight);\n        }\n        else {\n            var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            if (contentElement['offsetHeight'] >= scrollHeight) {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n            }\n            else {\n                this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n            }\n        } //let element: HTMLElement = this.chartTimelineContainer.querySelector('.' + cls.timelineHeaderTableContainer);\n        // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n        if (this.parent.timelineModule.isZoomToFit && this.parent.enableTimelineVirtualization) {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth - this.parent.timelineModule['clientWidthDifference']);\n        }\n        else {\n            this.chartBodyContent.style.width = (this.parent.enableTimelineVirtualization\n                && (this.parent.timelineModule.totalTimelineWidth > this.parent.element.offsetWidth * 3)) ?\n                formatUnit(this.parent.element.offsetWidth * 3)\n                : formatUnit(this.parent.timelineModule.totalTimelineWidth);\n        }\n        // To handle the width of chartbody element after zoomtofit action followed by vertical scroll actions\n        if (this.parent.timelineModule.isZoomedToFit && this.parent.enableVirtualization) {\n            var clientWidth = Math.abs(this.parent.timelineModule.totalTimelineWidth -\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth);\n            this.parent.ganttChartModule.chartBodyContent.style.width =\n                formatUnit(this.parent.timelineModule.totalTimelineWidth - clientWidth);\n        }\n        this.setVirtualHeight();\n        this.parent.notify('updateHeight', {});\n        this.parent.updateGridLineContainerHeight();\n        this.updateLastRowBottomWidth();\n    };\n    GanttChart.prototype.setVirtualHeight = function () {\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            var wrapper = getValue('virtualTrack', this.parent.ganttChartModule.virtualRender);\n            wrapper.style.height = this.parent.treeGrid.element.getElementsByClassName('e-virtualtrack')[0].style.height;\n            var wrapper1 = getValue('wrapper', this.parent.ganttChartModule.virtualRender);\n            var treegridVirtualHeight = this.parent.treeGrid.element.getElementsByClassName('e-virtualtable')[0].style.transform;\n            var virtualTable = document.getElementsByClassName('e-virtualtable')[1].style.transform;\n            if (this.parent.enableTimelineVirtualization) {\n                var translateXValue = void 0;\n                // Firefox whitespace issue, Firefox omit y axis value if both axis values are 0 and returns translate(0px)-Task(888356)\n                if (treegridVirtualHeight === 'translate(0px)' && navigator.userAgent.includes('Firefox')) {\n                    treegridVirtualHeight = 'translate(0px, 0px)';\n                }\n                if (virtualTable !== '') {\n                    translateXValue = virtualTable.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                else {\n                    var chartTransform = this.parent.ganttChartModule.scrollElement.getElementsByClassName('e-virtualtable')[0].style.transform;\n                    translateXValue = chartTransform.match(/translate.*\\((.+)\\)/)[1].split(', ')[0];\n                }\n                var translateYValue = treegridVirtualHeight.match(/translate.*\\((.+)\\)/)[1].split(', ')[1];\n                wrapper1.style.transform = \"translate(\" + translateXValue + \", \" + translateYValue + \")\";\n            }\n            else {\n                wrapper1.style.transform = treegridVirtualHeight;\n            }\n        }\n    };\n    /**\n     * Method to update bottom border for chart rows\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.updateLastRowBottomWidth = function () {\n        if (this.parent.currentViewData.length > 0 && this.parent.height !== 'auto') {\n            var expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n            var lastExpandedRow = expandedRecords[expandedRecords.length - 1];\n            var lastExpandedRowIndex = this.parent.currentViewData.indexOf(lastExpandedRow);\n            var lastRow = this.parent.getRowByIndex(lastExpandedRowIndex);\n            var table = this.parent.chartRowsModule.ganttChartTableBody;\n            if (table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow')) {\n                removeClass(table.querySelectorAll('.e-chart-row-cell.e-chart-row-border.e-lastrow'), 'e-lastrow');\n            }\n            if (this.chartBodyContent.clientHeight < this.chartBodyContainer.clientHeight) {\n                if (lastRow) {\n                    addClass(lastRow.querySelectorAll('td'), 'e-lastrow');\n                    var emptydivHeight = 36;\n                    var emptyHeight = this.parent.contentHeight === 0 ? this.parent.flatData.length > 1 ? emptydivHeight : 0 :\n                        this.parent.contentHeight;\n                    var contentElement = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n                    if (emptyHeight >= contentElement['offsetHeight'] || (contentElement['offsetHeight'] - emptyHeight) < emptydivHeight) {\n                        this.chartBodyContent.style.height = formatUnit(emptyHeight);\n                    }\n                    else {\n                        var scrollHeight = this.parent.element.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n                        if (contentElement['offsetHeight'] >= scrollHeight) {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] - 17 + 'px';\n                        }\n                        else {\n                            this.chartBodyContent.style.height = contentElement['offsetHeight'] + 'px';\n                        }\n                    }\n                }\n            }\n        }\n    };\n    GanttChart.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('renderPanels', this.renderChartContainer);\n        this.parent.off('recordsUpdated', this.renderChartElements);\n        this.parent.off('dataReady', this.renderInitialContents);\n        this.parent.off('tree-grid-created', this.renderChartContents);\n        this.parent.off('destroy', this.destroy);\n    };\n    /**\n     * Click event handler in chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.ganttChartMouseDown = function (e) {\n        var cancel = false;\n        if (e.type === 'touchstart' && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate initial distance between two Pinch touch points\n            this.initPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            this.isPinching = true;\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule &&\n            this.parent.editSettings.allowTaskbarEditing && !this.isPinching) {\n            var editAction = this.parent.editModule.taskbarEditModule['getTaskBarAction'](e);\n            if (editAction === 'ChildDrag' || editAction === 'ParentDrag' || editAction === 'MilestoneDrag' || editAction === 'ManualParentDrag') {\n                var args = {\n                    cancel: cancel,\n                    data: this.getRecordByTaskBar(e.target),\n                    target: e.target,\n                    chartRow: closest(e.target, 'tr')\n                };\n                this.parent.trigger('rowDragStartHelper', args);\n                cancel = args['cancel'];\n            }\n        }\n        if (!cancel && !this.isPinching) {\n            if (e.which !== 3 && this.parent.editSettings.allowTaskbarEditing) {\n                this.parent.notify('chartMouseDown', e);\n                this.parent.element.tabIndex = 0;\n            }\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing && (this.parent.element.querySelector('.e-left-resize-gripper') || this.parent.element.querySelector('.e-left-connectorpoint-outer-div'))) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited || e.button === 2) {\n                if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                    this.parent.treeGrid.endEdit();\n                }\n            }\n        }\n    };\n    GanttChart.prototype.calculatePinchDistance = function (touch1, touch2) {\n        var dx = touch2.clientX - touch1.clientX;\n        var dy = touch2.clientY - touch1.clientY;\n        return Math.sqrt(dx * dx + dy * dy);\n    };\n    GanttChart.prototype.ganttChartMouseClick = function (e) {\n        if (this.parent.autoFocusTasks) {\n            this.scrollToTarget(e); /** Scroll to task */\n        }\n        this.parent.notify('chartMouseClick', e);\n    };\n    GanttChart.prototype.ganttChartMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n            if (!isNullOrUndefined(resizeCheck)) {\n                resizeCheck.remove();\n            }\n            var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar') || this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n            var falseline = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-gantt-false-line');\n            if (!isNullOrUndefined(falseline)) {\n                this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        if (!this.parent.editSettings.allowEditing) {\n            var isTaskbarEdited = false;\n            if (this.parent.editSettings.allowTaskbarEditing &&\n                getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n                getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n                isTaskbarEdited = true;\n            }\n            if (!isTaskbarEdited) {\n                /** Expand/collapse action */\n                var target = e.target;\n                var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                    || closest(e.target, '.' + cls.taskBarMainContainer);\n                if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing && !this.parent.isAdaptive) {\n                    this.chartExpandCollapseRequest(e);\n                }\n                else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                    this.scrollToTarget(e); /** Scroll to task */\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.scrollToTarget = function (e) {\n        var row = closest(e.target, 'tr');\n        if (row && this.parent.element.contains(row) &&\n            (this.parent.element.querySelectorAll('.e-chart-rows-container')[0].contains(e.target) ||\n                this.parent.element.querySelectorAll('.e-gridcontent')[0].contains(e.target)) &&\n            this.parent.currentViewData.length > 0) {\n            var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n            var dateObject = this.parent.currentViewData[rowIndex].ganttProperties.startDate;\n            var dateObjLeft = this.parent.currentViewData[rowIndex].ganttProperties.left;\n            if (!isNullOrUndefined(dateObject)) {\n                var left = !this.parent.enableTimelineVirtualization ?\n                    this.parent.dataOperation.getTaskLeft(dateObject, false) : {};\n                if (this.parent.autoFocusTasks) {\n                    if (this.parent.enableTimelineVirtualization) {\n                        this.updateScrollLeft(dateObjLeft);\n                    }\n                    else {\n                        this.updateScrollLeft(left);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To focus selected task in chart side\n     *\n     * @param {number} scrollLeft .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.updateScrollLeft = function (scrollLeft) {\n        scrollLeft = scrollLeft > 0 ? scrollLeft : 0;\n        scrollLeft = this.scrollElement.scrollWidth <= scrollLeft ? this.scrollElement.scrollWidth : scrollLeft;\n        if ((this.scrollElement.offsetWidth + this.parent.ganttChartModule.scrollElement.scrollLeft) < scrollLeft\n            || (this.scrollElement.scrollLeft > scrollLeft)) {\n            this.scrollObject.setScrollLeft(scrollLeft - 50, this.parent.enableRtl ? -1 : 0);\n        }\n        //  this.parent.ganttChartModule.scrollObject.updateLeftPosition();\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void}\n     * @private\n     */\n    GanttChart.prototype.mouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n        }\n        if (!isNullOrUndefined(this.parent.editModule) && !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(false);\n        }\n        var resizeCheck = this.parent.element.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        if (this.parent.allowTaskbarDragAndDrop && this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule['previousLeftValue'] = 0;\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (!this.isGanttElement) {\n            this.parent.notify('chartMouseUp', e);\n        }\n        this.isGanttElement = false;\n    };\n    /**\n     *  Method trigger while perform mouse up action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.documentMouseUp = function (e) {\n        if (e.type === 'touchend') {\n            this.initPinchDistance = null;\n            this.isPinching = false;\n            this.previousPinchDistance = 0;\n        }\n        this.isGanttElement = true;\n        if (e.target.classList.contains('e-treegridexpand') ||\n            e.target.classList.contains('e-treegridcollapse')) {\n            if (getValue('isEditCollapse', this.parent.treeGrid) === true) {\n                setValue('isEditCollapse', false, this.parent.treeGrid);\n            }\n        }\n        if (this.parent.allowRowDragAndDrop) {\n            var ganttDragElemet = this.parent.element.querySelector('.e-ganttdrag');\n            if (ganttDragElemet) {\n                ganttDragElemet.remove();\n            }\n        }\n        if (this.parent.isDestroyed || e.which === 3) {\n            return;\n        }\n        var resizeCheck = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (!isNullOrUndefined(resizeCheck)) {\n            resizeCheck.remove();\n        }\n        var Check = this.parent.element.getElementsByClassName('e-clone-taskbar')[0];\n        if (!isNullOrUndefined(Check)) {\n            var clonetbody = Check.parentElement;\n            var cloneTable = clonetbody.parentElement;\n            cloneTable.remove();\n        }\n        var isTaskbarEdited = false;\n        if (this.parent.editSettings.allowTaskbarEditing &&\n            getValue('editModule.taskbarEditModule.isMouseDragged', this.parent) &&\n            getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            isTaskbarEdited = true;\n        }\n        this.parent.notify('chartMouseUp', e);\n        if (this.parent.showActiveElement) {\n            this.parent.showIndicator = true;\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n            if (this.focusedElement && !e.target.classList.contains('e-split-bar')) {\n                this.focusedElement.tabIndex = this.focusedElement.tabIndex === 0 ? -1 : this.focusedElement.tabIndex;\n                removeClass([this.focusedElement], 'e-active-container');\n            }\n        }\n        if (!isTaskbarEdited) {\n            /** Expand/collapse action */\n            var target = e.target;\n            var isOnTaskbarElement = e.target.classList.contains(cls.taskBarMainContainer)\n                || closest(e.target, '.' + cls.taskBarMainContainer);\n            if (closest(target, '.e-gantt-parent-taskbar') && !this.parent.editSettings.allowEditing) {\n                this.chartExpandCollapseRequest(e);\n            }\n            else if (!isOnTaskbarElement && this.parent.autoFocusTasks) {\n                this.scrollToTarget(e); /** Scroll to task */\n            }\n        }\n        if (this.parent.editModule && this.parent.editModule.taskbarEditModule) {\n            this.parent.editModule.taskbarEditModule.removeFalseLine(true);\n        }\n        if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isTaskbarEdited) {\n            var target = e.target;\n            var taskbarElement = closest(target, '.e-gantt-parent-taskbar,.e-gantt-child-taskbar,.e-gantt-milestone');\n            if (taskbarElement) {\n                this.onTaskbarClick(e, target, taskbarElement);\n            }\n        }\n    };\n    /**\n     * This event triggered when click on taskbar element\n     *\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @param {EventTarget} target .\n     * @param {Element} taskbarElement .\n     * @returns {void}\n     */\n    GanttChart.prototype.onTaskbarClick = function (e, target, taskbarElement) {\n        var rowIndex;\n        var chartRow = closest(target, 'tr');\n        if (!isNullOrUndefined(chartRow)) {\n            rowIndex = getValue('rowIndex', chartRow);\n        }\n        var data = this.getRecordByTarget(e);\n        var args = {\n            data: data,\n            taskbarElement: taskbarElement,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.parent.trigger('onTaskbarClick', args);\n    };\n    /**\n     *  Method trigger while perform mouse leave action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartLeave = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.parent.notify('chartMouseLeave', e);\n        }\n    };\n    /**\n     *  Method trigger while perform mouse move action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.ganttChartMove = function (e) {\n        if (e.type === 'touchmove' && this.isPinching === true && e instanceof TouchEvent && e.touches && e.touches.length === 2) {\n            // Calculate current distance between two touch points\n            var currentPinchDistance = this.calculatePinchDistance(e.touches[0], e.touches[1]);\n            if (Math.abs(this.previousPinchDistance - currentPinchDistance) > 15) {\n                if (currentPinchDistance > this.previousPinchDistance) {\n                    // Pinch out detected - Perform Zoom in\n                    this.parent.timelineModule.processZooming(true);\n                }\n                else if (currentPinchDistance < this.previousPinchDistance) {\n                    // Pinch in detected - Perform Zoom out\n                    this.parent.timelineModule.processZooming(false);\n                }\n                this.previousPinchDistance = currentPinchDistance;\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && this.isPinching === false) {\n            if (this.parent.element.getElementsByClassName('e-clone-taskbar').length > 0 && !this.parent.enableRtl) {\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (xValue <= this.parent.getOffsetRect(this.parent.ganttChartModule.chartElement).left) {\n                    return;\n                }\n            }\n            this.parent.notify('chartMouseMove', e);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency) && this.parent.connectorLineEditModule) {\n                this.parent.connectorLineEditModule.updateConnectorLineEditElement(e);\n            }\n        }\n    };\n    /**\n     *  Method trigger while perform right click action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.contextClick = function (e) {\n        if (this.parent.allowFiltering && this.parent.filterModule) {\n            this.parent.filterModule.closeFilterOnContextClick(e.srcElement);\n        }\n        if (this.parent.allowTaskbarDragAndDrop) {\n            var Check = this.parent.chartPane.querySelector('.e-clone-taskbar');\n            if (!isNullOrUndefined(Check)) {\n                var clonetbody = Check.parentElement;\n                var cloneTable = clonetbody.parentElement;\n                cloneTable.remove();\n            }\n        }\n    };\n    /**\n     * Method to trigger while perform mouse move on Gantt.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.mouseMoveHandler = function (e) {\n        if (!isNullOrUndefined(this.parent.onMouseMove) &&\n            (this.parent.flatData.length ||\n                e.target.classList.contains('e-header-cell-label') ||\n                e.target.classList.contains('e-headercell'))) {\n            var target = e.target;\n            var args = { originalEvent: e };\n            var element = closest(target, '.e-chart-row-cell,.e-connector-line-container,' +\n                '.e-event-markers,.e-header-cell-label,.e-rowcell,.e-headercell,.e-indicator-span');\n            if (element) {\n                var rowData = void 0;\n                var rowElement = closest(target, '.e-rowcell,.e-chart-row-cell');\n                var columnElement = closest(target, '.e-rowcell,.e-headercell');\n                if (rowElement) {\n                    rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n                    args.data = rowData;\n                }\n                if (columnElement) {\n                    var cellIndex = getValue('cellIndex', columnElement);\n                    args.column = this.parent.treeGrid.columns[cellIndex];\n                }\n                if (closest(target, '.e-indicator-span')) {\n                    var index = 0;\n                    var indicators = rowData.ganttProperties.indicators;\n                    if (indicators.length > 1) {\n                        for (index = 0; index < indicators.length; index++) {\n                            if (indicators[index].name === (element.innerText).trim()) {\n                                break;\n                            }\n                        }\n                    }\n                    args.indicator = indicators[index];\n                }\n                if (closest(target, '.e-connector-line-container')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.predecessor = this.parent.tooltipModule.getPredecessorTooltipData(obj);\n                }\n                if (closest(target, '.e-event-markers')) {\n                    var obj = {};\n                    obj.target = element;\n                    args.eventMarkers = this.parent.tooltipModule.getMarkerTooltipData(obj);\n                }\n                if (target.classList.contains('e-header-cell-label')) {\n                    args.date = new Date(target.dataset.content);\n                }\n            }\n            this.parent.trigger('onMouseMove', args);\n        }\n    };\n    /**\n     * Double click handler for chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     */\n    GanttChart.prototype.doubleClickHandler = function (e) {\n        var target = e.target;\n        var row = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', row);\n        var rowData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        this.parent.notify('chartDblClick', e);\n        var args = {\n            row: row,\n            rowData: rowData,\n            rowIndex: rowIndex,\n            target: target\n        };\n        this.recordDoubleClick(args);\n    };\n    /**\n     * To trigger record double click event.\n     *\n     * @param {RecordDoubleClickEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.recordDoubleClick = function (args) {\n        this.parent.trigger('recordDoubleClick', args);\n    };\n    /**\n     * @param {PointerEvent | KeyboardEventArgs} e .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTarget = function (e) {\n        var ganttData;\n        var row = closest(e.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            var id = row.getAttribute('rowUniqueId');\n            ganttData = this.parent.getRecordByID(id);\n        }\n        else {\n            row = closest(e.target, 'tr');\n            if (row) {\n                var rowIndex = getValue('rowIndex', closest(e.target, 'tr'));\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n        }\n        return ganttData;\n    };\n    /**\n     * To get gantt chart row elements\n     *\n     * @returns {NodeListOf<Element>} .\n     * @private\n     */\n    GanttChart.prototype.getChartRows = function () {\n        if (document.getElementById(this.parent.element.id + 'GanttTaskTableBody') !== null) {\n            return document.getElementById(this.parent.element.id + 'GanttTaskTableBody').querySelectorAll('.e-chart-row');\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Expand Collapse operations from gantt chart side\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.chartExpandCollapseRequest = function (e) {\n        if (this.parent.enableMultiTaskbar) {\n            return;\n        }\n        var target = e.target;\n        var parentElement = closest(target, '.e-gantt-parent-taskbar');\n        var record = this.getRecordByTarget(e);\n        var chartRow = closest(target, 'tr');\n        var rowIndex = getValue('rowIndex', chartRow);\n        var gridRow = this.parent.treeGrid.getRows()[rowIndex];\n        var args = { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n        this.isExpandCollapseFromChart = true;\n        if (parentElement.classList.contains('e-row-expand')) {\n            this.collapseGanttRow(args);\n        }\n        else if (parentElement.classList.contains('e-row-collapse')) {\n            this.expandGanttRow(args);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.reRenderConnectorLines = function () {\n        this.parent.connectorLineModule.dependencyViewContainer.innerHTML = '';\n        this.parent.connectorLineIds = [];\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.predecessorModule.createConnectorLinesCollection();\n        this.parent.connectorLineModule.renderConnectorLines(this.parent.updatedConnectorLineCollection);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To collapse gantt rows\n     *\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.collapseGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('collapsing', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.collapsedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.collapsedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties[_this.parent.taskFields.id] === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = false;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n            var idField_1 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_1] === args['data'][idField_1]; })[0];\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.collapseRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            this.expandCollapseChartRows('collapse', getValue('chartRow', args), record, null);\n        }\n        // To render the child record on parent row after collapsing\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'false');\n    };\n    /**\n     * To expand gantt rows\n     *\n     * @returns {void} .\n     * @param {object} args .\n     * @param {boolean} isCancel .\n     * @private\n     */\n    GanttChart.prototype.expandGanttRow = function (args) {\n        var _this = this;\n        this.parent.trigger('expanding', args, function (arg) {\n            if (_this.isExpandCollapseFromChart && !getValue('cancel', arg)) {\n                _this.expandedGanttRow(arg);\n            }\n            _this.isExpandCollapseFromChart = false;\n        });\n    };\n    /**\n     * @returns {void} .\n     * @param {object} args .\n     * @private\n     */\n    GanttChart.prototype.expandedGanttRow = function (args) {\n        var _this = this;\n        var record;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            record = this.parent.currentViewData.filter(function (item) { return item.ganttProperties.taskId === args['data'][_this.parent.taskFields.id]; })[0];\n        }\n        else {\n            record = getValue('data', args);\n        }\n        if ((isNullOrUndefined(args['gridRow']) && this.parent.enableVirtualization) || isNullOrUndefined(args['chartRow'])) {\n            if (record) {\n                record.expanded = true;\n            }\n            return;\n        }\n        if (this.isExpandCollapseFromChart) {\n            this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            var idField_2 = this.parent.taskFields.id;\n            if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                var gridRec = this.parent.treeGrid.getCurrentViewRecords().filter(function (item) { return item[idField_2] === args['data'][idField_2]; })[0];\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), gridRec);\n            }\n            else {\n                this.parent.treeGrid.expandRow(getValue('gridRow', args), record);\n            }\n            this.isExpandCollapseFromChart = false;\n        }\n        else {\n            if (!this.parent.isExpandCollapseLevelMethod) {\n                this.expandCollapseChartRows('expand', getValue('chartRow', args), record, null);\n            }\n            this.parent.isExpandCollapseLevelMethod = false;\n        }\n        // To render the child record on parent row after expanding.\n        if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n            this.renderMultiTaskbar(record);\n        }\n        if (!this.parent.enableVirtualization) {\n            this.parent.updateContentHeight();\n        }\n        this.updateWidthAndHeight();\n        this.reRenderConnectorLines();\n        getValue('chartRow', args).setAttribute('aria-expanded', 'true');\n    };\n    GanttChart.prototype.renderMultiTaskbar = function (record) {\n        if (this.parent.enableMultiTaskbar) {\n            this.parent.chartRowsModule.refreshRecords([record], true);\n        }\n        else if (this.parent.showOverAllocation) {\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n    };\n    /**\n     * On expand collapse operation row properties will be updated here.\n     *\n     * @param {string} action .\n     * @param {Node} rowElement .\n     * @param {IGanttData} record .\n     * @param {boolean} isChild .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseChartRows = function (action, rowElement, record, isChild) {\n        var displayType;\n        if (action === 'expand') {\n            displayType = 'table-row';\n            if (!isChild) {\n                record.expanded = true;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-collapse');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-expand');\n                removeClass([targetElement[t]], 'e-row-collapse');\n            }\n        }\n        else if (action === 'collapse') {\n            displayType = 'none';\n            if (!isChild) {\n                record.expanded = false;\n            }\n            var targetElement = rowElement.querySelectorAll('.e-row-expand');\n            for (var t = 0; t < targetElement.length; t++) {\n                addClass([targetElement[t]], 'e-row-collapse');\n                removeClass([targetElement[t]], 'e-row-expand');\n            }\n        }\n        if (!this.parent.enableVirtualization) {\n            var childRecords = record.childRecords;\n            var chartRows = this.getChartRows();\n            var rows = [];\n            for (var i = 0; i < chartRows.length; i++) {\n                if (chartRows[i].classList.contains('gridrowtaskId' +\n                    record.ganttProperties.rowUniqueID +\n                    'level' +\n                    (record.level + 1))) {\n                    rows.push(chartRows[i]);\n                }\n            }\n            for (var i = 0; i < rows.length; i++) {\n                rows[i].style.display = displayType;\n                if (childRecords[i].childRecords &&\n                    childRecords[i].childRecords.length &&\n                    (action === 'collapse' ||\n                        childRecords[i].expanded ||\n                        this.isExpandAll)) {\n                    this.expandCollapseChartRows(action, rows[i], childRecords[i], true);\n                }\n            }\n        }\n    };\n    /**\n     * Public method to expand or collapse all the rows of Gantt\n     *\n     * @returns {void}\n     * @param {string} action .\n     * @private\n     */\n    GanttChart.prototype.expandCollapseAll = function (action) {\n        if (action === 'expand') {\n            this.isExpandAll = true;\n            this.parent.treeGrid.expandAll();\n        }\n        else {\n            this.isCollapseAll = true;\n            this.parent.treeGrid.collapseAll();\n            if (this.isCollapseAll && !this.parent.allowTaskbarOverlap) {\n                var treeGridContentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.contentHeight = treeGridContentHeight;\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        this.isExpandAll = false;\n        this.isCollapseAll = false;\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.expandAtLevel = function (level) {\n        this.parent.treeGrid.expandAtLevel(level);\n    };\n    /**\n     * Public method to collapse particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    GanttChart.prototype.collapseAtLevel = function (level) {\n        if (this.parent.enableVirtualization) {\n            this.parent.isExpandCollapseLevelMethod = true;\n        }\n        this.parent.treeGrid.collapseAtLevel(level);\n    };\n    /**\n     * Event Binding for gantt chart click\n     *\n     * @returns {void} .\n     */\n    GanttChart.prototype.wireEvents = function () {\n        var _this = this;\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.parent.chartPane, mouseDown, this.ganttChartMouseDown, this);\n        EventHandler.add(this.parent.chartPane, cancel, this.ganttChartLeave, this);\n        EventHandler.add(this.parent.chartPane, mouseMove, this.ganttChartMove, this);\n        EventHandler.add(this.parent.chartPane, 'wheel', this.onWheelZoom, this);\n        if (this.parent.isAdaptive) {\n            // pointerdown event which is used to detect double click for both mobile mode\n            var tapTimeout_1;\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'pointerdown', function (event) {\n                if (tapTimeout_1) {\n                    clearTimeout(tapTimeout_1);\n                    tapTimeout_1 = null;\n                    _this.doubleClickHandler(event); // Trigger double-click action\n                }\n                else {\n                    tapTimeout_1 = setTimeout(function () {\n                        tapTimeout_1 = null; // Reset after timeout\n                    }, 200); // Wait 300ms to detect second tap\n                }\n            }, this);\n            EventHandler.add(this.parent.chartPane, click, this.ganttChartMouseClick, this);\n            EventHandler.add(this.parent.chartPane, mouseUp, this.ganttChartMouseUp, this);\n        }\n        if (!this.parent.isAdaptive) {\n            EventHandler.add(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler, this);\n            EventHandler.add(this.parent.element, mouseUp, this.documentMouseUp, this);\n            EventHandler.add(document, mouseUp, this.mouseUp, this);\n        }\n        EventHandler.add(this.parent.element, 'mousemove', this.mouseMoveHandler, this);\n        EventHandler.add(document.body, 'contextmenu', this.contextClick, this);\n        EventHandler.add(document, 'mouseup', this.contextClick, this);\n    };\n    GanttChart.prototype.unWireEvents = function () {\n        var isIE11Pointer = Browser.isPointer; // eslint-disable-line\n        var mouseDown = Browser.touchStartEvent;\n        var mouseUp = Browser.touchEndEvent;\n        var mouseMove = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, mouseDown, this.ganttChartMouseDown);\n        }\n        if (!isNullOrUndefined(this.parent.chartPane)) {\n            EventHandler.remove(this.parent.chartPane, cancel, this.ganttChartLeave);\n            EventHandler.remove(this.parent.chartPane, mouseMove, this.ganttChartMove);\n            EventHandler.remove(this.parent.chartPane, 'wheel', this.onWheelZoom);\n            EventHandler.remove(this.parent.chartPane, mouseDown, this.ganttChartMouseDown);\n        }\n        if (this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.chartPane)) {\n                EventHandler.remove(this.parent.chartPane, click, this.ganttChartMouseClick);\n                EventHandler.remove(this.parent.chartPane, mouseUp, this.ganttChartMouseUp);\n            }\n        }\n        if (!this.parent.isAdaptive) {\n            if (!isNullOrUndefined(this.parent.element)) {\n                EventHandler.remove(this.parent.element, mouseUp, this.documentMouseUp);\n            }\n            if (!isNullOrUndefined(document)) {\n                EventHandler.remove(document, mouseUp, this.mouseUp);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.element)) {\n            EventHandler.remove(this.parent.element, 'mousemove', this.mouseMoveHandler);\n        }\n        if (!isNullOrUndefined(document)) {\n            EventHandler.remove(document, 'mouseup', this.contextClick);\n            if (!isNullOrUndefined(document.body)) {\n                EventHandler.remove(document.body, 'contextmenu', this.contextClick);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.chartRowsModule.ganttChartTableBody)) {\n            EventHandler.remove(this.parent.chartRowsModule.ganttChartTableBody, 'dblclick', this.doubleClickHandler);\n        }\n    };\n    // Triggers while perform ctrl+mouse wheel Pinch IN/OUT actions\n    GanttChart.prototype.onWheelZoom = function (e) {\n        if (e.ctrlKey) {\n            e.preventDefault();\n            var zoomIn1_1 = e.deltaY < 0;\n            // Differentiating between touchpad and mouse wheel\n            var isTouchpad_1 = false;\n            if (Math.abs(e.deltaY) < 75) { // Smaller deltaY typically indicates touchpad\n                isTouchpad_1 = true;\n            }\n            if (this.debounceTimeout) {\n                if (((this.debounceTimeoutNext + 20) > this.debounceTimeout)) {\n                    clearTimeout(this.debounceTimeout);\n                }\n                if ((this.debounceTimeoutNext + 20) <= this.debounceTimeout || !this.debounceTimeoutNext) {\n                    this.debounceTimeoutNext = this.debounceTimeout;\n                }\n            }\n            this.debounceTimeout = setTimeout(function () {\n                var verticalScrollDelta = Math.abs(e.deltaY);\n                // Adjust threshold based on the input method\n                var isValidScrollDelta = isTouchpad_1\n                    ? (verticalScrollDelta > 0.5 && verticalScrollDelta < 15)\n                    : (verticalScrollDelta > 5 && verticalScrollDelta <= 200);\n                if (isValidScrollDelta) {\n                    this.parent.timelineModule.processZooming(zoomIn1_1);\n                }\n            }.bind(this), 100);\n        }\n    };\n    /**\n     * To get record by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {IGanttData} .\n     * @private\n     */\n    GanttChart.prototype.getRecordByTaskBar = function (target) {\n        var item;\n        if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n            item = this.parent.flatData[this.getIndexByTaskBar(target)];\n        }\n        else {\n            item = this.parent.currentViewData[this.getIndexByTaskBar(target)];\n        }\n        return item;\n    };\n    GanttChart.prototype.updateElement = function (next, currentColumn, isTab, isInEditedState, row) {\n        if (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress) {\n            var rowIndex = row.index;\n            do {\n                if (row.hasChildRecords) {\n                    next = this.getNextElement(next, isTab, isInEditedState);\n                }\n                currentColumn = this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1];\n                rowIndex = this.parent.treeGrid.getRows().indexOf(next.parentElement);\n            } while (!currentColumn.allowEditing);\n            this.parent.treeGrid.saveCell();\n            this.parent.treeGrid.editCell(rowIndex, this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field);\n        }\n        return next;\n    };\n    /**\n     * Trigger Tab & Shift + Tab keypress to highlight active element.\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    GanttChart.prototype.onTabAction = function (e) {\n        this.parent.treeGrid.grid.enableHeaderFocus = this.parent.enableHeaderFocus;\n        var toolbarItems = document.getElementsByClassName('e-toolbar-item');\n        var isInEditedState = this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit;\n        if (!this.parent.showActiveElement && !isInEditedState) {\n            return;\n        }\n        var $target = isInEditedState ? e.target.closest('.e-rowcell') : e.target;\n        if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n            $target = this.parent.element.querySelectorAll('.e-focused')[0];\n        }\n        if ($target && !($target.classList.contains('e-toolbar-item') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn'))) {\n            this.currentToolbarIndex = -1;\n        }\n        if ($target.closest('.e-rowcell') || $target.closest('.e-chart-row')) {\n            this.parent.focusModule.setActiveElement($target);\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.focusedRowIndex = $target.closest('.e-rowcell') ? $target.parentElement.rowIndex :\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n            $target.closest('.e-chart-row') ? $target.closest('.e-chart-row').rowIndex : -1;\n        var isTab = (e.action === 'tab') ? true : false;\n        var nextElement = this.getNextElement($target, isTab, isInEditedState);\n        if (nextElement && (nextElement === 'noNextRow' || nextElement.classList.contains('e-rowdragheader'))) {\n            // eslint-disable-next-line\n            (nextElement === 'noNextRow' && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) ? this.parent.treeGrid.saveCell() : '';\n            nextElement = null;\n        }\n        if (nextElement && $target.classList.contains('e-headercell')) {\n            var colIndex = parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1;\n            if (e.action === 'shiftTab') {\n                while (colIndex !== -1 && !this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex - 1;\n                }\n                if (colIndex !== -1) {\n                    colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n                }\n                else {\n                    var toolbarItems_1 = document.getElementsByClassName('e-toolbar-item');\n                    for (var i = toolbarItems_1.length - 1; i > 0; i--) {\n                        if (!document.getElementsByClassName('e-toolbar-item')[i].classList.contains('e-hidden')) {\n                            nextElement = document.getElementsByClassName('e-toolbar-item')[i];\n                            this.currentToolbarIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            else {\n                while (!this.parent.treeGrid.columns[colIndex]['visible']) {\n                    colIndex = colIndex + 1;\n                }\n                colIndex = this.parent.allowRowDragAndDrop ? colIndex + 1 : colIndex;\n                nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[colIndex];\n            }\n        }\n        if (!nextElement && $target.classList.contains('e-headercell') && e.action === 'tab') {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (!nextElement && ($target.classList.contains('e-headercell') || $target.classList.contains('e-toolbar-item') || $target.classList.contains('e-treegrid') ||\n            $target.classList.contains('e-input') || $target.classList.contains('e-btn')) && this.parent.toolbarModule && this.parent.toolbar.length > 0) {\n            var itemIndex = this.currentToolbarIndex !== -1 ? (e.action === 'tab' ? this.currentToolbarIndex + 1 :\n                this.currentToolbarIndex - 1) : (e.action === 'shiftTab' ? toolbarItems.length - 1 : 1);\n            var isUpdated = false;\n            if (itemIndex !== -1 && (e.action === 'shiftTab' || (e.action === 'tab' && itemIndex < toolbarItems.length))) {\n                do {\n                    if (!toolbarItems[itemIndex].classList.contains('e-hidden')) {\n                        nextElement = toolbarItems[itemIndex];\n                        nextElement.setAttribute('tabindex', '-1');\n                        if (nextElement.querySelector('.e-btn') === $target) {\n                            // eslint-disable-next-line\n                            e.action === 'tab' ? itemIndex++ : itemIndex--;\n                            nextElement = toolbarItems[itemIndex];\n                        }\n                        if (nextElement.querySelector('.e-btn')) {\n                            (nextElement.querySelector('.e-btn')).setAttribute('tabindex', '0');\n                        }\n                        isUpdated = true;\n                        this.currentToolbarIndex = itemIndex;\n                    }\n                    else {\n                        // eslint-disable-next-line\n                        e.action === 'tab' ? itemIndex++ : itemIndex--;\n                    }\n                } while (!isUpdated);\n            }\n        }\n        if (e.action === 'tab' && !nextElement && (this.currentToolbarIndex === toolbarItems.length - 1 &&\n            ($target.classList.contains('e-toolbar-item') || $target.classList.contains('e-input') ||\n                $target.classList.contains('e-btn')))) {\n            for (var i = 0; i < this.parent.treeGrid.columns.length; i++) {\n                if (this.parent.treeGrid.columns[i]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i];\n                    break;\n                }\n            }\n        }\n        if (e.action === 'shiftTab' && !nextElement && !$target.classList.contains('e-headercell')) {\n            nextElement = document.getElementsByClassName('e-timeline-header-container')[0];\n        }\n        if (e.action === 'shiftTab' && $target.classList.contains('e-timeline-header-container')) {\n            for (var i = this.parent.treeGrid.columns.length; i > 0; i--) {\n                if (this.parent.treeGrid.columns[i - 1]['visible']) {\n                    nextElement = document.getElementsByClassName('e-columnheader')[0].childNodes[i - 1];\n                    break;\n                }\n            }\n        }\n        this.tempNextElement = nextElement;\n        if (!isNullOrUndefined(nextElement) && !isNullOrUndefined(nextElement['cellIndex'])) {\n            if (this.parent.allowRowDragAndDrop) {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'] - 1;\n            }\n            else {\n                this.childrenIndex = nextElement['cellIndex'];\n                this.nextElementIndex = nextElement['cellIndex'];\n            }\n            if (this.nextElementIndex !== -1 && !this.parent.ganttColumns[this.nextElementIndex]['allowEditing'] &&\n                this.parent.ganttColumns[this.nextElementIndex]['field'] !== this.parent.taskFields.id) {\n                this.isEditableElement = true;\n            }\n            else {\n                this.isEditableElement = false;\n            }\n        }\n        if (nextElement === 'noNextRow') {\n            this.manageFocus($target, 'remove', true);\n            return;\n        }\n        if (typeof nextElement !== 'string') {\n            if ($target.closest('.e-chart-row-cell') && nextElement.closest('.e-rowcell')) {\n                this.preventScrollIntoView = true;\n            }\n            if ($target.classList.contains('e-rowcell') || $target.closest('.e-chart-row-cell') ||\n                $target.classList.contains('e-headercell') || $target.closest('.e-segmented-taskbar') ||\n                $target.classList.contains('e-timeline-header-container')) {\n                e.preventDefault();\n            }\n            if (isTab && $target.classList.contains('e-rowdragdrop')) {\n                this.parent.treeGrid.grid.notify('key-pressed', e);\n                return;\n            }\n            if ($target.classList.contains('e-rowcell') && (nextElement && nextElement.classList.contains('e-rowcell')) ||\n                $target.classList.contains('e-headercell')) { // eslint-disable-line                                                                                                                                                                                                                                    \n                if (isTab) {\n                    if (this.parent.editSettings.allowNextRowEdit) {\n                        var rowData = this.parent.currentViewData[this.focusedRowIndex];\n                        var columnName = this.parent.ganttColumns[parseInt(nextElement.getAttribute('aria-colindex'), 10) - 1].field;\n                        if (rowData.hasChildRecords) {\n                            if (columnName === this.parent.taskFields.endDate || columnName ===\n                                this.parent.taskFields.duration || columnName === this.parent.taskFields.dependency ||\n                                columnName === this.parent.taskFields.progress || columnName === this.parent.taskFields.work ||\n                                columnName === this.parent.taskFields.type || columnName === 'taskType') {\n                                this.parent.treeGrid.grid.endEdit();\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else if (columnName === this.parent.taskFields.name || columnName === this.parent.taskFields.startDate) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                                if (isInEditedState) {\n                                    this.parent.treeGrid.editCell(this.focusedRowIndex, columnName);\n                                }\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                    else {\n                        if (!nextElement || (nextElement && !nextElement.classList.contains('e-headercell') && !nextElement.classList.contains('e-timeline-header-container'))) {\n                            if ($target.classList.contains('e-headercell')) {\n                                this.manageFocus($target, 'remove', false);\n                            }\n                            /* eslint-disable-next-line */\n                            var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                            var next = nextElement;\n                            if (row.hasChildRecords &&\n                                (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                    !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                                && $target.classList.contains('e-editedbatchcell')) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            }\n                            else if (!nextElement || $target.classList.contains('e-editedbatchcell')) {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (nextElement && !nextElement.classList.contains('e-headercell') && nextElement.classList.contains('e-rowcell')\n                        && !nextElement.classList.contains('e-toolbar-item')) {\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                        var row = this.parent.currentViewData[$target.parentElement.rowIndex];\n                        var next = nextElement;\n                        if (row.hasChildRecords &&\n                            (this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.progress ||\n                                !this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field !== this.parent.taskFields.id\n                            && $target.classList.contains('e-editedbatchcell')) {\n                            var currentColumn = void 0;\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                            while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                next = this.getNextElement(next, isTab, isInEditedState);\n                            }\n                            next = this.updateElement(next, currentColumn, isTab, isInEditedState, row);\n                        }\n                        else if (parseInt(next.parentElement.getAttribute('aria-rowindex'), 10) - 1 !== 0 &&\n                            parseInt(next.getAttribute('aria-colindex'), 10) - 1 === 0 &&\n                            this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field === this.parent.taskFields.id &&\n                            $target.classList.contains('e-editedbatchcell')) {\n                            /* eslint-disable-next-line */\n                            var rowIndex = $target.parentElement.rowIndex;\n                            var rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                            next = this.getChildElement(rowElement, isTab);\n                            var rowData = this.parent.flatData[parseInt(rowElement.getAttribute('aria-rowindex'), 10) - 1];\n                            if (rowData.hasChildRecords && (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing ||\n                                this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].field ===\n                                    this.parent.taskFields.progress)) {\n                                var currentColumn = void 0;\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                                while (!this.parent.ganttColumns[parseInt(next.getAttribute('aria-colindex'), 10) - 1].allowEditing) {\n                                    next = this.getNextElement(next, isTab, isInEditedState);\n                                }\n                                next = this.updateElement(next, currentColumn, isTab, isInEditedState, rowData);\n                            }\n                            else {\n                                this.parent.treeGrid.grid.notify('key-pressed', e);\n                            }\n                        }\n                        else {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                        }\n                    }\n                }\n            }\n            if (this.parent.element.querySelectorAll('.e-focused').length > 0) {\n                this.manageFocus(this.parent.element.querySelectorAll('.e-focused')[0], 'remove', false);\n            }\n            if (!(this.parent.editModule && this.parent.editModule.cellEditModule\n                && !isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn))) {\n                if (nextElement) {\n                    if ($target.classList.contains('e-rowcell')) {\n                        this.manageFocus($target, 'remove', false);\n                    }\n                    else {\n                        this.manageFocus($target, 'remove', true);\n                    }\n                    if ((nextElement.classList.contains('e-rowcell') && $target.nextElementSibling && !$target.classList.contains('e-timeline-header-container'))\n                        || $target.classList.contains('e-right-label-container')) {\n                        if (!$target.classList.contains('e-rowcell')) {\n                            this.parent.treeGrid.grid.notify('key-pressed', e);\n                            var fmodule = getValue('focusModule', this.parent.treeGrid.grid);\n                            fmodule.currentInfo.element = nextElement;\n                            fmodule.currentInfo.elementToFocus = nextElement;\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                            fmodule.content.matrix.current = [nextElement.parentElement.rowIndex, nextElement.cellIndex];\n                        }\n                        this.manageFocus(nextElement, 'add', false);\n                    }\n                    else {\n                        if (nextElement && (nextElement.classList.contains('e-toolbar-item') || nextElement.classList.contains('e-headercell')\n                            || nextElement.classList.contains('e-rowcell'))) {\n                            this.manageFocus($target, 'remove', false);\n                            if (!nextElement.classList.contains('e-toolbar-item')) {\n                                this.manageFocus(nextElement, 'add', false);\n                            }\n                            if ($target.classList.contains('e-treegrid')) {\n                                e.preventDefault();\n                            }\n                        }\n                        else {\n                            this.manageFocus(nextElement, 'add', true);\n                        }\n                    }\n                    this.parent.focusModule.setActiveElement(nextElement);\n                }\n            }\n        }\n    };\n    /**\n     * Get next/previous sibling element.\n     *\n     * @param {Element} $target .\n     * @param {boolean} isTab .\n     * @param {boolean} isInEditedState .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getNextElement = function ($target, isTab, isInEditedState) {\n        if ($target.classList.contains('e-timeline-header-container') && isTab) {\n            var rowElement = this.getNextRowElement(-1, isTab, true);\n            return this.getChildElement(rowElement, isTab);\n        }\n        var nextElement = isTab ? $target.nextElementSibling : $target.previousElementSibling;\n        if ($target.parentElement.classList.contains('e-taskbar-main-container')) {\n            if (this.parent.labelSettings.rightLabel && isTab) {\n                return $target.parentElement.nextElementSibling;\n            }\n            else if (!isTab && this.parent.labelSettings.leftLabel) {\n                return $target.parentElement.previousElementSibling;\n            }\n        }\n        while (nextElement && nextElement.parentElement.classList.contains('e-row')) {\n            if (!nextElement.matches('.e-hide') && !nextElement.matches('.e-rowdragdrop')) {\n                return nextElement;\n            }\n            nextElement = isTab ? nextElement.nextElementSibling : nextElement.previousElementSibling;\n        }\n        if (!isNullOrUndefined(nextElement) && (nextElement.classList.contains('e-taskbar-main-container')\n            || nextElement.classList.contains('e-right-connectorpoint-outer-div'))) {\n            var record = this.parent.currentViewData[this.focusedRowIndex];\n            if (!isNullOrUndefined(record.ganttProperties.segments) && record.ganttProperties.segments.length > 0) {\n                nextElement = nextElement.classList.contains('e-right-connectorpoint-outer-div')\n                    ? nextElement.parentElement.nextElementSibling\n                    : nextElement.getElementsByClassName('e-gantt-child-taskbar-inner-div')[0];\n            }\n        }\n        if (this.validateNextElement(nextElement)) {\n            return nextElement;\n        }\n        else {\n            var rowIndex = -1;\n            var rowElement = null;\n            var childElement = void 0;\n            if ($target.classList.contains('e-rowcell') && isInEditedState && this.parent.editSettings.allowNextRowEdit) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                childElement = this.getChildElement(rowElement, isTab);\n                return childElement;\n            }\n            else if ($target.classList.contains('e-rowcell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = $target.parentElement.rowIndex;\n                if (isTab) {\n                    rowElement = this.parent.getRowByIndex(rowIndex);\n                    if (this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                        rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                        var childElement_1 = this.getChildElement(rowElement, isTab);\n                        return childElement_1;\n                    }\n                    else {\n                        if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                            return rowElement.getElementsByClassName('e-left-label-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                            return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                        }\n                        else if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                            return rowElement.getElementsByClassName('e-right-label-container')[0];\n                        }\n                    }\n                }\n                else {\n                    rowElement = this.getNextRowElement(rowIndex, isTab, false);\n                    if (this.validateNextElement(rowElement, 'e-right-label-container')) {\n                        return rowElement.getElementsByClassName('e-right-label-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-taskbar-main-container')) {\n                        return rowElement.getElementsByClassName('e-taskbar-main-container')[0];\n                    }\n                    else if (this.validateNextElement(rowElement, 'e-left-label-container')) {\n                        return rowElement.getElementsByClassName('e-left-label-container')[0];\n                    }\n                }\n            }\n            else if ($target.parentElement.classList.contains('e-chart-row-cell') ||\n                $target.parentElement.parentElement.classList.contains('e-chart-row-cell')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                rowIndex = closest($target, '.e-chart-row').rowIndex;\n                if (isTab) {\n                    if (!isTab && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        /* eslint-disable-next-line */\n                        var rowRecord = this.parent.currentViewData[rowIndex];\n                        rowIndex = this.parent.flatData.indexOf(rowRecord);\n                    }\n                    rowElement = this.getNextRowElement(rowIndex, isTab, true);\n                }\n                else {\n                    rowElement = this.parent.treeGrid.getRows()[rowIndex];\n                }\n                var childElement_2 = this.getChildElement(rowElement, isTab);\n                return childElement_2;\n            }\n            nextElement = $target;\n        }\n        return null;\n    };\n    /**\n     * Get next/previous row element.\n     *\n     * @param {number} rowIndex .\n     * @param {boolean} isTab .\n     * @param {boolean} isChartRow .\n     * @returns {Element} .\n     */\n    GanttChart.prototype.getNextRowElement = function (rowIndex, isTab, isChartRow) {\n        var expandedRecords = this.parent.getExpandedRecords(this.parent.currentViewData);\n        var currentItem = this.parent.currentViewData[rowIndex];\n        var expandedRecordIndex = expandedRecords.indexOf(currentItem);\n        var nextRecord = isTab ? expandedRecords[expandedRecordIndex + 1] : expandedRecords[expandedRecordIndex - 1];\n        var nextRowIndex = this.parent.currentViewData.indexOf(nextRecord);\n        if (nextRecord) {\n            return isChartRow ? this.parent.treeGrid.getRows()[nextRowIndex] : this.parent.getRowByIndex(nextRowIndex);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Validate next/previous sibling element haschilds.\n     *\n     * @param {Element} $target .\n     * @param {string} className .\n     * @returns {boolean} .\n     */\n    GanttChart.prototype.validateNextElement = function ($target, className) {\n        if ($target && $target.classList.contains('e-rowcell')) {\n            return true;\n        }\n        if ($target && className) {\n            var elementByClass = $target.getElementsByClassName(className)[0];\n            return (elementByClass && elementByClass.hasChildNodes()) ? true : false;\n        }\n        else if ($target) {\n            return (!isNullOrUndefined($target) && $target.hasChildNodes()) ? true : false;\n        }\n        return false;\n    };\n    /**\n     * Getting child element based on row element.\n     *\n     * @param {Element} rowElement .\n     * @param {boolean} isTab .\n     * @returns {Element | string} .\n     */\n    GanttChart.prototype.getChildElement = function (rowElement, isTab) {\n        var childElement;\n        if (rowElement) {\n            childElement = isTab ? rowElement.children[0] : rowElement.children[rowElement.children.length - 1];\n            while (childElement) {\n                if (!childElement.matches('.e-hide') && !childElement.matches('.e-rowdragdrop')) {\n                    return childElement;\n                }\n                childElement = isTab ? childElement.nextElementSibling : childElement.previousElementSibling;\n            }\n        }\n        else {\n            return 'noNextRow';\n        }\n        return childElement;\n    };\n    /**\n     * Add/Remove active element.\n     *\n     * @private\n     * @param {HTMLElement} element .\n     * @param {string} focus .\n     * @param {boolean} isChartElement .\n     * @param {string} keyAction .\n     * @returns {void} .\n     */\n    GanttChart.prototype.manageFocus = function (element, focus, isChartElement, keyAction) {\n        if (isChartElement) {\n            var childElement = null;\n            if (element.classList.contains('e-left-label-container') ||\n                element.classList.contains('e-right-label-container')) {\n                childElement = element.getElementsByTagName('span')[0];\n            }\n            else if (element.classList.contains('e-taskbar-main-container')\n                || element.classList.contains('e-gantt-child-taskbar-inner-div')) {\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var rowIndex = closest(element, '.e-chart-row').rowIndex;\n                var data = this.parent.currentViewData[rowIndex];\n                var className = data.hasChildRecords ? data.ganttProperties.isAutoSchedule ? 'e-gantt-parent-taskbar' :\n                    'e-manualparent-main-container' :\n                    data.ganttProperties.isMilestone ? 'e-gantt-milestone' : !isNullOrUndefined(data.ganttProperties.segments)\n                        && data.ganttProperties.segments.length > 0 ? 'e-segmented-taskbar' : 'e-gantt-child-taskbar';\n                childElement = element.getElementsByClassName(className)[0];\n                if (isNullOrUndefined(childElement)) {\n                    childElement = element;\n                }\n            }\n            if (element.classList.contains('e-right-label-temp-container') || element.classList.contains('e-left-label-temp-container') || element.classList.contains('e-indicator-span') || element.classList.contains('e-timeline-header-container')) {\n                if (focus === 'add') {\n                    element.setAttribute('tabIndex', '0');\n                    addClass([element], 'e-active-container');\n                    element.focus();\n                }\n                else {\n                    if (keyAction !== 'downArrow' && keyAction !== 'upArrow') {\n                        removeClass([element], 'e-active-container');\n                        element.setAttribute('tabIndex', '-1');\n                        element.blur();\n                    }\n                }\n            }\n            if (focus === 'add' && !isNullOrUndefined(childElement)) {\n                element.setAttribute('tabIndex', '0');\n                addClass([childElement], 'e-active-container');\n                element.focus();\n                this.focusedElement = childElement;\n            }\n            else if (!isNullOrUndefined(childElement) && (keyAction !== 'downArrow' && keyAction !== 'upArrow')) {\n                removeClass([childElement], 'e-active-container');\n                element.setAttribute('tabIndex', '-1');\n                element.blur();\n            }\n        }\n        else {\n            if (focus === 'add') {\n                element.setAttribute('tabIndex', '0');\n                addClass([element], ['e-focused', 'e-focus']);\n                if (!this.preventScrollIntoView) {\n                    element.scrollIntoView({\n                        block: 'nearest',\n                        inline: 'nearest' // Keeps horizontal position stable\n                    });\n                }\n                this.preventScrollIntoView = false;\n                element.focus();\n            }\n            else {\n                element.setAttribute('tabIndex', '-1');\n                removeClass([element], ['e-focused', 'e-focus']);\n                element.blur();\n            }\n        }\n    };\n    /**\n     * To get index by taskbar element.\n     *\n     * @param {Element} target .\n     * @returns {number} .\n     * @private\n     */\n    GanttChart.prototype.getIndexByTaskBar = function (target) {\n        var row;\n        var recordIndex;\n        if (!target.classList.contains(cls.taskBarMainContainer)) {\n            row = closest(target, 'div.' + cls.taskBarMainContainer);\n        }\n        else {\n            row = target;\n        }\n        if (isNullOrUndefined(row)) {\n            row = closest(target, 'tr.' + cls.chartRow);\n            recordIndex = [].slice.call(this.parent.chartRowsModule.ganttChartTableBody.childNodes).indexOf(row);\n        }\n        else {\n            var id = row.getAttribute('rowUniqueId');\n            var record = this.parent.getRecordByID(id);\n            if (this.parent.enableVirtualization && this.parent.enableMultiTaskbar) {\n                recordIndex = this.parent.flatData.indexOf(record);\n            }\n            else {\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings\n                    && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth\n                    && this.parent.pdfExportModule.isPdfExport) {\n                    recordIndex = this.parent.ids.indexOf(record.ganttProperties.taskId.toString());\n                }\n                else {\n                    recordIndex = this.parent.currentViewData.indexOf(record);\n                }\n            }\n        }\n        return recordIndex;\n    };\n    GanttChart.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        this.chartElement = null;\n        this.rangeViewContainer = null;\n        this.chartBodyContent = null;\n        this.scrollElement = null;\n        this.chartTimelineContainer = null;\n        this.chartBodyContainer = null;\n        if (!isNullOrUndefined(this.scrollObject)) {\n            this.scrollObject.destroy();\n            this.scrollObject = null;\n        }\n    };\n    return GanttChart;\n}());\nexport { GanttChart };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { createElement, isNullOrUndefined, getValue, extend, append } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { getUniversalTime } from '../base/utils';\n/**\n * Configures the `Timeline` of the gantt.\n */\nvar Timeline = /** @class */ (function () {\n    function Timeline(ganttObj) {\n        this.isZoomIn = false;\n        this.isZooming = false;\n        this.isZoomToFit = false;\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        this.pdfExportTopTierCollection = [];\n        this.pdfExportBottomTierCollection = [];\n        this.restrictRender = true;\n        this.applyDstHour = false;\n        this.performedTimeSpanAction = false;\n        this.dstIncreaseHour = false;\n        this.fromDummyDate = false;\n        this.isZoomedToFit = false;\n        this.isZoomingAction = false;\n        this.increaseIteration = false;\n        this.isFirstLoop = false;\n        this.inconsistenceDstApplied = false;\n        this.parent = ganttObj;\n        this.initProperties();\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.initProperties = function () {\n        this.timelineStartDate = null;\n        this.timelineEndDate = null;\n        this.totalTimelineWidth = 0;\n        this.customTimelineSettings = null;\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        if (this.parent.enablePersistence && this.parent.isLoad) {\n            this.parent.timelineSettings = this.parent.currentZoomingLevel;\n        }\n    };\n    /**\n     * To render timeline header series.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.validateTimelineProp = function () {\n        this.roundOffDays();\n        this.processTimelineProperty();\n        this.timelineWidthCalculation();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimeline = function () {\n        this.initProperties();\n        this.processTimelineUnit();\n        this.parent.dataOperation.calculateProjectDates();\n        if (!this.parent.isFromOnPropertyChange) {\n            this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        }\n        var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        this.parent.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.refreshTimelineByTimeSpan = function () {\n        this.validateTimelineProp();\n        if (!this.parent.pdfExportModule || (this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport) ||\n            (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                this.parent.pdfExportModule.helper.exportProps &&\n                !this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.parent.ganttChartModule.chartTimelineContainer.innerHTML = '';\n        }\n        this.createTimelineSeries();\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateChartByNewTimeline = function () {\n        this.parent.chartRowsModule.refreshChartByTimeline();\n        var currentScrollLeft = this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n        this.parent.element.getElementsByClassName('e-timeline-header-container')[0].scrollLeft = currentScrollLeft;\n        this.parent.notify('refreshDayMarkers', {});\n    };\n    /**\n     * Function used to perform Zoomin and Zoomout actions in Gantt control.\n     *\n     * @param {boolean} isZoomIn .\n     * @private\n     * @returns {void}\n     */\n    Timeline.prototype.processZooming = function (isZoomIn) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = this.isZoomedToFit = false;\n        this.updateUndoRedo(isZoomIn);\n        if (!this.parent['isProjectDateUpdated']) {\n            this.parent.dateValidationModule.calculateProjectDates();\n        }\n        if (this.parent.zoomingProjectStartDate) {\n            this.parent.cloneProjectStartDate = this.parent.zoomingProjectStartDate;\n            this.parent.cloneProjectEndDate = this.parent.zoomingProjectEndDate;\n        }\n        this.parent.zoomingProjectStartDate = this.parent.zoomingProjectEndDate = null;\n        var currentZoomingLevel = this.checkCurrentZoomingLevel();\n        this.isZoomIn = isZoomIn;\n        this.isZooming = true;\n        var currentLevel = this.getZoomLevel(currentZoomingLevel, isZoomIn);\n        this.updateToolbar(currentLevel, isZoomIn);\n        currentLevel = this.parent.zoomingLevels.findIndex(function (tempLevel) {\n            return tempLevel.level === currentLevel;\n        });\n        var newTimeline = this.parent.zoomingLevels[currentLevel];\n        var args = {\n            requestType: isZoomIn ? 'beforeZoomIn' : 'beforeZoomOut',\n            timeline: newTimeline,\n            cancel: false\n        };\n        this.parent.trigger('actionBegin', args);\n        if (!args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            newTimeline = args.timeline;\n            this.changeTimelineSettings(newTimeline);\n        }\n        this.isZooming = false;\n    };\n    Timeline.prototype.updateUndoRedo = function (isZoomIn) {\n        var action = isZoomIn ? 'ZoomIn' : 'ZoomOut';\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent'](action)) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var previousTimeline = {\n                action: action,\n                previousZoomingLevel: extend({}, {}, this.parent.currentZoomingLevel, true)\n            };\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n    };\n    Timeline.prototype.getZoomLevel = function (currentZoomingLevel, isZoomIn) {\n        var levelChange = isZoomIn ? 1 : -1;\n        var level = currentZoomingLevel + levelChange;\n        var foundLevel = this.parent.zoomingLevels.find(function (tempLevel) { return tempLevel.level === level; });\n        return foundLevel ? level : currentZoomingLevel;\n    };\n    Timeline.prototype.updateToolbar = function (currentLevel, isZoomIn) {\n        if (this.parent.toolbarModule) {\n            if (isZoomIn) {\n                if (currentLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], true); // disable toolbar items.\n                }\n            }\n            else {\n                if (currentLevel === this.parent.zoomingLevels[0].level) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false); // disable toolbar items.\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true);\n                }\n                else {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], true); // enable toolbar items.\n                }\n            }\n        }\n    };\n    /**\n     * To change the timeline settings property values based upon the Zooming levels.\n     *\n     * @param {ZoomTimelineSettings} newTimeline .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.changeTimelineSettings = function (newTimeline) {\n        var _this = this;\n        if (this.isZoomToFit) {\n            this.isSingleTier = this.customTimelineSettings.topTier.unit === 'None' || this.customTimelineSettings.bottomTier.unit === 'None' ? true : false;\n        }\n        else if (!this.isZoomIn) {\n            this.isSingleTier = newTimeline.topTier.unit === 'None' || newTimeline.bottomTier.unit === 'None' ? true : false;\n        }\n        var skipProperty = this.isSingleTier ?\n            this.customTimelineSettings.topTier.unit === 'None' ?\n                'topTier' : 'bottomTier' : null;\n        Object.keys(this.customTimelineSettings).forEach(function (property) {\n            if (property !== skipProperty) {\n                _this.customTimelineSettings[property] = (typeof newTimeline[property] === 'object'\n                    && !isNullOrUndefined(newTimeline[property])) ? __assign({}, newTimeline[property]) : newTimeline[property];\n            }\n            else {\n                var value = property === 'topTier' ? 'bottomTier' : 'topTier';\n                var assignValue = 'bottomTier';\n                if (newTimeline[\"\" + assignValue].unit !== 'None') {\n                    _this.customTimelineSettings[value] = __assign({}, newTimeline[assignValue]);\n                }\n            }\n        });\n        this.parent.isTimelineRoundOff = this.isZoomToFit ? false : isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        this.processTimelineUnit();\n        this.parent.updateProjectDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate, this.parent.isTimelineRoundOff);\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (this.isZooming || this.isZoomToFit) {\n            var args = {\n                requestType: this.isZoomIn ? 'AfterZoomIn' : this.isZoomToFit ? 'AfterZoomToProject' : 'AfterZoomOut',\n                timeline: this.parent.currentZoomingLevel\n            };\n            this.parent.trigger('actionComplete', args);\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        if (this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule || this.parent.pdfExportModule\n            && !this.parent.pdfExportModule.isPdfExport)) {\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n            if (this.wholeTimelineWidth <= this.totalTimelineWidth) {\n                this.wholeTimelineWidth = this.totalTimelineWidth;\n            }\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser at virtualtimeline mode-Task(919516)\n            if (this.isZoomToFit) {\n                this.clientWidthDifference = Math.abs(this.wholeTimelineWidth - this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = (this.wholeTimelineWidth - this.clientWidthDifference) + 'px';\n                }\n            }\n            else {\n                this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack'))) {\n                    this.parent.element.querySelectorAll('.e-timeline-header-container')[0].querySelector('.e-virtualtrack')['style'].width = this.wholeTimelineWidth + 'px';\n                }\n            }\n            this.parent.ganttChartModule.updateWidthAndHeight();\n        }\n    };\n    /**\n     * To perform the zoom to fit operation in Gantt.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processZoomToFit = function () {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.isZoomToFit = true;\n        this.isZooming = false;\n        this.isZoomedToFit = true;\n        var previousTimeline = {};\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('ZoomToFit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            previousTimeline['action'] = 'ZoomToFit';\n            previousTimeline['previousTimelineStartDate'] = extend([], [], [this.parent.cloneProjectStartDate], true)[0];\n            previousTimeline['previousTimelineEndDate'] = extend([], [], [this.parent.cloneProjectEndDate], true)[0];\n            previousTimeline['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = previousTimeline;\n        }\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var totalDays;\n        var nonWorkingDays = 0;\n        if (!this.parent.timelineSettings.showWeekend) {\n            nonWorkingDays = this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate);\n        }\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        totalDays = (timeDifference / (1000 * 3600 * 24));\n        totalDays = totalDays - nonWorkingDays;\n        var chartWidth = this.parent.ganttChartModule.chartElement.offsetWidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.roundOffDateToZoom(this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.roundOffDateToZoom(this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.calculateNumberOfTimelineCells(newTimeline);\n        var scrollHeight = this.parent.ganttChartModule.scrollElement.offsetHeight - 17; //17 is horizontal scrollbar width\n        var contentHeight = this.parent.ganttChartModule.chartBodyContent.offsetHeight;\n        var emptySpace = contentHeight <= scrollHeight ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        var args = {\n            requestType: 'beforeZoomToProject',\n            timeline: newTimeline\n        };\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin', this.parent.controlId + '_zoomout'], true);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (!args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n            this.changeTimelineSettings(newTimeline);\n            this.parent.isTimelineRoundOff = isNullOrUndefined(this.parent.projectStartDate) ? true : false;\n        }\n        this.isZoomToFit = false;\n    };\n    Timeline.prototype.bottomTierCellWidthCalc = function (mode, zoomLevel, date) {\n        var convertedMilliSeconds;\n        switch (mode) {\n            case 'Minutes':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 1000);\n                break;\n            case 'Hour':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 1000);\n                break;\n            case 'Week':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (7 * 24 * 60 * 60 * 1000);\n                break;\n            case 'Day':\n                convertedMilliSeconds = zoomLevel.bottomTier.count * (24 * 60 * 60 * 1000);\n                break;\n            case 'Month':\n                {\n                    var daysInMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInMonth * 1000);\n                    break;\n                }\n            case 'Year':\n                {\n                    var daysInYear = (date.getFullYear() % 400 === 0 ||\n                        (date.getFullYear() % 100 !== 0 && date.getFullYear() % 4 === 0)) ? 366 : 365;\n                    convertedMilliSeconds = zoomLevel.bottomTier.count * (60 * 60 * 24 * daysInYear * 1000);\n                    break;\n                }\n        }\n        return convertedMilliSeconds;\n    };\n    Timeline.prototype.roundOffDateToZoom = function (date, isStartDate, perDayWidth, tierMode, zoomingLevel) {\n        var roundOffTime = this.bottomTierCellWidthCalc(tierMode, zoomingLevel, date);\n        if (isStartDate) {\n            date.setTime(date.getTime() - roundOffTime);\n        }\n        else {\n            date.setTime(date.getTime() + roundOffTime);\n        }\n    };\n    /**\n     * Calculates the number of timeline cells required for a given timeline configuration.\n     *\n     * @param {ZoomTimelineSettings} newTimeline - The configuration settings for the timeline, including tier settings.\n     * @returns {number} - Returns the calculated number of timeline cells based on the unit and count.\n     *\n     * The method determines the number of days between the project start and end dates, adjusts this value\n     * by excluding non-working days if weekends are hidden, and calculates the number of timeline cells\n     * that fit within this adjusted duration according to the specified timeline settings.\n     */\n    Timeline.prototype.calculateNumberOfTimelineCells = function (newTimeline) {\n        var sDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var eDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var numberOfDays;\n        var nonWorkingDays = 0;\n        if (!this.parent.timelineSettings.showWeekend) {\n            nonWorkingDays = this.calculateNonWorkingDaysBetweenDates(this.parent.cloneProjectStartDate, this.parent.cloneProjectEndDate);\n        }\n        numberOfDays = Math.abs((eDate.getTime() - sDate.getTime()) / (24 * 60 * 60 * 1000));\n        numberOfDays -= nonWorkingDays;\n        var count = newTimeline.bottomTier.count;\n        var unit = newTimeline.bottomTier.unit;\n        if (unit === 'Day') {\n            return numberOfDays / count;\n        }\n        else if (unit === 'Week') {\n            return (numberOfDays / count) / 7;\n        }\n        else if (unit === 'Month') {\n            return (numberOfDays / count) / 28;\n        }\n        else if (unit === 'Year') {\n            return (numberOfDays / count) / (12 * 28);\n        }\n        else if (unit === 'Hour') {\n            return numberOfDays * (24 / count);\n        }\n        else {\n            return numberOfDays * ((60 * 24) / count);\n        }\n    };\n    /**\n     * To validate time line unit.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineUnit = function () {\n        var directProperty = ['timelineViewMode', 'timelineUnitSize', 'weekStartDay', 'weekendBackground'];\n        var innerProperty = {\n            'topTier': ['unit', 'format', 'count', 'formatter'],\n            'bottomTier': ['unit', 'format', 'count', 'formatter']\n        };\n        var tierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        this.customTimelineSettings = this.customTimelineSettings ? this.customTimelineSettings :\n            this.extendFunction(this.parent.timelineSettings, directProperty, innerProperty);\n        if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1) &&\n            (tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1)) {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.timelineViewMode) !== -1 ?\n                this.customTimelineSettings.timelineViewMode : 'Week';\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== 5 ?\n                tierUnits[tierUnits.indexOf(this.customTimelineSettings.topTier.unit) + 1] : 'None';\n        }\n        else if ((tierUnits.indexOf(this.customTimelineSettings.topTier.unit) !== -1 &&\n            tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) !== -1)\n            && (tierUnits.indexOf(this.customTimelineSettings.topTier.unit) >\n                tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit))) {\n            this.customTimelineSettings.bottomTier.unit = this.customTimelineSettings.topTier.unit;\n        }\n        else {\n            this.customTimelineSettings.topTier.unit = tierUnits.indexOf(this.customTimelineSettings.topTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.topTier.unit;\n            this.customTimelineSettings.bottomTier.unit = tierUnits.indexOf(this.customTimelineSettings.bottomTier.unit) === -1 ?\n                'None' : this.customTimelineSettings.bottomTier.unit;\n        }\n        this.topTier = this.customTimelineSettings.topTier.unit;\n        this.bottomTier = this.customTimelineSettings.bottomTier.unit;\n        this.previousIsSingleTier = this.isSingleTier;\n        this.isSingleTier = this.topTier === 'None' || this.bottomTier === 'None' ? true : false;\n    };\n    /**\n     * To validate timeline properties.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.processTimelineProperty = function () {\n        this.customTimelineSettings.topTier.count = (this.topTier === 'None') ?\n            1 : this.validateCount(this.customTimelineSettings.topTier.unit, this.customTimelineSettings.topTier.count, 'topTier');\n        this.customTimelineSettings.bottomTier.count = this.customTimelineSettings.bottomTier.unit === 'None' ?\n            1 : this.validateCount(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.count, 'bottomTier');\n        this.customTimelineSettings.bottomTier.format = this.validateFormat(this.customTimelineSettings.bottomTier.unit, this.customTimelineSettings.bottomTier.format);\n        this.customTimelineSettings.topTier.format = this.validateFormat(this.topTier, this.customTimelineSettings.topTier.format);\n        this.customTimelineSettings.weekStartDay = this.customTimelineSettings.weekStartDay >= 0 &&\n            this.customTimelineSettings.weekStartDay <= 6 ? this.customTimelineSettings.weekStartDay : 0;\n        if (!(this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.checkCurrentZoomingLevel();\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.calculateZoomingLevelsPerDayWidth = function () {\n        var collections = this.parent.zoomingLevels;\n        for (var i = 0; i < collections.length; i++) {\n            var perDayWidth = this.getPerDayWidth(collections[i].timelineUnitSize, collections[i].bottomTier.count, collections[i].bottomTier.unit);\n            collections[i].perDayWidth = perDayWidth;\n        }\n    };\n    /**\n     * To find the current zooming level of the Gantt control.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.checkCurrentZoomingLevel = function () {\n        var count = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.count : this.customTimelineSettings.topTier.count;\n        var unit = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            this.customTimelineSettings.bottomTier.unit : this.customTimelineSettings.topTier.unit;\n        var tier = this.customTimelineSettings.bottomTier.unit !== 'None' ?\n            'bottomTier' : 'topTier';\n        var zoomLevel = this.getCurrentZoomingLevel(unit, count, tier);\n        if (this.parent.toolbarModule) {\n            if (zoomLevel === this.parent.zoomingLevels[this.parent.zoomingLevels.length - 1].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else if (zoomLevel === this.parent.zoomingLevels[0].level) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        this.parent.currentZoomingLevel = this.parent.zoomingLevels[zoomLevel];\n        return zoomLevel;\n    };\n    /**\n     * @param {string} unit .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getCurrentZoomingLevel = function (unit, count, tier) {\n        var level;\n        var currentZoomCollection;\n        var checkSameCountLevels;\n        var secondValue;\n        var firstValue;\n        if (!this.parent.zoomingLevels.length) {\n            this.parent.zoomingLevels = this.parent.getZoomingLevels();\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            if (tier === 'bottomTier') {\n                return tempLevel.bottomTier.unit === unit;\n            }\n            else {\n                return tempLevel.topTier.unit === unit;\n            }\n        });\n        if (sameUnitLevels.length === 0) {\n            var closestUnit_1 = this.getClosestUnit(unit, '', false);\n            sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n                if (tier === 'bottomTier') {\n                    return tempLevel.bottomTier.unit === closestUnit_1;\n                }\n                else {\n                    return tempLevel.topTier.unit === closestUnit_1;\n                }\n            });\n        }\n        var sortedUnitLevels = sameUnitLevels.sort(function (a, b) {\n            if (tier === 'bottomTier') {\n                return (!a.bottomTier.count || !b.bottomTier.count) ? 0 : ((a.bottomTier.count < b.bottomTier.count) ? 1 : -1);\n            }\n            else {\n                return (!a.topTier.count || !b.topTier.count) ? 0 : ((a.topTier.count < b.topTier.count) ? 1 : -1);\n            }\n        });\n        for (var i = 0; i < sortedUnitLevels.length; i++) {\n            firstValue = sortedUnitLevels[i];\n            if (i === sortedUnitLevels.length - 1) {\n                level = sortedUnitLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedUnitLevels[i + 1];\n            }\n            if (count >= firstValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n            else if (count < firstValue[\"\" + tier].count && count > secondValue[\"\" + tier].count) {\n                currentZoomCollection = sortedUnitLevels[i + 1];\n                checkSameCountLevels = sortedUnitLevels.filter(function (tempLevel) {\n                    if (tier === 'bottomTier') {\n                        return tempLevel.bottomTier.count === currentZoomCollection.bottomTier.count;\n                    }\n                    else {\n                        return tempLevel.topTier.count === currentZoomCollection.topTier.count;\n                    }\n                });\n                if (checkSameCountLevels.length > 1) {\n                    level = this.checkCollectionsWidth(checkSameCountLevels);\n                }\n                else {\n                    level = checkSameCountLevels[0].level;\n                }\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * Getting closest zooimg level.\n     *\n     * @param {string} unit .\n     * @param {string} closetUnit .\n     * @param {boolean} isCont .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.getClosestUnit = function (unit, closetUnit, isCont) {\n        var bottomTierUnits = ['Year', 'Month', 'Week', 'Day', 'Hour', 'Minutes'];\n        var index = bottomTierUnits.indexOf(unit);\n        if (index === 0) {\n            isCont = true;\n        }\n        if (this.isZoomIn || isCont) {\n            unit = bottomTierUnits[index + 1];\n        }\n        else {\n            unit = bottomTierUnits[index - 1];\n        }\n        var sameUnitLevels = this.parent.zoomingLevels.filter(function (tempLevel) {\n            return tempLevel.bottomTier.unit === unit;\n        });\n        if (sameUnitLevels.length === 0) {\n            if (unit === 'Year') {\n                isCont = true;\n            }\n            closetUnit = unit;\n            return this.getClosestUnit(unit, closetUnit, isCont);\n        }\n        else {\n            return unit;\n        }\n    };\n    Timeline.prototype.checkCollectionsWidth = function (checkSameLevels) {\n        var zoomLevels = checkSameLevels;\n        var width = this.customTimelineSettings.timelineUnitSize;\n        var level;\n        var secondValue;\n        var firstValue;\n        var sortedZoomLevels = zoomLevels.sort(function (a, b) {\n            return (a.timelineUnitSize < b.timelineUnitSize) ? 1 : -1;\n        });\n        for (var i = 0; i < sortedZoomLevels.length; i++) {\n            firstValue = sortedZoomLevels[i];\n            if (i === sortedZoomLevels.length - 1) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else {\n                secondValue = sortedZoomLevels[i + 1];\n            }\n            if (width >= firstValue.timelineUnitSize) {\n                level = sortedZoomLevels[i].level;\n                break;\n            }\n            else if (width < firstValue.timelineUnitSize && width > secondValue.timelineUnitSize) {\n                level = sortedZoomLevels[i + 1].level;\n                break;\n            }\n        }\n        return level;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.updateTimelineHeaderHeight = function () {\n        if (this.parent.timelineModule.isSingleTier) {\n            this.parent.element.classList.add(cls.ganttSingleTimeline);\n        }\n        else {\n            this.parent.element.classList.remove(cls.ganttSingleTimeline);\n        }\n        if (this.previousIsSingleTier !== this.isSingleTier) {\n            var toolbarHeight = 0;\n            if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n                toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n            }\n            this.parent.ganttChartModule.scrollObject.\n                setHeight(this.parent.ganttHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n            this.parent.treeGrid.height = this.parent.ganttHeight - toolbarHeight -\n                this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        }\n    };\n    /**\n     * Calculates the corresponding date for a given left pixel value on the timeline.\n     *\n     * @param {number} left - The left position in pixels to be converted to a date.\n     * @param {boolean} isMilestone - (Optional) A boolean indicating whether the date refers to a milestone.\n     * @param {ITaskData} property - (Optional) An object containing task data, used when adjusting for milestones.\n     * @returns {Date} - Returns the calculated date according to the Gantt chart's timeline settings.\n     *\n     * This method converts a pixel-based position on the Gantt timeline to an actual date,\n     * taking into account working days, non-working days, and adjustments for daylight saving\n     * time. If weekends are hidden, it calculates the date based on working weeks.\n     * For milestones, it adjusts the date by determining the accurate end time.\n     */\n    Timeline.prototype.dateByLeftValue = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        if (!this.parent.timelineSettings.showWeekend) {\n            pStartDate = this.calculateDateExcludingNonWorkingDays(left, pStartDate);\n        }\n        else {\n            pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n        }\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            pStartDate.setDate(pStartDate.getDate() - 1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            }\n        }\n        return pStartDate;\n    };\n    /**\n     * Calculates a date by considering a given distance in pixels and excluding non-working days.\n     *\n     * This function takes into account the width of each day in the Gantt chart as well as non-working days to compute the resulting date from a specified pixel position.\n     * It returns the date that corresponds to the pixel distance from `pStartDate`.\n     *\n     * @param {number} left - The distance in pixels from the start date to calculate the date.\n     * @param {Date} pStartDate - The start date from which to calculate the resulting date.\n     * @returns {Date} - Returns the calculated date excluding non-working days.\n     */\n    Timeline.prototype.calculateDateExcludingNonWorkingDays = function (left, pStartDate) {\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        var totalDays = Math.floor(left * milliSecondsPerPixel / milliSecondsPerDay);\n        var totalDaysPerWeek = 7;\n        var workingDaysPerWeek = totalDaysPerWeek - nonWorkingDays.length;\n        // Calculate full weeks and extra days\n        var fullWeeks = Math.floor(totalDays / workingDaysPerWeek);\n        var extraDays = totalDays % workingDaysPerWeek;\n        // Set the calculated date by adding full weeks\n        var calculatedDate = new Date(pStartDate);\n        calculatedDate.setDate(calculatedDate.getDate() + fullWeeks * totalDaysPerWeek);\n        // Process the remaining days\n        var daysAdded = 0;\n        while (daysAdded < extraDays) {\n            calculatedDate.setDate(calculatedDate.getDate() + 1);\n            if (nonWorkingDays.indexOf(calculatedDate.getDay()) === -1) {\n                daysAdded++;\n            }\n        }\n        return calculatedDate;\n    };\n    /**\n     * To create timeline header template.\n     *\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.createTimelineSeries = function () {\n        var tr;\n        var td;\n        var div;\n        var table;\n        var thead;\n        var virtualTableDiv;\n        var virtualTrackDiv;\n        var loopCount = this.isSingleTier ? 1 : 2;\n        var tier = this.topTier === 'None' ? 'bottomTier' : 'topTier';\n        this.topTierCollection = [];\n        this.bottomTierCollection = [];\n        if (this.restrictRender === true) {\n            this.updateTimelineHeaderHeight();\n            this.wholeTimelineWidth = this.calculateWidthBetweenTwoDate(tier, this.parent.timelineModule.timelineStartDate, this.parent.timelineModule.timelineEndDate);\n        }\n        if (this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                virtualTableDiv = createElement('div', { className: cls.virtualTable });\n                virtualTrackDiv = createElement('div', { className: cls.virtualTrack });\n                td.appendChild(div);\n                tr.appendChild(td);\n                virtualTableDiv.appendChild(tr);\n                thead.appendChild(virtualTableDiv);\n                thead.appendChild(virtualTrackDiv);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n                this.restrictRender = false;\n            }\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n            this.timelineVirtualizationStyles();\n        }\n        else {\n            for (var count = 0; count < loopCount; count++) {\n                table = createElement('table', { className: cls.timelineHeaderTableContainer, styles: 'display: block;' });\n                table.setAttribute('role', 'none');\n                thead = createElement('thead', { className: cls.timelineHeaderTableBody, styles: 'display:block; border-collapse:collapse' });\n                var trTemplate = this.createTimelineTemplate(tier);\n                tr = createElement('tr');\n                Array.from(trTemplate.childNodes).forEach(function (child) {\n                    tr.appendChild(child);\n                });\n                td = createElement('td');\n                div = createElement('div', { styles: 'width: 20px' });\n                td.appendChild(div);\n                tr.appendChild(td);\n                thead.appendChild(tr);\n                table.appendChild(thead);\n                this.parent.ganttChartModule.chartTimelineContainer.appendChild(table);\n                tier = 'bottomTier';\n                tr = null;\n            }\n            this.wholeTimelineWidth = this.totalTimelineWidth;\n            if (this.parent.height === 'auto' || this.parent.timelineModule.isSingleTier) {\n                var timelineContainer = this.parent.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                if (!isNullOrUndefined(this.parent.element.getElementsByClassName('e-gridcontent')[0])) {\n                    this.parent.treeGrid.element.getElementsByClassName('e-gridcontent')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n                }\n            }\n        }\n    };\n    Timeline.prototype.timelineVirtualizationStyles = function () {\n        var translateXValue = 0;\n        var translateYValue = 0;\n        var trackWidth = this.wholeTimelineWidth;\n        if (this.parent.enableTimelineVirtualization) {\n            //e-content styles updating\n            translateXValue = (this.parent.enableTimelineVirtualization &&\n                !isNullOrUndefined(this.parent.ganttChartModule.scrollObject.element.scrollLeft)\n                && this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0) ?\n                this.parent.ganttChartModule.scrollObject.getTimelineLeft() : 0;\n            if (this.parent.enableRtl) {\n                translateXValue = -(translateXValue);\n            }\n            var contentVirtualTable = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtable');\n            contentVirtualTable.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n            var contentVirtualTrack = this.parent.element.querySelectorAll('.e-chart-scroll-container')[0].querySelector('.e-virtualtrack');\n            contentVirtualTrack.style.position = 'relative';\n            contentVirtualTrack.style.width = trackWidth + 'px';\n            //timeline styles updating\n            if (this.parent.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                var virtualTableStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtable');\n                var virtualTableStylesB = void 0;\n                if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                    virtualTableStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtable');\n                }\n                virtualTableStylesT.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                if (!isNullOrUndefined(virtualTableStylesB)) {\n                    virtualTableStylesB.style.transform = \"translate(\" + translateXValue + \"px, \" + translateYValue + \"px)\";\n                }\n            }\n            var virtualTrackStylesT = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[0].querySelector('.e-virtualtrack');\n            var virtualTrackStylesB = void 0;\n            if (!isNullOrUndefined(this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1])) {\n                virtualTrackStylesB = this.parent.element.querySelectorAll('.e-timeline-header-table-container')[1].querySelector('.e-virtualtrack');\n            }\n            if (!isNullOrUndefined(virtualTrackStylesB)) {\n                virtualTrackStylesB.style.position = 'relative';\n                virtualTrackStylesB.style.width = trackWidth + 'px';\n            }\n            virtualTrackStylesT.style.position = 'relative';\n            virtualTrackStylesT.style.width = trackWidth + 'px';\n            //dependency viewer styles updating\n            var dependencyViewer = this.parent.connectorLineModule.svgObject;\n            dependencyViewer['style'].width = trackWidth + 'px';\n            // timeline header container width updating\n            var timelineHeader = this.parent.element.querySelector('.' + cls.timelineHeaderContainer);\n            timelineHeader['style'].width = 'calc(100% - ' + 17 + 'px)';\n            if (this.parent.timelineModule.isZooming || this.parent.timelineModule.isZoomToFit) {\n                this.parent.ganttChartModule.scrollElement.scrollLeft = 0;\n                this.isZoomingAction = true;\n                this.parent.ganttChartModule.scrollObject.updateChartElementStyles();\n            }\n        }\n    };\n    /**\n     * To validate timeline tier count.\n     *\n     * @param {string} mode .\n     * @param {number} count .\n     * @param {string} tier .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateCount = function (mode, count, tier) {\n        var tierCount = !isNullOrUndefined(count) && parseInt(count.toString(), 10) > 0 ? parseInt(count.toString(), 10) : 1;\n        var timeDifference = Math.abs(this.timelineRoundOffEndDate.getTime() - this.timelineStartDate.getTime());\n        var difference;\n        switch (mode) {\n            case 'Year':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / (12 * 28));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Month':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 28);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? (difference + 1) : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Week':\n                difference = Math.round((timeDifference / (1000 * 3600 * 24)) / 7);\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Day':\n                difference = Math.round(timeDifference / (1000 * 3600 * 24));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Hour':\n                difference = Math.round(timeDifference / (1000 * 3600));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n            case 'Minutes':\n                difference = Math.round(timeDifference / (1000 * 60));\n                tierCount = tierCount <= difference ? tierCount : difference > 0 ? difference : 1;\n                if (this.topTier !== 'None' && tier === 'bottomTier') {\n                    tierCount = this.validateBottomTierCount(mode, tierCount);\n                }\n                break;\n        }\n        if (count !== tierCount && this.isZooming && this.parent.toolbarModule && (tier === 'bottomTier' || this.isSingleTier)) {\n            if (this.isZoomIn) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomin'], false);\n            }\n            else {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_zoomout'], false);\n            }\n        }\n        return tierCount;\n    };\n    /**\n     * To validate bottom tier count.\n     *\n     * @param {string} mode .\n     * @param {number} tierCount .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.validateBottomTierCount = function (mode, tierCount) {\n        var count;\n        switch (mode) {\n            case 'Year':\n                count = tierCount <= this.customTimelineSettings.topTier.count ?\n                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Month':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * 12) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * 12) :\n                    tierCount <= this.customTimelineSettings.topTier.count ?\n                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Week':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 4)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 4)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 4) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 4) :\n                        tierCount <= this.customTimelineSettings.topTier.count ?\n                            tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Day':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * 28) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * 28) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7) :\n                            tierCount <= this.customTimelineSettings.topTier.count ? tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Hour':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24) :\n                                tierCount <= this.customTimelineSettings.topTier.count ?\n                                    tierCount : this.customTimelineSettings.topTier.count;\n                break;\n            case 'Minutes':\n                count = this.topTier === 'Year' ? tierCount <= (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) ?\n                    tierCount : (this.customTimelineSettings.topTier.count * (12 * 28 * 24 * 60)) :\n                    this.topTier === 'Month' ? tierCount <= (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) ?\n                        tierCount : (this.customTimelineSettings.topTier.count * (28 * 24 * 60)) :\n                        this.topTier === 'Week' ? tierCount <= (this.customTimelineSettings.topTier.count * 7 * 24 * 60) ?\n                            tierCount : (this.customTimelineSettings.topTier.count * 7 * 24 * 60) :\n                            this.topTier === 'Day' ? tierCount <= (this.customTimelineSettings.topTier.count * 24 * 60) ?\n                                tierCount : (this.customTimelineSettings.topTier.count * 24 * 60) :\n                                this.topTier === 'Hour' ? tierCount <= (this.customTimelineSettings.topTier.count * 60) ?\n                                    tierCount : (this.customTimelineSettings.topTier.count * 60) :\n                                    tierCount <= this.customTimelineSettings.topTier.count ?\n                                        tierCount : this.customTimelineSettings.topTier.count;\n                break;\n        }\n        return count;\n    };\n    /**\n     * To validate timeline tier format.\n     *\n     * @param {string} mode .\n     * @param {string} format .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.validateFormat = function (mode, format) {\n        var tierFormat;\n        switch (mode) {\n            case 'Week':\n                tierFormat = !format ? 'MMM dd, yyyy' : format;\n                break;\n            case 'Day':\n            case 'None':\n                tierFormat = !format ? '' : format;\n                break;\n            case 'Hour':\n                tierFormat = !format ? 'H' : format;\n                break;\n            case 'Month':\n                tierFormat = !format ? 'MMM yyyy' : format;\n                break;\n            case 'Year':\n                tierFormat = !format ? 'yyyy' : format;\n                break;\n            case 'Minutes':\n                tierFormat = !format ? 'm' : format;\n                break;\n        }\n        return tierFormat;\n    };\n    /**\n     * To perform extend operation.\n     *\n     * @param {object} cloneObj .\n     * @param {string[]} propertyCollection .\n     * @param {object} innerProperty .\n     * @returns {object} .\n     * @private\n     */\n    Timeline.prototype.extendFunction = function (cloneObj, propertyCollection, innerProperty) {\n        var _this = this;\n        var tempObj = {};\n        for (var index = 0; index < propertyCollection.length; index++) {\n            tempObj[propertyCollection[index]] = cloneObj[propertyCollection[index]];\n        }\n        if (innerProperty) {\n            Object.keys(innerProperty).forEach(function (key) {\n                tempObj[key] = _this.extendFunction(cloneObj[key], innerProperty[key], null);\n            });\n        }\n        return tempObj;\n    };\n    /**\n     * To format date.\n     *\n     * @param {string} dayFormat .\n     * @param {Date} data .\n     * @param {Date} dummyStartDate .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.formatDateHeader = function (dayFormat, data, dummyStartDate) {\n        var date = new Date(data.getTime());\n        var dateString;\n        if (dayFormat === '') {\n            dateString = this.parent.globalize.formatDate(date, { format: 'E' });\n            if (this.parent.locale === 'zh') {\n                dateString = dateString.slice(1);\n            }\n            else {\n                if (this.parent.locale === 'ar') {\n                    var dateStringValue = dateString;\n                    dateString = dateStringValue;\n                }\n                else {\n                    dateString = dateString.slice(0, 1);\n                }\n            }\n        }\n        else {\n            dateString = this.parent.globalize.formatDate(date, { format: dayFormat });\n            if (dummyStartDate) {\n                dateString = this.updateHourInFormat(dayFormat, dateString, dummyStartDate.getHours()).updatedFormat;\n            }\n        }\n        return dateString;\n    };\n    Timeline.prototype.isDateAffectedByDST = function (modifiedDate) {\n        var date = new Date(modifiedDate);\n        var offsetAfter = date.getTimezoneOffset();\n        for (var hoursBack = 1; hoursBack <= 3; hoursBack++) {\n            var testDate = new Date(date.getTime() - hoursBack * 60 * 60 * 1000);\n            var offsetBefore = testDate.getTimezoneOffset();\n            if (offsetBefore !== offsetAfter) {\n                return true; // DST transition happened\n            }\n        }\n        return false; // No DST transition detected\n    };\n    Timeline.prototype.calculateIteration = function (dummystartDate, startDate, mode, count) {\n        dummystartDate.setHours(startDate.getHours());\n        if (this.isFirstLoop && this.parent.isInDst(startDate) &&\n            this.isDateAffectedByDST(startDate)) {\n            dummystartDate.setHours(dummystartDate.getHours() - 1);\n            this.increaseIteration = true;\n        }\n        this.isFirstLoop = false;\n        dummystartDate.setMinutes(startDate.getMinutes());\n        dummystartDate.setSeconds(startDate.getSeconds());\n        dummystartDate.setMilliseconds(startDate.getMilliseconds());\n        var iterations;\n        if (mode === 'Hour') {\n            var startHour = startDate.getHours();\n            // Calculate iterations based on remaining hours in the day\n            iterations = Math.ceil((24 - startHour) / count);\n        }\n        else if (mode === 'Minutes') {\n            var startHour = startDate.getHours();\n            var startMinute = startDate.getMinutes();\n            // Calculate iterations based on remaining minutes in the day\n            iterations = Math.ceil((1440 - (startHour * 60 + startMinute)) / count);\n        }\n        if (this.increaseIteration) {\n            iterations += 1;\n            this.increaseIteration = false;\n        }\n        return { iterations: iterations, dummystartDate: dummystartDate };\n    };\n    Timeline.prototype.updateHourInFormat = function (dayFormat, formattedDate, newHour) {\n        var hour12Pattern = /(h{1,2})/; // Matches 'h' or 'hh'\n        var hour24Pattern = /(H{1,2})/; // Matches 'H' or 'HH'\n        var hourMatch = dayFormat.match(hour12Pattern) || dayFormat.match(hour24Pattern);\n        if (!hourMatch) {\n            // No hour format found\n            return { hasHour: false, updatedFormat: formattedDate };\n        }\n        var hourFormat = hourMatch[0]; // Get the hour format string\n        var formatParts = dayFormat.split(/[\\s,:]+/);\n        var dateParts = formattedDate.split(/[\\s,:]+/);\n        var hourIndex = formatParts.findIndex(function (part) { return part.includes('h') || part.includes('H'); });\n        if (hourIndex === -1 || hourIndex >= dateParts.length) {\n            return { hasHour: false, updatedFormat: formattedDate };\n        }\n        function padWithZeros(num, length) {\n            var numStr = String(num);\n            while (numStr.length < length) {\n                numStr = '0' + numStr;\n            }\n            return numStr;\n        }\n        var formattedHour = padWithZeros(newHour, hourFormat.length);\n        dateParts[hourIndex] = formattedHour;\n        var updatedDate = dateParts.join(' ');\n        return { hasHour: true, hourIndex: hourIndex, updatedFormat: updatedDate };\n    };\n    /**\n     * Custom Formatting.\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @param {string} tier .\n     * @param {string} mode .\n     * @param {string | ITimelineFormatter} formatter .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.customFormat = function (date, format, tier, mode, formatter) {\n        formatter = (typeof formatter === 'string' ? getValue(formatter, window) : formatter);\n        return formatter(date, format, tier, mode);\n    };\n    /**\n     * To create timeline template .\n     *\n     * @param {string} tier .\n     * @returns {string} .\n     * @private\n     */\n    Timeline.prototype.createTimelineTemplate = function (tier) {\n        var isFirstCell = false;\n        var parent = this.parent;\n        var parentTh = createElement('th');\n        var parentTr;\n        var mode = tier === 'topTier' ?\n            parent.timelineModule.customTimelineSettings.topTier.unit :\n            parent.timelineModule.customTimelineSettings.bottomTier.unit;\n        var count = tier === 'topTier' ? parent.timelineModule.customTimelineSettings.topTier.count :\n            parent.timelineModule.customTimelineSettings.bottomTier.count;\n        var topTier = parent.timelineModule.customTimelineSettings.topTier;\n        var bottomTier = parent.timelineModule.customTimelineSettings.bottomTier;\n        var increment;\n        var newTime;\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.dateByLeftValue(leftValueForStartDate)).toString()) :\n            new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var endDate = new Date(this.timelineRoundOffEndDate.toString());\n        var scheduleDateCollection = [];\n        var uniqueTimestamps = new Set();\n        var width = 0;\n        var WidthForVirtualTable = this.parent.element.offsetWidth * 3;\n        var hasDST = this.parent.dataOperation.hasDSTTransition(startDate.getFullYear());\n        var dummystartDate = new Date(2000, 0, 1, 0, 0, 0, 0);\n        var loopEnd = false;\n        this.isFirstLoop = true;\n        do {\n            //  to restict the creation of weekend element in UI\n            if (!this.parent.timelineSettings.showWeekend && this.isNonWorkingDayHeader(mode, tier, startDate)) {\n                increment = Math.abs(this.getIncrement(startDate, count, mode, isFirstCell, true));\n                newTime = startDate.getTime() + increment;\n                startDate.setTime(newTime);\n                continue;\n            }\n            // PDf export collection\n            var timelineCell = {};\n            timelineCell.startDate = new Date(startDate.getTime());\n            var incrementsDone = {};\n            if ((mode === 'Month' || mode === 'Hour') && tier === 'bottomTier' && (count !== 1) && scheduleDateCollection.length === 0) {\n                isFirstCell = true;\n            }\n            if (((mode === 'Hour') || (mode === 'Minutes' && count === 60) ||\n                (topTier.unit === 'Hour' && bottomTier.unit === 'Minutes')) && hasDST) {\n                var calculatedIteration = this.calculateIteration(dummystartDate, startDate, mode, count);\n                var iterations = calculatedIteration.iterations;\n                dummystartDate.setTime(calculatedIteration.dummystartDate.getTime());\n                for (var i = 0; i < iterations; i++) {\n                    timelineCell = {};\n                    timelineCell.startDate = new Date(startDate.getTime());\n                    if (startDate.getHours() !== dummystartDate.getHours()) {\n                        this.applyDstHour = true;\n                    }\n                    parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell, dummystartDate);\n                    var formattedStartDate = new Date(startDate.toString());\n                    var timestamp = formattedStartDate.getTime();\n                    if (!uniqueTimestamps.has(timestamp)) {\n                        uniqueTimestamps.add(timestamp);\n                        scheduleDateCollection.push(formattedStartDate);\n                    }\n                    var incrementResult = this.getIncrement(startDate, count, mode, isFirstCell, true);\n                    var dummyDateIncrement = incrementResult;\n                    if (mode === 'Minutes' || mode === 'Hour') {\n                        if (this.dstIncreaseHour) {\n                            this.fromDummyDate = true;\n                            dummyDateIncrement = this.getIncrement(dummystartDate, count, mode, isFirstCell, true);\n                            this.dstIncreaseHour = false;\n                            this.fromDummyDate = false;\n                        }\n                        dummystartDate.setTime(dummystartDate.getTime() + dummyDateIncrement);\n                        if (this.inconsistenceDstApplied) {\n                            startDate.setTime(startDate.getTime() + incrementResult - 1800000);\n                            this.inconsistenceDstApplied = false;\n                        }\n                        else {\n                            startDate.setTime(startDate.getTime() + incrementResult);\n                        }\n                    }\n                    isFirstCell = false;\n                    if (i === iterations - 1 && startDate.getHours() !== 0) {\n                        startDate.setHours(0);\n                    }\n                    if (startDate.getHours() === 23 && startDate.getHours() !== dummystartDate.getHours()) {\n                        startDate.setHours(startDate.getHours() - 1);\n                    }\n                    if (startDate >= endDate) {\n                        /* eslint-disable-next-line */\n                        parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n                        loopEnd = true;\n                    }\n                    parentTh.appendChild(parentTr);\n                    var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n                    timelineCell.endDate = new Date(startDate.getTime());\n                    if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport &&\n                        this.parent.enableTimelineVirtualization) {\n                        if (tier === 'topTier') {\n                            this.pdfExportTopTierCollection.push(timelineCell);\n                        }\n                        else {\n                            this.pdfExportBottomTierCollection.push(timelineCell);\n                        }\n                    }\n                    else {\n                        tierCollection.push(timelineCell);\n                    }\n                    width += timelineCell.width;\n                    this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n                    if (loopEnd) {\n                        loopEnd = false;\n                        break;\n                    }\n                }\n                this.applyDstHour = false;\n                if (mode === 'Hour') {\n                    incrementsDone.day = Math.floor((iterations * count) / 24);\n                }\n                else if (mode === 'Minutes') {\n                    incrementsDone.day = Math.floor((iterations * count) / 1440);\n                }\n                dummystartDate = new Date(2000, 0, 1, 0, 0, 0, 0);\n            }\n            else {\n                parentTr = this.getHeaterTemplateString(new Date(startDate.toString()), mode, tier, false, count, timelineCell, isFirstCell);\n                scheduleDateCollection.push(new Date(startDate.toString()));\n                if (isFirstCell && mode === 'Month') {\n                    newTime = this.calculateQuarterEndDate(startDate, count).getTime();\n                }\n                else {\n                    increment = Math.abs(this.getIncrement(startDate, count, mode, isFirstCell, true));\n                    newTime = startDate.getTime() + increment;\n                }\n                isFirstCell = false;\n                if (!this.parent.timelineSettings.showWeekend && mode === 'Day') {\n                    var tempCount = 0;\n                    var currentDay = new Date(startDate);\n                    // Adjust the start date to find the next working day\n                    while (tempCount < count) {\n                        currentDay.setDate(currentDay.getDate() + 1);\n                        // Check if the current day is a working day\n                        if (this.parent.nonWorkingDayIndex.indexOf(currentDay.getDay()) === -1) {\n                            // Increment tempCount if it's a working day\n                            tempCount++;\n                        }\n                    }\n                    newTime = currentDay.getTime();\n                }\n                startDate.setTime(newTime);\n                if (hasDST && (mode === 'Day' || mode === 'Month' || mode === 'Week')) {\n                    startDate.setHours(0, 0, 0, 0);\n                }\n                if (startDate >= endDate) {\n                    /* eslint-disable-next-line */\n                    parentTr = this.getHeaterTemplateString(scheduleDateCollection[scheduleDateCollection.length - 1], mode, tier, true, count, timelineCell);\n                }\n                parentTh.appendChild(parentTr);\n                var tierCollection = tier === 'topTier' ? this.topTierCollection : this.bottomTierCollection;\n                timelineCell.endDate = new Date(startDate.getTime());\n                if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.enableTimelineVirtualization) {\n                    if (tier === 'topTier') {\n                        this.pdfExportTopTierCollection.push(timelineCell);\n                    }\n                    else {\n                        this.pdfExportBottomTierCollection.push(timelineCell);\n                    }\n                }\n                else {\n                    tierCollection.push(timelineCell);\n                }\n                width += timelineCell.width;\n                this.weekendEndDate = timelineCell.endDate >= endDate ? endDate : timelineCell.endDate;\n            }\n        } while ((this.parent.enableTimelineVirtualization && (!this.parent.pdfExportModule ||\n            this.parent.pdfExportModule && !this.parent.pdfExportModule.isPdfExport)) ? (width < WidthForVirtualTable) &&\n            (startDate < endDate) : (startDate < endDate));\n        return parentTh;\n    };\n    Timeline.prototype.isNonWorkingDayHeader = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.updateTimelineAfterZooming = function (endDate, resized) {\n        var timeDiff;\n        var perDayWidth;\n        var totWidth;\n        var contentWidth;\n        var contentElement = document.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        if (!isNullOrUndefined(contentElement)) {\n            if (!this.parent.isLoad && this.parent.splitterModule && this.parent.splitterModule.splitterObject &&\n                this.parent.splitterSettings.view === 'Chart') {\n                contentWidth = contentElement['offsetWidth'] + this.parent.splitterModule.splitterObject['allPanes'][0].offsetWidth;\n            }\n            else {\n                contentWidth = contentElement['offsetWidth'];\n            }\n            var contentHeight = contentElement['offsetHeight'];\n            var scrollHeight = document.getElementsByClassName('e-chart-rows-container')[0]['offsetHeight'];\n            timeDiff = Math.abs(this.timelineStartDate.getTime() - endDate.getTime());\n            timeDiff = timeDiff / (1000 * 3600 * 24);\n            if (this.bottomTier === 'None') {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.topTier.count, this.topTier);\n            }\n            else {\n                perDayWidth = this.getPerDayWidth(this.customTimelineSettings.timelineUnitSize, this.customTimelineSettings.bottomTier.count, this.bottomTier);\n            }\n            if (contentHeight < scrollHeight) {\n                totWidth = (perDayWidth * timeDiff) + 17;\n            }\n            else {\n                totWidth = (perDayWidth * timeDiff);\n            }\n            if (contentWidth >= totWidth) {\n                var widthDiff = contentWidth - totWidth;\n                if (!this.parent.timelineSettings.showWeekend) {\n                    var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n                    var milliSecondsPerPixel = milliSecondsPerDay / perDayWidth;\n                    var totalDays = Math.floor(contentWidth * milliSecondsPerPixel / milliSecondsPerDay);\n                    var nonWorkingDaysPerWeek = this.parent.nonWorkingDayIndex.length;\n                    var workingDaysPerWeek = 7 - nonWorkingDaysPerWeek;\n                    var weeksToCover = Math.floor(totalDays / workingDaysPerWeek);\n                    var additionalDays = totalDays % workingDaysPerWeek;\n                    // Consider starting point and fraction of week\n                    var spanDays = (weeksToCover * 7) + additionalDays;\n                    var startIndex = endDate.getDay();\n                    while (additionalDays > 0) {\n                        startIndex = (startIndex + 1) % 7;\n                        if (this.parent.nonWorkingDayIndex.indexOf(startIndex) === -1) {\n                            additionalDays--;\n                        }\n                        spanDays++;\n                    }\n                    endDate.setDate(endDate.getDate() + spanDays);\n                }\n                else {\n                    widthDiff = Math.round(widthDiff / perDayWidth);\n                    endDate.setDate(endDate.getDate() + widthDiff);\n                }\n                this.parent.timelineModule.timelineEndDate = endDate;\n                if (resized) {\n                    this.parent.updateProjectDates(this.timelineStartDate, this.timelineEndDate, this.parent.isTimelineRoundOff);\n                }\n            }\n        }\n    };\n    Timeline.prototype.getTimelineRoundOffEndDate = function (date) {\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        var endDate = new Date(date.toString());\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Hour') {\n                endDate.setMinutes(60);\n            }\n            else if (tierMode === 'Minutes') {\n                endDate.setSeconds(60);\n            }\n            else {\n                endDate.setHours(24, 0, 0, 0);\n            }\n        }\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.updateTimelineAfterZooming(endDate, false);\n        }\n        return endDate;\n    };\n    /**\n     *\n     * @param {Date} startDate .\n     * @param {number} count .\n     * @param {string} mode .\n     * @param {boolean} [isFirstCell] .\n     * @param {boolean} [dateIncrement] .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getIncrement = function (startDate, count, mode, isFirstCell, dateIncrement) {\n        var firstDay = new Date(startDate.getTime());\n        var lastDay = new Date(startDate.getTime());\n        var increment;\n        var isDstEnd = false;\n        var dstDateCompate = new Date(firstDay);\n        switch (mode) {\n            case 'Year': {\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear() + (count - 1), 11, 31);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = this.resetToNextYear(startDate, count);\n                var expectedYearDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedYearDiff, (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24), dateIncrement, true);\n                break;\n            }\n            case 'Month': {\n                firstDay = startDate;\n                lastDay = new Date(startDate.getFullYear(), startDate.getMonth() + count, 1);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = this.resetToNextMonth(startDate, count);\n                var expectedMonthDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedMonthDiff, lastDay.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Week': {\n                var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n                var dayIntervel = startDate.getDay() < dayIndex ? (dayIndex - startDate.getDay()) :\n                    (6 - startDate.getDay()) + dayIndex;\n                count = dayIntervel > 0 ? count - 1 : 0;\n                lastDay.setHours(24, 0, 0, 0);\n                dayIntervel = startDate.getDay() < dayIndex ? dayIntervel > 0 ?\n                    dayIntervel - 1 : dayIntervel : dayIntervel;\n                lastDay.setDate(lastDay.getDate() + (dayIntervel + (7 * count)));\n                var nextDayMidnightUTC = this.resetToNextDay(startDate);\n                var startDateUTC = getUniversalTime(startDate);\n                var endDateUTC = nextDayMidnightUTC + ((dayIntervel + (7 * count)) * 24 * 60 * 60 * 1000);\n                var expectedWeekDiff = endDateUTC - startDateUTC;\n                increment = this.adjustForDST(firstDay, lastDay, expectedWeekDiff, lastDay.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Day': {\n                lastDay.setHours(24, 0, 0, 0);\n                var nextDayMidnightUTC = this.resetToNextDay(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextDayMidnightUTC + ((count - 1) * 24 * 60 * 60 * 1000);\n                var expectedDayDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * 24 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                increment = this.adjustForDST(firstDay, date, expectedDayDiff, date.getTime() - firstDay.getTime(), dateIncrement, true);\n                break;\n            }\n            case 'Hour': {\n                lastDay.setMinutes(60);\n                lastDay.setSeconds(0);\n                var nextHourUtC = this.resetToNextHour(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextHourUtC + ((count - 1) * 60 * 60 * 1000);\n                var expectedHourDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * 60 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                if (isFirstCell && count === 12) {\n                    if (firstDay.getHours() !== 0) {\n                        date.setHours(0, 0, 0, 0);\n                    }\n                }\n                var dstDateCompare = new Date(firstDay);\n                dstDateCompare.setHours(dstDateCompare.getHours() - count);\n                var offsetDiff = firstDay.getTimezoneOffset() - dstDateCompare.getTimezoneOffset();\n                if (offsetDiff === -30) {\n                    date.setMinutes(date.getMinutes() + 30);\n                    this.inconsistenceDstApplied = true;\n                }\n                if (date.getHours() < (dstDateCompate.getHours() + count)) {\n                    isDstEnd = true;\n                }\n                increment = this.adjustForDST(firstDay, date, expectedHourDiff, date.getTime() - firstDay.getTime(), dateIncrement, isDstEnd);\n                break;\n            }\n            case 'Minutes': {\n                lastDay.setSeconds(60);\n                var nextMinuteUtC = this.resetToNextMinute(firstDay);\n                var startDateUTC = getUniversalTime(firstDay);\n                var endDateUTC = nextMinuteUtC + ((count - 1) * 60 * 1000);\n                var expectedMinuteDiff = endDateUTC - startDateUTC;\n                increment = (lastDay.getTime() - firstDay.getTime()) + (1000 * 60 * (count - 1));\n                var date = new Date(firstDay);\n                date.setTime(date.getTime() + increment);\n                if (date.getMinutes() <= dstDateCompate.getMinutes()) {\n                    isDstEnd = true;\n                }\n                increment = this.adjustForDST(firstDay, date, expectedMinuteDiff, date.getTime() - firstDay.getTime(), dateIncrement, isDstEnd);\n                break;\n            }\n        }\n        return increment;\n    };\n    Timeline.prototype.resetToNextYear = function (now, count) {\n        var year = now.getFullYear() + (count);\n        return Date.UTC(year, 0, 1, 0, 0, 0, 0);\n    };\n    Timeline.prototype.resetToNextMonth = function (now, count) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        return Date.UTC(year, month + count, 1, 0, 0, 0, 0); // First day of the next month at midnight\n    };\n    Timeline.prototype.resetToNextDay = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        return Date.UTC(year, month, day + 1, 0, 0, 0, 0); // Midnight of the next day\n    };\n    Timeline.prototype.resetToNextHour = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        var hours = now.getHours();\n        return Date.UTC(year, month, day, hours + 1, 0, 0, 0); // Next hour with 0 minutes, seconds, and ms\n    };\n    Timeline.prototype.resetToNextMinute = function (now) {\n        var year = now.getFullYear();\n        var month = now.getMonth();\n        var day = now.getDate();\n        var hours = now.getHours();\n        var minutes = now.getMinutes();\n        return Date.UTC(year, month, day, hours, minutes + 1, 0, 0); // Next minute with 0 seconds and ms\n    };\n    Timeline.prototype.adjustForDST = function (firstDay, lastDay, expectedDiff, increment, dateIncrement, isDstEnd) {\n        if (!this.parent.dataOperation.hasDSTTransition(firstDay.getFullYear())) {\n            return increment;\n        }\n        if (this.inconsistenceDstApplied) {\n            return increment;\n        }\n        var dstAdjustment = increment - expectedDiff;\n        if (lastDay.getTimezoneOffset() > firstDay.getTimezoneOffset() && dateIncrement) {\n            this.dstIncreaseHour = true;\n            if (this.fromDummyDate) {\n                return expectedDiff;\n            }\n            return isDstEnd ? increment + (60 * 60 * 1000) : increment; // Add one hour for DST transition (spring forward);\n        }\n        if (dstAdjustment > 0) {\n            increment -= dstAdjustment;\n        }\n        else if (dstAdjustment < 0) {\n            increment += Math.abs(dstAdjustment);\n        }\n        if (expectedDiff - increment === 0) {\n            return increment;\n        }\n        return increment;\n    };\n    /**\n     * Method to find header cell was weekend or not\n     *\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {Date} day .\n     * @returns {boolean} .\n     */\n    Timeline.prototype.isWeekendHeaderCell = function (mode, tier, day) {\n        return (mode === 'Day' || mode === 'Hour' || mode === 'Minutes') && (this.customTimelineSettings[tier].count === 1 ||\n            mode === 'Hour' || mode === 'Minutes') &&\n            this.parent.nonWorkingDayIndex.indexOf(day.getDay()) !== -1;\n    };\n    Timeline.prototype.calculateQuarterEndDate = function (date, count) {\n        var month = date.getMonth();\n        if (count === 3) {\n            if (month >= 0 && month <= 2) {\n                return new Date(date.getFullYear(), 3, 1);\n            }\n            else if (month >= 3 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else if (month >= 6 && month <= 8) {\n                return new Date(date.getFullYear(), 9, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n        else {\n            if (month >= 0 && month <= 5) {\n                return new Date(date.getFullYear(), 6, 1);\n            }\n            else {\n                return new Date(date.getFullYear() + 1, 0, 1);\n            }\n        }\n    };\n    Timeline.prototype.calculateTotalHours = function (mode, count) {\n        var totalHour = 0;\n        switch (mode) {\n            case 'Hour':\n                totalHour = 1 * count;\n                break;\n            case 'Day':\n                totalHour = 24 * count;\n                break;\n            case 'Week':\n                totalHour = 7 * 24 * count;\n                break;\n            case 'Minutes':\n                totalHour = count / 60;\n                break;\n        }\n        return totalHour;\n    };\n    /**\n     * To construct template string.\n     *\n     * @param {Date} scheduleWeeks .\n     * @param {string} mode .\n     * @param {string} tier .\n     * @param {boolean} isLast .\n     * @param {number} count .\n     * @param {TimelineFormat} timelineCell .\n     * @returns {string} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.getHeaterTemplateString = function (scheduleWeeks, mode, tier, isLast, count, timelineCell, isFirstCell, dummystartDate) {\n        var parentTr = '';\n        var template;\n        var timelineTemplate = null;\n        if (!isNullOrUndefined(this.parent.timelineTemplate)) {\n            timelineTemplate = this.parent.chartRowsModule.templateCompiler(this.parent.timelineTemplate);\n        }\n        var format = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.format :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.format;\n        var formatter = tier === 'topTier' ?\n            this.parent.timelineModule.customTimelineSettings.topTier.formatter :\n            this.parent.timelineModule.customTimelineSettings.bottomTier.formatter;\n        var thWidth;\n        var increment = this.getIncrement(scheduleWeeks, count, mode, isFirstCell);\n        if (!this.parent.timelineSettings.showWeekend && (mode === 'Week' || mode === 'Month' || mode === 'Year') && tier === 'topTier' &&\n            this.parent.currentZoomingLevel.bottomTier.unit === 'Day') {\n            var copyStartDate = new Date(scheduleWeeks);\n            var orginalDate = new Date(scheduleWeeks);\n            var enddate = new Date(orginalDate.getTime() + increment);\n            var nonWorkingDay = this.calculateNonWorkingDaysBetweenDates(copyStartDate, enddate);\n            increment = increment - (nonWorkingDay * 24 * 60 * 60 * 1000);\n        }\n        thWidth = Math.abs((increment / (1000 * 60 * 60 * 24)) * this.parent.perDayWidth);\n        var cellWidth = thWidth;\n        thWidth = isLast\n            ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.timelineRoundOffEndDate, timelineCell, isLast)\n            : (isFirstCell && mode !== 'Hour')\n                ? this.calculateWidthBetweenTwoDate(mode, scheduleWeeks, this.calculateQuarterEndDate(scheduleWeeks, count))\n                : thWidth;\n        if (this.isFirstLoop && this.parent.isInDst(scheduleWeeks) && scheduleWeeks.getHours() === 1 &&\n            this.isDateAffectedByDST(scheduleWeeks)) {\n            thWidth += this.parent.perDayWidth / 24;\n        }\n        this.isFirstLoop = false;\n        var isWeekendCell = this.isWeekendHeaderCell(mode, tier, scheduleWeeks);\n        var textClassName = tier === 'topTier' ? ' e-gantt-top-cell-text' : '';\n        if (isFirstCell && scheduleWeeks.getHours() === 20 && count === 12 && tier === 'bottomTier' &&\n            this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour') {\n            scheduleWeeks.setTime(scheduleWeeks.getTime() - (1000 * 60 * 60 * 20));\n        }\n        var displayDate = new Date(scheduleWeeks);\n        if (!this.parent.timelineSettings.showWeekend) {\n            var isWeekend = this.isWeekend(displayDate);\n            if (isWeekend) {\n                while (this.parent.nonWorkingDayIndex.indexOf(displayDate.getDay()) !== -1) {\n                    displayDate.setDate(displayDate.getDate() + 1);\n                }\n            }\n        }\n        else {\n            displayDate = new Date(scheduleWeeks);\n        }\n        var date = isNullOrUndefined(formatter) ?\n            this.parent.globalize.formatDate(displayDate, { format: this.parent.getDateFormat() }) :\n            this.customFormat(displayDate, format, tier, mode, formatter);\n        var value;\n        if (this.applyDstHour) {\n            value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, displayDate, dummystartDate) :\n                this.customFormat(displayDate, format, tier, mode, formatter));\n        }\n        else {\n            value = (isNullOrUndefined(formatter) ? this.formatDateHeader(format, displayDate) :\n                this.customFormat(displayDate, format, tier, mode, formatter));\n        }\n        if (!isNullOrUndefined(timelineTemplate)) {\n            var args = {\n                date: date,\n                tier: tier,\n                value: value\n            };\n            template = timelineTemplate(extend({}, args), this.parent, 'TimelineTemplate', this.parent.chartRowsModule.getTemplateID('TimelineTemplate'), false, undefined, null, this.parent['root']);\n            var firstElement = template[0];\n            if (firstElement instanceof HTMLElement) {\n                firstElement.setAttribute('data-tier', tier);\n                firstElement.setAttribute('date', date);\n                firstElement.setAttribute('value', value);\n            }\n        }\n        var className = this.parent.timelineModule.isSingleTier ? cls.timelineSingleHeaderCell : cls.timelineTopHeaderCell;\n        var weekendClass = isWeekendCell ? ' ' + cls.weekendHeaderCell : '';\n        var th = createElement('th', {\n            className: \"\" + className + weekendClass,\n            styles: \"width:\" + thWidth + \"px;\" + (isWeekendCell && this.customTimelineSettings.weekendBackground ? 'background-color:' + this.customTimelineSettings.weekendBackground + ';' : '')\n        });\n        th.tabIndex = -1;\n        th.setAttribute('aria-label', this.parent.localeObj.getConstant('timelineCell') + \" \" + date);\n        var div = createElement('div', {\n            className: \"\" + cls.timelineHeaderCellLabel + textClassName,\n            styles: \"width:\" + (thWidth - 1) + \"px;\"\n        });\n        div.title = this.parent.timelineSettings.showTooltip ? date : '';\n        div.textContent = value;\n        div.setAttribute('data-tier', tier);\n        if (this.parent.isReact && !isNullOrUndefined(template) && template.length > 0) {\n            template[0]['style'].width = '100%';\n            template[0]['style'].height = '100%';\n        }\n        if (!isNullOrUndefined(timelineTemplate) && !isNullOrUndefined(template) && template.length > 0) {\n            append(template, th);\n        }\n        else {\n            th.append(div);\n        }\n        /* eslint-disable-next-line */\n        parentTr += th.outerHTML;\n        if ((this.isSingleTier || tier === 'topTier') && !isLast) {\n            this.totalTimelineWidth = this.totalTimelineWidth + thWidth;\n        }\n        else if ((this.isSingleTier || tier === 'topTier') && isLast) {\n            this.totalTimelineWidth = (this.totalTimelineWidth - cellWidth) + thWidth;\n        }\n        // PDf export collection\n        timelineCell.value = value;\n        timelineCell.isWeekend = isWeekendCell;\n        timelineCell.width = thWidth;\n        return th;\n    };\n    /**\n     * Calculates the total number of non-working days between two given dates.\n     *\n     * @param {Date} startDate - The start date of the period to check for non-working days.\n     * @param {Date} endDate - The end date of the period to check for non-working days.\n     * @returns {number} - Returns the total count of non-working days between the specified dates.\n     *\n     * This method takes into account complete weeks and any additional days, calculating\n     * non-working days within complete weeks based on the known non-working day indices.\n     * It iterates through any extra days beyond complete weeks to check if they are non-working.\n     */\n    Timeline.prototype.calculateNonWorkingDaysBetweenDates = function (startDate, endDate) {\n        var MS_PER_DAY = 1000 * 60 * 60 * 24;\n        // Calculate the total number of days\n        var totalDays = Math.ceil((endDate.getTime() - startDate.getTime()) / MS_PER_DAY);\n        // Calculate complete weeks and extra days\n        var completeWeeks = Math.floor(totalDays / 7);\n        var extraDays = totalDays % 7;\n        // Calculate non-working days in complete weeks\n        var nonWorkingDaysPerWeek = this.parent.nonWorkingDayIndex.length;\n        var nonWorkingDaysCount = completeWeeks * nonWorkingDaysPerWeek;\n        // Calculate the start day and remaining days after complete weeks\n        var startDay = startDate.getDay();\n        for (var i = 0; i < extraDays; i++) {\n            var currentDay = (startDay + i) % 7;\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDay) !== -1) {\n                nonWorkingDaysCount++;\n            }\n        }\n        return nonWorkingDaysCount;\n    };\n    /**\n     * Determines if a given date is a weekend or a non-working day.\n     *\n     * @param {Date} date - The date to check.\n     * @returns {boolean} - Returns `true` if the specified date is a non-working day, otherwise `false`.\n     *\n     * This method checks if the day of the given date falls within the defined non-working days.\n     * The non-working days are identified using the `nonWorkingDayIndex` from the parent configuration.\n     */\n    Timeline.prototype.isWeekend = function (date) {\n        var day = date.getDay();\n        return this.parent.nonWorkingDayIndex.indexOf(day) !== -1;\n    };\n    /**\n     * To calculate last 'th' width.\n     *\n     * @param {string} mode .\n     * @param {Date} scheduleWeeks .\n     * @param {Date} endDate .\n     * @param {TimelineFormat} timelineCell .\n     * @param {boolean} isLast .\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Timeline.prototype.calculateWidthBetweenTwoDate = function (mode, scheduleWeeks, endDate, timelineCell, isLast) {\n        var sDate = new Date(scheduleWeeks.getTime());\n        var eDate = new Date(endDate.getTime());\n        this.parent.dateValidationModule['updateDateWithTimeZone'](sDate, eDate);\n        var timeDifference = (eDate.getTime() - sDate.getTime());\n        var totalDays = timeDifference / (1000 * 60 * 60 * 24);\n        if (!this.parent.timelineSettings.showWeekend && this.parent.currentZoomingLevel.bottomTier.unit === 'Day') {\n            var totalWeeks = Math.floor(totalDays / 7);\n            var completeWeekDays = totalWeeks * (7 - this.parent.nonWorkingDayIndex.length);\n            var remainingDays = totalDays % 7;\n            if (remainingDays > 1 || completeWeekDays > 1) {\n                var additionalWorkingDays = 0;\n                var currentDate = new Date(sDate);\n                for (var i = 0; i < remainingDays; i++) {\n                    var dayOfWeek = currentDate.getDay();\n                    if (this.parent.nonWorkingDayIndex.indexOf(dayOfWeek) === -1) {\n                        additionalWorkingDays++;\n                    }\n                    currentDate.setDate(currentDate.getDate() + 1);\n                }\n                var workingDays = completeWeekDays + additionalWorkingDays;\n                return workingDays * this.parent.perDayWidth;\n            }\n            else if (this.isZoomToFit && isLast) {\n                return timelineCell.width;\n            }\n            else {\n                return totalDays * this.parent.perDayWidth;\n            }\n        }\n        else {\n            return totalDays * this.parent.perDayWidth;\n        }\n    };\n    /**\n     * To calculate timeline width.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.timelineWidthCalculation = function () {\n        var timelineUnitSize = this.customTimelineSettings.timelineUnitSize;\n        var bottomTierCount = this.customTimelineSettings.bottomTier.count;\n        var topTierCount = this.customTimelineSettings.topTier.count;\n        this.bottomTierCellWidth = timelineUnitSize;\n        if (this.bottomTier === 'None') {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, topTierCount, this.topTier);\n        }\n        else {\n            this.parent.perDayWidth = this.getPerDayWidth(timelineUnitSize, bottomTierCount, this.bottomTier);\n        }\n        this.topTierCellWidth = this.bottomTier !== 'None' ? this.topTier === 'Week' ?\n            this.parent.perDayWidth * 7 : this.topTier === 'Hour' ?\n            this.parent.perDayWidth / 24 : this.topTier === 'Minutes' ?\n            this.parent.perDayWidth / (24 * 60) : this.parent.perDayWidth : timelineUnitSize;\n        this.topTierCellWidth = this.isSingleTier ? this.topTierCellWidth : this.topTierCellWidth * topTierCount;\n    };\n    /**\n     * To validate per day width.\n     *\n     * @param {number} timelineUnitSize .\n     * @param {number} bottomTierCount .\n     * @param {string} mode .\n     * @returns {number} .\n     * @private\n     */\n    Timeline.prototype.getPerDayWidth = function (timelineUnitSize, bottomTierCount, mode) {\n        var perDayWidth;\n        switch (mode) {\n            case 'Year':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / (12 * 28);\n                break;\n            case 'Month':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 28;\n                break;\n            case 'Week':\n                perDayWidth = (timelineUnitSize / bottomTierCount) / 7;\n                break;\n            case 'Day':\n                perDayWidth = timelineUnitSize / bottomTierCount;\n                break;\n            case 'Hour':\n                perDayWidth = (24 / bottomTierCount) * timelineUnitSize;\n                break;\n            case 'Minutes':\n                perDayWidth = ((60 * 24) / bottomTierCount) * timelineUnitSize;\n                break;\n        }\n        return perDayWidth;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.roundOffDays = function () {\n        var startDate = this.parent.cloneProjectStartDate;\n        var endDate = this.parent.cloneProjectEndDate;\n        var tierMode = this.topTier === 'None' ? this.bottomTier : this.topTier;\n        if (this.parent.isTimelineRoundOff) {\n            if (tierMode === 'Year') {\n                startDate = new Date(startDate.getFullYear(), 0, 1);\n                endDate = new Date(endDate.getFullYear(), 11, 31);\n            }\n            else if (tierMode === 'Month') {\n                startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 0);\n            }\n            else if (tierMode === 'Week') {\n                var dayIndex = !isNullOrUndefined(this.customTimelineSettings.weekStartDay) ?\n                    this.parent.timelineModule.customTimelineSettings.weekStartDay : 0;\n                var roundOffStartDate = startDate.getDay() < dayIndex ?\n                    (startDate.getDate()) - (7 - dayIndex + startDate.getDay()) :\n                    (startDate.getDate()) - startDate.getDay() + dayIndex;\n                if (!this.parent.timelineSettings.showWeekend) {\n                    while (this.isWeekend(new Date(startDate.getFullYear(), startDate.getMonth(), roundOffStartDate))) {\n                        roundOffStartDate++;\n                    }\n                }\n                startDate.setDate(roundOffStartDate);\n                var first = endDate.getDate() - endDate.getDay();\n                var last = first + 6 + dayIndex;\n                endDate.setDate(last);\n            }\n            if (tierMode === 'Hour') {\n                startDate.setMinutes(0);\n            }\n            else if (tierMode === 'Minutes') {\n                startDate.setSeconds(0);\n            }\n            else {\n                startDate.setHours(0, 0, 0, 0);\n            }\n        }\n        this.timelineStartDate = startDate;\n        this.timelineEndDate = endDate;\n        this.timelineRoundOffEndDate = this.getTimelineRoundOffEndDate(this.timelineEndDate);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} mode .\n     * @param {string} span .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateScheduleDatesByToolBar = function (mode, span, startDate, endDate) {\n        if (mode === 'Year') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMonth() === 0) {\n                    startDate = new Date(startDate.getFullYear() - 1, 0, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), 0, 1);\n                }\n            }\n            else {\n                if (endDate.getMonth() === 11) {\n                    endDate = new Date(endDate.getFullYear() + 1, 0, 1);\n                }\n                else {\n                    endDate = new Date(endDate.getFullYear(), 12, 1);\n                }\n            }\n        }\n        if (mode === 'Month') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getDate() === 1) {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth() - 1, 1);\n                }\n                else {\n                    startDate = new Date(startDate.getFullYear(), startDate.getMonth(), 1);\n                }\n            }\n            else {\n                endDate = new Date(endDate.getFullYear(), endDate.getMonth() + 1, 1);\n            }\n        }\n        if (mode === 'Week') {\n            var dayIndex = this.parent.timelineModule.customTimelineSettings.weekStartDay;\n            var dayIntervel = void 0;\n            if (span === 'prevTimeSpan') {\n                dayIntervel = startDate.getDay() < dayIndex ? 7 - (dayIndex - startDate.getDay()) :\n                    startDate.getDay() - dayIndex;\n                startDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    startDate.setDate(startDate.getDate() - 7);\n                }\n                else {\n                    startDate.setDate(startDate.getDate() - dayIntervel);\n                }\n            }\n            else {\n                dayIntervel = endDate.getDay() < dayIndex ? (dayIndex - endDate.getDay()) :\n                    (7 - endDate.getDay()) + dayIndex;\n                endDate.setHours(0, 0, 0, 0);\n                if (dayIntervel === 0) {\n                    endDate.setDate(endDate.getDate() + 6);\n                }\n                else {\n                    endDate.setDate(endDate.getDate() + dayIntervel);\n                }\n            }\n        }\n        if (mode === 'Day') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getHours() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60 * 24));\n                }\n                else {\n                    startDate.setHours(0);\n                }\n            }\n            else {\n                if (endDate.getHours() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60 * 24));\n                }\n                else {\n                    endDate.setHours(24);\n                }\n            }\n        }\n        if (mode === 'Hour') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getMinutes() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60 * 60));\n                }\n                else {\n                    startDate.setMinutes(0);\n                }\n            }\n            else {\n                if (endDate.getMinutes() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60 * 60));\n                }\n                else {\n                    endDate.setMinutes(60);\n                }\n            }\n        }\n        if (mode === 'Minutes') {\n            if (span === 'prevTimeSpan') {\n                if (startDate.getSeconds() === 0) {\n                    startDate.setTime(startDate.getTime() - (1000 * 60));\n                }\n                else {\n                    startDate.setSeconds(0);\n                }\n            }\n            else {\n                if (endDate.getSeconds() === 0) {\n                    endDate.setTime(endDate.getTime() + (1000 * 60));\n                }\n                else {\n                    endDate.setSeconds(60);\n                }\n            }\n        }\n        this.parent.cloneProjectStartDate = startDate;\n        this.parent.cloneProjectEndDate = endDate;\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {IGanttData[]} tempArray .\n     * @param {string} action .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.updateTimeLineOnEditing = function (tempArray, action) {\n        if (tempArray[0].length >= 1) {\n            for (var i = 0; i < tempArray.length; i++) {\n                var temp = tempArray[parseInt(i.toString(), 10)];\n                var filteredStartDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.startDate); });\n                var filteredEndDateRecord = temp.filter(function (pdc) { return !isNullOrUndefined(pdc.ganttProperties.endDate); });\n                var minStartDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')) : null;\n                var minEndDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var maxEndDate = filteredEndDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.max(filteredEndDateRecord, 'ganttProperties.endDate')) : null;\n                var validStartDate = new Date(this.parent.dataOperation.checkStartDate(this.timelineStartDate).getTime());\n                var validEndDate = new Date(this.parent.dataOperation.checkEndDate(this.timelineEndDate).getTime());\n                var maxStartLeft = isNullOrUndefined(minStartDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(minStartDate, false);\n                var maxEndLeft = isNullOrUndefined(maxEndDate) ?\n                    null : this.parent.dataOperation.getTaskLeft(maxEndDate, false);\n                var validStartLeft = this.parent.dataOperation.getTaskLeft(validStartDate, false);\n                var validEndLeft = this.parent.dataOperation.getTaskLeft(validEndDate, false);\n                var isChanged = void 0;\n                var taskbarModule = this.parent.editModule.taskbarEditModule;\n                var startDate = filteredStartDateRecord.length > 0 ?\n                    new Date(DataUtil.aggregates.min(filteredStartDateRecord, 'ganttProperties.startDate')).setHours(0, 0, 0, 0) : null;\n                var timelineStartDate = new Date(this.timelineStartDate.getTime()).setHours(0, 0, 0, 0);\n                if (!isNullOrUndefined(maxStartLeft) && (((((!isNullOrUndefined(taskbarModule)) && ((taskbarModule.taskBarEditAction && taskbarModule.taskBarEditAction !== 'RightResizing') || isNullOrUndefined(taskbarModule.taskBarEditAction)))) &&\n                    (startDate <= timelineStartDate))) && (maxStartLeft < this.bottomTierCellWidth || maxStartLeft <= validStartLeft)) {\n                    isChanged = 'prevTimeSpan';\n                    minStartDate = minStartDate > this.timelineStartDate ? this.timelineStartDate : minStartDate;\n                }\n                else {\n                    minStartDate = this.timelineStartDate;\n                }\n                if (!isNullOrUndefined(maxEndLeft) && (maxEndLeft >= ((this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth) - this.bottomTierCellWidth) &&\n                    maxEndLeft > validEndLeft)) {\n                    isChanged = isChanged === 'prevTimeSpan' ? 'both' : 'nextTimeSpan';\n                    maxEndDate = maxEndDate < this.timelineEndDate ? this.timelineEndDate : maxEndDate;\n                }\n                else {\n                    maxEndDate = this.timelineEndDate;\n                }\n                if (isChanged) {\n                    this.performTimeSpanAction(isChanged, action, minStartDate, maxEndDate);\n                }\n                else if (!isNullOrUndefined(temp[0].ganttProperties.segments)) {\n                    this.parent.dataOperation.updateWidthLeft(temp[0]);\n                }\n                if (!isNullOrUndefined(minStartDate) && !isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks) {\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), minEndDate.getTime()));\n                    minStartDate = new Date(Math.min(minStartDate.getTime(), this.timelineStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                else if (isNullOrUndefined(minEndDate) && minEndDate <= minStartDate && (action === 'CellEditing' || action === 'DialogEditing') && this.parent.allowUnscheduledTasks && tempArray[0].length === 1 &&\n                    !isNullOrUndefined(tempArray[0][0].ganttProperties.endDate) && (isNullOrUndefined(temp[0].ganttProperties.startDate) &&\n                    temp[0].ganttProperties.endDate <= this.timelineStartDate)) {\n                    minStartDate = new Date(Math.min(tempArray[0][0].ganttProperties.endDate.getTime(), minStartDate.getTime()));\n                    this.performTimeSpanAction('prevTimeSpan', action, minStartDate, maxEndDate);\n                }\n                break;\n            }\n        }\n    };\n    /**\n     * To validate project start date and end date on editing action\n     *\n     * @param {string} type .\n     * @param {string} isFrom .\n     * @param {Date} startDate .\n     * @param {Date} endDate .\n     * @param {string} mode .\n     * @returns {void} .\n     * @private\n     */\n    Timeline.prototype.performTimeSpanAction = function (type, isFrom, startDate, endDate, mode) {\n        mode = !isNullOrUndefined(mode) ? mode : this.parent.timelineModule.topTier === 'None' ?\n            this.parent.timelineModule.bottomTier : this.parent.timelineModule.topTier;\n        var projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        var projectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        if (isFrom !== 'publicMethod' && type === 'both') {\n            this.updateScheduleDatesByToolBar(mode, 'prevTimeSpan', startDate, endDate);\n            this.updateScheduleDatesByToolBar(mode, 'nextTimeSpan', new Date(this.parent.cloneProjectStartDate.getTime()), endDate);\n        }\n        else {\n            this.updateScheduleDatesByToolBar(mode, type, startDate, endDate);\n        }\n        var args = this.timeSpanActionEvent('actionBegin', type, isFrom);\n        if (!args.cancel) {\n            this.restrictRender = true;\n            this.performedTimeSpanAction = true;\n            var previousScrollLeft = this.parent.ganttChartModule.scrollElement.scrollLeft;\n            this.parent.updateProjectDates(args.projectStartDate, args.ProjectEndDate, args.isTimelineRoundOff, isFrom);\n            if (type === 'prevTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(0);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'publicMethod') {\n                this.parent.ganttChartModule.updateScrollLeft(this.parent.enableTimelineVirtualization ?\n                    this.wholeTimelineWidth : this.totalTimelineWidth);\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            else if (type === 'nextTimeSpan' && isFrom === 'TaskbarEditing') {\n                var currentScrollLeft = document.getElementsByClassName('e-chart-scroll-container e-content')[0].scrollLeft;\n                this.parent.element.querySelector('.e-timeline-header-container').scrollLeft = currentScrollLeft;\n                this.parent.timelineModule.isZoomToFit = false;\n            }\n            if (isFrom === 'TaskbarEditing' && this.parent.enableTimelineVirtualization && (this.wholeTimelineWidth > this.parent.element.offsetWidth * 3)) {\n                this.parent.ganttChartModule.scrollObject.setScrollLeft(previousScrollLeft);\n                this.parent.ganttChartModule.scrollObject.updateContent();\n            }\n            this.parent.timelineModule.timeSpanActionEvent('actionComplete', type, isFrom);\n        }\n        else {\n            this.parent.cloneProjectStartDate = projectStartDate;\n            this.parent.cloneProjectEndDate = projectEndDate;\n        }\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param {string} eventType .\n     * @param {string} requestType .\n     * @param {string} isFrom .\n     * @returns {void}\n     * @private\n     */\n    Timeline.prototype.timeSpanActionEvent = function (eventType, requestType, isFrom) {\n        var args = {};\n        args.projectStartDate = new Date(this.parent.cloneProjectStartDate.getTime());\n        args.ProjectEndDate = new Date(this.parent.cloneProjectEndDate.getTime());\n        args.requestType = isFrom === 'publicMethod' ? requestType : isFrom === 'beforeAdd' ?\n            'TimelineRefreshOnAdd' : isFrom === 'TaskbarEditing' ? 'TimelineRefreshOnEdit' : requestType;\n        if (eventType === 'actionBegin') {\n            args.isTimelineRoundOff = this.parent.isTimelineRoundOff;\n            args.cancel = false;\n        }\n        args.action = 'TimescaleUpdate';\n        this.parent.trigger(eventType, args);\n        return args;\n    };\n    return Timeline;\n}());\nexport { Timeline };\n","import { merge } from '@syncfusion/ej2-base';\n/**\n * Configures column collection in Gantt.\n */\nvar Column = /** @class */ (function () {\n    function Column(options) {\n        /**\n         * If `allowEditing` set to false, then it disables editing of a particular column.\n         * By default, all columns are editable.\n         *\n         * @default true\n         */\n        this.allowEditing = true;\n        /**\n         * If `allowReordering` set to false, then it disables reorder of a particular column.\n         * By default, all columns can be reorder.\n         *\n         * @default true\n         */\n        this.allowReordering = true;\n        /**\n         * If `allowResizing` is set to false, it disables resize option of a particular column.\n         * By default, all the columns can be resized.\n         *\n         * @default true\n         */\n        this.allowResizing = true;\n        /**\n         * If `allowSorting` set to false, then it disables sorting option of a particular column.\n         * By default, all columns are sortable.\n         *\n         * @default true\n         */\n        this.allowSorting = true;\n        /**\n         * If `allowFiltering` set to false, then it disables filtering option and filter bar element of a particular column.\n         * By default, all columns are filterable.\n         *\n         * @default true\n         */\n        this.allowFiltering = true;\n        /**\n         * Defines the `IEditCell` object to customize default edit cell.\n         *\n         * @default {}\n         */\n        this.edit = {};\n        merge(this, options);\n    }\n    return Column;\n}());\nexport { Column };\n","import { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { createElement, isNullOrUndefined, getValue, extend, EventHandler, deleteObject, remove, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { setValue } from '@syncfusion/ej2-base';\nimport { Query } from '@syncfusion/ej2-data';\nimport { Column as GanttColumn } from '../models/column';\nimport { isCountRequired, isEmptyObject } from './utils';\nimport { AutoComplete } from '@syncfusion/ej2-dropdowns';\n/** @hidden */\nvar GanttTreeGrid = /** @class */ (function () {\n    function GanttTreeGrid(parent) {\n        var _this = this;\n        this.isPersist = false;\n        this.setCancelArgs = false;\n        this.previousScroll = { top: 0, left: 0 };\n        this.queryCellInfo = function (args) {\n            _this.parent.trigger('queryCellInfo', args);\n        };\n        this.headerCellInfo = function (args) {\n            _this.parent.trigger('headerCellInfo', args);\n        };\n        this.rowDataBound = function (args) {\n            _this.parent.trigger('rowDataBound', args);\n        };\n        this.columnMenuOpen = function (args) {\n            _this.parent.notify('columnMenuOpen', args);\n            _this.parent.trigger('columnMenuOpen', args);\n            document.querySelector('.e-colmenu').addEventListener('mousemove', function () {\n                var filPopOptions = document.querySelector('.e-filter-popup');\n                var filOptions = document.querySelector('.e-filter-item');\n                if (!isNullOrUndefined(filPopOptions)) {\n                    if (!filOptions.classList.contains('e-focused')) {\n                        remove(_this.parent.filterModule.filterMenuElement);\n                    }\n                }\n            });\n        };\n        this.columnMenuClick = function (args) {\n            _this.parent.trigger('columnMenuClick', args);\n        };\n        this.objectEqualityChecker = function (old, current) {\n            if (old) {\n                var keys = Object.keys(old);\n                var isEqual = true;\n                var excludeKeys = ['Children', 'childRecords', 'taskData', 'uniqueID', 'parentItem', 'parentUniqueID', 'ganttProperties'];\n                for (var i = 0; i < keys.length; i++) {\n                    var oldKey = old[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(old[keys[parseInt(i.toString(), 10)]]).getTime() : old[keys[parseInt(i.toString(), 10)]];\n                    var currentKey = current[keys[parseInt(i.toString(), 10)]] instanceof Date ?\n                        new Date(current[keys[parseInt(i.toString(), 10)]]).getTime() : current[keys[parseInt(i.toString(), 10)]];\n                    if (oldKey !== currentKey && excludeKeys.indexOf(keys[i]) === -1) {\n                        _this.parent.modifiedRecords.push(current);\n                        isEqual = false;\n                        break;\n                    }\n                }\n                return isEqual;\n            }\n            else {\n                return false;\n            }\n        };\n        this.parent = parent;\n        this.parent.treeGrid = new TreeGrid();\n        this.parent.treeGrid.allowSelection = false;\n        this.parent.treeGrid.allowKeyboard = this.parent.allowKeyboard;\n        this.parent.treeGrid['${enableHtmlSanitizer}'] = this.parent.enableHtmlSanitizer;\n        this.parent.treeGrid.enableImmutableMode = this.parent.enableImmutableMode;\n        this.treeGridColumns = [];\n        if (!this.parent.isLocaleChanged && this.parent.isLoad) {\n            this.parent.previousGanttColumns = extend([], [], this.parent.columns, true);\n        }\n        this.validateGanttColumns();\n        if (this.parent.isLocaleChanged) {\n            this.parent.isLocaleChanged = false;\n        }\n        this.addEventListener();\n    }\n    GanttTreeGrid.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createContainer, this);\n        this.parent.on('chartScroll', this.updateScrollTop, this);\n        this.parent.on('destroy', this.destroy, this);\n        this.parent.treeGrid.on('renderReactTemplate', this.renderReactTemplate, this);\n    };\n    GanttTreeGrid.prototype.renderReactTemplate = function (args) {\n        var portals = 'portals';\n        for (var _i = 0, args_1 = args; _i < args_1.length; _i++) {\n            var portal = args_1[_i];\n            if (this.parent[portals].indexOf(portal) === -1) {\n                this.parent[portals].push(portal);\n            }\n        }\n        this.parent.renderTemplates();\n    };\n    GanttTreeGrid.prototype.createContainer = function () {\n        //let height: number = this.parent.ganttHeight - this.parent.toolbarModule.element.offsetHeight - 46;\n        this.treeGridElement = createElement('div', {\n            id: 'treeGrid' + this.parent.element.id, className: 'e-gantt-tree-grid'\n            //  styles: 'height:' + height + 'px;'\n        });\n        var tempHeader = createElement('div', { className: 'e-gantt-temp-header' });\n        this.parent.treeGridPane.appendChild(this.treeGridElement);\n        this.treeGridElement.appendChild(tempHeader);\n        this.parent.treeGridPane.classList.add('e-temp-content');\n    };\n    /**\n     * Method to initiate TreeGrid\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.renderTreeGrid = function () {\n        this.composeProperties();\n        this.bindEvents();\n        var root = 'root';\n        this.parent.treeGrid[root] = this.parent[root] ? this.parent[root] : this.parent;\n        setValue('registeredTemplate', this.registeredTemplate, this.parent.treeGrid);\n        var ref = 'viewContainerRef';\n        setValue('viewContainerRef', this.parent[\"\" + ref], this.parent.treeGrid);\n        if (!this.treeGridElement.contains(this.parent.treeGrid.element)) {\n            this.parent.treeGrid.appendTo(this.treeGridElement);\n        }\n        if (this.parent.treeGrid.grid && this.parent.toolbarModule && this.parent.isReact) {\n            this.parent.treeGrid.grid.portals = this.parent.portals;\n        }\n        this.wireEvents();\n    };\n    GanttTreeGrid.prototype.composeProperties = function () {\n        this.parent.treeGrid.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        this.parent.treeGrid.hasChildMapping = this.parent.taskFields.hasChildMapping;\n        this.parent.treeGrid.query = this.parent.query;\n        this.parent.treeGrid.locale = this.parent.locale;\n        this.parent.treeGrid.loadChildOnDemand = this.parent.loadChildOnDemand;\n        this.parent.treeGrid['isFromGantt'] = true;\n        this.parent.treeGrid.parentIdMapping = this.parent.taskFields.parentID;\n        if (this.parent.taskFields.parentID) {\n            this.parent.treeGrid.idMapping = this.parent.taskFields.id;\n        }\n        this.parent.treeGrid.showColumnMenu = this.parent.showColumnMenu;\n        this.parent.treeGrid.enableCollapseAll = this.parent.collapseAllParentTasks;\n        this.parent.treeGrid.columnMenuItems = this.parent.columnMenuItems;\n        this.parent.treeGrid.enableRtl = this.parent.enableRtl;\n        this.parent.treeGrid.childMapping = isNullOrUndefined(this.parent.taskFields.child) ? '' : this.parent.taskFields.child;\n        this.parent.treeGrid.treeColumnIndex = this.parent.treeColumnIndex;\n        this.parent.treeGrid.columns = this.treeGridColumns;\n        this.parent.treeGrid.loadingIndicator = this.parent.loadingIndicator;\n        this.parent.treeGrid.enableVirtualMaskRow = this.parent.enableVirtualMaskRow;\n        if (this.parent.dataSource instanceof Object && isCountRequired(this.parent)) {\n            // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n            this.parent.treeGrid.hasChildMapping = 'isParent';\n            var count = getValue('count', this.parent.dataSource);\n            this.parent.treeGrid.dataSource = { result: this.parent.flatData, count: count };\n        }\n        else {\n            if (this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n                this.parent.treeGrid.dataSource = this.parent.dataSource;\n            }\n            else {\n                this.parent.treeGrid.hasChildMapping = null;\n                this.parent.treeGrid.dataSource = this.parent.flatData;\n            }\n        }\n        this.parent.treeGrid.expandStateMapping = this.parent.taskFields.expandState;\n        var isGantt = 'isGantt';\n        this.parent.treeGrid[isGantt] = true;\n        this.parent.treeGrid.rowHeight = this.parent.rowHeight;\n        this.parent.treeGrid.gridLines = this.parent.gridLines;\n        if (this.parent.searchSettings.fields.length !== 0 || this.parent.searchSettings.key !== '') {\n            this.parent.treeGrid.searchSettings = this.parent.searchSettings;\n        }\n        var isJsComponent = 'isJsComponent';\n        this.parent.treeGrid[isJsComponent] = true;\n        this.parent.treeGrid.height =\n            this.parent.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['offsetHeight'] - (this.parent.flatData.length === 0 ? 0 : 19);\n    };\n    GanttTreeGrid.prototype.getContentDiv = function () {\n        return this.treeGridElement.querySelector('.e-content');\n    };\n    GanttTreeGrid.prototype.getHeaderDiv = function () {\n        return this.treeGridElement.querySelector('.e-headercontent');\n    };\n    GanttTreeGrid.prototype.getScrollbarWidth = function () {\n        var outer = document.createElement('div');\n        outer.style.visibility = 'hidden';\n        outer.style.overflow = 'scroll';\n        outer.style.msOverflowStyle = 'scrollbar';\n        var inner = document.createElement('div');\n        outer.appendChild(inner);\n        this.parent.element.appendChild(outer);\n        var scrollbarWidth = (outer.offsetWidth - inner.offsetWidth);\n        outer.parentNode.removeChild(outer);\n        return scrollbarWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.ensureScrollBar = function () {\n        var content = this.getContentDiv();\n        var headerDiv = this.getHeaderDiv();\n        var scrollWidth = this.getScrollbarWidth();\n        var isMobile = /Android|Mac|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        // For Firefox scrollWidth value return 0, causes the grid side column misalign- Task(888356)\n        if (scrollWidth !== 0 || navigator.userAgent.includes('Firefox')) {\n            content.style.cssText += 'width: calc(100% + ' + (scrollWidth + 1) + 'px);'; //actual scrollbar width 17 px but here scrollbar width set to 16px hence adding increment of 1\n        }\n        else {\n            content.classList.add('e-gantt-scroll-padding');\n        }\n        if (scrollWidth === 0 && isMobile) {\n            headerDiv.style.cssText += 'width: calc(100% + 17px);';\n        }\n    };\n    GanttTreeGrid.prototype.bindEvents = function () {\n        this.parent.treeGrid.dataBound = this.dataBound.bind(this);\n        this.parent.treeGrid.collapsing = this.collapsing.bind(this);\n        this.parent.treeGrid.collapsed = this.collapsed.bind(this);\n        this.parent.treeGrid.expanding = this.expanding.bind(this);\n        this.parent.treeGrid.expanded = this.expanded.bind(this);\n        this.parent.treeGrid.actionBegin = this.actionBegin.bind(this);\n        this.parent.treeGrid.actionComplete = this.treeActionComplete.bind(this);\n        this.parent.treeGrid.created = this.created.bind(this);\n        this.parent.treeGrid.actionFailure = this.actionFailure.bind(this);\n        this.parent.treeGrid.headerCellInfo = this.headerCellInfo.bind(this);\n        this.parent.treeGrid.rowDataBound = this.rowDataBound.bind(this);\n        this.parent.treeGrid.columnMenuOpen = this.columnMenuOpen.bind(this);\n        this.parent.treeGrid.columnMenuClick = this.columnMenuClick.bind(this);\n        this.parent.treeGrid.beforeDataBound = this.beforeDataBound.bind(this);\n        this.parent.treeGrid.dataStateChange = this.dataStateChange.bind(this);\n        if (this.parent.queryCellInfo != null) {\n            this.parent.treeGrid.queryCellInfo = this.queryCellInfo.bind(this);\n        }\n    };\n    GanttTreeGrid.prototype.beforeDataBound = function (args) {\n        if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n            this.parent.selectionSettings.persistSelection && this.parent.selectionModule.getSelectedRowIndexes().length > 0 &&\n            args['actionArgs']['requestType'] === 'sorting') {\n            this.isPersist = true;\n        }\n        this.parent.updatedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : getValue('result', args);\n        if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            this.parent.updateContentHeight(args);\n        }\n        setValue('contentModule.objectEqualityChecker', this.objectEqualityChecker, this.parent.treeGrid.grid);\n    };\n    GanttTreeGrid.prototype.dataBound = function (args) {\n        if (this.parent.isReact) {\n            this.parent['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        this.ensureScrollBar();\n        this.parent.treeDataBound(args);\n        if (this.parent.isVirtualScroll) {\n            if ((this.parent.enableVirtualMaskRow && this.parent.enableVirtualization) ||\n                (this.parent.enableVirtualization && !this.parent.enableVirtualMaskRow && this.parent.loadingIndicator.indicatorType === 'Shimmer') ||\n                (this.parent.loadingIndicator.indicatorType === 'Shimmer')) {\n                this.parent.hideMaskRow();\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n            }\n            this.parent.isVirtualScroll = false;\n            if (!isNullOrUndefined(this.parent.selectionModule) && !isNullOrUndefined(this.parent.toolbarModule)) {\n                this.parent.toolbarModule.refreshToolbarItems();\n            }\n        }\n        this.prevCurrentView = extend([], [], this.parent.currentViewData, true);\n    };\n    GanttTreeGrid.prototype.dataStateChange = function (args) {\n        if (args.action && args.action.requestType === 'refresh') {\n            this.parent.treeGrid.dataSource = {\n                result: getValue('result', this.parent.treeGrid.dataSource),\n                count: getValue('count', this.parent.treeGrid.dataSource)\n            };\n        }\n        this.parent.trigger('dataStateChange', args);\n    };\n    GanttTreeGrid.prototype.collapsing = function (args) {\n        // Collapsing event\n        var collapsingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                }\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n            else {\n                collapsingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapseGanttRow(collapsingArgs);\n                setValue('cancel', getValue('cancel', collapsingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.expanding = function (args) {\n        // Expanding event\n        var expandingArgs;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart) {\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandingArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                }\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n            else {\n                expandingArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandGanttRow(expandingArgs);\n                setValue('cancel', getValue('cancel', expandingArgs), args);\n            }\n        }\n    };\n    GanttTreeGrid.prototype.collapsed = function (args) {\n        var collapsingNodeData = args.data;\n        var expanded = collapsingNodeData && collapsingNodeData.expanded;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping && !this.parent.enableVirtualization && !expanded) {\n            args['data'][this.parent.taskFields.expandState] = false;\n        }\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var collapsedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    collapsedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n                }\n            }\n            else {\n                collapsedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.collapsedGanttRow(collapsedArgs);\n            }\n            if (!this.parent.ganttChartModule.isCollapseAll && collapsedArgs['gridRow'] && !this.parent.allowTaskbarOverlap) {\n                collapsedArgs['gridRow'].style.height = collapsedArgs['chartRow'].style.height;\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.trigger('collapsed', args);\n    };\n    GanttTreeGrid.prototype.expanded = function (args) {\n        if (!this.parent.ganttChartModule.isExpandCollapseFromChart && !this.parent.isExpandCollapseLevelMethod) {\n            var expandedArgs = void 0;\n            var record = getValue('data', args);\n            var recordLength = record.length;\n            if (!isNullOrUndefined(recordLength)) {\n                for (var i = 0; i < recordLength; i++) {\n                    expandedArgs = this.createExpandCollapseArgs(args, record[i]);\n                    this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n                }\n            }\n            else {\n                expandedArgs = this.createExpandCollapseArgs(args, null);\n                this.parent.ganttChartModule.expandedGanttRow(expandedArgs);\n            }\n            if (!this.parent.ganttChartModule.isExpandAll && args['row'] && !this.parent.allowTaskbarOverlap) {\n                args['row'].style.height = this.parent.rowHeight + 'px';\n                this.parent.contentHeight = this.parent.enableRtl ? this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n                    this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n            }\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.isCollapseAll = false;\n        this.parent.trigger('expanded', args);\n    };\n    GanttTreeGrid.prototype.actionBegin = function (args) {\n        if (this.parent.undoRedoModule && (args.requestType === 'filtering' || args.requestType === 'searching' || args.requestType === 'sorting' || args.requestType === 'filterAfterOpen')) {\n            this.parent.undoRedoModule['canUpdateIndex'] = false;\n        }\n        if (args.requestType === 'filterchoicerequest') {\n            var filterElement = getValue('filterModel.dlg', args);\n            if (filterElement) {\n                filterElement.style.display = 'none';\n            }\n        }\n        this.parent.notify('actionBegin', args);\n        var flag = getValue('doubleClickTarget', this.parent.treeGrid.editModule);\n        if (flag !== null) {\n            setValue('doubleClickTarget', null, this.parent.treeGrid.editModule);\n        }\n        this.parent.trigger('actionBegin', args);\n        if (args.requestType !== 'virtualscroll' && args.type !== 'edit' && args.requestType !== 'beginEdit' && !args.cancel) {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.created = function (args) {\n        this.updateKeyConfigSettings();\n    };\n    GanttTreeGrid.prototype.actionFailure = function (args) {\n        this.parent.trigger('actionFailure', args);\n    };\n    GanttTreeGrid.prototype.createExpandCollapseArgs = function (args, currentRecord) {\n        var chartRow;\n        var record = getValue('data', args);\n        var recordLength = record.length;\n        if (!isNullOrUndefined(recordLength)) {\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(currentRecord)];\n            var eventArgs = { data: currentRecord, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n        else {\n            var recordOne = getValue('data', args);\n            var gridRow = getValue('row', args);\n            chartRow = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(recordOne)];\n            var eventArgs = { data: recordOne, gridRow: gridRow, chartRow: chartRow, cancel: false };\n            return eventArgs;\n        }\n    };\n    GanttTreeGrid.prototype.treeActionComplete = function (args) {\n        var _this = this;\n        var _a;\n        var fieldName = null;\n        var preventEventTrigger = false;\n        var updatedArgs = extend({}, args);\n        if (getValue('requestType', args) === 'reorder') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnReorder')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = {};\n                record['action'] = 'ColumnReorder';\n                record['fromIndex'] = extend([], [], [args['fromIndex']], true)[0];\n                record['toIndex'] = extend([], [], [args['toIndex']], true)[0];\n                record['toColumn'] = extend([], [], [this.parent.treeGrid.columns[args['toIndex']]['field']], true)[0];\n                record['fromColumn'] = extend([], [], [this.parent.treeGrid.columns[args['fromIndex']]['field']], true)[0];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'columnstate') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('ColumnState')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'ColumnState' };\n                record['showhideColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n        }\n        if (getValue('requestType', args) === 'sorting') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Sorting')) {\n                if (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['currentAction']['sortColumns'].length > 1) {\n                    this.parent.undoRedoModule['sortedColumnsLength']++;\n                }\n                if ((!this.parent.undoRedoModule['currentAction'] || (this.parent.undoRedoModule['currentAction']['sortColumns'] && this.parent.undoRedoModule['sortedColumnsLength'] !== this.parent.undoRedoModule['currentAction']['sortColumns'].length)) && !this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { action: 'Sorting' };\n                    record['sortColumns'] = [];\n                    record['sortColumns'] = this.parent.undoRedoModule['previousSortedColumns'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['previousSortedColumns'] = this.parent.treeGrid.sortSettings.columns;\n            }\n            this.parent.notify('updateModel', {});\n            deleteObject(updatedArgs, 'isFrozen');\n        }\n        else if (getValue('requestType', args) === 'filtering') {\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isFromUndoRedo'] && this.parent['isUndoRedoItemPresent']('Filtering')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var record = { action: 'Filtering' };\n                record['filteredColumns'] = extend([], [], args['columns'], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            this.parent.notify('updateModel', {});\n        }\n        else if (getValue('type', args) === 'save') {\n            fieldName = !isNullOrUndefined(args['column']) ? args['column'].field : null;\n            if (fieldName && args['previousData'] === args['data'][fieldName]) {\n                preventEventTrigger = true;\n            }\n            if (this.parent.editModule && this.parent.editModule.cellEditModule) {\n                var data = getValue('data', args);\n                if (!isNullOrUndefined(data) && !isNullOrUndefined(this.parent.getTaskByUniqueID(data.uniqueID))) {\n                    /* eslint-disable-next-line */\n                    this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.duration] = data.taskData[this.parent.taskFields.duration];\n                    if (!isNullOrUndefined(data.taskData[this.parent.taskFields.resourceInfo])) {\n                        /* eslint-disable-next-line */\n                        this.parent.getTaskByUniqueID(data.uniqueID).taskData[this.parent.taskFields.resourceInfo] = data.taskData[this.parent.taskFields.resourceInfo];\n                    }\n                }\n                if (isEmptyObject(this.currentEditRow) && args['column'] && args['column'].edit && args['column'].field === this.parent.taskFields.resourceInfo) {\n                    var field = this.parent.taskFields.resourceInfo;\n                    this.currentEditRow = (_a = {}, _a[field] = data['resources'], _a);\n                }\n                this.parent.editModule.cellEditModule.initiateCellEdit(args, this.currentEditRow);\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.currentEditRow = {};\n            }\n        }\n        if (getValue('requestType', args) === 'filterAfterOpen') {\n            this.parent.notify('actionComplete', args);\n        }\n        if (getValue('requestType', args) === 'searching') {\n            if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Search')) {\n                if (!this.parent.undoRedoModule['isFromUndoRedo']) {\n                    if (this.parent.undoRedoModule['redoEnabled']) {\n                        this.parent.undoRedoModule['disableRedo']();\n                    }\n                    this.parent.undoRedoModule['createUndoCollection']();\n                    var record = { 'action': 'Search' };\n                    record['searchString'] = this.parent.undoRedoModule['searchString'];\n                    this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n                }\n                this.parent.undoRedoModule['searchString'] = this.parent.treeGrid.searchSettings.key;\n            }\n            this.parent.notify('actionComplete', args);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(getValue('batchChanges', args))) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.isCancelled) {\n            setValue('requestType', 'cancel', updatedArgs);\n            setValue('action', 'CellEditing', updatedArgs);\n            this.parent.isCancelled = false;\n        }\n        if (getValue('requestType', args) === 'refresh' && isNullOrUndefined(getValue('type', args)) && this.parent.addDeleteRecord) {\n            if (this.parent.selectedRowIndex !== -1) {\n                if (!isNullOrUndefined(this.parent.selectionModule) &&\n                    this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection &&\n                    this.parent.editModule.isAdded) {\n                    var selectedIndexes = this.parent.selectionModule.selectedRowIndexes;\n                    if (selectedIndexes.length > 1 && this.parent.selectionSettings.persistSelection) {\n                        for (var i = 0; i < selectedIndexes.length; i++) {\n                            var records = this.parent.flatData[selectedIndexes[i].toString()];\n                            this.parent.selectRows(records);\n                        }\n                    }\n                }\n                else {\n                    this.parent.selectRow(this.parent.selectedRowIndex);\n                    if (this.parent.selectedRowIndex > this.parent.currentViewData.length - 1) {\n                        this.parent.selectedRowIndex = -1;\n                    }\n                }\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.selectionModule) && this.parent.selectionSettings &&\n                    this.parent.selectionSettings.persistSelection\n                    && this.parent.editModule && !this.parent.editModule.isAdded) {\n                    var selectedRecords = this.parent.selectionModule.getSelectedRecords();\n                    var _loop_1 = function (i) {\n                        var selectedTaskId = selectedRecords[i][this_1.parent.taskFields.id];\n                        var existIndeletedRecords = this_1.parent.editModule.deletedRecord.some(function (item) {\n                            return item.ganttProperties.taskId === selectedTaskId;\n                        });\n                        if (existIndeletedRecords) {\n                            selectedRecords.splice(i, 1);\n                        }\n                    };\n                    var this_1 = this;\n                    for (var i = selectedRecords.length - 1; i >= 0; i--) {\n                        _loop_1(i);\n                    }\n                }\n                var indexvalue_1 = 0;\n                var dataCollection = this.parent.enableVirtualization ? this.parent.flatData : this.parent.currentViewData;\n                // To maintain 1st record selection, while deleting the last parent record at Virtual mode\n                dataCollection.map(function (data, index) {\n                    if (!isNullOrUndefined(_this.parent.currentSelection)\n                        && (data['ganttProperties'].taskId === _this.parent.currentSelection[_this.parent.taskFields.id]) &&\n                        ((_this.parent.viewType === 'ResourceView' &&\n                            data['ganttProperties'].rowUniqueID === _this.parent.currentSelection.rowUniqueID) ||\n                            _this.parent.viewType !== 'ResourceView')) {\n                        indexvalue_1 = index;\n                    }\n                });\n                this.addedRecord = true;\n                this.parent.selectRow((isNullOrUndefined(indexvalue_1) ? 0 : indexvalue_1));\n            }\n            if (!this.parent['isExpandPerformed']) {\n                this.parent.addDeleteRecord = false;\n            }\n            this.parent['isExpandPerformed'] = false;\n        }\n        if (this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['isFromUndoRedo'] = false;\n        }\n        if (getValue('requestType', args) === 'refresh') {\n            this.parent.initiateEditAction(false);\n        }\n        if (!preventEventTrigger && !this.setCancelArgs) {\n            this.parent.trigger('actionComplete', updatedArgs);\n        }\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.currentViewData[i].hasChildRecords && !this.parent.currentViewData[i].expanded) {\n                    this.parent.chartRowsModule.updateDragDropRecords(this.parent.currentViewData[i]);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n    };\n    GanttTreeGrid.prototype.updateKeyConfigSettings = function () {\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.delete;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.insert;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlHome;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.ctrlEnd;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.grid.keyboardModule.keyConfigs.shiftTab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.enter;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.upArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.downArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlShiftDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlUpArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.ctrlDownArrow;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.tab;\n        delete this.parent.treeGrid.keyboardModule.keyConfigs.shiftTab;\n    };\n    /**\n     * Method to bind internal events on TreeGrid element\n     *\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.wireEvents = function () {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.add(content, 'scroll', this.scrollHandler, this);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.add(this.parent.treeGridPane, 'click', this.treeGridClickHandler, this);\n        }\n    };\n    GanttTreeGrid.prototype.unWireEvents = function () {\n        var content = this.parent.treeGrid.element &&\n            this.parent.treeGrid.element.querySelector('.e-content');\n        if (content) {\n            EventHandler.remove(content, 'scroll', this.scrollHandler);\n        }\n        if (this.parent.isAdaptive) {\n            EventHandler.remove(this.parent.treeGridPane, 'click', this.treeGridClickHandler);\n        }\n    };\n    // eslint-disable-next-line\n    GanttTreeGrid.prototype.scrollHandler = function (e) {\n        var content = this.parent.treeGrid.element.querySelector('.e-content');\n        if (content.scrollTop !== this.previousScroll.top) {\n            this.parent.notify('grid-scroll', { top: content.scrollTop });\n        }\n        this.previousScroll.top = content.scrollTop;\n        if (this.parent.contextMenuModule && this.parent.contextMenuModule.isOpen) {\n            this.parent.contextMenuModule.contextMenu.close();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    GanttTreeGrid.prototype.validateGanttColumns = function () {\n        var ganttObj = this.parent;\n        var length = ganttObj.columns.length;\n        var tasks = this.parent.taskFields;\n        this.parent.columnMapping = {};\n        this.parent.columnByField = {};\n        this.parent.customColumns = [];\n        var tasksMapping = ['id', 'name', 'startDate', 'endDate', 'duration', 'dependency',\n            'progress', 'baselineStartDate', 'baselineEndDate', 'resourceInfo', 'notes', 'work', 'manual', 'type', 'milestone', 'segments'];\n        var _loop_2 = function (i) {\n            var column = {};\n            if (typeof ganttObj.columns[i] === 'string') {\n                column.field = ganttObj.columns[i];\n            }\n            else {\n                column = ganttObj.columns[i];\n            }\n            var columnName = [];\n            if (tasksMapping.length > 0) {\n                columnName = tasksMapping.filter(function (name) {\n                    return column.field === tasks[name];\n                });\n            }\n            if (columnName.length === 0) {\n                if (column.field === this_2.parent.resourceFields.group) {\n                    return \"continue\";\n                }\n                this_2.parent.customColumns.push(column.field);\n                column.headerText = column.headerText ? column.headerText : column.field;\n                column.width = column.width ? column.width : 150;\n                column.editType = column.editType ? column.editType : 'stringedit';\n                column.type = column.type ? column.type : 'string';\n                if (column.type === 'checkbox') {\n                    this_2.parent.selectionSettings.type = 'Multiple';\n                }\n                this_2.bindTreeGridColumnProperties(column, true);\n                return \"continue\";\n            }\n            else {\n                var index = tasksMapping.indexOf(columnName[0]);\n                tasksMapping.splice(index, 1);\n                this_2.createTreeGridColumn(column, true);\n                this_2.parent.columnMapping[columnName[0]] = column.field;\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < length; i++) {\n            _loop_2(i);\n        }\n        /** Create default columns with task settings property */\n        for (var j = 0; j < tasksMapping.length; j++) {\n            var column = {};\n            if (!isNullOrUndefined(tasks[tasksMapping[j]])) {\n                column.field = tasks[tasksMapping[j]];\n                this.createTreeGridColumn(column, length === 0);\n                this.parent.columnMapping[tasksMapping[j]] = column.field;\n            }\n        }\n        if (this.parent.viewType !== 'ProjectView') {\n            var column = {};\n            this.composeUniqueIDColumn(column);\n            this.createTreeGridColumn(column, true);\n        }\n    };\n    /**\n     *\n     * @param {GanttColumnModel} column .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.createTreeGridColumn = function (column, isDefined) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        column.disableHtmlEncode = !isNullOrUndefined(column.disableHtmlEncode) ? column.disableHtmlEncode : this.parent.disableHtmlEncode;\n        if (taskSettings.id !== column.field) {\n            column.clipMode = column.clipMode ? column.clipMode : 'EllipsisWithTooltip';\n        }\n        if (taskSettings.id === column.field) {\n            /** Id column */\n            this.composeIDColumn(column);\n        }\n        else if (taskSettings.name === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('name');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('name');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.startDate === column.field) {\n            /** Name column */\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('startDate');\n            }\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.endDate === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('endDate');\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n            column.width = column.width ? column.width : 150;\n            if (column.edit && column.edit.params) {\n                column.edit.params['renderDayCell'] = this.parent.renderWorkingDayCell.bind(this.parent);\n            }\n            else {\n                if (column.edit) {\n                    column.edit.params = { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) };\n                }\n                else {\n                    column.edit = { params: { renderDayCell: this.parent.renderWorkingDayCell.bind(this.parent) } };\n                }\n            }\n        }\n        else if (taskSettings.duration === column.field) {\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('duration');\n            }\n            column.valueAccessor = column.valueAccessor ?\n                column.valueAccessor : !isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.read) ? null :\n                this.durationValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = column.type ? column.type : 'string';\n        }\n        else if (taskSettings.progress === column.field) {\n            this.composeProgressColumn(column);\n        }\n        else if (taskSettings.dependency === column.field) {\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('dependency');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            column.type = 'string';\n            column.allowFiltering = column.allowFiltering === false ? false : true;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.dependencyValueAccessor.bind(this);\n            if (isNullOrUndefined(column.filter) && this.parent.locale !== 'en-US') {\n                column.filter = {\n                    'ui': {\n                        create: function (args) {\n                            var flValInput = createElement('input', { className: 'flm-input' });\n                            args.target.appendChild(flValInput);\n                            _this.dropInstance = new AutoComplete({\n                                dataSource: _this.changeLocale(_this.parent.treeGrid.grid.dataSource),\n                                fields: { text: _this.parent.taskFields.dependency, value: _this.parent.taskFields.dependency },\n                                placeholder: _this.parent.localeObj.getConstant('enterValue'),\n                                popupHeight: '200px'\n                            });\n                            _this.dropInstance.appendTo(flValInput);\n                        },\n                        write: function (args) {\n                            _this.dropInstance.value = args.filteredValue;\n                        },\n                        read: function (args) {\n                            args.fltrObj.filterByColumn(args.column.field, args.operator, _this.changeDelocale((_this.dropInstance.value)));\n                        }\n                    }\n                };\n            }\n        }\n        else if (taskSettings.resourceInfo === column.field) {\n            this.composeResourceColumn(column);\n        }\n        else if (taskSettings.notes === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('notes');\n            }\n            column.width = column.width ? column.width : 150;\n            column.editType = column.editType ? column.editType : 'stringedit';\n            if (!this.parent.showInlineNotes) {\n                if (!column.template) {\n                    var contentTemp = function () {\n                        return \"<div class=\\\"e-ganttnotes-info\\\">\\n                            <span class=\\\"e-icons e-notes-info\\\"></span>\\n                        </div>\";\n                    };\n                    column.template = initializeCSPTemplate(contentTemp);\n                }\n            }\n        }\n        else if (taskSettings.baselineStartDate === column.field ||\n            taskSettings.baselineEndDate === column.field) {\n            var colName = (taskSettings.baselineEndDate === column.field) ? 'baselineEndDate' :\n                'baselineStartDate';\n            column.width = column.width ? column.width : 150;\n            if (this.parent.isLocaleChanged && previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant(colName);\n            }\n            column.format = column.format ? column.format : { type: 'date', format: this.parent.getDateFormat() };\n            column.editType = column.editType ? column.editType :\n                this.parent.getDateFormat().toLowerCase().indexOf('hh') !== -1 ? 'datetimepickeredit' : 'datepickeredit';\n        }\n        else if (taskSettings.work === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('work');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('work');\n            }\n            column.width = column.width ? column.width : 150;\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.workValueAccessor.bind(this);\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        else if (taskSettings.type === column.field) {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskType');\n            }\n            column.width = column.width ? column.width : 150;\n            //column.type = 'string';\n            column.editType = 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.taskTypeValueAccessor.bind(this);\n        }\n        else if (taskSettings.manual === column.field && this.parent.taskMode === 'Custom') {\n            if (previousColumn && this.parent.isLocaleChanged) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            else {\n                column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('taskMode');\n            }\n            column.width = column.width ? column.width : 120;\n            column.editType = column.editType ? column.editType : 'dropdownedit';\n            column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.modeValueAccessor.bind(this);\n            column.edit = {\n                params: {\n                    query: new Query(),\n                    dataSource: [\n                        { id: 1, text: this.parent.localeObj.getConstant('manual'), value: true },\n                        { id: 2, text: this.parent.localeObj.getConstant('auto'), value: false }\n                    ],\n                    fields: { text: 'text', value: 'value' }\n                }\n            };\n        }\n        this.bindTreeGridColumnProperties(column, isDefined);\n    };\n    GanttTreeGrid.prototype.changeLocale = function (data) {\n        var _this = this;\n        var filter = [];\n        var flatdatas = data.map(function (task) { return task.ganttProperties.predecessorsName; });\n        flatdatas.map(function (predecessorsName) {\n            if (!isNullOrUndefined(predecessorsName)) {\n                var value_1 = '';\n                var splitString_1 = predecessorsName.split(',');\n                splitString_1.map(function (splitvalue, index) {\n                    if (splitvalue.includes('FS')) {\n                        value_1 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('FF')) {\n                        value_1 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SS')) {\n                        value_1 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                    else if (splitvalue.includes('SF')) {\n                        value_1 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                        value_1 += (splitString_1.length !== index + 1) ? ',' : '';\n                    }\n                });\n                filter.push(value_1);\n            }\n        });\n        return filter;\n    };\n    GanttTreeGrid.prototype.changeDelocale = function (dependency) {\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        if (!isNullOrUndefined(dependency)) {\n            var splitString_2 = dependency.split(',');\n            var value_2 = '';\n            splitString_2.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value_2 += splitvalue.replace(FF, 'FF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value_2 += splitvalue.replace(FS, 'FS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value_2 += splitvalue.replace(SS, 'SS');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value_2 += splitvalue.replace(SF, 'SF');\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value_2 += splitvalue;\n                    value_2 += (splitString_2.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_2;\n        }\n        return null;\n    };\n    /**\n     * Compose Resource columns\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeResourceColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (previousColumn && this.parent.isLocaleChanged) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('resourceName');\n        }\n        column.width = column.width ? column.width : 150;\n        column.type = 'string';\n        column.valueAccessor = column.valueAccessor ? column.valueAccessor : this.resourceValueAccessor.bind(this);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {object} .\n     * @private\n     */\n    GanttTreeGrid.prototype.getResourceIds = function (data) {\n        var value = getValue(this.parent.taskFields.resourceInfo, data.taskData);\n        var id = [];\n        if (!isNullOrUndefined(value)) {\n            for (var i = 0; i < value.length; i++) {\n                id.push(typeof value[i] === 'object' ? value[i][this.parent.resourceFields.id] : value[i]);\n            }\n            return id;\n        }\n        else {\n            return value;\n        }\n    };\n    /**\n     * Create Id column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeIDColumn = function (column) {\n        var isProjectView = this.parent.viewType === 'ProjectView';\n        var lengthDataSource = this.parent.dataSource ? this.parent.dataSource['length'] : 0;\n        var taskIDName;\n        column.isPrimaryKey = isProjectView ? true : false;\n        if (this.parent.isLocaleChanged) {\n            var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n                return column.field === prevcolumn.field;\n            })[0];\n            if (previousColumn) {\n                column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('id');\n            }\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('id');\n        }\n        column.width = column.width ? column.width : 100;\n        for (var i = 0; i < lengthDataSource; i++) {\n            if (!isNullOrUndefined(this.parent.dataSource[i][this.parent.taskFields.id])) {\n                taskIDName = this.parent.dataSource[i][this.parent.taskFields.id];\n                break;\n            }\n        }\n        if (typeof (taskIDName) === 'string' || isNullOrUndefined(taskIDName)) {\n            if (this.parent.viewType === 'ResourceView') {\n                column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            }\n            else {\n                column.allowEditing = column.allowEditing ? column.allowEditing : true;\n            }\n            column.editType = column.editType ? column.editType : 'stringedit';\n        }\n        else {\n            column.allowEditing = column.allowEditing ? column.allowEditing : false;\n            column.editType = column.editType ? column.editType : 'numericedit';\n        }\n        column.valueAccessor = isProjectView ? null : this.idValueAccessor.bind(this);\n    };\n    GanttTreeGrid.prototype.composeUniqueIDColumn = function (column) {\n        column.field = 'rowUniqueID';\n        column.isPrimaryKey = true;\n        column.headerText = 'UniqueID';\n        column.allowEditing = false;\n        column.visible = false;\n    };\n    /**\n     * Create progress column\n     *\n     * @param {GanttColumnModel} column .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.composeProgressColumn = function (column) {\n        var previousColumn = this.parent.previousGanttColumns.filter(function (prevcolumn) {\n            return column.field === prevcolumn.field;\n        })[0];\n        if (this.parent.isLocaleChanged && previousColumn) {\n            column.headerText = previousColumn.headerText ? previousColumn.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        else {\n            column.headerText = column.headerText ? column.headerText : this.parent.localeObj.getConstant('progress');\n        }\n        column.width = column.width ? column.width : 150;\n        column.editType = column.editType ? column.editType : 'numericedit';\n    };\n    /**\n     * @param {GanttColumnModel} newGanttColumn .\n     * @param {boolean} isDefined .\n     * @returns {void} .\n     */\n    GanttTreeGrid.prototype.bindTreeGridColumnProperties = function (newGanttColumn, isDefined) {\n        var treeGridColumn = {};\n        var ganttColumn = {};\n        for (var _i = 0, _a = Object.keys(newGanttColumn); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            treeGridColumn[prop] = ganttColumn[prop] = newGanttColumn[prop];\n        }\n        this.parent.columnByField[ganttColumn.field] = ganttColumn;\n        this.parent.ganttColumns.push(new GanttColumn(ganttColumn));\n        if (isDefined) {\n            this.treeGridColumns.push(treeGridColumn);\n        }\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.durationValueAccessor = function (field, data, column) {\n        if (!isNullOrUndefined(data) && !isNullOrUndefined(data.ganttProperties)) {\n            var ganttProp = data.ganttProperties;\n            return this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n        }\n        else if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            return this.parent.dataOperation.getDurationString(parseInt(data[this.parent.taskFields.duration], 10), this.parent.durationUnit);\n        }\n        return '';\n    }; // eslint-disable-next-line\n    GanttTreeGrid.prototype.dependencyValueAccessor = function (field, data, column) {\n        var _this = this;\n        if (data && data.ganttProperties && !isNullOrUndefined(data.ganttProperties.predecessorsName)) {\n            var value_3 = '';\n            var predecessorsName = data.ganttProperties.predecessorsName;\n            var splitString_3 = predecessorsName.split(',');\n            splitString_3.map(function (splitvalue, index) {\n                if (splitvalue.includes('FS')) {\n                    value_3 += splitvalue.replace('FS', _this.parent.localeObj.getConstant('FS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('FF')) {\n                    value_3 += splitvalue.replace('FF', _this.parent.localeObj.getConstant('FF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SS')) {\n                    value_3 += splitvalue.replace('SS', _this.parent.localeObj.getConstant('SS'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes('SF')) {\n                    value_3 += splitvalue.replace('SF', _this.parent.localeObj.getConstant('SF'));\n                    value_3 += (splitString_3.length !== index + 1) ? ',' : '';\n                }\n            });\n            return value_3;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.resourceValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.resourceNames;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.workValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return this.parent.dataOperation.getWorkString(ganttProp.work, ganttProp.workUnit);\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.taskTypeValueAccessor = function (field, data, column) {\n        var ganttProp = data.ganttProperties;\n        if (!isNullOrUndefined(ganttProp)) {\n            return ganttProp.taskType;\n        }\n        return '';\n    };\n    GanttTreeGrid.prototype.modeValueAccessor = function (field, data, column) {\n        if (data[field]) {\n            return 'Manual';\n        }\n        else {\n            return 'Auto';\n        }\n    };\n    GanttTreeGrid.prototype.idValueAccessor = function (field, data, column) {\n        return data.level === 0 ? 'R-' + data.ganttProperties.taskId : 'T-' + data.ganttProperties.taskId;\n    };\n    GanttTreeGrid.prototype.updateScrollTop = function (args) {\n        var newScrollTop = getValue('top', args);\n        this.treeGridElement.querySelector('.e-content').scrollTop = newScrollTop;\n        this.previousScroll.top = this.treeGridElement.querySelector('.e-content').scrollTop;\n    };\n    GanttTreeGrid.prototype.treeGridClickHandler = function (e) {\n        this.parent.notify('treeGridClick', e);\n    };\n    GanttTreeGrid.prototype.removeEventListener = function () {\n        this.parent.off('renderPanels', this.createContainer);\n        this.parent.off('chartScroll', this.updateScrollTop);\n        this.parent.off('destroy', this.destroy);\n        this.parent.treeGrid.off('reactTemplateRender', this.renderReactTemplate);\n    };\n    GanttTreeGrid.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n        if (this.parent.treeGrid.element) {\n            this.parent.treeGrid.destroy();\n        }\n    };\n    return GanttTreeGrid;\n}());\nexport { GanttTreeGrid };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the working time of the day in the project.\n */\nvar DayWorkingTime = /** @class */ (function (_super) {\n    __extends(DayWorkingTime, _super);\n    function DayWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], DayWorkingTime.prototype, \"to\", void 0);\n    return DayWorkingTime;\n}(ChildProperty));\nexport { DayWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of add dialog.\n */\nvar AddDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(AddDialogFieldSettings, _super);\n    function AddDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], AddDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], AddDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], AddDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return AddDialogFieldSettings;\n}(ChildProperty));\nexport { AddDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines dialog fields of edit dialog.\n */\nvar EditDialogFieldSettings = /** @class */ (function (_super) {\n    __extends(EditDialogFieldSettings, _super);\n    function EditDialogFieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], EditDialogFieldSettings.prototype, \"headerText\", void 0);\n    __decorate([\n        Property([])\n    ], EditDialogFieldSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property({})\n    ], EditDialogFieldSettings.prototype, \"additionalParams\", void 0);\n    return EditDialogFieldSettings;\n}(ChildProperty));\nexport { EditDialogFieldSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures edit settings of Gantt.\n */\nvar EditSettings = /** @class */ (function (_super) {\n    __extends(EditSettings, _super);\n    function EditSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowAdding\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowDeleting\", void 0);\n    __decorate([\n        Property('Auto')\n    ], EditSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Top')\n    ], EditSettings.prototype, \"newRowPosition\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"showDeleteConfirmDialog\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowTaskbarEditing\", void 0);\n    __decorate([\n        Property(false)\n    ], EditSettings.prototype, \"allowNextRowEdit\", void 0);\n    return EditSettings;\n}(ChildProperty));\nexport { EditSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines event marker collection in Gantt.\n */\nvar EventMarker = /** @class */ (function (_super) {\n    __extends(EventMarker, _super);\n    function EventMarker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"day\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], EventMarker.prototype, \"cssClass\", void 0);\n    return EventMarker;\n}(ChildProperty));\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { Predicate } from '@syncfusion/ej2-grids';\n/**\n * Configures the filtering behavior of the Gantt.\n */\nvar FilterSettings = /** @class */ (function (_super) {\n    __extends(FilterSettings, _super);\n    function FilterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], Predicate)\n    ], FilterSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property('Menu')\n    ], FilterSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], FilterSettings.prototype, \"operators\", void 0);\n    __decorate([\n        Property(false)\n    ], FilterSettings.prototype, \"ignoreAccent\", void 0);\n    __decorate([\n        Property('Parent')\n    ], FilterSettings.prototype, \"hierarchyMode\", void 0);\n    return FilterSettings;\n}(ChildProperty));\nexport { FilterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the searching behavior of the Gantt.\n */\nvar SearchSettings = /** @class */ (function (_super) {\n    __extends(SearchSettings, _super);\n    function SearchSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property([])\n    ], SearchSettings.prototype, \"fields\", void 0);\n    __decorate([\n        Property(false)\n    ], SearchSettings.prototype, \"ignoreCase\", void 0);\n    __decorate([\n        Property('contains')\n    ], SearchSettings.prototype, \"operator\", void 0);\n    __decorate([\n        Property('')\n    ], SearchSettings.prototype, \"key\", void 0);\n    __decorate([\n        Property('Parent')\n    ], SearchSettings.prototype, \"hierarchyMode\", void 0);\n    return SearchSettings;\n}(ChildProperty));\nexport { SearchSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines holidays of project.\n */\nvar Holiday = /** @class */ (function (_super) {\n    __extends(Holiday, _super);\n    function Holiday() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"from\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"to\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"label\", void 0);\n    __decorate([\n        Property(null)\n    ], Holiday.prototype, \"cssClass\", void 0);\n    return Holiday;\n}(ChildProperty));\nexport { Holiday };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines labels for task, this will be placed right, left and inner side of taskbar.\n */\nvar LabelSettings = /** @class */ (function (_super) {\n    __extends(LabelSettings, _super);\n    function LabelSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"rightLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"leftLabel\", void 0);\n    __decorate([\n        Property(null)\n    ], LabelSettings.prototype, \"taskLabel\", void 0);\n    return LabelSettings;\n}(ChildProperty));\nexport { LabelSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures the selection behavior of the Gantt.\n */\nvar SelectionSettings = /** @class */ (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Row')\n    ], SelectionSettings.prototype, \"mode\", void 0);\n    __decorate([\n        Property('Flow')\n    ], SelectionSettings.prototype, \"cellSelectionMode\", void 0);\n    __decorate([\n        Property('Single')\n    ], SelectionSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"persistSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], SelectionSettings.prototype, \"enableToggle\", void 0);\n    return SelectionSettings;\n}(ChildProperty));\nexport { SelectionSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures splitter position and splitter bar.\n */\nvar SplitterSettings = /** @class */ (function (_super) {\n    __extends(SplitterSettings, _super);\n    function SplitterSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(-1)\n    ], SplitterSettings.prototype, \"columnIndex\", void 0);\n    __decorate([\n        Property(4)\n    ], SplitterSettings.prototype, \"separatorSize\", void 0);\n    __decorate([\n        Property(null)\n    ], SplitterSettings.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('Default')\n    ], SplitterSettings.prototype, \"view\", void 0);\n    return SplitterSettings;\n}(ChildProperty));\nexport { SplitterSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines mapping property to get task details from data source.\n */\nvar TaskFields = /** @class */ (function (_super) {\n    __extends(TaskFields, _super);\n    function TaskFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"parentID\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"hasChildMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"startDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"endDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"dependency\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"progress\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"child\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"milestone\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"duration\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"baselineEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"resourceInfo\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"expandState\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"indicators\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"notes\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"work\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"manual\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"type\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segments\", void 0);\n    __decorate([\n        Property(null)\n    ], TaskFields.prototype, \"segmentId\", void 0);\n    return TaskFields;\n}(ChildProperty));\nexport { TaskFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex } from '@syncfusion/ej2-base';\n/**\n * Configures timeline settings of Gantt.\n */\nvar TimelineTierSettings = /** @class */ (function (_super) {\n    __extends(TimelineTierSettings, _super);\n    function TimelineTierSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TimelineTierSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property('None')\n    ], TimelineTierSettings.prototype, \"unit\", void 0);\n    __decorate([\n        Property(1)\n    ], TimelineTierSettings.prototype, \"count\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineTierSettings.prototype, \"formatter\", void 0);\n    return TimelineTierSettings;\n}(ChildProperty));\nexport { TimelineTierSettings };\n/**\n * Configures the timeline settings property in the Gantt.\n */\nvar TimelineSettings = /** @class */ (function (_super) {\n    __extends(TimelineSettings, _super);\n    function TimelineSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Week')\n    ], TimelineSettings.prototype, \"timelineViewMode\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"topTier\", void 0);\n    __decorate([\n        Complex({}, TimelineTierSettings)\n    ], TimelineSettings.prototype, \"bottomTier\", void 0);\n    __decorate([\n        Property(33)\n    ], TimelineSettings.prototype, \"timelineUnitSize\", void 0);\n    __decorate([\n        Property(0)\n    ], TimelineSettings.prototype, \"weekStartDay\", void 0);\n    __decorate([\n        Property(null)\n    ], TimelineSettings.prototype, \"weekendBackground\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"updateTimescaleView\", void 0);\n    __decorate([\n        Property(true)\n    ], TimelineSettings.prototype, \"showWeekend\", void 0);\n    return TimelineSettings;\n}(ChildProperty));\nexport { TimelineSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Configures tooltip settings for Gantt.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], TooltipSettings.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"taskbar\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"baseline\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"connectorLine\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"editing\", void 0);\n    __decorate([\n        Property()\n    ], TooltipSettings.prototype, \"timeline\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property, Collection } from '@syncfusion/ej2-base';\n/**\n * Represents the field name and direction of sort column.\n */\nvar SortDescriptor = /** @class */ (function (_super) {\n    __extends(SortDescriptor, _super);\n    function SortDescriptor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"field\", void 0);\n    __decorate([\n        Property()\n    ], SortDescriptor.prototype, \"direction\", void 0);\n    return SortDescriptor;\n}(ChildProperty));\nexport { SortDescriptor };\n/**\n * Configures the sorting behavior of Gantt.\n */\nvar SortSettings = /** @class */ (function (_super) {\n    __extends(SortSettings, _super);\n    function SortSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([], SortDescriptor)\n    ], SortSettings.prototype, \"columns\", void 0);\n    __decorate([\n        Property(true)\n    ], SortSettings.prototype, \"allowUnsort\", void 0);\n    return SortSettings;\n}(ChildProperty));\nexport { SortSettings };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\n/**\n * Defines the mapping properties to extract resource details from the resource collection.\n */\nvar ResourceFields = /** @class */ (function (_super) {\n    __extends(ResourceFields, _super);\n    function ResourceFields() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"id\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"name\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"unit\", void 0);\n    __decorate([\n        Property(null)\n    ], ResourceFields.prototype, \"group\", void 0);\n    return ResourceFields;\n}(ChildProperty));\nexport { ResourceFields };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { ChildProperty, Property } from '@syncfusion/ej2-base';\n/**\n * Configures the Loading Indicator of the Gantt.\n */\nvar LoadingIndicator = /** @class */ (function (_super) {\n    __extends(LoadingIndicator, _super);\n    function LoadingIndicator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Spinner')\n    ], LoadingIndicator.prototype, \"indicatorType\", void 0);\n    return LoadingIndicator;\n}(ChildProperty));\nexport { LoadingIndicator };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Collection } from '@syncfusion/ej2-base';\nimport { DayWorkingTime } from '../models/day-working-time';\n/**\n * Defines the working time of the day in the project.\n */\nvar WeekWorkingTime = /** @class */ (function (_super) {\n    __extends(WeekWorkingTime, _super);\n    function WeekWorkingTime() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], WeekWorkingTime.prototype, \"dayOfWeek\", void 0);\n    __decorate([\n        Collection([], DayWorkingTime)\n    ], WeekWorkingTime.prototype, \"timeRange\", void 0);\n    return WeekWorkingTime;\n}(ChildProperty));\nexport { WeekWorkingTime };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { createElement, isNullOrUndefined, extend, compile, getValue, setValue, SanitizeHtmlHelper, append } from '@syncfusion/ej2-base';\nimport { formatUnit, addClass } from '@syncfusion/ej2-base';\nimport { isScheduledTask, getTaskData } from '../base/utils';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as cls from '../base/css-constants';\nimport { DateProcessor } from '../base/date-processor';\n/**\n * To render the chart rows in Gantt\n */\nvar ChartRows = /** @class */ (function (_super) {\n    __extends(ChartRows, _super);\n    function ChartRows(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.taskBarHeight = 0;\n        _this.milestoneHeight = 0;\n        _this.milesStoneRadius = 0;\n        _this.baselineTop = 0;\n        _this.baselineHeight = 8;\n        _this.touchLeftConnectorpoint = '';\n        _this.touchRightConnectorpoint = '';\n        _this.dropSplit = false;\n        _this.refreshedTr = [];\n        _this.refreshedData = [];\n        _this.isUpdated = true;\n        _this.tagRegex = /<\\/?(\\w+)([^>]*?)(\\/?)>/g;\n        _this.attributeRegex = /([\\w-]+)\\s*=\\s*\"([^\"]*)\"/g;\n        _this.taskBaselineTemplateNode = null;\n        /**\n         * To trigger the touchmove.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchMove = function (event) {\n            _this.parent.ganttChartModule['ganttChartMove'](event);\n        };\n        /**\n         * To trigger the touchend.\n         *\n         * @param {TouchEvent} event .\n         * @returns {void}\n         * @private\n         */\n        _this.handleTouchEnd = function (event) {\n            _this.parent.ganttChartModule['documentMouseUp'](event);\n        };\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.addEventListener();\n        return _this;\n    }\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initPublicProp = function () {\n        this.ganttChartTableBody = null;\n    };\n    ChartRows.prototype.addEventListener = function () {\n        this.parent.on('renderPanels', this.createChartTable, this);\n        this.parent.on('dataReady', this.initiateTemplates, this);\n        this.parent.on('destroy', this.destroy, this);\n    };\n    ChartRows.prototype.refreshChartByTimeline = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        var prevDate = getValue('prevProjectStartDate', this.parent.dataOperation);\n        var isUpdated = false;\n        if (prevDate) {\n            isUpdated = prevDate.getTime() === this.parent.cloneProjectStartDate.getTime();\n        }\n        this.isUpdated = this.parent.isFromOnPropertyChange && isUpdated &&\n            getValue('mutableData', this.parent.treeGrid.grid.contentModule) ? true : false;\n        this.refreshGanttRows();\n        this.isUpdated = true;\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createChartTable = function () {\n        this.taskTable = createElement('table', {\n            className: cls.taskTable + ' ' + cls.zeroSpacing, id: 'GanttTaskTable' + this.parent.element.id,\n            styles: 'position: absolute;width:' + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + 'px;',\n            attrs: { cellspacing: '0.25px' }\n        });\n        var colgroup = createElement('colgroup');\n        var column = createElement('col', { styles: 'width:' + this.parent.timelineModule.totalTimelineWidth + 'px;' });\n        colgroup.appendChild(column);\n        this.taskTable.appendChild(colgroup);\n        this.ganttChartTableBody = createElement('tbody', {\n            id: this.parent.element.id + 'GanttTaskTableBody'\n        });\n        this.taskTable.appendChild(this.ganttChartTableBody);\n        this.parent.ganttChartModule.chartBodyContent.appendChild(this.taskTable);\n    };\n    ChartRows.prototype.initiateTemplates = function () {\n        this.taskTable.style.width = formatUnit(this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth);\n        this.initChartHelperPrivateVariable();\n        this.initializeChartTemplate();\n    };\n    /**\n     * To render chart rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.renderChartRows = function () {\n        this.createTaskbarTemplate();\n        this.parent.isGanttChartRendered = true;\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {IIndicator} indicator .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorNode = function (indicator) {\n        var templateString = '<label class=\"' + cls.label + ' ' + cls.taskIndicatorDiv + '\" style=\"display: inline-flex; align-items: center; margin-top: 0; line-height:'\n            + (this.parent.rowHeight) + 'px;' +\n            (this.parent.enableRtl ? 'right:' : 'left:') + this.getIndicatorleft(indicator.date) + 'px;\"><i class=\"' + indicator.iconClass + '\" style=\"margin-right: 3px;\"></i> </label>';\n        return this.createDivElement(templateString);\n    };\n    /**\n     * To get gantt Indicator.\n     *\n     * @param {Date | string} date .\n     * @returns {number} .\n     * @private\n     */\n    ChartRows.prototype.getIndicatorleft = function (date) {\n        date = this.parent.dateValidationModule.getDateFromFormat(date);\n        var left = this.parent.dataOperation.getTaskLeft(date, false);\n        return left;\n    };\n    /**\n     * To get child taskbar Node.\n     *\n     *  @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getChildTaskbarNode = function (i, rootElement) {\n        var childTaskbarNode = null;\n        var data = this.templateData;\n        var direction;\n        if (this.parent.enableRtl) {\n            direction = 'right:';\n        }\n        else {\n            direction = 'left:';\n        }\n        if (this.childTaskbarTemplateFunction) {\n            childTaskbarNode = this.childTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'TaskbarTemplate', this.getTemplateID('TaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var taskLabel = '';\n            var taskbarInnerDiv = void 0;\n            var progressDiv = void 0;\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) {\n                taskbarInnerDiv = this.createDivElement('<div class=\"' + cls.childTaskBarInnerDiv + ' ' + cls.traceChildTaskBar +\n                    ' ' + (data.ganttProperties.isAutoSchedule ? '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"width:' + data.ganttProperties.width + 'px;height:' +\n                    (this.taskBarHeight) + 'px; margin-top :-1px\"></div>');\n                progressDiv = this.createDivElement('<div class=\"' + cls.childProgressBarInnerDiv + ' ' +\n                    cls.traceChildProgressBar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildProgressBar) + '\"' +\n                    ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                    'width:' + data.ganttProperties.progressWidth + 'px;height:100%;' +\n                    'border-top-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;' +\n                    'border-bottom-right-radius:' + this.getBorderRadius(data.ganttProperties) + 'px;\">' +\n                    '</div>');\n            }\n            var tempDiv = createElement('div');\n            if (this.taskLabelTemplateFunction && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                var taskLabelTemplateNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressDiv[0]);\n                if (taskLabelTemplateNode && taskLabelTemplateNode.length > 0) {\n                    append(taskLabelTemplateNode, tempDiv);\n                    labelString = tempDiv.innerHTML;\n                    labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                    labelString = labelString === 'isCustomTemplate' ? tempDiv.innerHTML : labelString;\n                    if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                        labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    }\n                }\n            }\n            else {\n                var field = this.parent.labelSettings.taskLabel;\n                labelString = this.getTaskLabel(field);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' +\n                        'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    taskLabel = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? ('text-align:' +\n                        (this.parent.enableRtl ? 'right;' : 'left;')) : '') +\n                        +(this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        +(this.parent.viewType === 'ResourceView' ? (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n            }\n            var template = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0 ?\n                this.splitTaskbar(data, labelString) : (data.ganttProperties.startDate && data.ganttProperties.endDate\n                && data.ganttProperties.duration) ? (taskLabel) :\n                (data.ganttProperties.startDate && !data.ganttProperties.endDate && !data.ganttProperties.duration) ? ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                    cls.unscheduledTaskbarLeft + ' ' + (data.ganttProperties.isAutoSchedule ?\n                    '' : cls.manualChildTaskBar) + '\"' +\n                    'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                    (data.ganttProperties.endDate && !data.ganttProperties.startDate && !data.ganttProperties.duration) ?\n                        ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                            cls.unscheduledTaskbarRight + ' ' + (data.ganttProperties.isAutoSchedule ?\n                            '' : cls.manualChildTaskBar) + '\"' +\n                            'style=\"' + direction + data.ganttProperties.left + 'px; height:' + this.taskBarHeight + 'px;\"></div>') :\n                        (data.ganttProperties.duration && !data.ganttProperties.startDate && !data.ganttProperties.endDate) ?\n                            ('<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildTaskBar + ' ' +\n                                cls.unscheduledTaskbar + ' ' + (data.ganttProperties.isAutoSchedule ?\n                                '' : cls.manualChildTaskBar) + '\"' +\n                                'style=\"' + direction + data.ganttProperties.left + 'px; width:' + data.ganttProperties.width + 'px;' +\n                                ' height:' + this.taskBarHeight + 'px;\"></div>') : '';\n            if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0) {\n                var progress = this.getSplitProgressResizerNode();\n                template = template + progress;\n            }\n            if (data.ganttProperties.startDate && data.ganttProperties.endDate && data.ganttProperties.duration &&\n                (isNullOrUndefined(data.ganttProperties.segments) || (!isNullOrUndefined(data.ganttProperties.segments) &&\n                    data.ganttProperties.segments.length === 0))) {\n                if (template !== '' && !isNullOrUndefined(progressDiv) && progressDiv.length > 0) {\n                    /* eslint-disable-next-line */\n                    var templateElement = this.createDivElement(template)[0];\n                    if (this.parent.disableHtmlEncode) {\n                        templateElement.innerText = labelString;\n                    }\n                    else {\n                        templateElement.innerHTML = labelString;\n                    }\n                    var childLabel = this.parent.labelSettings.taskLabel;\n                    if (childLabel && childLabel['elementRef']) {\n                        templateElement.appendChild(tempDiv);\n                    }\n                    progressDiv[0].appendChild(templateElement);\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                        !this.isTemplate(childLabel) &&\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0] && this.parent.disableHtmlEncode) {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                    }\n                    if (progressDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                        childLabel && !childLabel['elementRef'] && tempDiv.innerHTML !== '') {\n                        progressDiv[0].querySelectorAll('.e-task-label')[0].textContent = childLabel;\n                    }\n                }\n                if (!isNullOrUndefined(taskbarInnerDiv) && taskbarInnerDiv.length > 0) {\n                    taskbarInnerDiv[0].appendChild([].slice.call(progressDiv)[0]);\n                }\n                childTaskbarNode = taskbarInnerDiv;\n            }\n            else {\n                childTaskbarNode = this.createDivElement(template);\n            }\n        }\n        if (this.parent.enableRtl && !isNullOrUndefined(childTaskbarNode) && childTaskbarNode[0] && childTaskbarNode[0].querySelector('.e-task-label')) {\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            childTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (childTaskbarNode[0].querySelector('.e-gantt-child-progressbar')) {\n                childTaskbarNode[0].querySelector('.e-gantt-child-progressbar').style.textAlign = 'left';\n            }\n        }\n        return childTaskbarNode;\n    };\n    ChartRows.prototype.splitTaskbar = function (data, labelString) {\n        var splitTasks = '';\n        for (var i = 0; i < data.ganttProperties.segments.length; i++) {\n            var segment = data.ganttProperties.segments[i];\n            var progressBarVisible = void 0;\n            if (!segment.showProgress) {\n                progressBarVisible = 'hidden';\n            }\n            else {\n                progressBarVisible = 'initial';\n            }\n            var segmentPosition = (i === 0) ? 'e-segment-first' : (i === data.ganttProperties.segments.length - 1)\n                ? 'e-segment-last' : 'e-segment-inprogress';\n            splitTasks += (\n            //split taskbar\n            '<div class=\"' + cls.childTaskBarInnerDiv + ' ' + segmentPosition + ' ' + cls.traceChildTaskBar + ' ' +\n                ' e-segmented-taskbar' +\n                '\"style=\"width:' + segment.width + 'px;position: absolute;' + (this.parent.enableRtl ? 'right:' : 'left:') + segment.left + 'px;height:' +\n                (this.taskBarHeight) + 'px; overflow:' + progressBarVisible + ';\" data-segment-index = \"' + i + '\" aria-label = \"' +\n                this.generateSpiltTaskAriaLabel(segment, data.ganttProperties) + '\"> ' +\n                this.getSplitTaskbarLeftResizerNode() +\n                //split progress bar\n                '<div class=\"' + cls.childProgressBarInnerDiv + ' ' + cls.traceChildProgressBar + ' ' +\n                '\" style=\"border-style:' + (segment.progressWidth ? 'solid;' : 'none;') +\n                'display:' + (segment.progressWidth >= 0 ? 'block;' : 'none;') +\n                'width:' + segment.progressWidth + 'px;height:100%;' + 'text-align:' + (this.parent.enableRtl ? 'left;' : 'right;') +\n                'border-top-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;' +\n                'border-bottom-right-radius:' + this.getSplitTaskBorderRadius(segment) + 'px;\">' +\n                // progress label\n                '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                (this.taskBarHeight - 1) + 'px;display:' + (segment.showProgress ? 'inline;' : 'none;') +\n                'height:' + this.taskBarHeight + 'px;\">' + labelString + '</span>' +\n                '</div>' +\n                this.getSplitTaskbarRightResizerNode(segment) +\n                '</div></div>');\n        }\n        return splitTasks;\n    };\n    ChartRows.prototype.getSplitTaskbarLeftResizerNode = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitTaskbarRightResizerNode = function (segment) {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -10;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (segment.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return template;\n    };\n    ChartRows.prototype.getSplitProgressResizerNode = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            ' style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return template;\n    };\n    ChartRows.prototype.getSegmentIndex = function (splitStartDate, record) {\n        var segmentIndex = -1;\n        var ganttProp = record.ganttProperties;\n        var segments = ganttProp.segments;\n        if (!isNullOrUndefined(segments)) {\n            segments.sort(function (a, b) {\n                return a.startDate.getTime() - b.startDate.getTime();\n            });\n            var length_1 = segments.length;\n            for (var i = 0; i < length_1; i++) {\n                var segment = segments[i];\n                // To find if user tend to split the start date of a main taskbar\n                // purpose of this to restrict the split action\n                if (splitStartDate.getTime() === ganttProp.startDate.getTime()) {\n                    this.dropSplit = true;\n                    segmentIndex = 0;\n                    // To find the if user tend to split the first date of already segmented task.\n                    // purpose of this to move on day of a segment\n                }\n                else if (splitStartDate.getTime() === segment.startDate.getTime()) {\n                    this.dropSplit = true;\n                    var sDate = segment.startDate;\n                    sDate.setDate(sDate.getDate() + 1);\n                    sDate = segment.startDate = this.parent.dataOperation.checkStartDate(sDate, ganttProp, false);\n                    segment.startDate = sDate;\n                    var eDate = segment.endDate;\n                    eDate = this.parent.dataOperation.getEndDate(sDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    segment.endDate = eDate;\n                    if (i === segments.length - 1) {\n                        this.parent.setRecordValue('endDate', eDate, ganttProp, true);\n                    }\n                    this.incrementSegments(segments, i, record);\n                    segmentIndex = segment.segmentIndex;\n                    // To find if the user tend to split the segment and find the segment index\n                }\n                else {\n                    segment.endDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n                    if (splitStartDate.getTime() >= segment.startDate.getTime() && splitStartDate.getTime() <= segment.endDate.getTime()) {\n                        segmentIndex = segment.segmentIndex;\n                    }\n                }\n                this.parent.setRecordValue('segments', ganttProp.segments, ganttProp, true);\n            }\n        }\n        if (segmentIndex === -1) {\n            this.dropSplit = true;\n        }\n        return segmentIndex;\n    };\n    ChartRows.prototype.mergeTask = function (taskId, segmentIndexes) {\n        var mergeArrayLength = segmentIndexes.length;\n        var taskFields = this.parent.taskFields;\n        var mergeData = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                if (this.parent.editModule && this.parent.editModule.taskbarEditModule['isDragged'] && this.parent.getUndoActions().length > 0) {\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var rec = this.parent.previousFlatData[mergeData.index];\n                details['modifiedRecords'] = extend([], [rec], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var segments = mergeData.ganttProperties.segments;\n        segmentIndexes = segmentIndexes.sort(function (a, b) {\n            return b.firstSegmentIndex - a.firstSegmentIndex;\n        });\n        for (var arrayLength = 0; arrayLength < mergeArrayLength; arrayLength++) {\n            var firstSegment = segments[segmentIndexes[arrayLength].firstSegmentIndex];\n            var secondSegment = segments[segmentIndexes[arrayLength].secondSegmentIndex];\n            var duration = firstSegment.duration + secondSegment.duration;\n            var endDate = this.parent.dataOperation.getEndDate(firstSegment.startDate, duration, mergeData.ganttProperties.durationUnit, mergeData.ganttProperties, false);\n            var segment = {\n                startDate: firstSegment.startDate,\n                endDate: endDate,\n                duration: duration\n            };\n            var insertIndex = segmentIndexes[arrayLength].firstSegmentIndex;\n            segments.splice(insertIndex, 2, segment);\n            this.parent.setRecordValue('segments', segments, mergeData.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            if (segments.length === 1) {\n                this.parent.setRecordValue('endDate', endDate, mergeData.ganttProperties, true);\n                this.parent.setRecordValue('EndDate', endDate, mergeData, true);\n                this.parent.setRecordValue('segments', null, mergeData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(mergeData, 'segments');\n            }\n            else if (mergeData.ganttProperties.endDate !== segments[segments.length - 1].endDate) {\n                this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, mergeData.ganttProperties, true);\n            }\n        }\n        var segmentFields;\n        if (!isNullOrUndefined(mergeData[taskFields.segments]) && !isNullOrUndefined(mergeData[taskFields.segments][0])) {\n            segmentFields = Object.keys(mergeData[taskFields.segments][0]);\n        }\n        var modifiedSegments = [];\n        for (var i = 0; i < segments.length; i++) {\n            if (!isNullOrUndefined(segmentFields) && !modifiedSegments[i]) {\n                modifiedSegments[i] = {};\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('StartDate') !== -1) {\n                modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('EndDate') !== -1) {\n                modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n            }\n            if (!isNullOrUndefined(segmentFields) && segmentFields.indexOf('Duration') !== -1) {\n                modifiedSegments[i][taskFields.duration] = segments[i].duration;\n            }\n        }\n        mergeData[taskFields.segments] = modifiedSegments;\n        this.updateSegment(mergeData.ganttProperties.segments, taskId);\n        this.refreshChartAfterSegment(mergeData, 'mergeSegment');\n    };\n    ChartRows.prototype.updateSegment = function (segmentData, taskId) {\n        var _this = this;\n        if (!isNullOrUndefined(this.parent.taskFields.segmentId) && this.parent.segmentData.length > 0) {\n            if (!isNullOrUndefined(segmentData)) {\n                var segmentsArray = [];\n                for (var i = 0; i < segmentData.length; i++) {\n                    var segmentObj = {};\n                    var segment = segmentData[i];\n                    segmentObj[this.parent.taskFields.segmentId] = taskId;\n                    if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n                        segmentObj[this.parent.taskFields.startDate] = segment.startDate;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        segmentObj[this.parent.taskFields.duration] = segment.duration;\n                    }\n                    if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n                        segmentObj[this.parent.taskFields.endDate] = segment.endDate;\n                    }\n                    segmentsArray.push(segmentObj);\n                }\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                for (var i = 0; i < segmentsArray.length; i++) {\n                    filterData.push(segmentsArray[i]);\n                }\n                this.parent.segmentData = filterData;\n            }\n            else {\n                var filterData = this.parent.segmentData.filter(function (data) {\n                    return !(taskId === data[_this.parent.taskFields.segmentId]);\n                });\n                this.parent.segmentData = filterData;\n            }\n        }\n    };\n    ChartRows.prototype.refreshChartAfterSegment = function (data, requestType) {\n        this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(data, false), data.ganttProperties, true);\n        this.parent.dataOperation.updateMappingData(data, 'segments');\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateParentItems(data);\n        if (data.ganttProperties.sharedTaskUniqueIds && data.ganttProperties.sharedTaskUniqueIds.length > 1) {\n            this.parent.editModule['updateSharedTask'](data);\n        }\n        if (this.parent.predecessorModule && this.parent.taskFields.dependency) {\n            this.parent.predecessorModule.updatedRecordsDateByPredecessor();\n            this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.flatData);\n            this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.flatData);\n            if (data.parentItem && this.parent.getParentTask(data.parentItem).ganttProperties.isAutoSchedule\n                && this.parent.isInPredecessorValidation) {\n                this.parent.dataOperation.updateParentItems(data.parentItem);\n            }\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        else {\n            this.refreshRecords(this.parent.currentViewData);\n        }\n        var tr = this.ganttChartTableBody.querySelectorAll('tr')[this.parent.currentViewData.indexOf(data)];\n        var args = {\n            requestType: requestType,\n            rowData: data,\n            modifiedRecords: this.parent.editedRecords,\n            modifiedTaskData: getTaskData(this.parent.editedRecords, true)\n        };\n        this.triggerQueryTaskbarInfoByIndex(tr, data);\n        if (this.parent.selectionModule) {\n            this.parent.selectionModule.clearSelection();\n        }\n        var segments = args.rowData.taskData[this.parent.taskFields.segments];\n        if (this.parent.timezone && segments != null) {\n            for (var i = 0; i < segments.length; i++) {\n                segments[i][this.parent.taskFields.startDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].startDate, this.parent.timezone);\n                if (this.parent.taskFields.endDate) {\n                    segments[i][this.parent.taskFields.endDate] = this.parent.dateValidationModule.remove(args.rowData.ganttProperties.segments[i].endDate, this.parent.timezone);\n                }\n            }\n        }\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        setValue('isEdit', false, this.parent.contextMenuModule);\n        setValue('isEdit', false, this.parent);\n    };\n    /**\n     * public method to split task bar.\n     *\n     * @public\n     */\n    ChartRows.prototype.splitTask = function (taskId, splitDates) {\n        var taskFields = this.parent.taskFields;\n        var splitDate = splitDates;\n        var splitRecord = this.parent.flatData.filter(function (x) {\n            if (x[taskFields.id] === taskId) {\n                return x;\n            }\n            else {\n                return null;\n            }\n        })[0];\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            var details = {};\n            details['action'] = 'MergeTaskbar';\n            if (this.parent['isUndoRedoItemPresent']('Edit')) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                details['modifiedRecords'] = extend([], [splitRecord], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n        }\n        var ganttProp = splitRecord.ganttProperties;\n        this.dropSplit = false;\n        var segmentIndex = -1;\n        var segments = ganttProp.segments;\n        if (isNullOrUndefined(splitDates.length) || splitDates.length < 0) {\n            var splitStartDate = this.parent.dataOperation.checkStartDate(splitDate, ganttProp, false);\n            if (splitStartDate.getTime() !== ganttProp.startDate.getTime()) {\n                if (ganttProp.isAutoSchedule) {\n                    if (!isNullOrUndefined(segments) && segments.length > 0) {\n                        segmentIndex = this.getSegmentIndex(splitStartDate, splitRecord);\n                    }\n                    //check atleast one day difference is there to split\n                    if (this.dropSplit === false && splitDate.getTime() > ganttProp.startDate.getTime() &&\n                        splitDate.getTime() < ganttProp.endDate.getTime()) {\n                        segments = segmentIndex !== -1 ? segments : [];\n                        var startDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].startDate : new Date(ganttProp.startDate.getTime());\n                        var endDate = segmentIndex !== -1 ?\n                            segments[segmentIndex].endDate : new Date(ganttProp.endDate.getTime());\n                        var segmentDuration = this.parent.dataOperation.getDuration(startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                        this.parent.setRecordValue('segments', this.splitSegmentedTaskbar(startDate, endDate, splitDate, segmentIndex, segments, splitRecord, segmentDuration), ganttProp, true);\n                        var modifiedSegments = [];\n                        for (var i = 0; i < segments.length; i++) {\n                            if (!modifiedSegments[i]) {\n                                modifiedSegments[i] = {};\n                            }\n                            modifiedSegments[i][taskFields.startDate] = segments[i].startDate;\n                            modifiedSegments[i][taskFields.endDate] = segments[i].endDate;\n                            modifiedSegments[i][taskFields.duration] = segments[i].duration;\n                        }\n                        splitRecord[taskFields.segments] = modifiedSegments;\n                        if (segmentIndex !== -1) {\n                            this.incrementSegments(segments, segmentIndex + 1, splitRecord);\n                        }\n                        this.parent.setRecordValue('endDate', segments[segments.length - 1].endDate, ganttProp, true);\n                        if (this.parent.taskFields.endDate) {\n                            this.parent.dataOperation.updateMappingData(splitRecord, 'endDate');\n                        }\n                    }\n                    this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n                    this.refreshChartAfterSegment(splitRecord, 'splitTaskbar');\n                }\n            }\n        }\n        else {\n            splitDates.sort(function (a, b) {\n                return a.getTime() - b.getTime();\n            });\n            this.parent.setRecordValue('segments', this.constructSegments(splitDates, splitRecord.ganttProperties), splitRecord.ganttProperties, true);\n            this.updateSegment(splitRecord.ganttProperties.segments, taskId);\n            this.refreshChartAfterSegment(splitRecord, 'splitTask');\n        }\n    };\n    ChartRows.prototype.constructSegments = function (dates, taskData) {\n        var segmentsArray = [];\n        var segment;\n        var startDate = new Date();\n        var endDate;\n        var duration;\n        for (var i = 0; i < dates.length + 1; i++) {\n            startDate = i === 0 ? taskData.startDate : startDate;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, taskData, false);\n            endDate = i !== dates.length ? new Date(dates[i].getTime()) > taskData.endDate ? taskData.endDate\n                : new Date(dates[i].getTime()) : taskData.endDate;\n            endDate = this.parent.dataOperation.checkEndDate(endDate, taskData, false);\n            duration = this.parent.dataOperation.getDuration(startDate, endDate, taskData.durationUnit, taskData.isAutoSchedule, taskData.isMilestone);\n            if (endDate.getTime() >= startDate.getTime()) {\n                segment = {\n                    startDate: startDate,\n                    endDate: endDate,\n                    duration: duration\n                };\n                segmentsArray.push(segment);\n            }\n            if (i === dates.length) {\n                break;\n            }\n            startDate = new Date(dates[i].getTime());\n            startDate.setDate(dates[i].getDate() + 1);\n        }\n        return segmentsArray;\n    };\n    ChartRows.prototype.splitSegmentedTaskbar = function (startDate, endDate, splitDate, segmentIndex, segments, ganttData, segmentDuration) {\n        var ganttProp = ganttData.ganttProperties;\n        var checkClickState;\n        var endDateState;\n        if (this.parent.includeWeekend) {\n            checkClickState = -1;\n        }\n        else {\n            checkClickState = this.parent.nonWorkingDayIndex.indexOf(splitDate.getDay());\n        }\n        var increment = checkClickState === -1 ? 0 : checkClickState === 0 ? 1 : checkClickState === 1 ? 1 : 2;\n        startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n        var segmentEndDate = new Date(splitDate.getTime());\n        segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n        for (var i = 0; i < 2; i++) {\n            if (this.parent.weekWorkingTime.length > 0) {\n                var dayEndTime = this.parent['getCurrentDayEndTime'](segmentEndDate);\n                this.setTime(dayEndTime, segmentEndDate);\n            }\n            var segment = {\n                startDate: startDate,\n                endDate: segmentEndDate,\n                duration: this.parent.dataOperation.getDuration(startDate, segmentEndDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone),\n                offsetDuration: 1\n            };\n            if (this.parent.includeWeekend) {\n                endDateState = -1;\n            }\n            else {\n                endDateState = this.parent.nonWorkingDayIndex.indexOf(segmentEndDate.getDay());\n            }\n            if (segmentIndex !== -1) {\n                segments.splice(segmentIndex, 1);\n                segmentIndex = -1;\n            }\n            segments.push(segment);\n            var mode = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n            if (mode === 'Hour' || mode === 'Minutes') {\n                startDate = new Date(splitDate.getTime());\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                var count = this.parent.timelineModule.customTimelineSettings.bottomTier.count;\n                var mode_1 = this.parent.timelineModule.customTimelineSettings.bottomTier.unit;\n                var timeIncrement = this.parent.timelineModule.getIncrement(startDate, count, mode_1);\n                var newTime = startDate.getTime() + timeIncrement;\n                startDate.setTime(newTime + increment);\n                segmentEndDate = new Date(endDate.getTime());\n                timeIncrement = this.parent.timelineModule.getIncrement(segmentEndDate, count, mode_1);\n                newTime = segmentEndDate.getTime() + timeIncrement;\n                segmentEndDate.setTime(newTime + increment);\n            }\n            else {\n                startDate = new Date(splitDate.getTime());\n                startDate.setDate(startDate.getDate() + 1 + increment);\n                var dayStartTime = this.parent['getCurrentDayStartTime'](startDate);\n                this.setTime(dayStartTime, startDate);\n                startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n                if (!this.parent.taskFields.duration && increment <= 0) {\n                    startDate.setDate(startDate.getDate() + 1);\n                }\n                segmentEndDate = new Date(endDate.getTime());\n                if (segmentEndDate < startDate) {\n                    segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                }\n                if (this.isOnHolidayOrWeekEnd(segmentEndDate, true)) {\n                    do {\n                        segmentEndDate.setDate(segmentEndDate.getDate() + 1);\n                    } while (this.isOnHolidayOrWeekEnd(segmentEndDate, true));\n                }\n                if (!this.parent.includeWeekend) {\n                    segmentEndDate = this.getNextWorkingDay(segmentEndDate);\n                }\n            }\n            if (endDateState !== -1) {\n                var diff = segmentDuration - segment.duration;\n                segmentEndDate =\n                    this.parent.dataOperation.getEndDate(startDate, diff, ganttProp.durationUnit, ganttProp, false);\n            }\n            else {\n                segmentEndDate = this.parent.dataOperation.checkEndDate(segmentEndDate, ganttProp, false);\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        return segments;\n    };\n    ChartRows.prototype.incrementSegments = function (segments, segmentIndex, ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        for (var i = segmentIndex + 1; i < segments.length; i++) {\n            var segment = segments[i];\n            var startDate = i !== 0 ? new Date(segments[i - 1].endDate.getTime()) : new Date(segment.startDate.getTime());\n            this.parent.dataOperation['fromSegments'] = true;\n            startDate = this.parent.dataOperation.getEndDate(startDate, segment.offsetDuration, ganttProp.durationUnit, ganttProp, false);\n            this.parent.dataOperation['fromSegments'] = false;\n            startDate = this.parent.dataOperation.checkStartDate(startDate, ganttProp, false);\n            segment.startDate = startDate;\n            var endDate = segment.endDate = this.parent.dataOperation.getEndDate(startDate, segment.duration, ganttProp.durationUnit, ganttProp, false);\n            segment.endDate = endDate;\n            if (i === segments.length - 1) {\n                this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                if (this.parent.taskFields.endDate) {\n                    this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n                }\n            }\n        }\n        segments.sort(function (a, b) {\n            return a.startDate.getTime() - b.startDate.getTime();\n        });\n        this.parent.setRecordValue('segments', segments, ganttProp, true);\n        this.parent.dataOperation.updateMappingData(ganttData, 'segments');\n    };\n    ChartRows.prototype.calculateLeftValue = function (rowHeight) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if ((!isNullOrUndefined(this.parent.taskbarHeight) && this.parent.taskbarHeight <= defaultTaskbarHeight) ||\n            (isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36)) {\n            return 1;\n        }\n        else {\n            if (rowHeight <= 36) {\n                return 1;\n            }\n            return (-1 / 12) * (rowHeight - 36) + 1;\n        }\n    };\n    /**\n     * To get milestone node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneNode = function (i, rootElement) {\n        var milestoneNode = null;\n        var data = this.templateData;\n        var rowHeight = this.parent.rowHeight;\n        var leftValue = this.calculateLeftValue(rowHeight);\n        if (this.milestoneTemplateFunction) {\n            milestoneNode = this.milestoneTemplateFunction(extend({ index: i }, data), this.parent, 'MilestoneTemplate', this.getTemplateID('MilestoneTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var template = '<div class=\"' + cls.traceMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 6)) + 'px;position:absolute;transform: rotate(45deg);left:' + leftValue + 'px;\"> </div>';\n            milestoneNode = this.createDivElement(template);\n        }\n        return milestoneNode;\n    };\n    /**\n     * To get task baseline Node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTaskBaselineNode = function () {\n        var data = this.templateData;\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + data.ganttProperties.baselineLeft + 'px;' +\n            'width:' + data.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.updateTaskBaselineNode = function (childData) {\n        var template = '<div class=\"' + cls.baselineBar + ' ' + '\" role=\"term\" style=\"margin-top:' + this.baselineTop +\n            'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + childData.ganttProperties.baselineLeft + 'px;' +\n            'width:' + childData.ganttProperties.baselineWidth + 'px;height:' +\n            this.baselineHeight + 'px;' + (this.baselineColor ? 'background-color: ' + this.baselineColor + ';' : '') + '\"></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get milestone baseline node.\n     *\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getMilestoneBaselineNode = function () {\n        var data = this.templateData;\n        var baselineMilestoneHeight = this.parent.renderBaseline ? 5 : 2;\n        var template = '<div class=\"' + cls.baselineMilestoneContainer + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight : this.taskBarHeight - 10)) + 'px;position:absolute;transform:rotate(45deg);' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.parent.enableRtl ? (data.ganttProperties.left -\n            (this.milestoneHeight / 2) + 3) : (data.ganttProperties.baselineLeft - (this.milestoneHeight / 2) + 1)) + 'px;' + (this.baselineColor ?\n            'background-color: ' + this.baselineColor + ';' : '') + 'margin-top:' + ((-Math.floor(this.parent.rowHeight - this.milestoneMarginTop) + baselineMilestoneHeight) + 2) + 'px\"> </div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get left label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getLeftLabelNode = function (i) {\n        var leftLabelNode = this.leftLabelContainer();\n        if (this.generateTaskLabelAriaLabel('left') !== '') {\n            leftLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('left'));\n        }\n        var leftLabelTemplateNode = null;\n        if (this.leftTaskLabelTemplateFunction) {\n            leftLabelTemplateNode = this.leftTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'LeftLabelTemplate', this.getTemplateID('LeftLabelTemplate'), false, undefined, leftLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.leftLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    leftLabelTemplateNode = this.getLableText(labelString, cls.leftLabelInnerDiv);\n                }\n            }\n        }\n        if (leftLabelTemplateNode && leftLabelTemplateNode.length > 0) {\n            if (leftLabelTemplateNode[0]['data'] === 'null') {\n                leftLabelTemplateNode[0]['data'] = '';\n            }\n            append(leftLabelTemplateNode, leftLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            leftLabelNode[0].style.paddingLeft = '25px';\n            leftLabelNode[0].style.paddingRight = '0px';\n        }\n        return leftLabelNode;\n    };\n    ChartRows.prototype.getLableText = function (labelString, labelDiv) {\n        var leftLabelHeight = this.parent.renderBaseline ?\n            ((this.parent.rowHeight - this.taskBarHeight) / 2) : this.taskBarMarginTop;\n        var templateString = createElement('div', {\n            className: labelDiv, styles: 'height:' + (this.taskBarHeight) + 'px;' +\n                'margin-top:' + leftLabelHeight + 'px;'\n        });\n        var spanElem = createElement('span', { className: cls.label });\n        var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n        spanElem[property] = labelString;\n        templateString.appendChild(spanElem);\n        var div = createElement('div');\n        div.appendChild(templateString);\n        return div.childNodes;\n    };\n    /**\n     * To get right label node.\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getRightLabelNode = function (i) {\n        var rightLabelNode = this.rightLabelContainer();\n        if (this.generateTaskLabelAriaLabel('right') !== '') {\n            rightLabelNode[0].setAttribute('aria-label', this.generateTaskLabelAriaLabel('right'));\n        }\n        var rightLabelTemplateNode = null;\n        if (this.rightTaskLabelTemplateFunction) {\n            rightLabelTemplateNode = this.rightTaskLabelTemplateFunction(extend({ index: i }, this.templateData), this.parent, 'RightLabelTemplate', this.getTemplateID('RightLabelTemplate'), false, undefined, rightLabelNode[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var field = this.parent.labelSettings.rightLabel;\n            var labelString = this.getTaskLabel(field);\n            if (labelString) {\n                labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    labelString = labelString === 'isCustomTemplate' ? field : labelString;\n                    rightLabelTemplateNode = this.getLableText(labelString, cls.rightLabelInnerDiv);\n                }\n            }\n        }\n        if (rightLabelTemplateNode && rightLabelTemplateNode.length > 0) {\n            if (rightLabelTemplateNode[0]['data'] === 'null') {\n                rightLabelTemplateNode[0]['data'] = '';\n            }\n            append(rightLabelTemplateNode, rightLabelNode[0]);\n        }\n        if (this.parent.enableRtl) {\n            rightLabelNode[0].style.marginLeft = '0px';\n            rightLabelNode[0].style.paddingRight = '25px';\n        }\n        return rightLabelNode;\n    };\n    ChartRows.prototype.getManualTaskbar = function () {\n        var data = this.templateData;\n        var taskbarHeight = (this.taskBarHeight / 2 - 1);\n        var innerDiv = (data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) ?\n            ('<div class=\"' + cls.manualParentTaskBar + '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight / 5 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') :\n            (!data.ganttProperties.startDate && !data.ganttProperties.endDate && data.ganttProperties.duration) ?\n                ('<div class=\"' + cls.manualParentTaskBar + ' ' + cls.traceManualUnscheduledTask +\n                    '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                    (taskbarHeight / 5 + 1) + 'px;border-left-width:' + taskbarHeight / 5 +\n                    'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>') : ('<div class=\"' +\n                cls.manualParentTaskBar + ' ' + (data.ganttProperties.startDate ? cls.unscheduledTaskbarLeft : cls.unscheduledTaskbarRight) +\n                '\" style=\"width:' + data.ganttProperties.width + 'px;' + 'height:' +\n                taskbarHeight * 2 + 'px;border-left-width:' + taskbarHeight / 5 +\n                'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>');\n        var childEle = innerDiv + ((data.ganttProperties.startDate && data.ganttProperties.endDate &&\n            (data.ganttProperties.duration || data.hasChildRecords)) || data.ganttProperties.duration ? '<div class=\"e-gantt-manualparenttaskbar-left\" style=' +\n            (this.parent.enableRtl ? 'margin-right:0px;' : '') + '\"height:' + ((taskbarHeight / 5) + 8) + 'px;border-left-width:' + taskbarHeight / 5 +\n            'px; border-bottom:' + taskbarHeight / 5 + 'px solid transparent;\"></div>' +\n            '<div class=\"e-gantt-manualparenttaskbar-right\" style=\"' + (this.parent.enableRtl ? 'margin-right:-8px;' : '') +\n            (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.width - Math.floor(((taskbarHeight / 5) + 8) / 5)) + 'px;height:' +\n            ((taskbarHeight / 5) + 8) + 'px;border-right-width:' + taskbarHeight / 5 + 'px;border-bottom:' +\n            taskbarHeight / 5 + 'px solid transparent;\">' + '</div></div>' : '');\n        var template = '<div class=\"' + cls.manualParentMainContainer + '\"' +\n            'style=' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left - data.ganttProperties.autoLeft) + 'px;' +\n            'width:' + data.ganttProperties.width + 'px;' +\n            'height:' + taskbarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;') + '</div>';\n        var milestoneTemplate = '<div class=\"' + cls.manualParentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n            ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) +\n            'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:'\n            + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n        return this.createDivElement((data.ganttProperties.duration === 0 && data.hasChildRecords &&\n            !data.ganttProperties.isAutoSchedule) ? milestoneTemplate + childEle : template + childEle);\n    };\n    /**\n     * To get parent taskbar node.\n     *\n     * @param {number} i .\n     * @param {NodeList} rootElement .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getParentTaskbarNode = function (i, rootElement) {\n        var parentTaskbarNode = null;\n        var data = this.templateData;\n        if (this.parentTaskbarTemplateFunction) {\n            parentTaskbarNode = this.parentTaskbarTemplateFunction(extend({ index: i }, data), this.parent, 'ParentTaskbarTemplate', this.getTemplateID('ParentTaskbarTemplate'), false, undefined, rootElement[0], this.parent.treeGrid['root']);\n        }\n        else {\n            var labelString = '';\n            var labelDiv = void 0;\n            var tHeight = this.taskBarHeight / 5;\n            var template = this.createDivElement('<div class=\"' + cls.parentTaskBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentTaskBar + '\"' +\n                ' style=\"width:' + (data.ganttProperties.isAutoSchedule ? data.ganttProperties.width :\n                data.ganttProperties.autoWidth) + 'px;height:' + (data.ganttProperties.isAutoSchedule ? this.taskBarHeight :\n                (tHeight * 3)) + 'px;margin-top:' + (data.ganttProperties.isAutoSchedule ? -1 :\n                (tHeight * 2)) + 'px; \">' +\n                '</div>');\n            var progressBarInnerDiv = this.createDivElement('<div class=\"' + cls.parentProgressBarInnerDiv + ' ' +\n                this.getExpandClass(data) + ' ' + cls.traceParentProgressBar + '\"' +\n                ' style=\"border-style:' + (data.ganttProperties.progressWidth ? 'solid;' : 'none;') +\n                'width:' + data.ganttProperties.progressWidth + 'px;' +\n                'border-top-right-radius:' + this.getBorderRadius(data) + 'px;' +\n                'border-bottom-right-radius:' + this.getBorderRadius(data) + 'px;height:100%;\"></div>');\n            var div = createElement('div');\n            if (this.taskLabelTemplateFunction) {\n                var parentTaskLabelNode = this.taskLabelTemplateFunction(extend({ index: i }, data), this.parent, 'TaskLabelTemplate', this.getTemplateID('TaskLabelTemplate'), false, undefined, progressBarInnerDiv[0]);\n                if (parentTaskLabelNode && parentTaskLabelNode.length > 0) {\n                    append(parentTaskLabelNode, div);\n                    labelString = div.innerHTML;\n                    labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                    labelString = labelString === 'isCustomTemplate' ? div.innerHTML : labelString;\n                    if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                        labelString = SanitizeHtmlHelper.sanitize(labelString);\n                    }\n                }\n            }\n            else {\n                labelString = this.getTaskLabel(this.parent.labelSettings.taskLabel);\n                labelString = labelString === 'isCustomTemplate' ? this.parent.labelSettings.taskLabel : labelString;\n                if (this.parent.enableHtmlSanitizer && typeof (labelString) === 'string') {\n                    labelString = SanitizeHtmlHelper.sanitize(labelString);\n                }\n            }\n            if (labelString.indexOf('null') === -1) {\n                if (this.getTaskLabel(this.parent.labelSettings.taskLabel) === 'isCustomTemplate' &&\n                    !this.isTemplate(this.parent.labelSettings.taskLabel)) {\n                    labelString = '';\n                }\n                if (isNaN(parseInt(labelString, 10))) {\n                    labelDiv = '<span class=\"' + cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) :\n                            (this.taskBarHeight - 1)) + 'px; text-align:' + (this.parent.enableRtl ? 'right;' : 'left;') +\n                        'display:' + 'inline-block;' + 'width:' + (data.ganttProperties.width - 10) + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                else {\n                    labelDiv = '<span class=\"' +\n                        cls.taskLabel + '\" style=\"line-height:' +\n                        (data[this.parent.taskFields.manual] && data.hasChildRecords ? (Math.floor((60 / 100) * this.taskBarHeight)) : (this.taskBarHeight - 1)) + 'px;' +\n                        (this.parent.viewType === 'ResourceView' ? 'display:inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        (this.taskBarHeight - 1) + 'px;' + (this.parent.viewType === 'ResourceView' ? 'display: inline-flex;' : '') +\n                        (this.parent.viewType === 'ResourceView' ? 'width:' + (data.ganttProperties.width - 10) : '') + 'px; height:' +\n                        this.taskBarHeight + 'px;\"></span>';\n                }\n                var labelElement = this.createDivElement(labelDiv)[0];\n                if (this.parent.disableHtmlEncode) {\n                    labelElement.innerText = labelString;\n                }\n                else {\n                    labelElement.innerHTML = labelString;\n                }\n                var parentLabel = this.parent.labelSettings.taskLabel;\n                if (parentLabel && parentLabel['elementRef']) {\n                    labelElement.appendChild(div);\n                }\n                progressBarInnerDiv[0].appendChild(labelElement);\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent !== '' &&\n                    !this.isTemplate(parentLabel) &&\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0] && this.parent.disableHtmlEncode) {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].children[0].remove();\n                }\n                if (progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent === '' &&\n                    parentLabel && !parentLabel['elementRef'] && div.innerHTML !== '') {\n                    progressBarInnerDiv[0].querySelectorAll('.e-task-label')[0].textContent = parentLabel;\n                }\n            }\n            var milestoneTemplate = '<div class=\"' + cls.parentMilestone + '\" style=\"width:' + ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;height:' +\n                ((this.parent.renderBaseline ? this.taskBarHeight - 3 : this.taskBarHeight - 7)) + 'px;position:absolute;transform: rotate(45deg);top:' + (this.parent.rowHeight > 40 ? 0 : 2) + 'px;left:' + (this.parent.renderBaseline ? 2 : 1) + 'px;\"> </div>';\n            template[0].appendChild([].slice.call(progressBarInnerDiv)[0]);\n            parentTaskbarNode = data.ganttProperties.isMilestone ?\n                this.createDivElement(data.ganttProperties.isAutoSchedule ? milestoneTemplate : '') : template;\n        }\n        if (this.parent.enableRtl && parentTaskbarNode[0] && parentTaskbarNode[0].querySelector('.e-task-label')) {\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginLeft = '15px';\n            parentTaskbarNode[0].querySelector('.e-task-label').style.marginRight = '8px';\n            if (parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar')) {\n                parentTaskbarNode[0].querySelector('.e-gantt-parent-progressbar').style.textAlign = 'left';\n            }\n        }\n        return parentTaskbarNode;\n    };\n    /**\n     * To get taskbar row('TR') node\n     *\n     * @param {number} i .\n     * @returns {NodeList} .\n     * @private\n     */\n    ChartRows.prototype.getTableTrNode = function (i) {\n        var _this = this;\n        var table = createElement('table');\n        var className = (this.parent.gridLines === 'Horizontal' || this.parent.gridLines === 'Both') ?\n            'e-chart-row-border' : '';\n        /* eslint-disable-next-line */\n        var activecls;\n        var rows;\n        if (this.parent.treeGridModule.isPersist) {\n            setTimeout(function () {\n                if (!isNullOrUndefined(_this.parent.treeGrid.grid) && !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule) &&\n                    !isNullOrUndefined(_this.parent.treeGrid.grid.contentModule.getRows())) {\n                    rows = _this.parent.treeGrid.grid.contentModule.getRows()[i];\n                    if (rows && rows.isSelected) {\n                        activecls = 'e-active';\n                    }\n                    else {\n                        activecls = '';\n                    }\n                }\n            }, 0);\n        }\n        else {\n            rows = this.parent.treeGrid.grid.contentModule.getRows()[i];\n            if (rows && rows.isSelected) {\n                activecls = 'e-active';\n            }\n            else {\n                activecls = '';\n            }\n        }\n        var tbody = table.querySelector('tbody');\n        if (!tbody) {\n            tbody = document.createElement('tbody');\n            table.appendChild(tbody);\n        }\n        var tableRow = document.createElement('tr');\n        tableRow.classList.add(this.getRowClassName(this.templateData), cls.chartRow);\n        if (activecls) {\n            tableRow.classList.add(activecls);\n        }\n        tableRow.style.display = this.getExpandDisplayProp(this.templateData);\n        tableRow.style.height = this.parent.rowHeight + \"px\";\n        var tableCell = document.createElement('td');\n        if (className) {\n            tableCell.classList.add(cls.chartRowCell, className);\n        }\n        else {\n            tableCell.classList.add(cls.chartRowCell);\n        }\n        tableCell.style.width = this.parent.timelineModule.totalTimelineWidth + \"px\";\n        tableRow.appendChild(tableCell);\n        tbody.appendChild(tableRow);\n        return table.childNodes;\n    };\n    /**\n     * To initialize chart templates.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initializeChartTemplate = function () {\n        if (!isNullOrUndefined(this.parent.parentTaskbarTemplate)) {\n            this.parentTaskbarTemplateFunction = this.templateCompiler(this.parent.parentTaskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.leftLabel) &&\n            this.isTemplate(this.parent.labelSettings.leftLabel)) {\n            this.leftTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.leftLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.rightLabel) &&\n            this.isTemplate(this.parent.labelSettings.rightLabel)) {\n            this.rightTaskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.rightLabel);\n        }\n        if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) &&\n            this.isTemplate(this.parent.labelSettings.taskLabel)) {\n            this.taskLabelTemplateFunction = this.templateCompiler(this.parent.labelSettings.taskLabel);\n        }\n        if (!isNullOrUndefined(this.parent.taskbarTemplate)) {\n            this.childTaskbarTemplateFunction = this.templateCompiler(this.parent.taskbarTemplate);\n        }\n        if (!isNullOrUndefined(this.parent.milestoneTemplate)) {\n            this.milestoneTemplateFunction = this.templateCompiler(this.parent.milestoneTemplate);\n        }\n    };\n    ChartRows.prototype.createDivElement = function (template) {\n        var div = document.createElement('div');\n        var elements = this.parseTemplate(template);\n        elements.forEach(function (element) { return div.appendChild(element); });\n        return div.childNodes;\n    };\n    // Parses the HTML string into an array of HTMLElement objects.\n    ChartRows.prototype.parseTemplate = function (htmlString) {\n        var _this = this;\n        var elementTree = this.parseHtmlStringToElementTree(htmlString);\n        return elementTree.map(function (element) { return _this.constructElementFromNode(element); });\n    };\n    // Parses the HTML string into a tree of elements using a regular expression.\n    ChartRows.prototype.parseHtmlStringToElementTree = function (html) {\n        var result = [];\n        var stack = [];\n        var match;\n        var lastIndex = 0;\n        /* eslint-disable-next-line */\n        while ((match = this.tagRegex.exec(html)) !== null) {\n            var fullMatch = match[0], tagName = match[1], _a = match[2], attributeString = _a === void 0 ? '' : _a;\n            var innerText = html.substring(lastIndex, match.index).trim();\n            lastIndex = this.tagRegex.lastIndex;\n            var element = { tagName: tagName, attributes: attributeString, children: [] };\n            if (fullMatch.startsWith('</')) {\n                if (stack.length > 0 && innerText) {\n                    stack[stack.length - 1].value = innerText;\n                }\n                stack.pop();\n            }\n            else {\n                if (!fullMatch.endsWith('/>')) {\n                    if (stack.length > 0) {\n                        stack[stack.length - 1].children.push(element);\n                    }\n                    else {\n                        result.push(element);\n                    }\n                    stack.push(element);\n                }\n            }\n        }\n        return result;\n    };\n    // Constructs an HTMLElement from the given node object by setting its attributes and recursively adding children.\n    ChartRows.prototype.constructElementFromNode = function (node) {\n        var _this = this;\n        var element = document.createElement(node.tagName);\n        if (node.value) {\n            element.textContent = node.value;\n        }\n        this.setAttributes(element, node.attributes);\n        node.children.forEach(function (childNode) {\n            var childElement = _this.constructElementFromNode(childNode);\n            element.appendChild(childElement);\n        });\n        return element;\n    };\n    // Sets the attributes of an element based on the parsed attribute string.\n    ChartRows.prototype.setAttributes = function (element, attributesString) {\n        var match;\n        function fixStyleQuotes(htmlString) {\n            return htmlString.replace(/style=([^\"'\\s][^ >]*)/g, 'style=\"$1\"');\n        }\n        attributesString = fixStyleQuotes(attributesString);\n        /* eslint-disable-next-line */\n        while ((match = this.attributeRegex.exec(attributesString)) !== null) {\n            var key = match[1], value = match[2];\n            if (key === 'class') {\n                element.className = value;\n            }\n            else if (key === 'style') {\n                element.style.cssText = this.cleanStyleString(value);\n            }\n            else {\n                element.setAttribute(key, value);\n            }\n        }\n    };\n    // Cleans and formats the style string to ensure proper CSS syntax.\n    ChartRows.prototype.cleanStyleString = function (style) {\n        return style.split(';').map(function (s) { return s.trim(); }).filter(Boolean).join('; ');\n    };\n    ChartRows.prototype.isTemplate = function (template) {\n        var result = false;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            if (template === this.parent.ganttColumns[i].field) {\n                result = true;\n                break;\n            }\n        }\n        if (typeof template !== 'string' || template.indexOf('#') === 0 || template.indexOf('<') > -1\n            || template.indexOf('$') > -1 || !result) {\n            result = true;\n        }\n        else {\n            result = false;\n        }\n        return result;\n    };\n    /**\n     * @param {string} templateName .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTemplateID = function (templateName) {\n        var ganttID = this.parent.element.id;\n        return ganttID + templateName;\n    };\n    ChartRows.prototype.leftLabelContainer = function () {\n        var template = '<div class=\"' + ((this.leftTaskLabelTemplateFunction) ? cls.leftLabelTempContainer :\n            cls.leftLabelContainer) + ' ' + '\" tabindex=\"-1\" role=\"term\" style=\"height:' +\n            (this.parent.rowHeight - 2) + 'px;width:' + this.taskNameWidth(this.templateData) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.taskbarContainer = function () {\n        var data = this.templateData;\n        var manualParent = this.parent.editModule && this.parent.editSettings.allowTaskbarEditing &&\n            this.parent.editModule.taskbarEditModule.taskBarEditAction === 'ParentResizing' ?\n            true : false;\n        var template = '<div class=\"' + cls.taskBarMainContainer + ' ' +\n            this.parent.getUnscheduledTaskClass(data.ganttProperties) + ' ' +\n            ((data.ganttProperties.cssClass) ? data.ganttProperties.cssClass : '') + '\" ' +\n            ' tabindex=\"-1\" role=\"term\" style=\"' + ((data.ganttProperties.isMilestone && !manualParent && !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule)) ?\n            ('width:' + this.milestoneHeight + 'px;height:' +\n                this.milestoneHeight + 'px;margin-top:' + this.milestoneMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (data.ganttProperties.left -\n                (this.milestoneHeight / 2)) + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;')) : ('width:' + data.ganttProperties.width +\n            'px;margin-top:' + this.taskBarMarginTop + 'px;' + (this.parent.enableRtl ? 'right:' : 'left:') + (!data.hasChildRecords || data.ganttProperties.isAutoSchedule ?\n            data.ganttProperties.left : data.ganttProperties.autoLeft) + 'px;height:' +\n            this.taskBarHeight + 'px;cursor:' + (this.parent.editSettings.allowTaskbarEditing ? 'move;' : 'default;'))) + '\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.rightLabelContainer = function () {\n        var template = '<div class=\"' + ((this.rightTaskLabelTemplateFunction) ? cls.rightLabelTempContainer :\n            cls.rightLabelContainer) + '\" ' + ' tabindex=\"-1\" role=\"term\" style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + this.getRightLabelLeft(this.templateData) + 'px; height:'\n            + (this.parent.rowHeight - 2) + 'px;\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarLeftResizer = function () {\n        var lResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 5 : -2;\n        var template = '<div class=\"' + cls.taskBarLeftResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + lResizerLeft + 'px;height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarRightResizer = function () {\n        var rResizerLeft = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -17 : -11;\n        var template = '<div class=\"' + cls.taskBarRightResizer + ' ' + cls.icon + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + (this.templateData.ganttProperties.width + rResizerLeft) + 'px;' +\n            'height:' + (this.taskBarHeight) + 'px;z-index:1\"></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.childTaskbarProgressResizer = function () {\n        var width = this.parent.enableRtl ? (this.templateData.ganttProperties.progressWidth + 8) :\n            (this.templateData.ganttProperties.progressWidth - 6);\n        var template = '<div class=\"' + cls.childProgressResizer + '\"' +\n            'style=\"' + (this.parent.enableRtl ? 'right:' : 'left:') + width + 'px;margin-top:' +\n            (this.taskBarHeight - 4) + 'px;\"><div class=\"' + cls.progressBarHandler + '\"' +\n            '><div class=\"' + cls.progressHandlerElement + '\"></div>' +\n            '<div class=\"' + cls.progressBarHandlerAfter + '\"></div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getLeftPointNode = function () {\n        var data = this.templateData;\n        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n        var mileStoneLeftValue = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 6 : 3;\n        var pointerLeft = -(2 + this.connectorPointWidth + left);\n        var mileStoneLeft = -(this.connectorPointWidth + mileStoneLeftValue);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.leftConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('margin-top:' + pointerTop + 'px;left:' + mileStoneLeft +\n                'px;') : (marginTop + ';left:' + pointerLeft + 'px;')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointLeft : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width: ' + this.connectorPointWidth + 'px;' + (this.parent.enableRtl ? 'margin-right:2px;' : '') +\n            'height: ' + this.connectorPointWidth + 'px;\">' + this.touchLeftConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    ChartRows.prototype.getRightPointNode = function () {\n        var data = this.templateData;\n        var right = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? -12 : 0;\n        var pointerRight = -(3 + right);\n        var pointerTop = Math.floor(this.milesStoneRadius - (this.connectorPointWidth / 2));\n        var marginTop;\n        if ((!this.templateData.ganttProperties.isAutoSchedule && this.templateData.hasChildRecords) && this.parent.allowParentDependency) {\n            marginTop = '';\n        }\n        else {\n            marginTop = 'margin-top:' + this.connectorPointMargin + 'px';\n        }\n        var canAdd = true;\n        if (data.hasChildRecords && !this.parent.allowParentDependency) {\n            canAdd = false;\n        }\n        var template = '<div class=\"' + cls.rightConnectorPointOuterDiv + '\" style=\"' +\n            ((data.ganttProperties.isMilestone) ? ('left:' + ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.milestoneHeight + 5) : this.milestoneHeight - 2) + 'px;margin-top:' +\n                pointerTop + 'px;') : ('left:' + (data.ganttProperties.width + pointerRight) + 'px;' + marginTop + ';')) + '\">' +\n            '<div class=\"' + (canAdd ? cls.connectorPointRight : '') + ' ' + this.parent.getUnscheduledTaskClass(data.ganttProperties) +\n            '\" style=\"width:' + this.connectorPointWidth + 'px;height:' + this.connectorPointWidth + 'px;\">' +\n            this.touchRightConnectorpoint + '</div></div>';\n        return this.createDivElement(template);\n    };\n    /**\n     * To get task label.\n     *\n     * @param {string} field .\n     * @returns {string} .\n     * @private\n     */\n    ChartRows.prototype.getTaskLabel = function (field) {\n        var length = this.parent.ganttColumns.length;\n        var resultString = null;\n        if (!isNullOrUndefined(field) && field !== '') {\n            if (field === this.parent.taskFields.resourceInfo) {\n                resultString = this.getResourceName(this.templateData);\n            }\n            else {\n                for (var i = 0; i < length; i++) {\n                    if (field === this.parent.ganttColumns[i].field) {\n                        resultString = this.getFieldValue(this.templateData[field]).toString();\n                        break;\n                    }\n                }\n                if (isNullOrUndefined(resultString)) {\n                    return 'isCustomTemplate';\n                }\n            }\n        }\n        else {\n            resultString = '';\n        }\n        return resultString;\n    };\n    ChartRows.prototype.getExpandDisplayProp = function (data) {\n        data = this.templateData;\n        if (this.parent.getExpandStatus(data)) {\n            return 'table-row';\n        }\n        return 'none';\n    };\n    ChartRows.prototype.getRowClassName = function (data) {\n        data = this.templateData;\n        var rowClass = 'gridrowtaskId';\n        var parentItem = data.parentItem;\n        if (parentItem) {\n            rowClass += parentItem.taskId.toString();\n        }\n        rowClass += 'level';\n        rowClass += data.level.toString();\n        return rowClass;\n    };\n    ChartRows.prototype.getBorderRadius = function (data) {\n        data = this.templateData;\n        var diff = data.ganttProperties.width - data.ganttProperties.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.getSplitTaskBorderRadius = function (data) {\n        var diff = data.width - data.progressWidth;\n        if (diff <= 4) {\n            return 4 - diff;\n        }\n        else {\n            return 0;\n        }\n    };\n    ChartRows.prototype.taskNameWidth = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            width = (ganttData.ganttProperties.left - (this.parent.getTaskbarHeight() / 2));\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                width = (ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime()) ?\n                    ganttProp.autoLeft : ganttProp.left;\n            }\n            else {\n                width = ganttProp.left < ganttProp.autoLeft ? ganttProp.left : ganttProp.autoLeft;\n            }\n        }\n        else {\n            width = ganttData.ganttProperties.left;\n        }\n        if (width < 0) {\n            width = 0;\n        }\n        return width + 'px';\n    };\n    ChartRows.prototype.getRightLabelLeft = function (ganttData) {\n        ganttData = this.templateData;\n        var ganttProp = ganttData.ganttProperties;\n        var left;\n        var endLeft;\n        var width;\n        if (ganttData.ganttProperties.isMilestone) {\n            return ganttData.ganttProperties.left + (this.parent.getTaskbarHeight() / 2);\n        }\n        else if (ganttData.hasChildRecords && !ganttProp.isAutoSchedule) {\n            if (!this.parent.allowUnscheduledTasks) {\n                left = ganttProp.autoStartDate.getTime() < ganttProp.startDate.getTime() ? ganttProp.autoLeft : ganttProp.left;\n                endLeft = ganttProp.autoEndDate.getTime() < ganttProp.endDate.getTime() ?\n                    this.parent.dataOperation.getTaskLeft(ganttProp.endDate, ganttProp.isMilestone) :\n                    this.parent.dataOperation.getTaskLeft(ganttProp.autoEndDate, ganttProp.isMilestone);\n                width = endLeft - left;\n            }\n            else {\n                left = ganttProp.left < ganttProp.autoLeft ? ganttProp.autoLeft : ganttProp.left;\n                width = ganttProp.autoWidth;\n            }\n            return left + width;\n        }\n        else {\n            return ganttData.ganttProperties.left + ganttData.ganttProperties.width;\n        }\n    };\n    ChartRows.prototype.getExpandClass = function (data) {\n        data = this.templateData;\n        if (data.expanded) {\n            return cls.rowExpand;\n        }\n        else if (!data.expanded && data.hasChildRecords) {\n            return cls.rowCollapse;\n        }\n        return '';\n    };\n    ChartRows.prototype.getFieldValue = function (field) {\n        return isNullOrUndefined(field) ? '' : field;\n    };\n    ChartRows.prototype.getResourceName = function (ganttData) {\n        ganttData = this.templateData;\n        var resource = null;\n        if (!isNullOrUndefined(ganttData.ganttProperties.resourceInfo)) {\n            var length_2 = ganttData.ganttProperties.resourceInfo.length;\n            if (length_2 > 0) {\n                for (var i = 0; i < length_2; i++) {\n                    var resourceName = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.name];\n                    var resourceUnit = ganttData.ganttProperties.resourceInfo[i][this.parent.resourceFields.unit];\n                    if (resourceUnit !== 100) {\n                        resourceName += '[' + resourceUnit + '%' + ']';\n                    }\n                    if (isNullOrUndefined(resource)) {\n                        resource = resourceName;\n                    }\n                    else {\n                        resource += ' , ' + resourceName;\n                    }\n                }\n                return resource;\n            }\n            else {\n                return '';\n            }\n        }\n        return '';\n    };\n    /**\n     * To initialize private variable help to render task bars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.initChartHelperPrivateVariable = function () {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var taskBarMarginTopValue = this.parent.renderBaseline ? 4 : 2;\n        var milestoneHeightValue = this.parent.renderBaseline ? 1.13 : 0.82;\n        this.parent.rowHeight = isNullOrUndefined(this.parent.rowHeight) ? 36 : this.parent.rowHeight;\n        this.baselineColor = !isNullOrUndefined(this.parent.baselineColor) &&\n            this.parent.baselineColor !== '' ? this.parent.baselineColor : null;\n        this.taskBarHeight = isNullOrUndefined(this.parent.taskbarHeight) || this.parent.taskbarHeight >= this.parent.rowHeight ?\n            Math.floor(this.parent.rowHeight * taskbarHeightValue) : this.parent.taskbarHeight; // 0.62 -- Standard Ratio.\n        if (this.parent.renderBaseline) {\n            var height = void 0;\n            if ((this.taskBarHeight + this.baselineHeight) <= this.parent.rowHeight) {\n                height = this.taskBarHeight;\n            }\n            else {\n                height = this.taskBarHeight - (this.baselineHeight + 1);\n            }\n            this.taskBarHeight = height;\n        }\n        this.milestoneHeight = Math.floor(this.taskBarHeight * milestoneHeightValue); // 0.82 -- Standard Ratio.\n        this.taskBarMarginTop = Math.floor((this.parent.rowHeight - this.taskBarHeight) / taskBarMarginTopValue);\n        this.milestoneMarginTop = Math.floor((this.parent.rowHeight - this.milestoneHeight) / 2);\n        this.milesStoneRadius = Math.floor((this.milestoneHeight) / 2);\n        this.baselineTop = -(Math.floor((this.parent.rowHeight - (this.taskBarHeight + this.taskBarMarginTop))) - 4);\n        this.connectorPointWidth = this.parent.isAdaptive ? Math.round(this.taskBarHeight / 2) : 9;\n        this.connectorPointMargin = Math.floor((this.taskBarHeight / 2) - (this.connectorPointWidth / 1.5));\n    };\n    /**\n     * Function used to refresh Gantt rows.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.refreshGanttRows = function () {\n        this.parent.currentViewData = this.parent.treeGrid.getCurrentViewRecords().slice();\n        this.createTaskbarTemplate();\n        if (this.parent.showOverAllocation) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var data = this.parent.currentViewData[i];\n                if (data.childRecords.length > 0) {\n                    this.parent.setRecordValue('workTimelineRanges', this.parent.dataOperation.mergeRangeCollections(data.ganttProperties.workTimelineRanges, true), data.ganttProperties, true);\n                    this.parent.dataOperation.calculateRangeLeftWidth(data.ganttProperties.workTimelineRanges);\n                }\n            }\n            this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n        }\n        this.parent.ganttChartModule.updateLastRowBottomWidth();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.createTaskbarTemplate = function () {\n        var _this = this;\n        var _a;\n        var trs = [].slice.call(this.ganttChartTableBody.querySelectorAll('tr'));\n        this.ganttChartTableBody.innerHTML = '';\n        var collapsedResourceRecord = [];\n        var prevCurrentView = this.parent.treeGridModule.prevCurrentView;\n        this.refreshedTr = [];\n        this.refreshedData = [];\n        if (this.parent.enableImmutableMode && prevCurrentView && prevCurrentView.length > 0 && this.isUpdated) {\n            var oldKeys = {};\n            var oldRowElements = [];\n            var key = this.parent.treeGrid.getPrimaryKeyFieldNames()[0];\n            for (var i = 0; i < prevCurrentView.length; i++) {\n                oldRowElements[i] = trs[i];\n                oldKeys[prevCurrentView[i][key]] = i;\n            }\n            for (var index = 0; index < this.parent.currentViewData.length; index++) {\n                var oldIndex = oldKeys[this.parent.currentViewData[index][key]];\n                var modifiedRecIndex = this.parent.modifiedRecords.indexOf(this.parent.currentViewData[index]);\n                if (isNullOrUndefined(oldIndex) || modifiedRecIndex !== -1 || this.parent.isFromRenderBaseline) {\n                    var tRow = this.getGanttChartRow(index, this.parent.currentViewData[index]);\n                    this.ganttChartTableBody.appendChild(tRow);\n                    this.refreshedTr.push(this.ganttChartTableBody.querySelectorAll('tr')[index]);\n                    this.refreshedData.push(this.parent.currentViewData[index]);\n                }\n                else {\n                    this.ganttChartTableBody.appendChild(oldRowElements[oldIndex]);\n                }\n                this.ganttChartTableBody.querySelectorAll('tr')[index].setAttribute('aria-rowindex', (index + 1).toString());\n            }\n        }\n        else {\n            var dupChartBody = createElement('tbody', {\n                id: this.parent.element.id + 'GanttTaskTableBody'\n            });\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                var tempTemplateData = this.parent.currentViewData[i];\n                if (!tempTemplateData.expanded && this.parent.enableMultiTaskbar) {\n                    collapsedResourceRecord.push(tempTemplateData);\n                }\n                var tRow = this.getGanttChartRow(i, tempTemplateData);\n                if (tempTemplateData.hasChildRecords && (!tempTemplateData.expanded) && this.parent.enableMultiTaskbar\n                    && !this.parent.allowTaskbarOverlap) {\n                    this.updateDragDropRecords(tempTemplateData, tRow);\n                }\n                dupChartBody.appendChild(tRow);\n                if (this.parent.enableImmutableMode) {\n                    this.refreshedTr.push(dupChartBody.querySelectorAll('tr')[i]);\n                    this.refreshedData.push(this.parent.currentViewData[i]);\n                }\n                // To maintain selection when virtualization is enabled\n                if (this.parent.selectionModule && this.parent.allowSelection) {\n                    this.parent.selectionModule.maintainSelectedRecords(parseInt(tRow.getAttribute('aria-rowindex'), 10) - 1);\n                }\n            }\n            /* eslint-disable-next-line */\n            (_a = this.ganttChartTableBody).replaceChildren.apply(_a, dupChartBody.childNodes);\n            // To trigger the touchend event while perform touch Pinch In/Out action\n            (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n                if (tr instanceof Element) {\n                    tr.addEventListener('touchmove', _this.handleTouchMove);\n                    tr.addEventListener('touchend', _this.handleTouchEnd);\n                }\n            });\n            this.parent.initialChartRowElements = this.parent.ganttChartModule.getChartRows();\n        }\n        if (this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            var criticalModule = this.parent.criticalPathModule;\n            if (criticalModule.criticalPathCollection) {\n                this.parent.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n        }\n        this.parent.renderTemplates();\n        this.triggerQueryTaskbarInfo();\n        this.parent.modifiedRecords = [];\n        if (this.parent.showOverAllocation) {\n            this.updateOverlapped();\n        }\n        if (collapsedResourceRecord.length) {\n            for (var j = 0; j < collapsedResourceRecord.length; j++) {\n                if (collapsedResourceRecord[j].hasChildRecords) {\n                    this.parent.isGanttChartRendered = true;\n                    this.parent.chartRowsModule.refreshRecords([collapsedResourceRecord[j]]);\n                }\n            }\n        }\n        this.parent.isGanttChartRendered = true;\n        this.parent.renderTemplates();\n    };\n    /**\n     * To render taskbars.\n     *\n     * @param {number} i .\n     * @param {IGanttData} tempTemplateData .\n     * @returns {Node} .\n     * @private\n     */\n    ChartRows.prototype.getGanttChartRow = function (i, tempTemplateData) {\n        this.templateData = tempTemplateData;\n        var parentTrNode = this.getTableTrNode(i);\n        var leftLabelNode = this.getLeftLabelNode(i);\n        var taskbarContainerNode = this.taskbarContainer();\n        taskbarContainerNode[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n        taskbarContainerNode[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n        var connectorLineLeftNode;\n        var connectorLineRightNode;\n        connectorLineLeftNode = this.getLeftPointNode();\n        if ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords) {\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n        }\n        if (this.templateData.hasChildRecords) {\n            var parentTaskbarTemplateNode = void 0;\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                parentTaskbarTemplateNode = this.getParentTaskbarNode(i, taskbarContainerNode);\n            }\n            else {\n                taskbarContainerNode = [];\n                for (var j = 0; j < this.templateData.childRecords.length; j++) {\n                    this.templateData = this.templateData.childRecords[j];\n                    var taskbarContainerNode1 = this.taskbarContainer();\n                    taskbarContainerNode1[0].setAttribute('aria-label', this.generateAriaLabel(this.templateData));\n                    taskbarContainerNode1[0].setAttribute('rowUniqueId', this.templateData.ganttProperties.rowUniqueID);\n                    if (!this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                    }\n                    else {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        if ((this.templateData.ganttProperties.isAutoSchedule) || !this.templateData.hasChildRecords) {\n                            taskbarContainerNode1[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        }\n                    }\n                    this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode1, connectorLineRightNode, taskbarContainerNode);\n                }\n            }\n            if (!this.templateData.ganttProperties.isAutoSchedule) {\n                var manualTaskbar = this.getManualTaskbar();\n                if (!isNullOrUndefined(manualTaskbar[0])) {\n                    if (this.parent.allowParentDependency) {\n                        connectorLineLeftNode = this.getLeftPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineLeftNode)[0]);\n                        var connectorLineRightNode_1 = this.getRightPointNode();\n                        manualTaskbar[0].appendChild([].slice.call(connectorLineRightNode_1)[0]);\n                    }\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(manualTaskbar)[0]);\n                }\n            }\n            if ((this.templateData.ganttProperties.autoDuration !== 0) && !this.templateData.ganttProperties.isMilestone &&\n                parentTaskbarTemplateNode && parentTaskbarTemplateNode.length > 0) {\n                append(parentTaskbarTemplateNode, taskbarContainerNode[0]);\n            }\n            else if ((this.templateData.ganttProperties.duration === 0 && this.templateData.ganttProperties.isMilestone &&\n                this.templateData.ganttProperties.isAutoSchedule)) {\n                var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n                if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                    append(milestoneTemplateNode, taskbarContainerNode[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (!this.parent.enableMultiTaskbar || (this.parent.enableMultiTaskbar && this.templateData.expanded)) {\n                if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n                else if (!this.parent.allowParentDependency) {\n                    connectorLineRightNode = this.getRightPointNode();\n                    /* eslint-disable-next-line */\n                    taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n                }\n            }\n        }\n        else {\n            this.appendChildTaskbars(tempTemplateData, i, taskbarContainerNode, connectorLineRightNode);\n        }\n        var rightLabelNode = this.getRightLabelNode(i);\n        if (this.parent.enableMultiTaskbar && this.templateData.hasChildRecords && !this.templateData.expanded) {\n            var collapseParent = createElement('div', {\n                className: 'e-collapse-parent'\n            });\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild(collapseParent);\n            for (var j = 0; j < taskbarContainerNode.length; j++) {\n                addClass([taskbarContainerNode[j]], 'collpse-parent-border');\n                parentTrNode[0].childNodes[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[j]);\n            }\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n        }\n        else {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(leftLabelNode)[0]);\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskbarContainerNode)[0]);\n            if (this.templateData.ganttProperties.indicators && this.templateData.ganttProperties.indicators.length > 0) {\n                this.appendIndicators(i, parentTrNode);\n            }\n            if (rightLabelNode && rightLabelNode.length > 0) {\n                parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(rightLabelNode)[0]);\n            }\n        }\n        if (!isNullOrUndefined(this.taskBaselineTemplateNode)) {\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(this.taskBaselineTemplateNode)[0]);\n        }\n        this.taskBaselineTemplateNode = null;\n        var tRow = parentTrNode[0].childNodes[0];\n        this.setAriaRowIndex(tempTemplateData, tRow);\n        return tRow;\n    };\n    /**\n     * To set data-rowindex for chart rows\n     *\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.setAriaRowIndex = function (tempTemplateData, tRow) {\n        var _this = this;\n        var dataSource = this.parent.treeGrid.getCurrentViewRecords();\n        var visualData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            getValue('virtualScrollModule.visualData', this.parent.treeGrid) : dataSource;\n        var index;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            /* eslint-disable-next-line */\n            var gridData = this.parent.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.parent.taskFields.id] === tempTemplateData.ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            tRow.setAttribute('data-rowindex', data['index'].toString());\n            tRow.setAttribute('aria-rowindex', (data['index'] + 1).toString());\n        }\n        else {\n            index = visualData.indexOf(tempTemplateData);\n            tRow.setAttribute('aria-rowindex', (index + 1).toString());\n        }\n    };\n    /**\n     * To trigger query taskbar info event.\n     *\n     * @returns {void}\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfo = function () {\n        if (!this.parent.queryTaskbarInfo) {\n            return;\n        }\n        var length = this.parent.enableImmutableMode ?\n            this.refreshedTr.length : this.ganttChartTableBody.querySelectorAll('tr').length;\n        var trElement;\n        var data;\n        for (var index = 0; index < length; index++) {\n            trElement = this.parent.enableImmutableMode ? this.refreshedTr[index] : this.ganttChartTableBody.querySelectorAll('tr')[index];\n            data = this.refreshedData.length > 0 ? this.refreshedData[index] : this.parent.currentViewData[index];\n            var segmentLength = !isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = trElement.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data);\n                }\n            }\n            else if (trElement) {\n                this.triggerQueryTaskbarInfoByIndex(trElement, data);\n            }\n        }\n    };\n    ChartRows.prototype.appendIndicators = function (i, parentTrNode) {\n        var taskIndicatorNode;\n        var taskIndicatorTextFunction;\n        var taskIndicatorTextNode;\n        var indicators = this.templateData.ganttProperties.indicators;\n        for (var indicatorIndex = 0; indicatorIndex < indicators.length; indicatorIndex++) {\n            taskIndicatorNode = this.getIndicatorNode(indicators[indicatorIndex]);\n            taskIndicatorNode[0].setAttribute('aria-label', indicators[indicatorIndex].name);\n            if (indicators[indicatorIndex].name.indexOf('$') > -1 || indicators[indicatorIndex].name.indexOf('#') > -1) {\n                taskIndicatorTextFunction = this.templateCompiler(indicators[indicatorIndex].name);\n                taskIndicatorTextNode = taskIndicatorTextFunction(extend({ index: i }, this.templateData), this.parent, 'indicatorLabelText');\n            }\n            else {\n                var text = createElement('Text');\n                text.innerHTML = indicators[indicatorIndex].name;\n                if (this.parent.enableHtmlSanitizer && typeof (indicators[indicatorIndex].name) === 'string') {\n                    indicators[indicatorIndex].name = SanitizeHtmlHelper.sanitize(indicators[indicatorIndex].name);\n                }\n                taskIndicatorTextNode = text.childNodes;\n            }\n            taskIndicatorNode[0].appendChild([].slice.call(taskIndicatorTextNode)[0]);\n            taskIndicatorNode[0].title =\n                !isNullOrUndefined(indicators[indicatorIndex].tooltip) ? indicators[indicatorIndex].tooltip : '';\n            parentTrNode[0].childNodes[0].childNodes[0].appendChild([].slice.call(taskIndicatorNode)[0]);\n        }\n    };\n    ChartRows.prototype.appendChildTaskbars = function (tempTemplateData, i, taskbarContainerNode, connectorLineRightNode, taskbarCollection) {\n        if (this.templateData.ganttProperties.isMilestone) {\n            var milestoneTemplateNode = this.getMilestoneNode(i, taskbarContainerNode);\n            if (milestoneTemplateNode && milestoneTemplateNode.length > 0) {\n                append(milestoneTemplateNode, taskbarContainerNode[0]);\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n            if (taskbarCollection) {\n                /* eslint-disable-next-line */\n                taskbarCollection.push(taskbarContainerNode[0]);\n                this.templateData = tempTemplateData;\n            }\n        }\n        else {\n            var scheduledTask = isScheduledTask(this.templateData.ganttProperties); // eslint-disable-line\n            var childTaskbarProgressResizeNode = null;\n            var childTaskbarRightResizeNode = null;\n            var childTaskbarLeftResizeNode = null;\n            if (!isNullOrUndefined(scheduledTask)) {\n                if (scheduledTask || this.templateData.ganttProperties.duration) {\n                    if (scheduledTask && (isNullOrUndefined(this.templateData.ganttProperties.segments)\n                        || this.templateData.ganttProperties.segments.length <= 0)) {\n                        childTaskbarProgressResizeNode = this.childTaskbarProgressResizer();\n                        childTaskbarLeftResizeNode = this.childTaskbarLeftResizer();\n                        childTaskbarRightResizeNode = this.childTaskbarRightResizer();\n                    }\n                }\n                var childTaskbarTemplateNode = this.getChildTaskbarNode(i, taskbarContainerNode);\n                if (childTaskbarLeftResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarLeftResizeNode)[0]);\n                }\n                if (childTaskbarTemplateNode && childTaskbarTemplateNode.length > 0) {\n                    if (this.templateData.ganttProperties.segments && this.templateData.ganttProperties.segments.length > 0) {\n                        var length_3 = this.templateData.ganttProperties.segments.length;\n                        var connector = ('<div class=\"e-gantt-split-container-line\"></div>');\n                        var segmentConnector = null;\n                        segmentConnector = this.createDivElement(connector);\n                        taskbarContainerNode[0].appendChild([].slice.call(segmentConnector)[0]);\n                        for (var i_1 = 0; i_1 < length_3; i_1++) {\n                            append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                        }\n                    }\n                    else {\n                        append(childTaskbarTemplateNode, taskbarContainerNode[0]);\n                    }\n                }\n                if (childTaskbarProgressResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarProgressResizeNode)[0]);\n                }\n                if (childTaskbarRightResizeNode) {\n                    taskbarContainerNode[0].appendChild([].slice.call(childTaskbarRightResizeNode)[0]);\n                }\n            }\n            if (this.parent.renderBaseline && this.templateData.ganttProperties.baselineStartDate &&\n                this.templateData.ganttProperties.baselineEndDate) {\n                this.taskBaselineTemplateNode = ((this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                    this.templateData.ganttProperties.baselineEndDate.getTime()) || ((!isNullOrUndefined(this.templateData.ganttProperties.baselineStartDate) &&\n                    !isNullOrUndefined(this.templateData.ganttProperties.startDate) &&\n                    (this.templateData.ganttProperties.baselineStartDate.getTime() ===\n                        this.templateData.ganttProperties.startDate.getTime()))\n                    && (!isNullOrUndefined(this.templateData.ganttProperties.baselineEndDate) &&\n                        !isNullOrUndefined(this.templateData.ganttProperties.endDate) &&\n                        (this.templateData.ganttProperties.baselineEndDate.getTime() ===\n                            this.templateData.ganttProperties.endDate.getTime())) &&\n                    this.templateData.ganttProperties.isMilestone))\n                    ? this.getMilestoneBaselineNode() : this.getTaskBaselineNode();\n            }\n        }\n        if (this.parent.allowParentDependency && ((this.templateData.ganttProperties.isAutoSchedule && this.parent.viewType === 'ProjectView') || !this.templateData.hasChildRecords)) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        else if (!this.parent.allowParentDependency) {\n            connectorLineRightNode = this.getRightPointNode();\n            /* eslint-disable-next-line */\n            taskbarContainerNode[0].appendChild([].slice.call(connectorLineRightNode)[0]);\n        }\n        if (taskbarCollection) {\n            /* eslint-disable-next-line */\n            taskbarCollection.push(taskbarContainerNode[0]);\n            this.templateData = tempTemplateData;\n        }\n    };\n    ChartRows.prototype.customizeTaskbars = function (data, trElement, taskbarElement) {\n        var _this = this;\n        var rowElement;\n        var segmentRowElement;\n        if (data.ganttProperties.segments && data.ganttProperties.segments.length > 0 && trElement && trElement.parentElement\n            && trElement.parentElement.parentElement && trElement.parentElement.parentElement.parentElement) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        var triggerTaskbarElement;\n        var args = {\n            data: data,\n            rowElement: trElement,\n            taskbarElement: taskbarElement,\n            taskbarType: data.hasChildRecords ? 'ParentTask' : data.ganttProperties.isMilestone ? 'Milestone' : 'ChildTask'\n        };\n        var classCollections = this.getClassName(args);\n        if (args.taskbarType === 'Milestone') {\n            args.milestoneColor = taskbarElement.querySelector(classCollections[0]) ?\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor : null;\n            args.baselineColor = trElement.querySelector(classCollections[1]) ?\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor :\n                (trElement.querySelector('.' + cls.baselineBar) ? getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null);\n        }\n        else if (taskbarElement) {\n            var childTask = taskbarElement.querySelector(classCollections[0]);\n            var progressTask = taskbarElement.querySelector(classCollections[1]);\n            args.taskbarBgColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor;\n            args.taskbarBorderColor = isNullOrUndefined(childTask) ? null : taskbarElement.classList.contains(cls.traceChildTaskBar) ?\n                getComputedStyle(taskbarElement).backgroundColor :\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor;\n            args.progressBarBgColor = isNullOrUndefined(progressTask) ? null :\n                taskbarElement.classList.contains(cls.traceChildProgressBar) ?\n                    getComputedStyle(taskbarElement).backgroundColor :\n                    getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor;\n            // args.progressBarBorderColor = taskbarElement.querySelector(progressBarClass) ?\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor : null;\n            if (segmentRowElement) {\n                args.baselineColor = segmentRowElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            else {\n                args.baselineColor = trElement.querySelector('.' + cls.baselineBar) ?\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor : null;\n            }\n            args.taskLabelColor = taskbarElement.querySelector('.' + cls.taskLabel) ?\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color : null;\n        }\n        if (segmentRowElement) {\n            args.rightLabelColor = segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        else {\n            args.rightLabelColor = trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color : null;\n            args.leftLabelColor = trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) ?\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color : null;\n        }\n        this.parent.trigger('queryTaskbarInfo', args, function (taskbarArgs) {\n            _this.updateQueryTaskbarInfoArgs(taskbarArgs, rowElement, triggerTaskbarElement);\n        });\n    };\n    /**\n     *\n     * @param {Element} trElement .\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.triggerQueryTaskbarInfoByIndex = function (trElement, data) {\n        // eslint-disable-next-line\n        if (isNullOrUndefined(trElement)) {\n            return;\n        }\n        var taskbarElement;\n        var currentData = data;\n        if (!(!isNullOrUndefined(data.ganttProperties.segments) && data.ganttProperties.segments.length > 0)) {\n            if (this.parent.enableMultiTaskbar) {\n                var taskbarElements = trElement.querySelectorAll('.' + cls.taskBarMainContainer);\n                for (var i = 0; i < taskbarElements.length; i++) {\n                    taskbarElement = taskbarElements[i];\n                    currentData = (!data.expanded && data.hasChildRecords) ? data.childRecords[i] : currentData;\n                    var id = this.parent.viewType === 'ResourceView' ?\n                        taskbarElement.getAttribute('rowUniqueId') : currentData.ganttProperties.taskId.toString();\n                    if (currentData.ganttProperties.segments && currentData.ganttProperties.segments.length > 0 &&\n                        currentData.parentItem && !data.expanded) {\n                        id = this.parent.viewType === 'ResourceView' ?\n                            data.ganttProperties.rowUniqueID : data.ganttProperties.taskId.toString();\n                    }\n                    trElement = this.parent.getRowByID(id);\n                    trElement = trElement ? trElement : (taskbarElement.querySelector('.e-gantt-child-taskbar'));\n                    if (isNullOrUndefined(trElement) && currentData.ganttProperties.isMilestone) {\n                        trElement = taskbarElement;\n                    }\n                    if (trElement) {\n                        var segmentElements = trElement.querySelectorAll('.e-segmented-taskbar');\n                        if (segmentElements && segmentElements.length > 0) {\n                            /* eslint-disable-next-line */\n                            var taskContainer = trElement.querySelector(\".e-taskbar-main-container[rowuniqueid=\\\"\" + currentData.ganttProperties.rowUniqueID + \"\\\"]\") ||\n                                trElement;\n                            var segmentedTasks = taskContainer.querySelectorAll('.e-segmented-taskbar');\n                            for (var i_2 = 0; i_2 < segmentedTasks.length; i_2++) {\n                                taskbarElement = segmentedTasks[i_2];\n                                this.customizeTaskbars(currentData, segmentedTasks[i_2], taskbarElement);\n                            }\n                        }\n                        else {\n                            this.customizeTaskbars(currentData, trElement, taskbarElement);\n                        }\n                    }\n                }\n            }\n            else {\n                var taskbarElement_1 = trElement.querySelector('.' + cls.taskBarMainContainer);\n                if (trElement) {\n                    this.customizeTaskbars(currentData, trElement, taskbarElement_1);\n                }\n            }\n        }\n        else {\n            taskbarElement = trElement;\n            if (trElement) {\n                this.customizeTaskbars(data, trElement, taskbarElement);\n            }\n        }\n    };\n    /**\n     * To update query taskbar info args.\n     *\n     * @param {IQueryTaskbarInfoEventArgs} args .\n     * @param {Element} rowElement .\n     * @param {Element} taskBarElement .\n     * @returns {void}\n     * @private\n     */\n    /* eslint-disable-next-line */\n    ChartRows.prototype.updateQueryTaskbarInfoArgs = function (args, rowElement, taskBarElement) {\n        var trElement = args.rowElement;\n        var taskbarElement = this.parent.enableVirtualization ? args.rowElement : args.taskbarElement;\n        var classCollections = this.getClassName(args);\n        var segmentRowElement;\n        if (args.data.ganttProperties.segments && args.data.ganttProperties.segments.length > 0) {\n            segmentRowElement = trElement.parentElement.parentElement.parentElement;\n        }\n        if (args.taskbarType === 'Milestone') {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.milestoneColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.milestoneColor;\n            }\n            if (trElement.querySelector(classCollections[1]) &&\n                getComputedStyle(trElement.querySelector(classCollections[1])).backgroundColor !== args.baselineColor) {\n                trElement.querySelector(classCollections[1]).style.backgroundColor = args.baselineColor;\n            }\n            if (trElement.querySelector('.' + cls.baselineBar) &&\n                getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).borderTopColor !== args.baselineColor) {\n                trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n            }\n        }\n        else if (taskbarElement) {\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.querySelector(classCollections[0]).style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.querySelector(classCollections[0]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[0])).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.querySelector(classCollections[0]).style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.querySelector(classCollections[1]) &&\n                getComputedStyle(taskbarElement.querySelector(classCollections[1])).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.querySelector(classCollections[1]).style.backgroundColor = args.progressBarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.taskbarBgColor) {\n                taskbarElement.style.backgroundColor = args.taskbarBgColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildTaskBar) &&\n                getComputedStyle(taskbarElement).outlineColor !== args.taskbarBorderColor) {\n                taskbarElement.style.outlineColor = args.taskbarBorderColor;\n            }\n            if (taskbarElement.classList.contains(cls.traceChildProgressBar) &&\n                getComputedStyle(taskbarElement).backgroundColor !== args.progressBarBgColor) {\n                taskbarElement.style.backgroundColor = args.progressBarBgColor;\n            }\n            // if (taskbarElement.querySelector(progressBarClass) &&\n            //     getComputedStyle(taskbarElement.querySelector(progressBarClass)).borderColor !== args.progressBarBorderColor) {\n            //     (taskbarElement.querySelector(progressBarClass) as HTMLElement).style.borderColor = args.progressBarBorderColor;\n            // }\n            if (taskbarElement.querySelector('.' + cls.taskLabel) &&\n                getComputedStyle(taskbarElement.querySelector('.' + cls.taskLabel)).color !== args.taskLabelColor) {\n                taskbarElement.querySelector('.' + cls.taskLabel).style.color = args.taskLabelColor;\n            }\n            if (segmentRowElement) {\n                if (segmentRowElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(segmentRowElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    segmentRowElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n            else {\n                if (trElement.querySelector('.' + cls.baselineBar) &&\n                    getComputedStyle(trElement.querySelector('.' + cls.baselineBar)).backgroundColor !== args.baselineColor) {\n                    trElement.querySelector('.' + cls.baselineBar).style.backgroundColor = args.baselineColor;\n                }\n            }\n        }\n        if (segmentRowElement) {\n            if (segmentRowElement.querySelector('.' + cls.leftLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (segmentRowElement.querySelector('.' + cls.rightLabelContainer) &&\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (segmentRowElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n        else {\n            if (trElement.querySelector('.' + cls.leftLabelContainer) &&\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label)).color !== args.leftLabelColor) {\n                (trElement.querySelector('.' + cls.leftLabelContainer)).querySelector('.' + cls.label).style.color = args.leftLabelColor;\n            }\n            if (trElement.querySelector('.' + cls.rightLabelContainer) &&\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label) &&\n                getComputedStyle((trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label)).color !== args.rightLabelColor) {\n                (trElement.querySelector('.' + cls.rightLabelContainer)).querySelector('.' + cls.label).style.color = args.rightLabelColor;\n            }\n        }\n    };\n    ChartRows.prototype.getClassName = function (args) {\n        var classCollection = [];\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentTaskBar : args.taskbarType === 'ChildTask' ? cls.traceChildTaskBar : cls.traceMilestone));\n        classCollection.push('.' + (args.taskbarType === 'ParentTask' ?\n            cls.traceParentProgressBar : args.taskbarType === 'ChildTask' ? cls.traceChildProgressBar : cls.baselineMilestoneContainer));\n        return classCollection;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string} template .\n     * @returns {Function} .\n     * @private\n     */\n    ChartRows.prototype.templateCompiler = function (template) {\n        if (!isNullOrUndefined(template) && template !== '') {\n            try {\n                if (typeof template !== 'function' && document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim(), this.parent);\n                }\n                else {\n                    return compile(template, this.parent);\n                }\n            }\n            catch (e) {\n                return compile(template, this.parent);\n            }\n        }\n        return null;\n    };\n    // to update the eOverlapped property\n    ChartRows.prototype.updateOverlapped = function () {\n        for (var k = 0; k < this.parent.treeGrid.parentData.length; k++) {\n            var childRecords = this.parent.treeGrid.parentData[k].childRecords;\n            for (var i = 0; i < childRecords.length; i++) {\n                if (childRecords[i + 1]) {\n                    childRecords[i].ganttProperties.eOverlapped = undefined;\n                }\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    childRecords[j].ganttProperties.eOverlapped = undefined;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <\n                        childRecords[j].ganttProperties.endDate.getTime() &&\n                        childRecords[i].ganttProperties.endDate.getTime() >\n                            childRecords[j].ganttProperties.startDate.getTime()) {\n                        childRecords[j].ganttProperties.eOverlapped = true;\n                        childRecords[i].ganttProperties.eOverlapped = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(childRecords[j].ganttProperties.eOverlapped)) {\n                            childRecords[j].ganttProperties.eOverlapped = false;\n                        }\n                        if (isNullOrUndefined(childRecords[i].ganttProperties.eOverlapped)) {\n                            childRecords[i].ganttProperties.eOverlapped = false;\n                        }\n                    }\n                }\n            }\n        }\n    };\n    // To update the row height when allow overallocation set to false\n    ChartRows.prototype.updateDragDropRecords = function (data, tr) {\n        var childRecords = data.childRecords;\n        var rowIndex = this.parent.currentViewData.indexOf(data);\n        var treeGridContentHeight = this.parent.enableRtl ?\n            this.parent['element'].getElementsByClassName('e-content')[2].children[0]['offsetHeight'] :\n            this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n        if (!tr) {\n            tr = this.ganttChartTableBody.childNodes[rowIndex];\n        }\n        if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n            tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = this.parent.rowHeight + 'px';\n        }\n        else {\n            tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = this.parent.rowHeight + 'px';\n        }\n        this.parent.contentHeight = treeGridContentHeight;\n        var rowIDs = [];\n        var rowCounts = 0;\n        if (data) {\n            for (var i = 0; i < childRecords.length; i++) {\n                for (var j = i + 1; j < childRecords.length; j++) {\n                    var taskbarContainer = tr.getElementsByClassName('e-taskbar-main-container');\n                    for (var k = 0; k < taskbarContainer.length; k++) {\n                        var rowuniqueid = this.parent.viewType === 'ResourceView' ? childRecords[j]['rowUniqueID'] : childRecords[j].ganttProperties.rowUniqueID;\n                        if (childRecords[i].ganttProperties.startDate.getTime() <\n                            childRecords[j].ganttProperties.endDate.getTime() &&\n                            childRecords[i].ganttProperties.endDate.getTime() >\n                                childRecords[j].ganttProperties.startDate.getTime()) {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1) {\n                                rowIDs.push(rowuniqueid);\n                                rowCounts++;\n                                tr.children[0]['style'].verticalAlign = 'baseline';\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    (rowCounts * this.parent.rowHeight) + this.taskBarMarginTop + 'px';\n                                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                                    tr['style'].height = this.parent.treeGrid.getRowByIndex(rowIndex)['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                                else {\n                                    tr['style'].height = this.parent.treeGrid.getRows()[rowIndex]['style'].height = parseInt(tr['style'].height, 10) + this.parent.rowHeight + 'px';\n                                }\n                            }\n                        }\n                        else {\n                            if (taskbarContainer[k].getAttribute('rowuniqueid') === rowuniqueid &&\n                                rowIDs.indexOf(rowuniqueid) === -1 && this.parent.rowDragAndDropModule &&\n                                this.parent.rowDragAndDropModule['draggedRecord'] && taskbarContainer[k].getAttribute('rowuniqueid') ===\n                                this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] && this.parent.rowDragAndDropModule['draggedRecord']['rowUniqueID'] ===\n                                childRecords[j]['rowUniqueID']) {\n                                tr.getElementsByClassName('e-taskbar-main-container')[k]['style'].marginTop =\n                                    this.parent.editModule.taskbarEditModule.draggedRecordMarginTop;\n                            }\n                        }\n                    }\n                }\n            }\n            this.parent.contentHeight = treeGridContentHeight;\n            document.getElementsByClassName('e-chart-rows-container')[0]['style'].height = this.parent.contentHeight + 'px';\n        }\n    };\n    /**\n     * To refresh edited TR\n     *\n     * @param {number} index .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRow = function (index, isValidateRange, isUndoRedo) {\n        var _this = this;\n        var tr = this.ganttChartTableBody.childNodes[index];\n        var selectedItem;\n        if (isUndoRedo) {\n            selectedItem = this.parent.previousFlatData[index];\n        }\n        else {\n            selectedItem = this.parent.currentViewData[index];\n        }\n        if (index !== -1 && selectedItem) {\n            var data_1 = selectedItem;\n            if (!this.parent.allowTaskbarOverlap && data_1.expanded) {\n                if (this.parent.ganttChartModule.isExpandAll || this.parent.ganttChartModule.isCollapseAll) {\n                    tr['style'].height = this.parent.treeGrid.getRowByIndex(index)['style'].height = this.parent.rowHeight + 'px';\n                }\n                else {\n                    tr['style'].height = this.parent.treeGrid.getRows()[index]['style'].height = this.parent.rowHeight + 'px';\n                }\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar) {\n                tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                if (this.parent.renderBaseline) {\n                    data_1.childRecords.forEach(function (childRecord) {\n                        if (!isNullOrUndefined(childRecord.ganttProperties.baselineStartDate &&\n                            childRecord.ganttProperties.baselineEndDate)) {\n                            tr.childNodes[0].appendChild((_this.updateTaskBaselineNode(childRecord))[0]);\n                        }\n                    });\n                }\n            }\n            else {\n                if (this.parent.allowTaskbarDragAndDrop && !data_1.expanded) {\n                    tr.replaceWith(this.getGanttChartRow(index, data_1));\n                }\n                else {\n                    tr.replaceChild(this.getGanttChartRow(index, data_1).childNodes[0], tr.childNodes[0]);\n                    if (this.parent.enableMultiTaskbar && data_1.parentItem) {\n                        var parentID = data_1.parentItem.taskId;\n                        var parentData = this.parent.getRecordByID(parentID);\n                        if (!parentData.expanded) {\n                            var parentTr = this.parent.getRowByID(parentID);\n                            parentTr.replaceChild(this.getGanttChartRow(Number(parentID), parentData).childNodes[0], parentTr.childNodes[0]);\n                        }\n                    }\n                }\n            }\n            this.parent.renderTemplates();\n            if (this.parent.showOverAllocation &&\n                this.parent.allowTaskbarOverlap &&\n                (data_1.hasChildRecords || (data_1.parentItem && this.parent.editedRecords.every(function (record) {\n                    return record.ganttProperties.taskId.toString() !== data_1.parentItem.taskId.toString();\n                })))) {\n                if (isValidateRange) {\n                    this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                }\n                else {\n                    var targetData = data_1.hasChildRecords ? data_1 : this.parent.getRecordByID(data_1.parentItem.taskId);\n                    this.parent.dataOperation.updateOverlappingValues(targetData);\n                    this.parent.ganttChartModule.renderRangeContainer([targetData]);\n                }\n            }\n            var segmentLength = !isNullOrUndefined(data_1.ganttProperties.segments) && data_1.ganttProperties.segments.length;\n            if (segmentLength > 0) {\n                for (var i = 0; i < segmentLength; i++) {\n                    var segmentedTasks = tr.getElementsByClassName('e-segmented-taskbar');\n                    var segmentElement = segmentedTasks[i];\n                    this.triggerQueryTaskbarInfoByIndex(segmentElement, data_1);\n                }\n            }\n            else {\n                this.triggerQueryTaskbarInfoByIndex(tr, data_1);\n                if (this.parent.enableMultiTaskbar && data_1.parentItem && this.parent.queryTaskbarInfo &&\n                    !(this.parent.getParentTask(data_1.parentItem).expanded)) {\n                    // Retrieve the parent item index:\n                    var parentIndex = data_1.parentItem.index;\n                    var parentTask = void 0;\n                    if (isUndoRedo) {\n                        parentTask = this.parent.previousFlatData[parentIndex];\n                    }\n                    else {\n                        parentTask = this.parent.currentViewData[parentIndex];\n                    }\n                    // Trigger taskbar info query for the parent element:\n                    this.triggerQueryTaskbarInfoByIndex(this.ganttChartTableBody.querySelectorAll('tr')[parentIndex], parentTask);\n                }\n            }\n            var dataId = this.parent.viewType === 'ProjectView' ? data_1.ganttProperties.taskId : data_1.ganttProperties.rowUniqueID;\n            if (!this.parent.ganttChartModule.isExpandAll && !this.parent.ganttChartModule.isCollapseAll) {\n                this.parent.treeGrid.grid.setRowData(dataId, data_1);\n            }\n            if (data_1.hasChildRecords && !data_1.expanded && this.parent.enableMultiTaskbar && !this.parent.allowTaskbarOverlap) {\n                this.updateDragDropRecords(selectedItem, tr);\n            }\n            if (data_1.hasChildRecords && this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n                this.parent.dataOperation.updateOverlappingValues(data_1);\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n            }\n            var nextEditableElement = this.parent.ganttChartModule.tempNextElement;\n            if (this.parent.ganttChartModule.isEditableElement && nextEditableElement) {\n                this.parent.treeGrid.grid.focusModule.focus();\n                addClass([this.parent.treeGrid.getRows()[parseInt(tr.getAttribute('aria-rowindex'), 10) - 1].children[this.parent.ganttChartModule.childrenIndex]], 'e-focused');\n                this.parent.ganttChartModule.tempNextElement = null;\n            }\n            var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[index].getAttribute('data-uid'));\n            if (!isNullOrUndefined(row)) {\n                row.data = data_1;\n            }\n        }\n    };\n    ChartRows.prototype.updateResourceTaskbarElement = function (tRow, parentTr) {\n        var cloneElement = tRow.querySelector('.e-taskbar-main-container');\n        if (this.parent.viewType === 'ProjectView' && tRow.querySelector('.e-collapse-parent')) {\n            cloneElement = tRow.querySelector('.e-collapse-parent');\n        }\n        if (tRow.querySelector('.e-collapse-parent') === null) {\n            addClass([cloneElement], 'collpse-parent-border');\n        }\n        var id = tRow.querySelector('.' + cls.taskBarMainContainer).getAttribute('rowUniqueId');\n        var ganttData = this.parent.getRecordByID(id);\n        if (!(isNullOrUndefined(ganttData)) && ganttData.ganttProperties.segments && ganttData.ganttProperties.segments.length > 0) {\n            var segmentedTasks = cloneElement.getElementsByClassName('e-segmented-taskbar');\n            for (var i = 0; i < segmentedTasks.length; i++) {\n                this.triggerQueryTaskbarInfoByIndex(segmentedTasks[i], ganttData);\n            }\n        }\n        else if (this.parent.queryTaskbarInfo) {\n            var mainTaskbar = (cloneElement.querySelector('.e-gantt-child-taskbar'));\n            if (!isNullOrUndefined(mainTaskbar)) {\n                this.triggerQueryTaskbarInfoByIndex(mainTaskbar, ganttData);\n            }\n        }\n        var zIndex = '';\n        if (ganttData && !isNullOrUndefined(ganttData.ganttProperties.eOverlapIndex)) {\n            zIndex = (ganttData.ganttProperties.eOverlapIndex).toString();\n        }\n        var cloneChildElement = cloneElement.cloneNode(true);\n        cloneChildElement.style.zIndex = zIndex;\n        parentTr[0].childNodes[0].childNodes[0].childNodes[0].appendChild(cloneChildElement);\n    };\n    /**\n     * To refresh all edited records\n     *\n     * @param {IGanttData} items .\n     * @param {boolean} isValidateRange .\n     * @param {boolean} isUndoRedo .\n     * @returns {void} .\n     * @private\n     */\n    ChartRows.prototype.refreshRecords = function (items, isValidateRange, isUndoRedo) {\n        if (this.parent.isGanttChartRendered) {\n            this.parent.renderTemplates();\n            if (this.parent.enableMultiTaskbar) {\n                var sortedRecords = [];\n                sortedRecords = new DataManager(items).executeLocal(new Query()\n                    .sortBy('expanded', 'Descending'));\n                items = sortedRecords;\n            }\n            for (var i = 0; i < items.length; i++) {\n                var index = void 0;\n                if (isUndoRedo) {\n                    index = this.parent.ids.indexOf(items[i].ganttProperties.taskId.toString());\n                }\n                else {\n                    index = this.parent.currentViewData.indexOf(items[i]);\n                }\n                if (!this.parent.enableMultiTaskbar ||\n                    (this.parent.enableMultiTaskbar && (items[i].expanded || !this.parent.isLoad))) {\n                    this.refreshRow(index, isValidateRange, isUndoRedo);\n                }\n            }\n            this.parent.ganttChartModule.updateLastRowBottomWidth();\n        }\n    };\n    ChartRows.prototype.removeEventListener = function () {\n        var _this = this;\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        (this.ganttChartTableBody.childNodes).forEach(function (tr) {\n            if (tr instanceof Element) {\n                tr.removeEventListener('touchmove', _this.handleTouchMove);\n                tr.removeEventListener('touchend', _this.handleTouchEnd);\n            }\n        });\n        this.parent.off('renderPanels', this.createChartTable);\n        this.parent.off('dataReady', this.initiateTemplates);\n        this.parent.off('destroy', this.destroy);\n    };\n    ChartRows.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    ChartRows.prototype.generateAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.startDate;\n        var endDateVal = data.ganttProperties.endDate;\n        var durationVal = data.ganttProperties.duration;\n        if (data.ganttProperties.isMilestone) {\n            defaultValue = nameConstant + ' ' + taskNameVal + ' ' + startDateConstant + ' '\n                + this.parent.getFormatedDate(startDateVal);\n        }\n        else {\n            if (taskNameVal) {\n                defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n            }\n            if (startDateVal) {\n                defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n            }\n            if (endDateVal) {\n                defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n            }\n            if (durationVal) {\n                defaultValue += durationConstant + ' '\n                    + this.parent.getDurationString(durationVal, data.ganttProperties.durationUnit);\n            }\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateBaselineAriaLabel = function (data) {\n        data = this.templateData;\n        var defaultValue = '';\n        var nameConstant = this.parent.localeObj.getConstant('name');\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var taskNameVal = data.ganttProperties.taskName;\n        var startDateVal = data.ganttProperties.baselineStartDate;\n        var endDateVal = data.ganttProperties.baselineEndDate;\n        defaultValue += 'Baseline' + ' ';\n        defaultValue += nameConstant + ' ' + taskNameVal + ' ';\n        defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        return defaultValue;\n    };\n    ChartRows.prototype.generateSpiltTaskAriaLabel = function (data, ganttProp) {\n        var defaultValue = '';\n        var startDateConstant = this.parent.localeObj.getConstant('startDate');\n        var endDateConstant = this.parent.localeObj.getConstant('endDate');\n        var durationConstant = this.parent.localeObj.getConstant('duration');\n        var startDateVal = data.startDate;\n        var endDateVal = data.endDate;\n        var durationVal = data.duration;\n        if (startDateVal) {\n            defaultValue += startDateConstant + ' ' + this.parent.getFormatedDate(startDateVal) + ' ';\n        }\n        if (endDateVal) {\n            defaultValue += endDateConstant + ' ' + this.parent.getFormatedDate(endDateVal) + ' ';\n        }\n        if (durationVal) {\n            defaultValue += durationConstant + ' '\n                + this.parent.getDurationString(durationVal, ganttProp.durationUnit);\n        }\n        return defaultValue;\n    };\n    ChartRows.prototype.generateTaskLabelAriaLabel = function (type) {\n        var label = '';\n        if (type === 'left' && this.parent.labelSettings.leftLabel && !this.leftTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('leftTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.leftLabel);\n        }\n        else if (type === 'right' && this.parent.labelSettings.rightLabel && !this.rightTaskLabelTemplateFunction) {\n            label += this.parent.localeObj.getConstant('rightTaskLabel') +\n                ' ' + this.getTaskLabel(this.parent.labelSettings.rightLabel);\n        }\n        return label;\n    };\n    return ChartRows;\n}(DateProcessor));\nexport { ChartRows };\n","import { isScheduledTask } from '../base/utils';\nimport { getValue, isNullOrUndefined, extend } from '@syncfusion/ej2-base';\nvar Dependency = /** @class */ (function () {\n    function Dependency(gantt) {\n        this.parentRecord = [];\n        this.parentIds = [];\n        this.parentPredecessors = [];\n        this.validatedParentIds = [];\n        this.storeId = null;\n        this.isChildRecordValidated = [];\n        this.parent = gantt;\n        this.dateValidateModule = this.parent.dateValidationModule;\n    }\n    /**\n     * Method to populate predecessor collections in records\n     *\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollection = function () {\n        var predecessorTasks = this.parent.predecessorsCollection;\n        for (var _i = 0, predecessorTasks_1 = predecessorTasks; _i < predecessorTasks_1.length; _i++) {\n            var ganttData = predecessorTasks_1[_i];\n            if ((!ganttData.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.ensurePredecessorCollectionHelper(ganttData, ganttData.ganttProperties);\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttData .\n     * @param {ITaskData} ganttProp .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.ensurePredecessorCollectionHelper = function (ganttData, ganttProp) {\n        var predecessorVal = ganttProp.predecessorsName;\n        if (predecessorVal && (typeof predecessorVal === 'string' || typeof predecessorVal === 'number')) {\n            this.parent.setRecordValue('predecessor', this.calculatePredecessor(predecessorVal, ganttData), ganttProp, true);\n        }\n        else if (predecessorVal && typeof predecessorVal === 'object' && predecessorVal.length) {\n            var preValues = [];\n            for (var c = 0; c < predecessorVal.length; c++) {\n                var predecessorItem = predecessorVal[c];\n                var preValue = {};\n                preValue.from = getValue('from', predecessorItem) ? getValue('from', predecessorItem) : predecessorVal[c];\n                preValue.to = getValue('to', predecessorItem) ? getValue('to', predecessorItem) : ganttProp.rowUniqueID;\n                preValue.type = getValue('type', predecessorItem) ? getValue('type', predecessorItem) : 'FS';\n                var offsetUnits = getValue('offset', predecessorItem);\n                if (isNullOrUndefined(offsetUnits)) {\n                    preValue.offset = 0;\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                else if (typeof offsetUnits === 'string') {\n                    var tempOffsetUnits = this.getOffsetDurationUnit(getValue('offset', predecessorItem));\n                    preValue.offset = tempOffsetUnits.duration;\n                    preValue.offsetUnit = tempOffsetUnits.durationUnit;\n                }\n                else {\n                    preValue.offset = parseFloat(offsetUnits.toString());\n                    preValue.offsetUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n                var isOwnParent = this.checkIsParent(preValue.from.toString());\n                if (!isOwnParent) {\n                    preValues.push(preValue);\n                }\n            }\n            this.parent.setRecordValue('predecessor', preValues, ganttProp, true);\n        }\n        this.parent.setRecordValue('predecessorsName', this.getPredecessorStringValue(ganttData), ganttProp, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, ganttProp.predecessorsName, ganttData);\n    };\n    /**\n     * To render unscheduled empty task with 1 day duration during predecessor map\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateUnscheduledDependency = function (data) {\n        var task = this.parent.taskFields;\n        var prdList = !isNullOrUndefined(data[task.dependency]) ?\n            data[task.dependency].toString().split(',') : [];\n        for (var i = 0; i < prdList.length; i++) {\n            var predId = parseInt(prdList[i], 10);\n            if (!isNaN(predId)) {\n                var predData = this.parent.connectorLineModule.getRecordByID(predId.toString());\n                var record = !isNullOrUndefined(predData) ?\n                    extend({}, {}, predData.taskData, true) : null;\n                if (!isNullOrUndefined(record) && isNullOrUndefined(record[task.startDate])\n                    && isNullOrUndefined(record[task.duration]) && isNullOrUndefined(record[task.endDate])) {\n                    record[task.duration] = 1;\n                    var startDate = void 0;\n                    var parentItem = predData.parentItem;\n                    if (parentItem) {\n                        var parentTask = this.parent.getParentTask(predData.parentItem);\n                        while (parentTask && !parentTask.ganttProperties.startDate) {\n                            parentTask = this.parent.getParentTask(parentTask.parentItem);\n                        }\n                        startDate = parentTask ? parentTask.ganttProperties.startDate : this.parent.cloneProjectStartDate;\n                    }\n                    else {\n                        startDate = this.parent.cloneProjectStartDate;\n                    }\n                    record[task.startDate] = startDate;\n                    this.parent.updateRecordByID(record);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {string} fromId .\n     * @returns {boolean} .\n     */\n    Dependency.prototype.checkIsParent = function (fromId) {\n        var boolValue = false;\n        var task = this.parent.connectorLineModule.getRecordByID(fromId);\n        if (task.hasChildRecords) {\n            boolValue = true;\n        }\n        return boolValue;\n    };\n    // Get the root parent of the record\n    Dependency.prototype.getRootParent = function (rec) {\n        var parentRec = rec;\n        if (rec.parentItem) {\n            parentRec = this.parent.flatData.filter(function (item) {\n                return item.uniqueID === rec.parentUniqueID;\n            })[0];\n            if (parentRec.parentItem) {\n                parentRec = this.getRootParent(parentRec);\n            }\n            return parentRec;\n        }\n        return parentRec;\n    };\n    // To check whether the predecessor drawn is valid for parent task\n    Dependency.prototype.validateParentPredecessor = function (fromRecord, toRecord) {\n        if (fromRecord && toRecord) {\n            if (toRecord.hasChildRecords && !fromRecord.hasChildRecords) {\n                if (fromRecord.parentUniqueID === toRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (fromRecord.parentItem) {\n                            fromRecord = this.parent.flatData[this.parent.ids.indexOf(fromRecord.parentItem.taskId)];\n                            if (fromRecord.uniqueID === toRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (fromRecord.parentItem);\n                }\n            }\n            else if (!toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentUniqueID === fromRecord.uniqueID) {\n                    return false;\n                }\n                else {\n                    do {\n                        if (toRecord.parentItem) {\n                            toRecord = this.parent.flatData[this.parent.ids.indexOf(toRecord.parentItem.taskId)];\n                            if (toRecord.uniqueID === fromRecord.uniqueID) {\n                                return false;\n                            }\n                        }\n                    } while (toRecord.parentItem);\n                }\n            }\n            else if (toRecord.hasChildRecords && fromRecord.hasChildRecords) {\n                if (toRecord.parentItem && fromRecord.parentItem) {\n                    if (fromRecord.parentUniqueID === toRecord.uniqueID || fromRecord.uniqueID === toRecord.parentUniqueID) {\n                        return false;\n                    }\n                }\n                else {\n                    if (!toRecord.parentItem && fromRecord.parentItem) {\n                        var fromRootParent = this.getRootParent(fromRecord);\n                        if (fromRootParent.uniqueID === toRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                    else if (toRecord.parentItem && !fromRecord.parentItem) {\n                        var toRootParent = this.getRootParent(toRecord);\n                        if (toRootParent.uniqueID === fromRecord.uniqueID) {\n                            return false;\n                        }\n                    }\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Get predecessor collection object from predecessor string value\n     *\n     * @param {string | number} predecessorValue .\n     * @param {IGanttData} ganttRecord .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.calculatePredecessor = function (predecessorValue, ganttRecord) {\n        var _this = this;\n        var predecessor = predecessorValue.toString();\n        var collection = [];\n        var match;\n        var values = [];\n        var offsetValue;\n        var predecessorText;\n        var parentRecords = [];\n        predecessor.split(',').forEach(function (el) {\n            var isGUId = false;\n            var firstPart;\n            var predecessorName;\n            var isAlpha = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = el.split('-');\n            var id;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = el.substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (el.includes('-')) {\n                var lastIndex = el.lastIndexOf('-');\n                var lastPart = el.substring(lastIndex + 1);\n                var baseString = el.replace(lastPart, '').trim();\n                var match_1 = baseString.match(/(FS|SS|SF|FF)-$/);\n                var processedResult = (match_1 ? match_1[0] : '') + lastPart;\n                if (!/^(FS|SS|SF|FF)/.test(processedResult)) {\n                    var prefixMatch = processedResult.match(/(FS|SS|SF|FF)/);\n                    processedResult = prefixMatch\n                        ? prefixMatch[0] + processedResult.slice(processedResult.indexOf(prefixMatch[0]) + prefixMatch[0].length)\n                        : el;\n                }\n                predecessorName = processedResult;\n                if (el.includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = el.indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = el.substring(0, indexFS);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = el;\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = el.slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                offsetValue = '+';\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = el;\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = el.slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                    offsetValue = '-';\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = el.split('+');\n                    offsetValue = '+';\n                    if (el.indexOf('-') >= 0) {\n                        values = el.split('-');\n                        offsetValue = '-';\n                    }\n                }\n            }\n            match = [];\n            var ids = _this.parent.viewType === 'ResourceView' ? _this.parent.getTaskIds() : _this.parent.ids;\n            var isExist1 = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + values[0]) : ids.indexOf(values[0]);\n            if (isExist1 !== -1) {\n                match[0] = values[0];\n            }\n            else {\n                if (ids.indexOf(values[0]) === -1) {\n                    match = values[0].split(' ');\n                    if (match.length === 1) {\n                        if (match[0].indexOf(' ') !== -1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        else {\n                            match[0] = values[0].slice(0, -2);\n                            match[1] = values[0].slice(-2);\n                        }\n                    }\n                }\n                else {\n                    match[0] = values[0];\n                }\n            }\n            var isExist = _this.parent.viewType === 'ResourceView' ? ids.indexOf('T' + match[0]) : ids.indexOf(match[0]);\n            /*Validate for appropriate predecessor*/\n            if (match[0] && isExist !== -1) {\n                if (match.length > 1) {\n                    var type = match[1].toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        var e = \"The provided dependency type, \" + type + \", is invalid. Please ensure that the Dependency Type is FS or FF or SS or SF\";\n                        _this.parent.trigger('actionFailure', { error: e });\n                        predecessorText = 'FS';\n                    }\n                }\n                else if (el.includes('-') && /[A-Za-z]/.test(predecessorName) && firstPart.includes('-')) {\n                    var type = el.slice(-2).toString();\n                    type.toUpperCase();\n                    if (type === 'FS' || type === 'FF' || type === 'SF' || type === 'SS') {\n                        predecessorText = type;\n                    }\n                    else {\n                        predecessorText = 'FS';\n                    }\n                }\n                else {\n                    predecessorText = 'FS';\n                }\n            }\n            else {\n                return; // exit current loop for invalid id (match[0])\n            }\n            var tempOffset = values.length > 1 ? offsetValue + '' + values[1] : '0';\n            var offsetUnits = _this.getOffsetDurationUnit(tempOffset);\n            var obj = {\n                from: match[0],\n                type: predecessorText,\n                isDrawn: false,\n                to: _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                    : ganttRecord.ganttProperties.rowUniqueID.toString(),\n                offsetUnit: offsetUnits.durationUnit,\n                offset: offsetUnits.duration\n            };\n            var isOwnParent = _this.checkIsParent(match[0]);\n            if (!_this.parent.allowParentDependency) {\n                if (!isOwnParent) {\n                    collection.push(obj);\n                }\n            }\n            else {\n                var fromData = _this.parent.connectorLineModule.getRecordByID(obj.to);\n                var toData = _this.parent.connectorLineModule.getRecordByID(obj.from);\n                var isValid = void 0;\n                if (toData && fromData) {\n                    isValid = _this.validateParentPredecessor(toData, fromData);\n                    if (isValid) {\n                        collection.push(obj);\n                        if (parentRecords.indexOf(toData) === -1 && toData.hasChildRecords && _this.parent.editModule\n                            && _this.parent.editModule.cellEditModule && _this.parent.editModule.cellEditModule.isCellEdit) {\n                            parentRecords.push(extend([], [], [toData], true)[0]);\n                        }\n                    }\n                }\n                else {\n                    collection.push(obj);\n                }\n                match.splice(0);\n            }\n        });\n        if (parentRecords.length > 0 && this.parent.undoRedoModule && this.parent.editModule && this.parent.editModule.cellEditModule &&\n            this.parent.editModule.cellEditModule.isCellEdit) {\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecords;\n        }\n        var creatCollection = [];\n        collection.map(function (data) {\n            var from = data.from;\n            var to = data.to;\n            var checkColloction = [];\n            checkColloction = collection.filter(function (fdata) { return fdata.from === from && fdata.to === to; });\n            if (creatCollection.indexOf(checkColloction[checkColloction.length - 1]) === -1) {\n                creatCollection.push(checkColloction[checkColloction.length - 1]);\n            }\n        });\n        return creatCollection;\n    };\n    /**\n     * Get predecessor value as string with offset values\n     *\n     * @param {IGanttData} data .\n     * @returns {string} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorStringValue = function (data) {\n        var predecessors = data.ganttProperties.predecessor;\n        var resultString = '';\n        var temp1;\n        var match = [];\n        if (predecessors) {\n            var length_1 = predecessors.length;\n            for (var i = 0; i < length_1; i++) {\n                var currentValue = predecessors[i];\n                var temp = '';\n                var id = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId\n                    : data.ganttProperties.rowUniqueID;\n                if (currentValue.from !== id.toString()) {\n                    temp = currentValue.from + currentValue.type;\n                    if (typeof (data.ganttProperties.taskId) === 'string') {\n                        match[0] = temp.slice(0, -2);\n                        match[1] = temp.slice(-2);\n                        temp1 = match[0] + ' ' + match[1];\n                    }\n                    else {\n                        temp1 = temp;\n                    }\n                    temp = temp1;\n                    if (currentValue.offset !== 0) {\n                        temp += currentValue.offset > 0 ? ('+' + currentValue.offset + ' ') : (currentValue.offset + ' ');\n                        var multiple = currentValue.offset !== 1;\n                        if (currentValue.offsetUnit === 'day') {\n                            temp += multiple ? this.parent.localeObj.getConstant('days') : this.parent.localeObj.getConstant('day');\n                        }\n                        else if (currentValue.offsetUnit === 'hour') {\n                            temp += multiple ? this.parent.localeObj.getConstant('hours') : this.parent.localeObj.getConstant('hour');\n                        }\n                        else {\n                            temp += multiple ? this.parent.localeObj.getConstant('minutes') : this.parent.localeObj.getConstant('minute');\n                        }\n                    }\n                    if (resultString.length > 0) {\n                        resultString = resultString + ',' + temp;\n                    }\n                    else {\n                        resultString = temp;\n                    }\n                }\n            }\n        }\n        return resultString;\n    };\n    /*Get duration and duration unit value from tasks*/\n    Dependency.prototype.getOffsetDurationUnit = function (val) {\n        var duration = 0;\n        var durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        var durationUnitLabels = this.parent.durationUnitEditText;\n        if (typeof val === 'string') {\n            var values = val.match(/[^0-9]+|[0-9]+/g);\n            for (var x = 0; x < values.length; x++) {\n                values[x] = (values[x]).trim();\n            }\n            if (values[0] === '-' && values[1]) {\n                values[1] = values[0] + values[1];\n                values.shift();\n            }\n            else if (values[0] === '+') {\n                values.shift();\n            }\n            if (values[1] === '.' && !isNaN(parseInt(values[2], 10))) {\n                values[0] += values[1] + values[2];\n                values.splice(1, 2);\n            }\n            if (values && values.length <= 2) {\n                duration = parseFloat(values[0]);\n                durationUnit = values[1] ? (values[1].toLowerCase()).trim() : '';\n                if (getValue('minute', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'minute';\n                }\n                else if (getValue('hour', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'hour';\n                }\n                else if (getValue('day', durationUnitLabels).indexOf(durationUnit) !== -1) {\n                    durationUnit = 'day';\n                }\n                else {\n                    durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n                }\n            }\n        }\n        else {\n            duration = val;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        if (isNaN(duration)) {\n            var err = 'The provided value for the offset field is invalid.Please ensure the offset field contains only valid numeric values';\n            this.parent.trigger('actionFailure', { error: err });\n            duration = 0;\n            durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n        }\n        return {\n            duration: duration,\n            durationUnit: durationUnit\n        };\n    };\n    /**\n     * Update predecessor object in both from and to tasks collection\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessors = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var predecessorsCollection = this.parent.predecessorsCollection;\n        var ganttRecord;\n        var length = predecessorsCollection.length;\n        for (var count = 0; count < length; count++) {\n            ganttRecord = predecessorsCollection[count];\n            if ((!ganttRecord.hasChildRecords && !this.parent.allowParentDependency) || this.parent.allowParentDependency) {\n                this.updatePredecessorHelper(ganttRecord, predecessorsCollection, flatDataCollection);\n                if (!ganttRecord.ganttProperties.isAutoSchedule && this.parent.editSettings.allowEditing) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](ganttRecord);\n                }\n            }\n        }\n    };\n    /**\n     * To update predecessor collection to successor tasks\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IGanttData[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatePredecessorHelper = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var connectorsCollection = ganttRecord.ganttProperties.predecessor;\n        var successorGanttRecord;\n        var connectorCount = connectorsCollection.length;\n        predecessorsCollection = isNullOrUndefined(predecessorsCollection) ? [] : predecessorsCollection;\n        for (var i = 0; i < connectorCount; i++) {\n            var connector = connectorsCollection[i];\n            if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                successorGanttRecord = flatDataCollection.get(connector.from);\n            }\n            else {\n                successorGanttRecord = this.parent.connectorLineModule.getRecordByID(connector.from);\n            }\n            var id = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (connector.from !== id.toString()) {\n                if (successorGanttRecord) {\n                    var predecessorCollection = void 0;\n                    if (successorGanttRecord.ganttProperties.predecessor) {\n                        predecessorCollection = (extend([], successorGanttRecord.ganttProperties.predecessor, [], true));\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        //  successorGanttRecord.ganttProperties.predecessor.push(connector);\n                    }\n                    else {\n                        predecessorCollection = [];\n                        predecessorCollection.push(connector);\n                        this.parent.setRecordValue('predecessor', predecessorCollection, successorGanttRecord.ganttProperties, true);\n                        // this.parent.setRecordValue('predecessor', [], successorGanttRecord.ganttProperties, true);\n                        // successorGanttRecord.ganttProperties.predecessor.push(connector);\n                        predecessorsCollection.push(successorGanttRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.traverseParents = function (record) {\n        this.parent.dataOperation.updateParentItems(record);\n    };\n    /**\n     * Method to validate date of tasks with predecessor values for all records\n     *\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updatedRecordsDateByPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (!this.parent.autoCalculateDateScheduling ||\n            (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        var flatData = this.parent.flatData;\n        var totLength = flatData.length;\n        if (isNullOrUndefined(flatDataCollection)) {\n            flatDataCollection = new Map();\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        for (var count = 0; count < totLength; count++) {\n            var currentTask = flatData[count];\n            var properties = currentTask.ganttProperties;\n            if (properties.predecessorsName) {\n                this.validatePredecessorDates(currentTask, flatDataCollection);\n                var predecessorCollection = properties.predecessor;\n                if (predecessorCollection && predecessorCollection.length > 1) {\n                    for (var _a = 0, predecessorCollection_1 = predecessorCollection; _a < predecessorCollection_1.length; _a++) {\n                        var predecessor = predecessorCollection_1[_a];\n                        var validateRecord = void 0;\n                        if (this.parent.viewType === 'ProjectView') {\n                            validateRecord = flatDataCollection.get(predecessor.to);\n                        }\n                        else {\n                            validateRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                        }\n                        if (validateRecord) {\n                            this.validatePredecessorDates(validateRecord, flatDataCollection);\n                        }\n                    }\n                }\n                if (currentTask.hasChildRecords && properties.startDate && this.parent.allowParentDependency) {\n                    this.updateChildItems(currentTask);\n                }\n                if (currentTask.parentItem) {\n                    var recordId = currentTask.parentItem.taskId;\n                    var parentRecord = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        parentRecord = flatDataCollection.get(recordId);\n                    }\n                    else {\n                        parentRecord = this.parent.getRecordByID(recordId);\n                    }\n                    if (parentRecord) {\n                        this.traverseParents(parentRecord);\n                    }\n                }\n            }\n        }\n    };\n    Dependency.prototype.updateParentPredecessor = function (flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (this.parent.enablePredecessorValidation) {\n            var parentPredecessorLength = this.parentPredecessors.length;\n            for (var i = parentPredecessorLength - 1; i >= 0; i--) {\n                var item = this.parentPredecessors[i];\n                this.validatePredecessorDates(item, flatDataCollection);\n                if (item.ganttProperties.startDate) {\n                    this.updateChildItems(item);\n                }\n            }\n        }\n    };\n    /**\n     * To validate task date values with dependency\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessorDates = function (ganttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (ganttRecord.ganttProperties.predecessor) {\n            var predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            var count = void 0;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var currentTaskId_1 = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId.toString()\n                : ganttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_1) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            for (count = 0; count < predecessors.length; count++) {\n                var predecessor = predecessors[count];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    record = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.allowParentDependency && parentGanttRecord.hasChildRecords) {\n                    this.parent.dataOperation.updateParentItems(parentGanttRecord);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop) {\n                    var index = void 0;\n                    if (isNullOrUndefined(record)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n                        record = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                    else if (isNullOrUndefined(parentGanttRecord)) {\n                        index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n                        parentGanttRecord = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n                    }\n                }\n                if (this.parent.allowParentDependency && this.parent.isLoad && this.parentPredecessors.indexOf(ganttRecord) === -1\n                    && (ganttRecord.hasChildRecords || record.hasChildRecords)) {\n                    this.parentPredecessors.push(ganttRecord);\n                }\n                if (record.ganttProperties.isAutoSchedule || this.parent.validateManualTasksOnLinking) {\n                    this.validateChildGanttRecord(parentGanttRecord, record, flatDataCollection);\n                }\n            }\n        }\n    };\n    /**\n     * Method to validate task with predecessor\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {void} .\n     */\n    Dependency.prototype.validateChildGanttRecord = function (parentGanttRecord, childGanttRecord, flatDataCollection) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if ((this.parent.editedPredecessorRecords.indexOf(childGanttRecord) !== -1) || (parentGanttRecord &&\n            isNullOrUndefined(isScheduledTask(parentGanttRecord.ganttProperties)))\n            || (childGanttRecord && isNullOrUndefined(isScheduledTask(childGanttRecord.ganttProperties)))) {\n            return;\n        }\n        if (this.parent.isInPredecessorValidation && (childGanttRecord.ganttProperties.isAutoSchedule ||\n            this.parent.validateManualTasksOnLinking)) {\n            var childRecordProperty = childGanttRecord.ganttProperties;\n            var currentTaskId_2 = this.parent.viewType === 'ResourceView' ? childRecordProperty.taskId.toString()\n                : childRecordProperty.rowUniqueID.toString();\n            var predecessorsCollection = childRecordProperty.predecessor;\n            var childPredecessor = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_2) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var startDate = this.getPredecessorDate(childGanttRecord, childPredecessor, flatDataCollection);\n            this.parent.setRecordValue('startDate', startDate, childRecordProperty, true);\n            this.parent.dataOperation.updateMappingData(childGanttRecord, 'startDate');\n            var segments = childGanttRecord.ganttProperties.segments;\n            if (isNullOrUndefined(segments) || !isNullOrUndefined(segments) && segments.length === 0) {\n                this.dateValidateModule.calculateEndDate(childGanttRecord);\n            }\n            this.parent.dataOperation.updateWidthLeft(childGanttRecord);\n            if (!this.parent.isLoad && !this.parent.isFromOnPropertyChange && childGanttRecord.parentItem &&\n                this.parent.isInPredecessorValidation &&\n                this.parent.getParentTask(childGanttRecord.parentItem).ganttProperties.isAutoSchedule) {\n                if (this.parentIds.indexOf(childGanttRecord.parentItem.uniqueID) === -1) {\n                    this.parentIds.push(childGanttRecord.parentItem.uniqueID);\n                    this.parentRecord.push(childGanttRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @returns {Date} .\n     * @private\n     */\n    Dependency.prototype.getPredecessorDate = function (ganttRecord, predecessorsCollection, flatDataCollection) {\n        var _this = this;\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        var maxStartDate;\n        var tempStartDate;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var validatedPredecessor = predecessorsCollection.filter(function (data) {\n            var id = _this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n                : ganttRecord.ganttProperties.rowUniqueID;\n            if (data.to === id.toString()) {\n                return data;\n            }\n            else {\n                return null;\n            }\n        });\n        if (validatedPredecessor) {\n            var length_2 = validatedPredecessor.length;\n            for (var i = 0; i < length_2; i++) {\n                var predecessor = validatedPredecessor[i];\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor.from);\n                    childGanttRecord = flatDataCollection.get(predecessor.to);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(childGanttRecord) &&\n                    isNullOrUndefined(parentGanttRecord))) {\n                    childGanttRecord = isNullOrUndefined(childGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : childGanttRecord;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, childGanttRecord, predecessor) : parentGanttRecord;\n                }\n                if (childGanttRecord && parentGanttRecord) {\n                    tempStartDate =\n                        this.getValidatedStartDate(childGanttRecord.ganttProperties, parentGanttRecord.ganttProperties, predecessor);\n                }\n                if (maxStartDate === null || this.dateValidateModule.compareDates(tempStartDate, maxStartDate) === 1) {\n                    maxStartDate = tempStartDate;\n                }\n            }\n        }\n        return maxStartDate;\n    };\n    /**\n     * Get validated start date as per predecessor type\n     *\n     * @param {ITaskData} ganttProperty .\n     * @param {ITaskData} parentRecordProperty .\n     * @param {IPredecessor} predecessor .\n     * @returns {Date} .\n     */\n    Dependency.prototype.getValidatedStartDate = function (ganttProperty, parentRecordProperty, predecessor) {\n        var type = predecessor.type;\n        var offset = predecessor.offset;\n        var tempDate;\n        var returnStartDate;\n        switch (type) {\n            case 'FS':\n                tempDate = this.dateValidateModule.getValidEndDate(parentRecordProperty);\n                if (!ganttProperty.isMilestone || offset !== 0) {\n                    tempDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n            case 'FF':\n            case 'SF':\n                tempDate = type === 'FF' ? this.dateValidateModule.getValidEndDate(parentRecordProperty) :\n                    this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    var date = new Date(tempDate);\n                    date.setDate(date.getDate() - 1);\n                    tempDate = this.dateValidateModule.checkEndDate(tempDate, ganttProperty);\n                }\n                if (ganttProperty.segments && ganttProperty.segments.length !== 0) {\n                    var duration = this.dateValidateModule.getDuration(ganttProperty.startDate, ganttProperty.endDate, ganttProperty.durationUnit, ganttProperty.isAutoSchedule, ganttProperty.isMilestone);\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                else {\n                    returnStartDate = this.dateValidateModule.getStartDate(tempDate, ganttProperty.duration, ganttProperty.durationUnit, ganttProperty);\n                }\n                break;\n            case 'SS':\n                tempDate = this.dateValidateModule.getValidStartDate(parentRecordProperty);\n                if (offset !== 0) {\n                    tempDate = this.updateDateByOffset(tempDate, predecessor, ganttProperty);\n                }\n                if (!ganttProperty.isMilestone) {\n                    returnStartDate = this.dateValidateModule.checkStartDate(tempDate, ganttProperty);\n                }\n                else {\n                    returnStartDate = tempDate;\n                }\n                break;\n        }\n        return returnStartDate;\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {IPredecessor} predecessor .\n     * @param {ITaskData} record .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateDateByOffset = function (date, predecessor, record) {\n        var resultDate;\n        var offsetValue = predecessor.offset;\n        var durationUnit = predecessor.offsetUnit;\n        if (offsetValue < 0 && !isNullOrUndefined(date)) {\n            resultDate = this.dateValidateModule.getStartDate(this.dateValidateModule.checkEndDate(date, record), (offsetValue * -1), durationUnit, record, true);\n        }\n        else {\n            if (!isNullOrUndefined(date)) {\n                resultDate = this.dateValidateModule.getEndDate(date, offsetValue, durationUnit, record, false);\n            }\n            if (!record.isMilestone) {\n                resultDate = this.dateValidateModule.checkStartDate(resultDate, record);\n            }\n        }\n        return resultDate;\n    };\n    /**\n     *\n     * @param {IGanttData} records .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.createConnectorLinesCollection = function (records) {\n        var ganttRecords = records ? records : this.parent.currentViewData;\n        var pdfExportModule = this.parent.pdfExportModule;\n        var isPdfExport = pdfExportModule && pdfExportModule.isPdfExport;\n        if (isPdfExport) {\n            var exportProps = pdfExportModule.helper && pdfExportModule.helper.exportProps;\n            var fitToWidthSettings = exportProps && exportProps.fitToWidthSettings;\n            if (exportProps && fitToWidthSettings && fitToWidthSettings.isFitToWidth) {\n                var exportType = exportProps.exportType;\n                var beforeSinglePageExport = pdfExportModule.helper.beforeSinglePageExport;\n                ganttRecords = (exportType === 'CurrentViewData') ?\n                    beforeSinglePageExport['cloneCurrentViewData'] :\n                    beforeSinglePageExport['cloneFlatData'];\n            }\n        }\n        var recordLength = ganttRecords.length;\n        var count;\n        var ganttRecord;\n        var predecessorsCollection;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth && this.parent.pdfExportModule.isPdfExport) {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        }\n        var flatData = this.parent.flatData;\n        var flatDataCollection = isPdfExport ? null : new Map();\n        if (!isPdfExport && !isNullOrUndefined(flatData)) {\n            for (var _i = 0, flatData_2 = flatData; _i < flatData_2.length; _i++) {\n                var record = flatData_2[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        var chartRows = this.parent.ganttChartModule.getChartRows();\n        var rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n        for (count = 0; count < recordLength; count++) {\n            if (this.parent.editModule && this.parent.editModule.deletedTaskDetails.length > 0) {\n                var parentRecord = ganttRecords[count].parentItem;\n                if (parentRecord) {\n                    var parentItem = !isNullOrUndefined(flatDataCollection) ?\n                        flatDataCollection.get(parentRecord.taskId.toString()) : this.parent.getRecordByID(parentRecord.taskId.toString());\n                    this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), ganttRecords[count]);\n                }\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['canUpdateIndex']) {\n                ganttRecords[count].index = count;\n                if (ganttRecords[count].parentItem && this.parent.getParentTask(ganttRecords[count].parentItem)) {\n                    ganttRecords[count].parentItem.index = this.parent.getParentTask(ganttRecords[count].parentItem).index;\n                }\n            }\n            ganttRecord = ganttRecords[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (predecessorsCollection) {\n                this.addPredecessorsCollection(predecessorsCollection, flatDataCollection, rowHeight);\n            }\n        }\n    };\n    /**\n     *\n     * @param {object[]} predecessorsCollection .\n     * @param {Map<string, IGanttData>} flatDataCollection .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     */\n    Dependency.prototype.addPredecessorsCollection = function (predecessorsCollection, flatDataCollection, rowHeight) {\n        if (flatDataCollection === void 0) { flatDataCollection = null; }\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var predecessorsLength;\n        var predecessorCount;\n        var predecessor;\n        var parentGanttRecord;\n        var childGanttRecord;\n        if (predecessorsCollection) {\n            predecessorsLength = predecessorsCollection.length;\n            for (predecessorCount = 0; predecessorCount < predecessorsLength; predecessorCount++) {\n                predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                if (predecessor[from] === predecessor[to]) {\n                    break;\n                }\n                if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(flatDataCollection)) {\n                    parentGanttRecord = flatDataCollection.get(predecessor[from]);\n                    childGanttRecord = flatDataCollection.get(predecessor[to]);\n                }\n                else {\n                    parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                    childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                }\n                var isValid = true;\n                if (((parentGanttRecord && parentGanttRecord.hasChildRecords && !parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.hasChildRecords && !childGanttRecord.expanded)) &&\n                    !this.parent.allowTaskbarOverlap && this.parent.viewType === 'ProjectView') {\n                    isValid = false;\n                }\n                if (isValid && this.parent.connectorLineModule.expandedRecords &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(parentGanttRecord) !== -1 &&\n                    this.parent.connectorLineModule.expandedRecords.indexOf(childGanttRecord) !== -1) {\n                    this.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n                }\n            }\n        }\n    };\n    /**\n     * To refresh connector line object collections\n     *\n     * @param {IGanttData} parentGanttRecord .\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor} predecessor .\n     * @param {number} rowHeight .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.updateConnectorLineObject = function (parentGanttRecord, childGanttRecord, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = this.parent.connectorLineModule.createConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor, rowHeight);\n        if (connectorObj) {\n            if (childGanttRecord.isCritical && parentGanttRecord.isCritical) {\n                connectorObj.isCritical = true;\n            }\n            if ((this.parent.connectorLineIds.length > 0 && this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) === -1) ||\n                this.parent.connectorLineIds.length === 0) {\n                this.parent.updatedConnectorLineCollection.push(connectorObj);\n                this.parent.connectorLineIds.push(connectorObj.connectorLineId);\n            }\n            else if (this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId) !== -1) {\n                var index = this.parent.connectorLineIds.indexOf(connectorObj.connectorLineId);\n                this.parent.updatedConnectorLineCollection[index] = connectorObj;\n            }\n            predecessor.isDrawn = true;\n        }\n        return connectorObj;\n    };\n    /**\n     * Determines whether the dependent task should be updated based on its predecessor relationship,\n     * considering the dependency type (FS, SS, SF, FF), predecessor offsets, and previous dates.\n     *\n     * @param {IGanttData} parentGanttRecord - The predecessor task.\n     * @param {IGanttData} record - The dependent task to evaluate.\n     * @param {Date} parentPreviousStart - The previous start date of the predecessor task.\n     * @param {Date} parentPreviousEnd - The previous end date of the predecessor task.\n     * @param {boolean} predecessorConnected - Optional flag indicating if the predecessor link is already established.\n     * @returns {boolean} - Returns true if the dependent task requires an update; otherwise, false.\n     */\n    Dependency.prototype.shouldUpdatePredecessor = function (parentGanttRecord, record, parentPreviousStart, parentPreviousEnd, predecessorConnected) {\n        if (isNullOrUndefined(record) ||\n            isNullOrUndefined(record.ganttProperties) ||\n            isNullOrUndefined(record.ganttProperties.taskId) ||\n            isNullOrUndefined(parentGanttRecord) ||\n            isNullOrUndefined(parentGanttRecord.ganttProperties)) {\n            return false;\n        }\n        if (!predecessorConnected && isNullOrUndefined(parentPreviousStart) && isNullOrUndefined(parentPreviousEnd)) {\n            return true;\n        }\n        var predecessors = parentGanttRecord.ganttProperties.predecessor;\n        if (isNullOrUndefined(predecessors) || !Array.isArray(predecessors)) {\n            return false;\n        }\n        var matchingPredecessor = predecessors\n            .find(function (item) { return item.to === record.ganttProperties.taskId.toString(); });\n        if (isNullOrUndefined(matchingPredecessor)) {\n            return false;\n        }\n        var type = matchingPredecessor.type;\n        var parentProps = parentGanttRecord.ganttProperties;\n        var recordProps = record.ganttProperties;\n        if (isNullOrUndefined(parentProps) || isNullOrUndefined(recordProps)) {\n            return false;\n        }\n        var parentStart = parentProps.startDate;\n        var parentEnd = parentProps.endDate;\n        var recordStart = recordProps.startDate;\n        var recordEnd = recordProps.endDate;\n        var offset = matchingPredecessor.offset;\n        var offsetUnit = matchingPredecessor.offsetUnit;\n        if (offset !== 0) {\n            if (offset > 0) {\n                if (parentStart) {\n                    parentStart = this.parent.dataOperation.getEndDate(parentStart, Math.abs(offset), offsetUnit, parentProps, false);\n                }\n                if (parentEnd) {\n                    parentEnd = this.parent.dataOperation.getEndDate(parentEnd, Math.abs(offset), offsetUnit, parentProps, false);\n                }\n            }\n            else {\n                if (recordStart) {\n                    recordStart = this.parent.dataOperation.getEndDate(recordStart, Math.abs(offset), offsetUnit, parentProps, false);\n                }\n                if (recordEnd) {\n                    recordEnd = this.parent.dataOperation.getEndDate(recordEnd, Math.abs(offset), offsetUnit, parentProps, false);\n                }\n            }\n        }\n        switch (type) {\n            case 'FS':\n                return (recordStart != null ? recordStart : recordEnd) < (parentEnd != null ? parentEnd : parentStart);\n            case 'SS':\n                return (recordStart != null ? recordStart : recordEnd) < (parentStart != null ? parentStart : parentEnd);\n            case 'SF':\n                return (recordEnd != null ? recordEnd : recordStart) < (parentStart != null ? parentStart : parentEnd);\n            case 'FF':\n                return (recordEnd != null ? recordEnd : recordStart) < (parentEnd != null ? parentEnd : parentStart);\n            default:\n                return false;\n        }\n    };\n    /**\n     * Handles the update logic for a task's dependency and validates whether child tasks should be updated.\n     * It retrieves the previous start and end dates from the stored records to determine if dependency validation is required.\n     * If predecessor updates are needed or offset updates are enabled, it triggers child task validation.\n     *\n     * @param {IGanttData} parentGanttRecord - The parent task whose dependencies are being evaluated.\n     * @param {IGanttData} record - The current task being updated.\n     * @returns {void}\n     */\n    Dependency.prototype.handleTaskUpdate = function (parentGanttRecord, record) {\n        var previousStartDate;\n        var previousEndDate;\n        var previousRecord = this.parent.previousRecords[parentGanttRecord.uniqueID];\n        var previousGanttProps;\n        if (previousRecord && previousRecord['ganttProperties']) {\n            previousGanttProps = previousRecord['ganttProperties'];\n            if (this.parent.editModule.isDialogEditing) {\n                previousStartDate = null;\n                previousEndDate = null;\n                this.parent.editModule.isDialogEditing = false;\n            }\n            else {\n                previousStartDate = previousGanttProps['startDate'];\n                previousEndDate = previousGanttProps['endDate'];\n            }\n        }\n        var isPredecessorDrawn = previousGanttProps && 'predecessor' in previousGanttProps;\n        var isUpdateSucessorTask = this.shouldUpdatePredecessor(parentGanttRecord, record, previousStartDate, previousEndDate, isPredecessorDrawn);\n        if (this.parent.updateOffsetOnTaskbarEdit || isUpdateSucessorTask) {\n            this.validateChildGanttRecord(parentGanttRecord, record);\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} childGanttRecord .\n     * @param {IPredecessor[]} previousValue .\n     * @param {string} validationOn .\n     * @returns {void} .\n     * @private\n     */\n    Dependency.prototype.validatePredecessor = function (childGanttRecord, previousValue, validationOn) {\n        if (!this.parent.isInPredecessorValidation) {\n            return;\n        }\n        if (childGanttRecord.ganttProperties.predecessor) {\n            var taskBarModule = this.parent.editModule.taskbarEditModule;\n            var ganttProp = void 0;\n            if (taskBarModule) {\n                ganttProp = taskBarModule.taskBarEditRecord;\n            }\n            var predecessorsCollection = childGanttRecord.ganttProperties.predecessor;\n            var parentGanttRecord = void 0;\n            var record = null;\n            var predecessor = void 0;\n            var successor = void 0;\n            var currentTaskId_3 = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId.toString()\n                : childGanttRecord.ganttProperties.rowUniqueID.toString();\n            var predecessors = predecessorsCollection.filter(function (data) {\n                if (data.to === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var successors = predecessorsCollection.filter(function (data) {\n                if (data.from === currentTaskId_3) {\n                    return data;\n                }\n                else {\n                    return null;\n                }\n            });\n            var parentRec = void 0;\n            for (var count = 0; count < predecessors.length; count++) {\n                predecessor = predecessors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n                record = this.parent.connectorLineModule.getRecordByID(predecessor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, predecessor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, predecessor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                var id = this.parent.viewType === 'ResourceView' ? childGanttRecord.ganttProperties.taskId\n                    : childGanttRecord.ganttProperties.rowUniqueID;\n                if ((id.toString() === predecessor.to\n                    || id.toString() === predecessor.from)\n                    && (!validationOn || validationOn === 'predecessor')) {\n                    this.handleTaskUpdate(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                        this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                    }\n                }\n            }\n            for (var count = 0; count < successors.length; count++) {\n                successor = successors[count];\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(successor.from);\n                record = this.parent.connectorLineModule.getRecordByID(successor.to);\n                if (record.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(record.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (parentGanttRecord.parentItem) {\n                    parentRec = this.parent.getTaskByUniqueID(parentGanttRecord.parentItem.uniqueID);\n                    if (this.parent.editModule['updateParentRecords'].indexOf(parentRec) === -1) {\n                        this.parent.editModule['updateParentRecords'].push(parentRec);\n                    }\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.allowTaskbarDragAndDrop && !(isNullOrUndefined(record) && isNullOrUndefined(parentGanttRecord))) {\n                    record = isNullOrUndefined(record) ? this.getRecord(parentGanttRecord, record, successor) : record;\n                    parentGanttRecord = isNullOrUndefined(parentGanttRecord) ?\n                        this.getRecord(parentGanttRecord, record, successor) : parentGanttRecord;\n                }\n                if (this.parent.isInPredecessorValidation && record.ganttProperties.isAutoSchedule) {\n                    this.parent.isValidationEnabled = true;\n                }\n                else {\n                    this.parent.isValidationEnabled = false;\n                }\n                if (validationOn !== 'predecessor' && this.parent.isValidationEnabled) {\n                    this.handleTaskUpdate(parentGanttRecord, record);\n                    if (this.parent.editModule['editedRecord'] && record) {\n                        var rootParent = parentGanttRecord.parentItem ?\n                            this.getRootParent(parentGanttRecord) : null;\n                        if (record.hasChildRecords && (!this.parent.editModule['editedRecord'].hasChildRecords || (!record.parentItem &&\n                            (!rootParent || (rootParent && rootParent.ganttProperties.taskId === this.parent.editModule['editedRecord'].ganttProperties.taskId)))) &&\n                            this.isValidatedParentTaskID !== record.ganttProperties.taskId) {\n                            this.updateChildItems(record);\n                            for (var i = 0; i < record.childRecords.length; i++) {\n                                var ganttProp_1 = record.childRecords[i].ganttProperties;\n                                if (this.isChildRecordValidated.indexOf(ganttProp_1.taskId) !== -1) {\n                                    return;\n                                }\n                                this.isChildRecordValidated.push(ganttProp_1.taskId);\n                                if (ganttProp_1.predecessor && ganttProp_1.predecessor.length > 0) {\n                                    for (var j = 0; j < ganttProp_1.predecessor.length; j++) {\n                                        var childRec = void 0;\n                                        if (ganttProp_1.predecessor[j].to !== record.ganttProperties.taskId.toString()) {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].to)];\n                                        }\n                                        else {\n                                            childRec = this.parent.flatData[this.parent.ids.indexOf(ganttProp_1.predecessor[j].from)];\n                                        }\n                                        if (childRec) {\n                                            this.validatePredecessor(childRec, [], '');\n                                            if (childRec.hasChildRecords && this.parent.editModule['editedRecord'].hasChildRecords) {\n                                                this.updateChildItems(childRec);\n                                            }\n                                            this.isValidatedParentTaskID = childRec.ganttProperties.taskId;\n                                        }\n                                    }\n                                }\n                            }\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                        if (this.parent.editModule['editedRecord'].hasChildRecords && !this.parent.editModule['editedRecord'].parentItem) {\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                }\n                else if (!record.ganttProperties.isAutoSchedule && this.parent.updateOffsetOnTaskbarEdit) {\n                    this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                    this.parent.connectorLineEditModule['calculateOffset'](record);\n                }\n                if (parentGanttRecord.expanded === false || record.expanded === false) {\n                    if (record) {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                    continue;\n                }\n                if (record) {\n                    if (this.parent.editModule.isFirstCall) {\n                        var taskIdsForView = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                        this.storeId = JSON.parse(JSON.stringify(taskIdsForView));\n                        this.parent.editModule.isFirstCall = false;\n                    }\n                    if (this.storeId) {\n                        var index = void 0;\n                        var idAsString = record[this.parent.taskFields.id].toString();\n                        if (this.parent.viewType === 'ResourceView') {\n                            var taskId = \"T\" + idAsString;\n                            index = this.storeId.includes(taskId) ? this.storeId.indexOf(taskId) : -1;\n                        }\n                        else {\n                            index = this.storeId.indexOf(idAsString);\n                        }\n                        if (index !== -1) {\n                            this.storeId = this.storeId.slice(0, index).concat(this.storeId.slice(index + 1));\n                            this.validatePredecessor(record, undefined, 'successor');\n                        }\n                    }\n                    else {\n                        this.validatePredecessor(record, undefined, 'successor');\n                    }\n                }\n            }\n            if (record && !record.hasChildRecords && record.parentItem &&\n                this.validatedParentIds.indexOf(record.parentItem.taskId) === -1) {\n                this.validatedParentIds.push(record.parentItem.taskId);\n            }\n            var validUpdate = true;\n            if (record && record.hasChildRecords && this.validatedParentIds.indexOf(record.ganttProperties.taskId.toString()) !== -1) {\n                validUpdate = false;\n            }\n            if (validUpdate) {\n                if (record && record.ganttProperties.taskId !== this.isValidatedParentTaskID && ganttProp) {\n                    if ((taskBarModule.taskBarEditAction !== 'ParentDrag' && taskBarModule.taskBarEditAction !== 'ChildDrag')) {\n                        if (!ganttProp.hasChildRecords && record.hasChildRecords) {\n                            this.updateChildItems(record);\n                            this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                        }\n                    }\n                    if (record.parentItem) {\n                        this.parent.dataOperation.updateParentItems(record, true);\n                        var parentData = this.parent.getParentTask(record.parentItem);\n                        var index = (this.storeId && this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) !== -1) ?\n                            this.storeId.indexOf(parentData[this.parent.taskFields.id].toString()) : -1;\n                        if (parentData.ganttProperties.predecessor && parentData.ganttProperties.predecessor.length > 0 && index !== -1) {\n                            for (var i = 0; i < parentData.ganttProperties.predecessor.length; i++) {\n                                if (parentData.ganttProperties.predecessor[i].to !==\n                                    parentData.ganttProperties.taskId.toString()) {\n                                    var childRec = this.parent.flatData[this.parent.ids.indexOf(parentData.ganttProperties.predecessor[i].to)];\n                                    if (childRec && childRec.parentItem) {\n                                        this.validateChildGanttRecord(record, childRec);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                else if (record && record.hasChildRecords && this.isValidatedParentTaskID !== record.ganttProperties.taskId && !ganttProp) {\n                    this.updateChildItems(record);\n                    this.isValidatedParentTaskID = record.ganttProperties.taskId;\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     */\n    Dependency.prototype.updateChildItems = function (ganttRecord) {\n        var _this = this;\n        if (ganttRecord.childRecords.length > 0 && this.validatedChildItems && this.validatedChildItems.length > 0) {\n            var isPresent = true;\n            isPresent = !ganttRecord.childRecords.some(function (record) {\n                return _this.validatedChildItems['includes'](record);\n            });\n            if (!isPresent) {\n                return;\n            }\n        }\n        var previousData = this.parent.previousRecords[ganttRecord.uniqueID];\n        var previousStartDate;\n        if (isNullOrUndefined(previousData) ||\n            (isNullOrUndefined(previousData) && !isNullOrUndefined(previousData.ganttProperties))) {\n            previousStartDate = new Date(ganttRecord.ganttProperties.startDate.getTime());\n        }\n        else {\n            if (!isNullOrUndefined(previousData.ganttProperties.startDate)) {\n                previousStartDate = new Date(previousData.ganttProperties.startDate.getTime());\n            }\n        }\n        var currentStartDate = ganttRecord.ganttProperties.startDate;\n        var childRecords = [];\n        var validStartDate;\n        var validEndDate;\n        var calcEndDate;\n        var isRightMove;\n        var durationDiff;\n        this.getUpdatableChildRecords(ganttRecord, childRecords);\n        if (childRecords.length === 0) {\n            return;\n        }\n        if (!isNullOrUndefined(previousStartDate) && !isNullOrUndefined(currentStartDate) &&\n            previousStartDate.getTime() > currentStartDate.getTime()) {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(currentStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(previousStartDate, ganttRecord.ganttProperties);\n            isRightMove = false;\n        }\n        else {\n            validStartDate = this.parent.dateValidationModule.checkStartDate(previousStartDate);\n            validEndDate = this.parent.dateValidationModule.checkEndDate(currentStartDate, ganttRecord.ganttProperties);\n            isRightMove = true;\n        }\n        //Get Duration\n        if (!isNullOrUndefined(validStartDate) && !isNullOrUndefined(validEndDate) && validStartDate.getTime() >= validEndDate.getTime()) {\n            durationDiff = 0;\n        }\n        else {\n            durationDiff = this.parent.dateValidationModule.getDuration(validStartDate, validEndDate, 'minute', true, false);\n        }\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                if (durationDiff > 0) {\n                    var startDate = isScheduledTask(childRecords[i].ganttProperties) ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.startDate ?\n                        childRecords[i].ganttProperties.startDate : childRecords[i].ganttProperties.endDate ?\n                        childRecords[i].ganttProperties.endDate : new Date(previousStartDate.toString());\n                    if (isRightMove) {\n                        calcEndDate = this.parent.dateValidationModule.getEndDate(this.parent.dateValidationModule.checkStartDate(startDate, childRecords[i].ganttProperties, childRecords[i].ganttProperties.isMilestone), durationDiff, 'minute', childRecords[i].ganttProperties, false);\n                    }\n                    else {\n                        calcEndDate = this.parent.dateValidationModule.getStartDate(this.parent.dateValidationModule.checkEndDate(startDate, childRecords[i].ganttProperties), durationDiff, 'minute', childRecords[i].ganttProperties);\n                    }\n                    this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n                else if (isNullOrUndefined(previousData)) {\n                    calcEndDate = previousStartDate;\n                    if (childRecords[i].ganttProperties.startDate.getTime() <= calcEndDate.getTime()) {\n                        this.calculateDateByRoundOffDuration(childRecords[i], calcEndDate);\n                    }\n                    if (this.parent.isOnEdit && this.validatedChildItems.indexOf(childRecords[i]) === -1) {\n                        this.validatedChildItems.push(childRecords[i]);\n                    }\n                }\n            }\n        }\n        if (childRecords.length) {\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n    };\n    /**\n     * To get updated child records.\n     *\n     * @param {IGanttData} parentRecord .\n     * @param {IGanttData} childLists .\n     * @returns {void} .\n     */\n    Dependency.prototype.getUpdatableChildRecords = function (parentRecord, childLists) {\n        var childRecords = parentRecord.childRecords;\n        for (var i = 0; i < childRecords.length; i++) {\n            if (childRecords[i].ganttProperties.isAutoSchedule) {\n                childLists.push(childRecords[i]);\n                if (childRecords[i].hasChildRecords) {\n                    this.getUpdatableChildRecords(childRecords[i], childLists);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData} data .\n     * @param {Date} newStartDate .\n     * @returns {void} .\n     */\n    Dependency.prototype.calculateDateByRoundOffDuration = function (data, newStartDate) {\n        var ganttRecord = data;\n        var taskData = ganttRecord.ganttProperties;\n        var projectStartDate = new Date(newStartDate.getTime());\n        if (!isNullOrUndefined(taskData.endDate) && isNullOrUndefined(taskData.startDate)) {\n            var endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, null);\n            this.parent.setRecordValue('endDate', this.parent.dateValidationModule.checkEndDate(endDate, ganttRecord.ganttProperties), taskData, true);\n        }\n        else {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, taskData, false), taskData, true);\n            if (!isNullOrUndefined(taskData.duration)) {\n                this.parent.dateValidationModule.calculateEndDate(ganttRecord);\n            }\n        }\n        this.parent.dataOperation.updateWidthLeft(data);\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n    };\n    Dependency.prototype.getRecord = function (parentGanttRecord, record, predecessor) {\n        var index;\n        var data;\n        if (isNullOrUndefined(record)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.to);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        else if (isNullOrUndefined(parentGanttRecord)) {\n            index = this.parent.editModule.taskbarEditModule.previousIds.indexOf(predecessor.from);\n            data = this.parent.editModule.taskbarEditModule.previousFlatData[index];\n        }\n        return data;\n    };\n    /**\n     * Method to get validate able predecessor alone from record\n     *\n     * @param {IGanttData} record .\n     * @returns {IPredecessor[]} .\n     * @private\n     */\n    Dependency.prototype.getValidPredecessor = function (record) {\n        var _this = this;\n        var validPredecessor = [];\n        if (!isNullOrUndefined(record)) {\n            var recPredecessor = record.ganttProperties.predecessor;\n            if (recPredecessor && recPredecessor.length > 0) {\n                validPredecessor = recPredecessor.filter(function (value) {\n                    var id = _this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId\n                        : record.ganttProperties.rowUniqueID;\n                    return value.from !== id.toString();\n                });\n            }\n        }\n        return validPredecessor;\n    };\n    return Dependency;\n}());\nexport { Dependency };\n","import { createElement, isNullOrUndefined, isObject, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isScheduledTask } from '../base/utils';\nimport { SvgRenderer } from '@syncfusion/ej2-svg-base';\n/**\n * To render the connector line in Gantt\n */\nvar ConnectorLine = /** @class */ (function () {\n    function ConnectorLine(ganttObj) {\n        this.transform = '';\n        this.connectorLinePath = '';\n        this.arrowPath = '';\n        this.taskLineValue = 0;\n        this.expandedRecords = [];\n        this.parent = ganttObj;\n        this.dependencyViewContainer =\n            createElement('div', {\n                className: cls.dependencyViewContainer\n            });\n        Object.assign(this.dependencyViewContainer.style, {\n            width: '100%',\n            height: '100%',\n            zIndex: 2,\n            position: 'absolute',\n            pointerEvents: 'none'\n        });\n        this.renderer = new SvgRenderer(this.parent.element.id);\n        this.initPublicProp();\n        this.svgObject = this.renderer.createSvg({\n            id: this.parent.element.id + '_svg'\n        });\n        this.svgObject.setAttribute('height', '100%');\n        this.svgObject.setAttribute('width', '100%');\n    }\n    /**\n     * To get connector line gap.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getconnectorLineGap = function (data) {\n        var width = 0;\n        width = (data.milestoneChild ?\n            ((this.parent.chartRowsModule.milestoneMarginTop / 2) + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            ((this.parent.chartRowsModule.taskBarMarginTop / 2) + (this.parent.chartRowsModule.taskBarHeight / 2)));\n        return width;\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.initPublicProp = function () {\n        this.lineColor = this.parent.connectorLineBackground;\n        this.lineStroke = (this.parent.connectorLineWidth) > 4 ? 4 : this.parent.connectorLineWidth;\n        this.createConnectorLineTooltipTable();\n    };\n    ConnectorLine.prototype.getTaskbarMidpoint = function (isMilestone) {\n        return Math.floor(isMilestone ?\n            (this.parent.chartRowsModule.milestoneMarginTop + (this.parent.chartRowsModule.milestoneHeight / 2)) :\n            (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + 1;\n    };\n    /**\n     * To connector line object collection.\n     *\n     * @param {IGanttData} parentGanttData .\n     * @param {IGanttData} childGanttData .\n     * @param {IPredecessor}  predecessor .\n     * @param {number} rowHeight .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineObject = function (parentGanttData, childGanttData, predecessor, rowHeight) {\n        if (rowHeight === void 0) { rowHeight = 0; }\n        var connectorObj = {};\n        var updatedRecords;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            updatedRecords = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            updatedRecords = this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport ?\n                this.parent.flatData : this.expandedRecords;\n        }\n        var parentIndex;\n        var childIndex;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var parentData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === parentGanttData.ganttProperties.taskId.toString();\n            })[0];\n            var childData = this.parent.flatData.filter(function (data) {\n                return data.ganttProperties.taskId.toString() === childGanttData.ganttProperties.taskId.toString();\n            })[0];\n            parentIndex = parentData.index;\n            childIndex = childData.index;\n        }\n        else {\n            parentIndex = updatedRecords.indexOf(parentGanttData);\n            childIndex = updatedRecords.indexOf(childGanttData);\n        }\n        var parentGanttRecord = parentGanttData.ganttProperties;\n        var childGanttRecord = childGanttData.ganttProperties;\n        var currentData;\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'] : this.parent.getExpandedRecords(this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData']);\n        }\n        else {\n            currentData = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n                this.parent.currentViewData : this.parent.expandedRecords;\n        }\n        connectorObj.parentIndexInCurrentView = currentData.indexOf(parentGanttData);\n        connectorObj.childIndexInCurrentView = currentData.indexOf(childGanttData);\n        var isVirtualScroll = this.parent.virtualScrollModule && this.parent.enableVirtualization;\n        if ((!isVirtualScroll && (connectorObj.parentIndexInCurrentView === -1 || connectorObj.childIndexInCurrentView === -1)) ||\n            connectorObj.parentIndexInCurrentView === -1 && connectorObj.childIndexInCurrentView === -1) {\n            return null;\n        }\n        else {\n            connectorObj.parentLeft = parentGanttRecord.isMilestone ?\n                parentGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : parentGanttRecord.left;\n            connectorObj.childLeft = childGanttRecord.isMilestone ?\n                childGanttRecord.left - (this.parent.chartRowsModule.milestoneHeight / 2) : childGanttRecord.left;\n            connectorObj.parentWidth = parentGanttRecord.width === 0 || parentGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : parentGanttRecord.width;\n            connectorObj.childWidth = childGanttRecord.width === 0 || childGanttRecord.isMilestone ?\n                (Math.floor(this.parent.chartRowsModule.milestoneHeight)) : childGanttRecord.width;\n            connectorObj.parentIndex = parentIndex;\n            connectorObj.childIndex = childIndex;\n            if (rowHeight === 0) {\n                var chartRows = this.parent.ganttChartModule.getChartRows();\n                connectorObj.rowHeight = !isNullOrUndefined(chartRows) && chartRows[0] && chartRows[0].offsetHeight;\n            }\n            else {\n                connectorObj.rowHeight = rowHeight;\n            }\n            connectorObj.type = predecessor.type;\n            var parentId = this.parent.viewType === 'ResourceView' ? parentGanttRecord.taskId : parentGanttRecord.rowUniqueID;\n            var childId = this.parent.viewType === 'ResourceView' ? childGanttRecord.taskId : childGanttRecord.rowUniqueID;\n            connectorObj.connectorLineId = 'parent' + parentId + 'child' + childId;\n            connectorObj.milestoneParent = parentGanttRecord.isMilestone ? true : false;\n            connectorObj.milestoneChild = childGanttRecord.isMilestone ? true : false;\n            connectorObj.parentEndPoint = connectorObj.parentLeft + connectorObj.parentWidth;\n            connectorObj.childEndPoint = connectorObj.childLeft + connectorObj.childWidth;\n            if (isNullOrUndefined(isScheduledTask(parentGanttRecord)) || isNullOrUndefined(isScheduledTask(childGanttRecord))) {\n                return null;\n            }\n            else {\n                return connectorObj;\n            }\n        }\n    };\n    /**\n     * To render connector line.\n     *\n     * @param {IConnectorLineObject} connectorLinesCollection .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.renderConnectorLines = function (connectorLinesCollection) {\n        var connectorLine;\n        var ariaConnector = [];\n        this.svgObject.innerHTML = '';\n        for (var index = 0; index < connectorLinesCollection.length; index++) {\n            connectorLine = this.getConnectorLineTemplate(connectorLinesCollection[index]);\n            this.svgObject.appendChild(connectorLine);\n            ariaConnector.push(connectorLinesCollection[index]);\n        }\n        var childNodes = this.parent.connectorLineModule.svgObject.childNodes;\n        for (var i = 0; i < childNodes.length; i++) {\n            var innerChild = childNodes[i].childNodes;\n            for (var j = 0; j < innerChild.length; j++) {\n                var ariaString = 'Connector Line ' + this.parent.connectorLineModule.generateAriaLabel(ariaConnector[i]);\n                innerChild[j].setAttribute('aria-label', ariaString);\n                innerChild[j].setAttribute('role', 'img');\n            }\n        }\n        this.parent.ganttChartModule.chartBodyContent.insertBefore(this.dependencyViewContainer, this.parent.ganttChartModule.chartBodyContent.lastChild);\n        this.dependencyViewContainer.appendChild(this.svgObject);\n        for (var i = 0; i < this.svgObject.children.length; i++) {\n            this.svgObject.children[i].children[0].setAttribute('tabindex', '-1');\n        }\n    };\n    /**\n     * To get parent position.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getParentPosition = function (data) {\n        if (data.parentIndex < data.childIndex) {\n            if (data.type === 'FF') {\n                if ((data.childLeft + data.childWidth) >= (data.parentLeft + data.parentWidth)) {\n                    return 'FFType2';\n                }\n                else {\n                    return 'FFType1';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth + 25))) {\n                if (data.type === 'FS') {\n                    return 'FSType1';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if (data.parentLeft > (data.childLeft + data.childWidth + 25)) {\n                    if (data.type === 'SF') {\n                        return 'SFType2';\n                    }\n                }\n                if (data.parentLeft > data.childLeft) {\n                    if (data.type === 'SS') {\n                        return 'SSType1';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType1';\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n            else if ((data.parentLeft) < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType2';\n                }\n                else if (data.type === 'SS') {\n                    return 'SSType2';\n                }\n                else if (data.type === 'SF') {\n                    return 'SFType1';\n                }\n            }\n        }\n        else if (data.parentIndex > data.childIndex) {\n            if ((data.parentLeft < data.childLeft) && (data.childLeft > (data.parentLeft + data.parentWidth))) {\n                if (data.type === 'FS') {\n                    if (30 >= (data.childLeft - (data.milestoneParent ?\n                        (data.parentLeft + data.parentWidth + 4) : (data.parentLeft + data.parentWidth)))) {\n                        return 'FSType3';\n                    }\n                    else {\n                        return 'FSType4';\n                    }\n                }\n                if (((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth))) {\n                    if (data.type === 'SS') {\n                        return 'SSType4';\n                    }\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                }\n            }\n            else if ((data.parentLeft < data.childLeft && (data.childLeft < (data.parentLeft + data.parentWidth)))\n                || (data.parentLeft === data.childLeft || data.parentLeft > data.childLeft)) {\n                if ((data.childLeft + data.childWidth) <= (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType3';\n                    }\n                    if (data.type === 'SF') {\n                        if ((data.childLeft + data.childWidth + 25) < (data.parentLeft)) {\n                            return 'SFType3';\n                        }\n                        else {\n                            return 'SFType4';\n                        }\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                else if ((data.childLeft + data.childWidth) > (data.parentLeft + data.parentWidth)) {\n                    if (data.type === 'FF') {\n                        return 'FFType4';\n                    }\n                    if (data.type === 'SF') {\n                        return 'SFType4';\n                    }\n                    if (data.type === 'SS') {\n                        if (data.childLeft <= data.parentLeft) {\n                            return 'SSType3';\n                        }\n                        else {\n                            return 'SSType4';\n                        }\n                    }\n                }\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n            }\n            else if (data.parentLeft < data.childLeft) {\n                if (data.type === 'FS') {\n                    return 'FSType3';\n                }\n                if (data.type === 'SS') {\n                    return 'SSType4';\n                }\n                if (data.type === 'FF') {\n                    return 'FFType4';\n                }\n                if (data.type === 'SF') {\n                    return 'SFType4';\n                }\n            }\n        }\n        return null;\n    };\n    /**\n     * To get line height.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getHeightValue = function () {\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n        else {\n            return (this.parentRowIndexHeight) > (this.childRowIndexHeight) ?\n                ((this.parentRowIndexHeight) - (this.childRowIndexHeight)) :\n                ((this.childRowIndexHeight) - (this.parentRowIndexHeight));\n        }\n    };\n    /**\n     * To get sstype2 inner element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementWidthSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    /**\n     * To get sstype2 inner element left.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerElementLeftSSType2 = function (data) {\n        if (data.parentLeft === data.childLeft) {\n            return (data.parentLeft - 20);\n        }\n        return (data.parentLeft - 10);\n    };\n    /**\n     * To get sstype2 inner child element width.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getInnerChildWidthSSType2 = function (data) {\n        if ((data.parentLeft + data.parentWidth) < data.childLeft) {\n            return 10;\n        }\n        if (data.parentLeft === data.childLeft) {\n            return 20;\n        }\n        if ((data.parentLeft + data.parentWidth) >= data.childLeft) {\n            return 10;\n        }\n        return (data.childLeft - data.parentLeft);\n    };\n    // private getBorderStyles(cssType: string, unit: number): string {\n    //     const borderWidth: string = 'border-' + cssType + '-width:' + unit + 'px;';\n    //     const borderStyle: string = 'border-' + cssType + '-style:solid;';\n    //     const borderColor: string = !isNullOrUndefined(this.lineColor) ? 'border-' + cssType + '-color:' + this.lineColor + ';' : '';\n    //     return (borderWidth + borderStyle + borderColor);\n    // }\n    ConnectorLine.prototype.calculateAdjustments = function (rowHeight, isMilestone, type) {\n        var taskbarHeightValue = this.parent.renderBaseline ? 0.45 : ((!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 0.7 : 0.62);\n        var defaultTaskbarHeight = Math.floor(this.parent.rowHeight * taskbarHeightValue);\n        if (((isNullOrUndefined(this.parent.taskbarHeight) && rowHeight <= 36) || (!isNullOrUndefined(this.parent.taskbarHeight) &&\n            this.parent.taskbarHeight <= defaultTaskbarHeight)) || !isMilestone) {\n            return {\n                adjustY1: 0,\n                adjustX: 0,\n                adjustY2: 0,\n                adjustZ: 0\n            };\n        }\n        else {\n            // Calculate adjustments dynamically for rowHeight greater than 36\n            var divisorY1 = ((type === 'FSType2' || type === 'FSType3' || type === 'FSType4' || type === 'SSType1' || type === 'SSType2' || type === 'SSType4' || type === 'SFType2')) ? 12 : 24;\n            var adjustY1 = (rowHeight - 36) / divisorY1;\n            var adjustX = -(rowHeight - 36) / 4;\n            var adjustZ = -2 * (rowHeight - 36) / 24;\n            if (rowHeight <= 36) {\n                return {\n                    adjustY1: 0,\n                    adjustX: 0,\n                    adjustY2: 0,\n                    adjustZ: 0\n                };\n            }\n            return {\n                adjustY1: adjustY1,\n                adjustX: adjustX,\n                adjustZ: adjustZ\n            };\n        }\n    };\n    ConnectorLine.prototype.shouldAdjustForBaseline = function (data, type) {\n        if (!this.parent.renderBaseline || !(data.milestoneParent || data.milestoneChild) ||\n            (data.milestoneParent && data.milestoneChild)) {\n            return 0;\n        }\n        switch (type) {\n            case 'FSType1':\n            case 'FSType2':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType3':\n            case 'FFType2':\n            case 'SFType2':\n            case 'SSType2':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'FSType4':\n            case 'FFType3':\n            case 'SFType4':\n            case 'FFType4':\n            case 'SFType3':\n            case 'SFType1':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType3':\n                if (data.milestoneParent) {\n                    return -this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n            case 'SSType1':\n            case 'FFType1':\n                if (data.milestoneParent) {\n                    return this.parent.chartRowsModule.taskBarMarginTop;\n                }\n                else {\n                    return -this.parent.chartRowsModule.milestoneMarginTop / 2;\n                }\n            default:\n                return 0;\n        }\n    };\n    // Method to fetch the row element height from top row to the parent row index, child row index , last row index\n    ConnectorLine.prototype.updateParentChildRowsHeight = function (data) {\n        var lastRowIndex = this.parent.currentViewData.length - 1;\n        var rowElements = this.parent.ganttChartModule.getChartRows();\n        this.parentRowIndexHeight = data.parentIndexInCurrentView * data.rowHeight;\n        this.childRowIndexHeight = data.childIndexInCurrentView * data.rowHeight;\n        this.lastRowIndexHeight = lastRowIndex * data.rowHeight;\n        var totalDisplayedRows = 0;\n        if (!this.parent.allowTaskbarOverlap && this.parent.enableMultiTaskbar) {\n            this.parentRowIndexHeight = this.childRowIndexHeight = this.lastRowIndexHeight = 0;\n            for (var i = 0; i < lastRowIndex; i++) {\n                var rowElement = rowElements[i];\n                if (rowElement && rowElement.style.display !== 'none') {\n                    if (totalDisplayedRows < data.parentIndexInCurrentView) {\n                        this.parentRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    if (totalDisplayedRows < data.childIndexInCurrentView) {\n                        this.childRowIndexHeight += rowElements[i]['offsetHeight'];\n                    }\n                    this.lastRowIndexHeight += rowElements[i]['offsetHeight'];\n                    totalDisplayedRows++;\n                }\n            }\n        }\n    };\n    /**\n     * To get connector line template.\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {void}\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTemplate = function (data) {\n        var setInnerChildWidthSSType2 = this.getInnerChildWidthSSType2(data);\n        var setInnerElementWidthSSType2 = this.getInnerElementWidthSSType2(data);\n        var setInnerElementLeftSSType2 = this.getInnerElementLeftSSType2(data);\n        this.updateParentChildRowsHeight(data);\n        var height = this.getHeightValue();\n        var isMilestone = data.milestoneChild ? true : false;\n        var connectorLine = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPosition = this.getPosition(data, this.getParentPosition(data), height);\n        var rowPositionHeight = rowPosition.top;\n        var isMilestoneValue = 0;\n        if (this.parent.renderBaseline) {\n            var modifiedValue = (this.parent.rowHeight / 36) * 5;\n            isMilestoneValue = (data.milestoneParent && data.milestoneChild) ? 0 : data.milestoneParent ? -modifiedValue :\n                data.milestoneChild ? modifiedValue : 0;\n        }\n        var heightValue = connectorLine.height;\n        var borderTopWidth = 0;\n        var addTop = 0;\n        var parentOverlapTopValue = 0;\n        var childOverlapTopValue = 0;\n        var count = 0;\n        if (this.parent.showOverAllocation && !this.parent.allowTaskbarOverlap) {\n            for (var i = 0; i < this.parent.currentViewData.length; i++) {\n                if (this.parent.getRowByIndex(i).style.display !== 'none') {\n                    if (count < data.parentIndex) {\n                        count++;\n                        parentOverlapTopValue = parentOverlapTopValue + this.parent.getRowByIndex(i).offsetHeight;\n                    }\n                }\n            }\n            count = 0;\n            for (var j = 0; j < this.parent.currentViewData.length; j++) {\n                if (this.parent.getRowByIndex(j).style.display !== 'none') {\n                    if (count < data.childIndex) {\n                        count++;\n                        childOverlapTopValue = childOverlapTopValue + this.parent.getRowByIndex(j).offsetHeight;\n                    }\n                }\n            }\n        }\n        if (this.parent.currentViewData[data.parentIndex] && this.parent.currentViewData[data.childIndex] &&\n            this.parent.allowParentDependency) {\n            var fromRecordIsParent = this.parent.currentViewData[data.parentIndex].hasChildRecords;\n            var toRecordIsParent = this.parent.currentViewData[data.childIndex].hasChildRecords;\n            var fromRecordIsManual = this.parent.currentViewData[data.parentIndex].ganttProperties.isAutoSchedule;\n            var toRecordIsManual = this.parent.currentViewData[data.childIndex].ganttProperties.isAutoSchedule;\n            var isValid = true;\n            if (((fromRecordIsParent && fromRecordIsManual) && !toRecordIsParent) || ((toRecordIsParent && toRecordIsManual) &&\n                !fromRecordIsParent) || (fromRecordIsParent && fromRecordIsManual && toRecordIsManual && toRecordIsParent)\n                || (!fromRecordIsParent && !toRecordIsParent)) {\n                isValid = false;\n            }\n            if (isValid) {\n                if (((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    addTop = -11;\n                }\n                else if (!((fromRecordIsParent && !fromRecordIsManual) && (toRecordIsParent && !toRecordIsManual))) {\n                    if (data.childIndex > data.parentIndex) {\n                        if (!fromRecordIsParent && toRecordIsParent) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                    else {\n                        if ((fromRecordIsParent && !toRecordIsParent)) {\n                            borderTopWidth = -11;\n                        }\n                        else {\n                            borderTopWidth = 11;\n                            addTop = -11;\n                        }\n                    }\n                }\n                if (this.parent.currentViewData[data.parentIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = -11;\n                        borderTopWidth = 12;\n                    }\n                    else if (data.type === 'SS' || data.type === 'FF') {\n                        addTop = -5;\n                    }\n                }\n                else if (this.parent.currentViewData[data.childIndex].ganttProperties.isMilestone) {\n                    if (data.parentIndex > data.childIndex) {\n                        addTop = 5;\n                        borderTopWidth = -10;\n                    }\n                    else if (data.parentIndex < data.childIndex) {\n                        if (data.type === 'SS' || data.type === 'FF') {\n                            addTop = -10;\n                        }\n                    }\n                }\n                else {\n                    if (data.parentIndex < data.childIndex && fromRecordIsManual && !toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                    else if (data.childIndex < data.parentIndex && !fromRecordIsManual && toRecordIsManual) {\n                        addTop = 0;\n                        borderTopWidth = -11;\n                    }\n                }\n                rowPositionHeight += addTop;\n            }\n        }\n        var predType = this.getParentPosition(data);\n        if (predType) {\n            // Create the group element\n            var type = this.getParentPosition(data);\n            var rowHeight1 = this.parent.rowHeight;\n            var adjustments = this.calculateAdjustments(rowHeight1, isMilestone, type);\n            this.transform = this.parent.enableRtl ? \"translate(\" + (this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth) + \", 0) scale(-1, 1)\" : '';\n            this.connectorId = 'ConnectorLine' + data.connectorLineId;\n            this.groupObject = this.renderer.createGroup({\n                id: this.connectorId,\n                transform: this.transform,\n                style: 'pointer-events: stroke',\n                class: cls.connectorLineContainer\n            });\n            //  Create the path element for the connector line\n            this.connectorPath = this.renderer.drawPath({\n                class: cls.connectorLineSVG,\n                d: this.connectorLinePath,\n                fill: 'transparent',\n                'stroke-width': this.lineStroke\n            });\n            // Create the path element for the arrow\n            this.arrowlinePath = this.renderer.drawPath({\n                d: this.arrowPath,\n                class: cls.connectorLineArrow\n            });\n            var outlineColor = (this.lineColor) && !(this.parent.enableCriticalPath) ? this.lineColor : '';\n            this.connectorPath.style.stroke = outlineColor;\n            this.arrowlinePath.style.fill = outlineColor;\n            // Append the path element to the group element\n            this.groupObject.appendChild(this.connectorPath);\n            this.groupObject.appendChild(this.arrowlinePath);\n            var adjustedValue = this.shouldAdjustForBaseline(data, predType);\n            if (predType === 'FSType1') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneParent ? -1 : (data.milestoneChild ? -1 : 0));\n                this.x2 = data.milestoneParent ?\n                    ((((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10) + 1) :\n                    (((data.childLeft - (data.parentLeft + data.parentWidth + 10)) + this.lineStroke) - 10);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + (this.y1 - adjustedValue) + ' L ' + ((this.x1 + this.x2) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + 4) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType2') {\n                this.x1 = data.parentLeft;\n                this.x2 = data.parentWidth + (data.milestoneParent ? -1 : 0);\n                this.x3 = this.x2 + (data.milestoneParent ? 11 : 10);\n                this.x4 = data.parentWidth - ((data.parentEndPoint - data.childLeft) + 20);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = (!this.parent.allowTaskbarOverlap ? childOverlapTopValue :\n                    (this.y1 + this.y2 - ((this.y1 + this.y2) % data.rowHeight)));\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1 - adjustedValue) + ' ' + ' L ' + (this.x1 + this.x3) + ' ' + (this.y1 - adjustedValue) + ' L ' + (this.x1 + this.x3) + ' ' + this.y4 +\n                    ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + this.y4 + ' L ' + ((this.x1 + this.x4) + adjustments['adjustZ']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) + ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x4 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x4 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + this.y2 + this.y3 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType3') {\n                this.taskLineValue = data.milestoneChild ? 1 : 0;\n                this.point1 = rowPositionHeight;\n                this.x1 = (data.childLeft + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0)) - 20;\n                this.x2 = (data.parentEndPoint - data.childLeft) + 30;\n                this.y1 = this.point1;\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.getconnectorLineGap(data) - this.lineStroke +\n                    this.taskLineValue;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                this.connectorLinePath = 'M ' + (this.x1 + 12) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y4 + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 + this.y3) + ' L ' + (this.x1 + this.x2 - 12) + ' ' + (this.y2 + this.y3);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y1 - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke) - adjustedValue) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke - adjustedValue) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'FSType4') {\n                this.point1 = rowPositionHeight;\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint + (data.milestoneChild ? -1 : 0) + (data.milestoneParent ? 1 : 0);\n                this.x2 = data.childLeft - data.parentEndPoint - 20;\n                this.y1 = this.point1 + (data.milestoneChild ? -1 : 0);\n                this.y2 = this.point1 + heightValue + borderTopWidth - this.lineStroke + 1 + this.taskLineValue;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 12) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y1) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 20) + adjustments['adjustX']) + ' ' + ((this.y1) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x2 + 12) + adjustments['adjustX']) + ' ' + ((this.y1 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SSType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = data.childLeft - data.parentLeft;\n                this.y1 = this.point2 + (data.milestoneChild ? 1 : 0);\n                this.y2 = (!data.milestoneChild ? (this.parent.chartRowsModule.milestoneMarginTop +\n                    (this.parent.chartRowsModule.milestoneHeight / 2)) :\n                    (this.parent.chartRowsModule.taskBarMarginTop + (this.parent.chartRowsModule.taskBarHeight / 2))) + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2) + ' L ' + (this.x1 + 10) + ' ' + (this.y2);\n                this.arrowPath = 'M ' + ((this.x1 + this.x2 + 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + this.x2) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType3') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - (this.lineStroke - 1);\n                this.x1 = data.childLeft - 20;\n                this.y1 = rowPositionHeight;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) +\n                    ' L ' + this.x1 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x1 + this.x2) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SSType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 2 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = setInnerElementLeftSSType2;\n                this.x2 = setInnerChildWidthSSType2 + 1;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + setInnerElementWidthSSType2 + 8) + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + setInnerElementWidthSSType2) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'SSType1') {\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.x1 = data.childLeft - 20;\n                this.x2 = data.parentLeft - data.childLeft + 21;\n                this.y1 = rowPositionHeight;\n                this.y2 = this.y1 + this.point1;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2) + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x1 + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1 + 20) + adjustments['adjustX']) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 12) + adjustments['adjustX']) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.childEndPoint;\n                this.x2 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.x3 = data.milestoneParent ? 22 : 21;\n                this.x4 = data.milestoneChild ? 4 : 8;\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x1 + this.x4) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x1) + adjustedX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? 1 : 0);\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneParent ? 22 : 21);\n                this.x3 = data.childEndPoint + (data.milestoneChild ? 9 : 8);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x1 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x2 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + this.x3 + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x3 - 8) + arrowX) + ' ' + ((this.y1 + this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + (this.x3 + arrowX) + ' ' + ((this.y1 + this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            if (predType === 'FFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 4 : 8);\n                this.x3 = data.parentEndPoint - data.childEndPoint + (data.milestoneChild ? 16 : 10);\n                this.x4 = data.parentEndPoint + (data.milestoneParent ? -1 : 0);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1) + ' L ' + (this.x2 + this.x3) + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x4 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'FFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.parentEndPoint;\n                this.x2 = data.childEndPoint + (data.milestoneChild ? 7 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 12 : 11);\n                this.y1 = rowPositionHeight;\n                this.y2 = heightValue + this.taskLineValue + borderTopWidth - this.lineStroke + 1;\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1 + this.y2 - adjustedValue) +\n                    ' L ' + this.x1 + ' ' + (this.y1 + this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType4') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : (data.milestoneChild ? -1 : 0);\n                this.point1 = (this.taskLineValue + heightValue + borderTopWidth - this.getconnectorLineGap(data) - (this.lineStroke - 1));\n                this.point2 = rowPositionHeight;\n                this.x1 = data.parentLeft - 10;\n                this.x2 = this.x1 + ((data.childEndPoint - data.parentLeft) + 18);\n                this.x3 = this.x2 + (data.milestoneChild ? 16 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + this.point1;\n                this.y3 = this.getconnectorLineGap(data);\n                this.y4 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + ((this.y1) - adjustments['adjustY1']) + ' L ' + this.x3 + ' ' + this.y4 + ' L ' + this.x1 + ' ' + this.y4 +\n                    ' L ' + this.x1 + ' ' + ((this.y2 + this.y3) - adjustedValue) + ' L ' + (this.x1 + 11) + ' ' + ((this.y2 + this.y3) - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + arrowX) + ' ' + ((this.y1) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 - (4 + this.lineStroke)) - adjustments['adjustY1']) +\n                    ' L ' + (this.x2 + arrowX) + ' ' + ((this.y1 + 4 + this.lineStroke) - adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType3') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.point1 = (data.parentLeft - (data.childEndPoint + (data.milestoneParent ? 23 : 20))) + 1;\n                this.point2 = rowPositionHeight;\n                this.x1 = data.childEndPoint;\n                this.x2 = this.x1 + (data.milestoneChild ? 9 : 8);\n                this.x3 = this.x2 + (data.milestoneChild ? 17 : 11);\n                this.y1 = this.point2;\n                this.y2 = this.y1 + heightValue + borderTopWidth - (this.lineStroke - 1) + this.taskLineValue;\n                this.connectorLinePath = 'M ' + this.x2 + ' ' + (this.y1) + ' L ' + this.x3 + ' ' + (this.y1) +\n                    ' L ' + this.x3 + ' ' + (this.y2 - adjustedValue) + ' L ' + (this.x3 + this.point1) + ' ' + (this.y2 - adjustedValue);\n                this.arrowPath = 'M ' + ((this.x2 - 8) + adjustedX) + ' ' + (this.y1) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 - (4 + this.lineStroke)) +\n                    ' L ' + (this.x2 + adjustedX) + ' ' + (this.y1 + 4 + this.lineStroke) + ' Z';\n            }\n            if (predType === 'SFType1') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : data.milestoneChild ? 1 : 0;\n                this.point1 = heightValue + borderTopWidth - this.getconnectorLineGap(data) + this.taskLineValue - this.lineStroke;\n                this.point2 = this.getconnectorLineGap(data);\n                this.x1 = data.parentLeft - 10;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.childEndPoint - data.parentLeft) + 31;\n                this.y2 = this.y1 + this.point1;\n                this.x3 = (data.childEndPoint - data.parentLeft) + 18;\n                this.y3 = this.y2 - (this.y2 % data.rowHeight);\n                var arrowX = this.parent.renderBaseline ? 0 : adjustedX;\n                this.connectorLinePath = 'M ' + (this.x1 + 11) + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + (this.y1 - adjustedValue) + ' L ' + this.x1 + ' ' + this.y3 +\n                    ' L ' + (this.x1 + this.x2) + ' ' + this.y3 + ' L ' + (this.x1 + this.x2) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) + ' L ' + (this.x1 + this.x3) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']);\n                this.arrowPath = 'M ' + ((this.x1 + this.x3 - 8) + arrowX) + ' ' + ((this.y2 + this.point2) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 - (4 + this.lineStroke)) + adjustments['adjustY1']) +\n                    ' L ' + ((this.x1 + this.x3) + arrowX) + ' ' + ((this.y2 + this.point2 + 4 + this.lineStroke) + adjustments['adjustY1']) + ' Z';\n            }\n            if (predType === 'SFType2') {\n                var adjustedX = adjustments['adjustX'] !== 0 ? adjustments['adjustX'] + 11 : adjustments['adjustX'];\n                this.taskLineValue = this.parent.renderBaseline ? this.taskLineValue : 0;\n                this.x1 = data.childEndPoint;\n                this.y1 = rowPositionHeight;\n                this.x2 = (data.parentLeft - data.childEndPoint);\n                this.y2 = this.y1 + heightValue + this.taskLineValue + borderTopWidth - this.lineStroke;\n                this.connectorLinePath = 'M ' + (this.x1 + this.x2 + 1) + ' ' + (this.y1) + ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y1) +\n                    ' L ' + (this.x1 + this.x2 - 10) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue) + ' L ' + (this.x1 + 8) + ' ' + (this.y2 + adjustments['adjustY1'] - adjustedValue);\n                this.arrowPath = 'M ' + (this.x1 + adjustedX) + ' ' + ((this.y2) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 - (4 + this.lineStroke)) + adjustments['adjustY1'] - adjustedValue) +\n                    ' L ' + ((this.x1 + 8) + adjustedX) + ' ' + ((this.y2 + 4 + this.lineStroke) + adjustments['adjustY1'] - adjustedValue) + ' Z';\n            }\n            this.connectorPath.setAttribute('d', this.connectorLinePath);\n            this.arrowlinePath.setAttribute('d', this.arrowPath);\n        }\n        return this.groupObject;\n    };\n    /**\n     * @param {IConnectorLineObject} data .\n     * @param {string} type .\n     * @param {number} heightValue .\n     * @returns {number} .\n     * @private\n     */\n    ConnectorLine.prototype.getPosition = function (data, type, heightValue) {\n        var topPosition = 0;\n        var lineHeight = 0;\n        var isMilestoneParent = data.milestoneParent ? true : false;\n        var isMilestone = data.milestoneChild ? true : false;\n        var midPointParent = this.getTaskbarMidpoint(isMilestoneParent) - (this.lineStroke - 1);\n        var midPoint = this.getTaskbarMidpoint(isMilestone) - (this.lineStroke - 1);\n        var isParentIndex = data.parentIndexInCurrentView !== -1;\n        var isChildIndex = data.childIndexInCurrentView !== -1;\n        if (type === 'SSType1' || type === 'SSType2' || type === 'FFType1' || type === 'FFType2' || type === 'SFType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPointParent : (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SSType3' || type === 'SSType4' || type === 'FSType4' || type === 'FFType3' ||\n            type === 'FFType4' || type === 'SFType4' || type === 'SFType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        else if (type === 'FSType3') {\n            topPosition = isChildIndex ? (this.childRowIndexHeight) + midPointParent : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isParentIndex ?\n                (this.parentRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPointParent;\n        }\n        else if (type === 'SFType1' || type === 'FSType1' || type === 'FSType2') {\n            topPosition = isParentIndex ? (this.parentRowIndexHeight) + midPoint : 0;\n            lineHeight = (isParentIndex && isChildIndex) ? heightValue : isChildIndex ?\n                (this.childRowIndexHeight) + midPoint :\n                (this.lastRowIndexHeight) + midPoint;\n        }\n        return { top: topPosition, height: lineHeight };\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.createConnectorLineTooltipTable = function () {\n        this.tooltipTable = createElement('table', { className: '.e-tooltiptable', styles: 'margin-top:0px', attrs: { 'cellspacing': '2px', 'cellpadding': '2px' } });\n        var tooltipBody = createElement('tbody');\n        tooltipBody.innerHTML = '';\n        this.tooltipTable.appendChild(tooltipBody);\n    };\n    /**\n     * @param {string} fromTaskName .\n     * @param {string} fromPredecessorText .\n     * @param {string} toTaskName .\n     * @param {string} toPredecessorText .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.getConnectorLineTooltipInnerTd = function (fromTaskName, fromPredecessorText, toTaskName, toPredecessorText) {\n        var _this = this;\n        var tbody = document.createElement('tbody');\n        var createRow = function (id, label, taskName, predecessorText) {\n            var tr = document.createElement('tr');\n            tr.id = id;\n            var td1 = document.createElement('td');\n            td1.style.padding = '2px';\n            td1.textContent = _this.parent.localeObj.getConstant(label);\n            var td2 = document.createElement('td');\n            td2.textContent = taskName;\n            var td3 = document.createElement('td');\n            td3.style.padding = '2px';\n            td3.textContent = _this.parent.localeObj.getConstant(predecessorText);\n            tr.append(td1, td2, td3);\n            return tr;\n        };\n        tbody.appendChild(createRow('fromPredecessor', 'from', fromTaskName, fromPredecessorText));\n        tbody.appendChild(createRow('toPredecessor', 'to', toTaskName || '', toPredecessorText || ''));\n        return tbody;\n    };\n    /**\n     * Generate aria-label for connectorline\n     *\n     * @param {IConnectorLineObject} data .\n     * @returns {string} .\n     * @private\n     */\n    ConnectorLine.prototype.generateAriaLabel = function (data) {\n        var type = data.type;\n        var updatedRecords = this.expandedRecords;\n        var fromName = updatedRecords[data.parentIndex].ganttProperties.taskName;\n        var toName = updatedRecords[data.childIndex].ganttProperties.taskName;\n        var start = this.parent.localeObj.getConstant('start');\n        var finish = this.parent.localeObj.getConstant('finish');\n        var value = '';\n        if (type === 'FS') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + start;\n        }\n        else if (type === 'FF') {\n            value = fromName + ' ' + finish + ' to ' + toName + ' ' + finish;\n        }\n        else if (type === 'SS') {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + start;\n        }\n        else {\n            value = fromName + ' ' + start + ' to ' + toName + ' ' + finish;\n        }\n        return value;\n    };\n    /**\n     * To get the record based on the predecessor value\n     *\n     * @param {string} id .\n     * @returns {IGanttData} .\n     * @private\n     */\n    ConnectorLine.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        if (this.parent.pdfExportModule && this.parent.pdfExportModule.isPdfExport && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n            var a = this.parent.pdfExportModule.helper.beforeSinglePageExport['cloneFlatData'].filter(function (data) {\n                return data.ganttProperties.taskId.toString() === id.toString();\n            })[0];\n            return a;\n        }\n        else if (this.parent.viewType === 'ResourceView') {\n            return this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id.toString())];\n        }\n        else {\n            return this.parent.getRecordByID(id);\n        }\n    };\n    /**\n     * Method to remove connector line from DOM\n     *\n     * @param {IGanttData[] | object} records .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removePreviousConnectorLines = function (records) {\n        var isObjectType;\n        if (isObject(records) === true) {\n            isObjectType = true;\n        }\n        else {\n            isObjectType = false;\n        }\n        var length = isObjectType ? Object.keys(records).length : records.length;\n        var keys = Object.keys(records);\n        for (var i = 0; i < length; i++) {\n            var data = void 0;\n            if (isObjectType) {\n                var uniqueId = keys[i];\n                data = records[uniqueId];\n            }\n            else {\n                data = records[i];\n            }\n            var predecessors = data.ganttProperties && data.ganttProperties.predecessor;\n            if (predecessors && predecessors.length > 0) {\n                for (var pre = 0; pre < predecessors.length; pre++) {\n                    var lineId = 'parent' + predecessors[pre].from + 'child' + predecessors[pre].to;\n                    this.removeConnectorLineById(lineId);\n                }\n            }\n        }\n    };\n    /**\n     * @param {string} id .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLine.prototype.removeConnectorLineById = function (id) {\n        var element = this.parent.connectorLineModule.dependencyViewContainer.querySelector('#ConnectorLine' + id.replace(/([.])/g, '\\\\$1'));\n        if (!isNullOrUndefined(element)) {\n            remove(element);\n        }\n    };\n    return ConnectorLine;\n}());\nexport { ConnectorLine };\n","import { createElement, isNullOrUndefined, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { Splitter as SplitterLayout } from '@syncfusion/ej2-layouts';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * Splitter module is used to define the splitter position in Gantt layout.\n */\nvar Splitter = /** @class */ (function () {\n    function Splitter(ganttObj) {\n        this.isSplitterResized = false;\n        this.parent = ganttObj;\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.renderSplitter = function () {\n        var _this = this;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.parent.splitterElement = createElement('div', { className: cls.splitter });\n        this.parent.treeGridPane = createElement('div', { className: cls.treeGridPane });\n        this.parent.chartPane = createElement('div', { className: cls.ganttChartPane });\n        addClass([this.parent.chartPane], 'e-droppable');\n        if (this.parent.enableRtl) {\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n        }\n        else {\n            this.parent.splitterElement.appendChild(this.parent.treeGridPane);\n            this.parent.splitterElement.appendChild(this.parent.chartPane);\n        }\n        this.splitterObject = new SplitterLayout({\n            height: null,\n            width: this.parent.ganttWidth.toString(),\n            enableRtl: this.parent.enableRtl,\n            separatorSize: this.parent.splitterSettings.separatorSize,\n            paneSettings: [\n                {\n                    resizable: true,\n                    size: splitterPosition,\n                    min: this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum)\n                },\n                {\n                    resizable: true\n                }\n            ],\n            orientation: 'Horizontal',\n            resizeStart: function (args) {\n                if (_this.parent.contextMenuModule && _this.parent.contextMenuModule.isOpen) {\n                    _this.parent.contextMenuModule.contextMenu.close();\n                }\n                var leftPane = args.pane[0];\n                var rightPane = args.pane[1];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterPreviousPositionChart = rightPane.scrollWidth + 1 + 'px';\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResizeStart', args, function (resizeStartArgs) {\n                    callBackPromise.resolve(resizeStartArgs);\n                });\n                return callBackPromise;\n            },\n            resizing: function (args) {\n                _this.parent.trigger('splitterResizing', args);\n                if (_this.parent.timelineModule.isZoomToFit) {\n                    _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                }\n            },\n            resizeStop: function (args) {\n                _this.parent['calculateDimensions']();\n                _this.isSplitterResized = true;\n                var leftPane = args.pane[0];\n                _this.splitterPreviousPositionGrid = leftPane.scrollWidth + 1 + 'px';\n                _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                var callBackPromise = new Deferred();\n                _this.parent.trigger('splitterResized', args, function (splitterResizedArgs) {\n                    if (splitterResizedArgs.cancel === true) {\n                        _this.splitterObject.paneSettings[0].size = null;\n                        _this.splitterObject.paneSettings[0].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionGrid);\n                        _this.parent.splitterSettings.position = _this.splitterObject.paneSettings[0].size;\n                        _this.splitterObject.paneSettings[1].size = null;\n                        _this.splitterObject.paneSettings[1].size = _this.getSpliterPositionInPercentage(_this.splitterPreviousPositionChart);\n                    }\n                    if (isNullOrUndefined(_this.parent.projectEndDate)) {\n                        _this.parent.timelineModule.updateTimelineAfterZooming(_this.parent.timelineModule.timelineEndDate, true);\n                    }\n                    callBackPromise.resolve(splitterResizedArgs);\n                });\n                return callBackPromise;\n            }\n        });\n        this.parent.element.appendChild(this.parent.splitterElement);\n        this.splitterObject.appendTo(this.parent.splitterElement);\n        var splitterLeftPane = this.splitterObject.element.querySelector('.e-split-bar');\n        if (splitterLeftPane) {\n            var numericValue = parseFloat(splitterPosition.replace('%', ''));\n            var ariaValueNow = Math.min(100, Math.max(0, numericValue));\n            splitterLeftPane.setAttribute('aria-valuenow', ariaValueNow.toString());\n        }\n    };\n    /**\n     * @param {SplitterSettingsModel} splitter .\n     * @returns {string} .\n     * @private\n     */\n    Splitter.prototype.calculateSplitterPosition = function (splitter) {\n        if (!isNullOrUndefined(this.splitterObject) && this.parent.enablePersistence) {\n            return this.splitterObject.paneSettings[0].size;\n        }\n        if (splitter.view === 'Grid') {\n            return this.parent.enableRtl ? '0%' : '100%';\n        }\n        else if (splitter.view === 'Chart') {\n            return this.parent.enableRtl ? '100%' : '0%';\n        }\n        else {\n            if (!isNullOrUndefined(splitter.position) && splitter.position !== '') {\n                return this.getSpliterPositionInPercentage(splitter.position);\n            }\n            else if (!isNullOrUndefined(splitter.columnIndex) && splitter.columnIndex >= 0) {\n                if ((splitter.columnIndex * 150) < this.parent.ganttWidth || !this.parent.element.classList.contains('e-device')) {\n                    return this.getSpliterPositionInPercentage(this.getTotalColumnWidthByIndex(splitter.columnIndex).toString() + 'px');\n                }\n                else {\n                    return this.getSpliterPositionInPercentage((splitter.columnIndex * 130) + 'px');\n                }\n            }\n            else {\n                var ganttWidth = this.parent.ganttWidth;\n                var width = ganttWidth - 250;\n                var widthAsString = width + 'px';\n                return (this.parent.enableRtl) ? this.getSpliterPositionInPercentage(widthAsString) : this.getSpliterPositionInPercentage('250px');\n            }\n        }\n    };\n    /**\n     * @param {string} position .\n     * @returns {string} .\n     */\n    Splitter.prototype.getSpliterPositionInPercentage = function (position) {\n        var value = !isNullOrUndefined(position) && position !== '' ? position : null;\n        if (!isNullOrUndefined(value)) {\n            if (position.indexOf('px') !== -1) {\n                var intValue = parseInt(position, 10);\n                value = (((intValue / this.parent.ganttWidth) * 100) <= 100 ? ((intValue / this.parent.ganttWidth) * 100) + '%' :\n                    '25%');\n            }\n            else {\n                if (this.parent.enableRtl) {\n                    var newPosition = 100 - parseFloat(position);\n                    value = newPosition + '%';\n                }\n                else {\n                    value = position.indexOf('%') === -1 ?\n                        position + '%' : position;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * @param {number} index .\n     * @returns {number} .\n     */\n    Splitter.prototype.getTotalColumnWidthByIndex = function (index) {\n        var width = 0;\n        var ganttWidth = this.parent.ganttWidth;\n        var originalArray = this.parent.ganttColumns;\n        var newArray = originalArray.filter(function (obj) { return obj.visible === undefined || obj.visible === true; });\n        var deepCopiedArray = newArray.map(function (obj) { return Object.assign({}, obj); });\n        var tr = deepCopiedArray;\n        index = tr.length > index ? index : tr.length;\n        if (this.parent.enableRtl) {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n            width = ganttWidth - width;\n        }\n        else {\n            for (var column = 0; column < index; column++) {\n                width += parseInt(tr[column].width, 10);\n            }\n        }\n        return width;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.updateSplitterPosition = function () {\n        this.splitterObject.separatorSize = this.parent.splitterSettings.separatorSize;\n        var splitterPosition = this.calculateSplitterPosition(this.parent.splitterSettings);\n        this.splitterObject.paneSettings[0].min = this.getSpliterPositionInPercentage(this.parent.splitterSettings.minimum);\n        this.splitterObject.dataBind();\n        if (!this.isSplitterResized) {\n            this.splitterObject.paneSettings[0].size = splitterPosition;\n        }\n        this.isSplitterResized = false;\n        if (isNullOrUndefined(this.parent.projectEndDate)) {\n            this.parent.timelineModule.updateTimelineAfterZooming(this.parent.timelineModule.timelineEndDate, true);\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Splitter.prototype.triggerCustomResizedEvent = function () {\n        var pane1 = this.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterObject.element.querySelectorAll('.e-pane')[1];\n        var eventArgs = {\n            event: null,\n            element: this.splitterObject.element,\n            pane: [pane1, pane2],\n            index: [0, 1],\n            separator: this.splitterObject.element.querySelector('.e-split-bar'),\n            paneSize: [pane1.offsetWidth, pane2.offsetWidth]\n        };\n        this.parent.trigger('splitterResized', eventArgs);\n        if (eventArgs.cancel === true) {\n            this.splitterObject.paneSettings[0].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionGrid);\n            this.splitterObject.paneSettings[1].size = this.getSpliterPositionInPercentage(this.splitterPreviousPositionChart);\n        }\n    };\n    Splitter.prototype.destroy = function () {\n        this.splitterObject.destroy();\n        this.parent.off('destroy', this.destroy);\n    };\n    return Splitter;\n}());\nexport { Splitter };\n","import { Tooltip as TooltipComponent } from '@syncfusion/ej2-popups';\nimport { parentsUntil } from '../base/utils';\nimport * as cls from '../base/css-constants';\nimport { extend, isNullOrUndefined, getValue, EventHandler, closest, SanitizeHtmlHelper, initializeCSPTemplate, append } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * File for handling tooltip in Gantt.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(gantt) {\n        this.parent = gantt;\n        this.createTooltip();\n        this.parent.on('destroy', this.destroy, this);\n    }\n    /**\n     * To create tooltip.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function () {\n        this.toolTipObj = new TooltipComponent();\n        this.toolTipObj.target = '.e-header-cell-label, .e-gantt-child-taskbar,' +\n            '.e-gantt-parent-taskbar, .e-gantt-milestone, .e-gantt-unscheduled-taskbar' +\n            '.e-event-markers, .e-baseline-bar, .e-event-markers,' +\n            '.e-connector-line-container, .e-indicator-span, .e-notes-info, .e-gantt-manualparent-milestone,' +\n            '.e-taskbar-left-resizer, .e-taskbar-right-resizer, .e-baseline-gantt-milestone-container, .e-gantt-manualparenttaskbar';\n        this.toolTipObj.position = 'BottomCenter';\n        this.toolTipObj.openDelay = 700;\n        this.toolTipObj.enableRtl = this.parent.enableRtl;\n        this.toolTipObj.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        this.toolTipObj.cssClass = cls.ganttTooltip;\n        this.toolTipObj.animation = { open: { effect: 'None', delay: 0 }, close: { effect: 'None', delay: 0 } };\n        this.toolTipObj.afterOpen = this.updateTooltipPosition.bind(this);\n        this.toolTipObj.showTipPointer = false;\n        this.toolTipObj.beforeRender = this.tooltipBeforeRender.bind(this);\n        this.toolTipObj.afterClose = this.tooltipCloseHandler.bind(this);\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.element);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (args) {\n        var parent = this.parent;\n        if (parent.isOnEdit) {\n            args.cancel = true;\n            return;\n        }\n        var element;\n        var row = closest(args.target, 'div.' + cls.taskBarMainContainer);\n        if (!isNullOrUndefined(row)) {\n            element = args.target;\n        }\n        else {\n            element = parentsUntil(args.target, cls.chartRowCell);\n        }\n        var data;\n        var argsData = {\n            data: {},\n            args: args,\n            cancel: false,\n            content: ''\n        };\n        if (args.target.classList.contains('e-header-cell-label')) {\n            if (parent.timelineSettings.showTooltip) {\n                var tierValue = args.target.getAttribute('data-tier');\n                var title = args.target.title;\n                var innerContent = !isNullOrUndefined(parent.timelineTemplate) ? args.target.getAttribute('value') :\n                    args.target.textContent;\n                var templateContext = {\n                    date: title,\n                    value: innerContent,\n                    tier: tierValue\n                };\n                var timelineTemplateNode = parent.tooltipSettings.timeline ? parent.tooltipModule.templateCompiler(parent.tooltipSettings.timeline, parent, extend({}, templateContext), 'TooltipTaskbarTemplate') : null;\n                var tooltipTemplate = document.createElement('div');\n                if (timelineTemplateNode) {\n                    append(timelineTemplateNode, tooltipTemplate);\n                    argsData.content = this.toolTipObj.content = tooltipTemplate;\n                }\n                else {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('timeline', data, parent, args);\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        else {\n            if (parent.tooltipSettings.showTooltip) {\n                if (element) {\n                    argsData.data = parent.ganttChartModule.getRecordByTaskBar(element);\n                    data = argsData.data;\n                }\n                if (args.target.classList.contains('e-gantt-child-taskbar') ||\n                    args.target.classList.contains('e-gantt-parent-taskbar') ||\n                    args.target.classList.contains('e-gantt-milestone') ||\n                    args.target.classList.contains('e-gantt-unscheduled-taskbar') ||\n                    args.target.classList.contains('e-taskbar-left-resizer') ||\n                    args.target.classList.contains('e-taskbar-right-resizer') ||\n                    (args.target.classList.contains('e-gantt-manualparenttaskbar') && parent.tooltipSettings.taskbar)) {\n                    var taskbarTemplateNode = void 0;\n                    if (parent.tooltipSettings.taskbar) {\n                        taskbarTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.taskbar, parent, data, 'TooltipTaskbarTemplate');\n                    }\n                    var tooltipTemplate = document.createElement('div');\n                    if (taskbarTemplateNode) {\n                        append(taskbarTemplateNode, tooltipTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = taskbarTemplateNode ? tooltipTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'taskbar'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-baseline-bar') ||\n                    args.target.classList.contains('e-baseline-gantt-milestone-container')) {\n                    var baseLineTemplateNode = void 0;\n                    if ((parent.tooltipSettings.baseline)) {\n                        baseLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.baseline, parent, data, 'TooltipBaselineTemplate');\n                    }\n                    var baselineTemplate = document.createElement('div');\n                    if (baseLineTemplateNode) {\n                        append(baseLineTemplateNode, baselineTemplate);\n                    }\n                    argsData.content = this.toolTipObj.content = baseLineTemplateNode ? baselineTemplate : data ?\n                        parent.tooltipModule.getTooltipContent((data.ganttProperties.isMilestone ? 'milestone' : 'baseline'), data, parent, args) : '';\n                }\n                else if (args.target.classList.contains('e-event-markers')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('marker', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-connector-line-container')) {\n                    var dependencyLineTemplateNode = void 0;\n                    parent.tooltipModule.predecessorTooltipData = parent.tooltipModule.getPredecessorTooltipData(args);\n                    argsData.data = this.predecessorTooltipData;\n                    if ((parent.tooltipSettings.connectorLine)) {\n                        dependencyLineTemplateNode = parent.tooltipModule.templateCompiler(parent.tooltipSettings.connectorLine, parent, parent.tooltipModule.predecessorTooltipData, 'TooltipConnectorLineTemplate');\n                    }\n                    argsData.content = this.toolTipObj.content = dependencyLineTemplateNode ?\n                        dependencyLineTemplateNode[0] :\n                        parent.tooltipModule.getTooltipContent('connectorLine', data, parent, args);\n                }\n                else if (args.target.classList.contains('e-indicator-span')) {\n                    argsData.content = this.toolTipObj.content =\n                        parent.tooltipModule.getTooltipContent('indicator', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-notes-info')) {\n                    var ganttData = this.parent.ganttChartModule.getRecordByTarget(args.event);\n                    argsData.content = this.toolTipObj.content = ganttData.ganttProperties.notes;\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparenttaskbar')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualtaskbar', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n                else if (args.target.classList.contains('e-gantt-manualparent-milestone')) {\n                    argsData.content = this.toolTipObj.content = parent.tooltipModule.getTooltipContent('manualmilestone', data, parent, args);\n                    if (isNullOrUndefined(argsData.content)) {\n                        args.cancel = true;\n                    }\n                }\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (args.cancel === false) {\n            var callBackPromise_1 = new Deferred();\n            parent.trigger('beforeTooltipRender', argsData, function (argData) {\n                callBackPromise_1.resolve(argData);\n                if (argData.cancel) {\n                    args.cancel = true;\n                }\n            });\n            this.toolTipObj.content = argsData.content;\n            if (!this.parent.isAdaptive && args.event.type === 'mouseover') {\n                this.currentTarget = args.target;\n                EventHandler.add(this.currentTarget, 'mousemove', this.mouseMoveHandler.bind(this));\n            }\n            this.parent.renderTemplates();\n            return callBackPromise_1;\n        }\n    };\n    // eslint-disable-next-line\n    Tooltip.prototype.tooltipCloseHandler = function (args) {\n        this.tooltipMouseEvent = null;\n        if (!this.parent.isAdaptive && !isNullOrUndefined(this.currentTarget)) {\n            EventHandler.remove(this.currentTarget, 'mousemove', this.mouseMoveHandler);\n        }\n        this.currentTarget = null;\n    };\n    Tooltip.prototype.mouseMoveHandler = function (e) {\n        this.tooltipMouseEvent = e;\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    Tooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            if (isNullOrUndefined(this.tooltipMouseEvent) || args.target.classList.contains('e-notes-info')) {\n                return;\n            }\n            var postion = this.getPointorPosition(this.tooltipMouseEvent);\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var topEnd = containerPosition.top + this.parent.chartPane.offsetHeight;\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = postion.x;\n            var tooltipPositionY = postion.y;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                while (leftEnd < (tooltipPositionX + args.element.offsetWidth + 10)) {\n                    tooltipPositionX = leftEnd - args.element.offsetWidth - 10;\n                    args.element.style.left = tooltipPositionX + 'px';\n                }\n            }\n            else {\n                tooltipPositionX = tooltipPositionX + 10;\n                args.element.style.left = tooltipPositionX + 'px';\n            }\n            if (args.event.clientY > args.element.offsetHeight) {\n                if (window.innerHeight < args.element.offsetHeight + tooltipPositionY) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                if ((topEnd < (tooltipPositionY + args.element.offsetHeight + 20))) {\n                    tooltipPositionY = tooltipPositionY - args.element.offsetHeight - 10;\n                }\n                else {\n                    tooltipPositionY = tooltipPositionY + 10;\n                }\n            }\n            else {\n                tooltipPositionY = tooltipPositionY + 10;\n            }\n            args.element.style.top = tooltipPositionY + 'px';\n        }\n    };\n    /**\n     * Method to get mouse pointor position\n     *\n     * @param {Event} e .\n     * @returns {number} .\n     */\n    Tooltip.prototype.getPointorPosition = function (e) {\n        var posX;\n        var posY;\n        if (!isNullOrUndefined(getValue('pageX', e)) || !isNullOrUndefined(getValue('pageY', e))) {\n            posX = getValue('pageX', e);\n            posY = getValue('pageY', e);\n        }\n        else if (!isNullOrUndefined(getValue('clientX', e)) || !isNullOrUndefined(getValue('clientY', e))) {\n            posX = getValue('clientX', e) + document.body.scrollLeft + document.documentElement.scrollLeft;\n            posY = getValue('clientY', e) + document.body.scrollTop + document.documentElement.scrollTop;\n        }\n        return { x: posX, y: posY };\n    };\n    /**\n     *  Getting tooltip content for different elements\n     *\n     * @param {string} elementType .\n     * @param {IGanttData} ganttData .\n     * @param {Gantt} parent .\n     * @param {TooltipEventArgs} args .\n     * @returns {string | Function} .\n     */\n    Tooltip.prototype.getTooltipContent = function (elementType, ganttData, parent, args) {\n        var content;\n        var data;\n        var taskName;\n        if (ganttData) {\n            data = ganttData.ganttProperties;\n            var taskNameValue = data.taskName;\n            if (this.parent.enableHtmlSanitizer && typeof (taskNameValue) === 'string') {\n                taskNameValue = SanitizeHtmlHelper.sanitize(taskNameValue);\n            }\n            taskName = !isNullOrUndefined(taskNameValue) ? '<tr class = \"e-gantt-tooltip-rowcell\"><td colspan=\"3\">' +\n                (this.parent.disableHtmlEncode ? taskNameValue.replace(/</g, '&lt;').replace(/>/g, '&gt;') : taskNameValue) + '</td></tr>' : '';\n        }\n        switch (elementType) {\n            case 'milestone':\n                {\n                    var milestoneStartDate = void 0;\n                    if (args.target.className.includes('e-baseline-gantt-milestone-container') && !isNullOrUndefined(data.baselineStartDate)) {\n                        milestoneStartDate = data.baselineStartDate;\n                    }\n                    else if (!isNullOrUndefined(data.startDate)) {\n                        milestoneStartDate = data.startDate;\n                    }\n                    var sDateValue = this.parent.getFormatedDate(milestoneStartDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer && typeof (sDateValue) === 'string') {\n                        sDateValue = SanitizeHtmlHelper.sanitize(sDateValue);\n                    }\n                    var sDate_1 = !isNullOrUndefined(milestoneStartDate) ? '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        sDateValue + '</td></tr>' : '';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + sDate_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'taskbar':\n                {\n                    var scheduledTask = !ganttData.hasChildRecords || data.isAutoSchedule ? true : false;\n                    var startDateValue = this.parent.getFormatedDate(scheduledTask ? data.startDate : data.autoStartDate, this.parent.getDateFormat());\n                    var endDateValue = this.parent.getFormatedDate(scheduledTask ? data.endDate : data.autoEndDate, this.parent.getDateFormat());\n                    var durationValue = this.parent.getDurationString((scheduledTask ? data.duration : data.autoDuration), data.durationUnit);\n                    var progressValue = data.progress;\n                    if (this.parent.enableHtmlSanitizer) {\n                        startDateValue = typeof (startDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(startDateValue) : startDateValue;\n                        endDateValue = typeof (endDateValue) === 'string' ? SanitizeHtmlHelper.sanitize(endDateValue) : endDateValue;\n                        durationValue = SanitizeHtmlHelper.sanitize(durationValue);\n                    }\n                    var startDate_1 = data.startDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'startDate' : 'subTasksStartDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' + startDateValue + '</td></tr>' : '';\n                    var endDate_1 = data.endDate ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant(scheduledTask ? 'endDate' : 'subTasksEndDate') +\n                        '</td><td class=' + cls.templatePadding + '>:</td>' + '<td class = \"e-gantt-tooltip-value\">' + endDateValue + '</td></tr>' : '';\n                    var duration_1 = !isNullOrUndefined(data.duration) ? '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td class=' + cls.templatePadding + '>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationValue +\n                        '</td></tr>' : '';\n                    var progress_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('progress') + '</td><td class=' + cls.templatePadding + '>:</td><td>' + progressValue +\n                        '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + startDate_1 + endDate_1 + duration_1 + progress_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'baseline':\n                {\n                    var baselineStartDateValue_1 = this.parent.getFormatedDate(data.baselineStartDate, this.parent.getDateFormat());\n                    var baselineEndDateValue_1 = this.parent.getFormatedDate(data.baselineEndDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        baselineStartDateValue_1 = SanitizeHtmlHelper.sanitize(baselineStartDateValue_1);\n                        baselineEndDateValue_1 = SanitizeHtmlHelper.sanitize(baselineEndDateValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + '<tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('baselineStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            baselineStartDateValue_1 + '</td></tr><tr>' +\n                            '<td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('baselineEndDate') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            baselineEndDateValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'marker':\n                {\n                    var markerTooltipElement = parent.tooltipModule.getMarkerTooltipData(args);\n                    var markerTooltipElementValue_1 = this.parent.getFormatedDate(this.parent.dateValidationModule.getDateFromFormat(markerTooltipElement.day), this.parent.getDateFormat());\n                    var markerLabel_1 = markerTooltipElement.label ? markerTooltipElement.label : '';\n                    if (this.parent.enableHtmlSanitizer) {\n                        markerLabel_1 = SanitizeHtmlHelper.sanitize(markerLabel_1);\n                        markerTooltipElementValue_1 = SanitizeHtmlHelper.sanitize(markerTooltipElementValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td>' +\n                            markerTooltipElementValue_1 + '</td></tr><tr><td>' + (this.parent.disableHtmlEncode ? markerLabel_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : markerLabel_1) + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'connectorLine':\n                {\n                    var fromNameValue_1 = parent.tooltipModule.predecessorTooltipData.fromName;\n                    var fromIdValue_1 = parent.tooltipModule.predecessorTooltipData.fromId;\n                    var toNameValue_1 = parent.tooltipModule.predecessorTooltipData.toName;\n                    var toIdValue_1 = parent.tooltipModule.predecessorTooltipData.toId;\n                    var linkTextValue_1 = parent.tooltipModule.predecessorTooltipData.linkText;\n                    var offsetStringValue_1 = parent.tooltipModule.predecessorTooltipData.offsetString;\n                    if (this.parent.enableHtmlSanitizer) {\n                        fromNameValue_1 = SanitizeHtmlHelper.sanitize(fromNameValue_1);\n                        fromIdValue_1 = SanitizeHtmlHelper.sanitize(fromIdValue_1);\n                        toNameValue_1 = SanitizeHtmlHelper.sanitize(toNameValue_1);\n                        toIdValue_1 = SanitizeHtmlHelper.sanitize(toIdValue_1);\n                        linkTextValue_1 = SanitizeHtmlHelper.sanitize(linkTextValue_1);\n                        offsetStringValue_1 = SanitizeHtmlHelper.sanitize(offsetStringValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('from') + '</td><td>:</td>' +\n                            '<td class = \"e-gantt-tooltip-value\">' + (this.parent.disableHtmlEncode ? fromNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromNameValue_1) + ' (' +\n                            (this.parent.disableHtmlEncode ? (typeof (fromIdValue_1) === 'string' ? fromIdValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : fromIdValue_1) : fromIdValue_1) + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' +\n                            this.parent.localeObj.getConstant('to') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                            (this.parent.disableHtmlEncode ? toNameValue_1.replace(/</g, '&lt;').replace(/>/g, '&gt;') : toNameValue_1) + ' (' + toIdValue_1 + ')' + '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('taskLink') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\"> ' + linkTextValue_1 +\n                            '</td></tr><tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('lag') +\n                            '</td><td>:</td><td class = \"e-gantt-tooltip-value\">' +\n                            offsetStringValue_1 + '</td></tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp, this);\n                    break;\n                }\n            case 'indicator':\n                if (args.target.title.length) {\n                    var titleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (titleValue_1) === 'string') {\n                        titleValue_1 = SanitizeHtmlHelper.sanitize(titleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + titleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                }\n                break;\n            case 'timeline':\n                {\n                    var timlineTitleValue_1 = args.target.title;\n                    if (this.parent.enableHtmlSanitizer && typeof (timlineTitleValue_1) === 'string') {\n                        timlineTitleValue_1 = SanitizeHtmlHelper.sanitize(timlineTitleValue_1);\n                    }\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody><tr>' + timlineTitleValue_1 + '</tr></tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualtaskbar':\n                {\n                    var autoStartDateValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndDateValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var durationUnitValue = this.parent.getDurationString(data.duration, data.durationUnit);\n                    var manualStartDateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    var manualEndDateValue = this.parent.getFormatedDate(data.endDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartDateValue = SanitizeHtmlHelper.sanitize(autoStartDateValue);\n                        autoEndDateValue = SanitizeHtmlHelper.sanitize(autoEndDateValue);\n                        durationUnitValue = SanitizeHtmlHelper.sanitize(durationUnitValue);\n                        manualStartDateValue = SanitizeHtmlHelper.sanitize(manualStartDateValue);\n                        manualEndDateValue = SanitizeHtmlHelper.sanitize(manualEndDateValue);\n                    }\n                    var autoStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartDateValue + '</td></tr>';\n                    var autoEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndDateValue + '</td></tr>';\n                    var durationValue_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('duration') + '</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\"> ' + durationUnitValue +\n                        '</td></tr>';\n                    var manualStartDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('startDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        manualStartDateValue + '</td></tr>';\n                    var manualEndDate_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('endDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        manualEndDateValue + '</td></tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + manualStartDate_1 + autoStartDate_1 + manualEndDate_1 + autoEndDate_1 + durationValue_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n            case 'manualmilestone':\n                {\n                    var autoStartValue = this.parent.getFormatedDate(data.autoStartDate, this.parent.getDateFormat());\n                    var autoEndValue = this.parent.getFormatedDate(data.autoEndDate, this.parent.getDateFormat());\n                    var dateValue = this.parent.getFormatedDate(data.startDate, this.parent.getDateFormat());\n                    if (this.parent.enableHtmlSanitizer) {\n                        autoStartValue = SanitizeHtmlHelper.sanitize(autoStartValue);\n                        autoEndValue = SanitizeHtmlHelper.sanitize(autoEndValue);\n                        dateValue = SanitizeHtmlHelper.sanitize(dateValue);\n                    }\n                    var autoStart_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksStartDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\"> ' +\n                        autoStartValue + '</td></tr>';\n                    var autoEnd_1 = '<tr><td class = \"e-gantt-tooltip-label\">' +\n                        this.parent.localeObj.getConstant('subTasksEndDate') + '</td><td>:</td>' + '<td class = \"e-gantt-tooltip-value\">' +\n                        autoEndValue + '</td></tr>';\n                    var date_1 = '<tr><td class = \"e-gantt-tooltip-label\"> Date</td><td>:</td>' +\n                        '<td class = \"e-gantt-tooltip-value\">' +\n                        dateValue + '</tr>';\n                    var contentTemp = function () {\n                        return '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            taskName + date_1 + autoStart_1 + autoEnd_1 + '</tbody></table>';\n                    };\n                    content = initializeCSPTemplate(contentTemp);\n                    break;\n                }\n        }\n        return content;\n    };\n    /**\n     * To get the details of an event marker.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {EventMarkerModel} .\n     * @private\n     */\n    Tooltip.prototype.getMarkerTooltipData = function (args) {\n        var markerTooltipId = (args.target.id).match(/\\d+/g);\n        var markerTooltipElement = this.parent.eventMarkers[Number(markerTooltipId)];\n        return markerTooltipElement;\n    };\n    /**\n     * To get the details of a connector line.\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {PredecessorTooltip} .\n     * @private\n     */\n    Tooltip.prototype.getPredecessorTooltipData = function (args) {\n        var predeceesorParent = args.target.id;\n        if (this.parent.enableHtmlSanitizer && typeof (predeceesorParent) === 'string') {\n            predeceesorParent = SanitizeHtmlHelper.sanitize(predeceesorParent);\n        }\n        var taskIds = predeceesorParent.match(/ConnectorLineparent(.*)child(.*)/);\n        taskIds.shift();\n        var fromTask;\n        var toTask;\n        if (this.parent.viewType === 'ResourceView') {\n            fromTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[0])];\n            toTask = this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskIds[1])];\n        }\n        else {\n            fromTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[0])];\n            toTask = this.parent.flatData[this.parent.ids.indexOf(taskIds[1])];\n        }\n        var predecessor = (fromTask.ganttProperties.predecessor).filter(function (pdc) { return pdc.to === taskIds[1]; });\n        var predecessorTooltipData = {\n            fromId: this.parent.viewType === 'ResourceView' ? fromTask.ganttProperties.taskId : fromTask.ganttProperties.rowUniqueID,\n            toId: this.parent.viewType === 'ResourceView' ? toTask.ganttProperties.taskId : toTask.ganttProperties.rowUniqueID,\n            fromName: fromTask.ganttProperties.taskName,\n            toName: toTask.ganttProperties.taskName,\n            linkType: predecessor[0].type,\n            linkText: this.parent.getPredecessorTextValue(predecessor[0].type),\n            offset: predecessor[0].offset,\n            offsetUnit: predecessor[0].offsetUnit,\n            offsetString: this.parent.getDurationString(predecessor[0].offset, predecessor[0].offsetUnit)\n        };\n        return predecessorTooltipData;\n    };\n    /**\n     * To compile template string.\n     *\n     * @param {string | Function} template .\n     * @param {Gantt} parent .\n     * @param {IGanttData|PredecessorTooltip} data .\n     * @param {string} propName .\n     * @returns {NodeList} .\n     * @private\n     */\n    Tooltip.prototype.templateCompiler = function (template, parent, data, propName) {\n        var tooltipFunction = parent.chartRowsModule.templateCompiler(template);\n        var templateID = parent.chartRowsModule.getTemplateID(propName);\n        var templateNode = tooltipFunction(extend({ index: 0 }, data), parent, propName, templateID, true);\n        return templateNode;\n    };\n    Tooltip.prototype.destroy = function () {\n        this.toolTipObj.destroy();\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { isNullOrUndefined, getValue, removeClass } from '@syncfusion/ej2-base';\n/**\n * Focus module is used to handle certain action on focus elements in keyboard navigations.\n */\nvar FocusModule = /** @class */ (function () {\n    function FocusModule(parent) {\n        this.isFromKeyboardAction = false;\n        this.parent = parent;\n        this.activeElement = null;\n        this.previousActiveElement = null;\n    }\n    FocusModule.prototype.getActiveElement = function (isPreviousActiveElement) {\n        return isPreviousActiveElement ? this.previousActiveElement : this.activeElement;\n    };\n    FocusModule.prototype.setActiveElement = function (element) {\n        this.previousActiveElement = this.activeElement;\n        this.activeElement = element;\n    };\n    /**\n     * To perform key interaction in Gantt\n     *\n     * @param {KeyboardEventArgs} e .\n     * @returns {void} .\n     * @private\n     */\n    FocusModule.prototype.onKeyPress = function (e) {\n        var ganttObj = this.parent;\n        var ele = e.target;\n        var expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        if (isNullOrUndefined(this.parent.focusModule.getActiveElement()) && (e.action === 'expandAll' || e.action === 'collapseAll')) {\n            var focussedElement = this.parent.element.querySelector('.e-treegrid');\n            focussedElement.focus();\n        }\n        if (!this.parent.isEdit && !isNullOrUndefined(ele) && ele.closest('.e-headercell') && (e.key === 'Enter') && this.parent.sortModule\n            && this.parent.allowSorting) {\n            e.action = 'enter';\n            this.parent.treeGrid.grid.notify('key-pressed', e);\n        }\n        var targetElement = this.parent.focusModule.getActiveElement();\n        if (e.action === 'home' || e.action === 'end' || e.action === 'downArrow' || e.action === 'upArrow' || e.action === 'delete' ||\n            e.action === 'rightArrow' || e.action === 'leftArrow' || e.action === 'focusTask' || e.action === 'focusSearch' ||\n            e.action === 'expandAll' || e.action === 'collapseAll' || e.action === 'undo' || e.action === 'redo' || e.action === 'selectAll') {\n            if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                ganttObj.editModule.cellEditModule.isCellEdit === true) {\n                return;\n            }\n        }\n        if (ganttObj.isAdaptive) {\n            if (e.action === 'addRowDialog' || e.action === 'editRowDialog' || e.action === 'delete'\n                || e.action === 'addRow') {\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.type === 'Multiple') {\n                    ganttObj.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (e.action) {\n            case 'home':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    if (ganttObj.selectedRowIndex === 0) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(0, false, true);\n                    }\n                }\n                break;\n            case 'end':\n                if (ganttObj.selectionModule && ganttObj.selectionSettings.mode !== 'Cell') {\n                    var currentSelectingRecord = expandedRecords[expandedRecords.length - 1];\n                    if (ganttObj.selectedRowIndex === ganttObj.flatData.indexOf(currentSelectingRecord)) {\n                        return;\n                    }\n                    if (ganttObj.selectionModule && ganttObj.selectionModule.getCellSelectedRecords().length === 0) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n                break;\n            case 'downArrow':\n            case 'upArrow':\n                {\n                    var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                    if (searchElement && searchElement.parentElement.classList.contains('e-input-focus')) {\n                        ganttObj.selectionModule.clearSelection();\n                    }\n                    if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                        this.upDownKeyNavigate(e);\n                        if (!isNullOrUndefined(targetElement) && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                            ganttObj.ganttChartModule.manageFocus(this.getActiveElement(), 'remove', true, e.action);\n                        }\n                        if (ganttObj.selectionSettings && ganttObj.selectionSettings.mode === 'Both' && e.target instanceof HTMLElement && e.target.classList.contains('e-cellselectionbackground')) {\n                            e.target.classList.remove('e-cellselectionbackground');\n                        }\n                    }\n                    break;\n                }\n            case 'expandAll':\n                ganttObj.ganttChartModule.expandCollapseAll('expand');\n                break;\n            case 'collapseAll':\n                ganttObj.ganttChartModule.expandCollapseAll('collapse');\n                break;\n            case 'expandRow':\n            case 'collapseRow':\n                this.expandCollapseKey(e);\n                break;\n            case 'saveRequest':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule) &&\n                    ganttObj.editModule.cellEditModule.isCellEdit) {\n                    var col = ganttObj.editModule.cellEditModule.editedColumn;\n                    if (col.field === ganttObj.columnMapping.duration && !isNullOrUndefined(col.edit) &&\n                        !isNullOrUndefined(col.edit.read)) {\n                        var textBox = e.target.ej2_instances[0];\n                        var textValue = e.target.value;\n                        // const ganttProp: ITaskData = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties;\n                        var tempValue = void 0;\n                        if (col.field === ganttObj.columnMapping.duration) {\n                            // tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? (col.edit.read as Function)() :\n                            //     // eslint-disable-next-line\n                            //     !isNullOrUndefined(col.valueAccessor) ? (col.valueAccessor as Function)(ganttObj.columnMapping.duration, ganttObj.editedRecords, col) :\n                            //         ganttObj.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                            if (!isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read)) {\n                                tempValue = col.edit.read();\n                            }\n                            if (textValue !== tempValue.toString()) {\n                                textBox.value = textValue;\n                                textBox.dataBind();\n                            }\n                        }\n                    }\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.treeGrid.grid.saveCell();\n                    var focussedElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedElement.focus();\n                }\n                // if (!isNullOrUndefined(this.parent.onTaskbarClick) && !isNullOrUndefined(targetElement)\n                //     && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                //     const target: EventTarget = e.target;\n                //     const taskbarElement: Element = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                //             '.e-gantt-child-taskbar,.e-gantt-milestone');\n                //     if (taskbarElement) {\n                //         this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                //     }\n                // }\n                if (!isNullOrUndefined(targetElement)\n                    && !isNullOrUndefined(targetElement.closest('.e-chart-row'))) {\n                    var target = e.target;\n                    var taskbarElement = targetElement.querySelector('.e-gantt-parent-taskbar,' +\n                        '.e-gantt-child-taskbar,.e-gantt-milestone');\n                    if (taskbarElement) {\n                        this.parent.ganttChartModule.onTaskbarClick(e, target, taskbarElement);\n                    }\n                }\n                break;\n            case 'escape':\n                if (!isNullOrUndefined(ganttObj.editModule) && !isNullOrUndefined(ganttObj.editModule.cellEditModule)) {\n                    ganttObj.editModule.cellEditModule.isCellEdit = false;\n                    if (!isNullOrUndefined(ganttObj.toolbarModule)) {\n                        ganttObj.toolbarModule.refreshToolbarItems();\n                    }\n                }\n                break;\n            case 'addRow':\n                {\n                    if (ganttObj.editModule && ganttObj.editModule.cellEditModule && ganttObj.editModule.cellEditModule.isCellEdit) {\n                        e.stopPropagation();\n                    }\n                    else if (isNullOrUndefined(document.getElementById(this.parent.element.id + '_dialog'))) {\n                        e.preventDefault();\n                        ganttObj.addRecord(undefined, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n                        var focussedElement = ganttObj.element;\n                        focussedElement.focus();\n                    }\n                    break;\n                }\n            case 'addRowDialog':\n                e.preventDefault();\n                if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowAdding) {\n                    if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                        return;\n                    }\n                    ganttObj.editModule.dialogModule.openAddDialog();\n                }\n                break;\n            case 'editRowDialog':\n                {\n                    e.preventDefault();\n                    var focussedTreeElement = ganttObj.element.querySelector('.e-treegrid');\n                    focussedTreeElement.focus();\n                    if (ganttObj.editModule && ganttObj.editModule.dialogModule && ganttObj.editSettings.allowEditing) {\n                        if (ganttObj.editModule.dialogModule.dialogObj && getValue('dialogOpen', ganttObj.editModule.dialogModule.dialogObj)) {\n                            return;\n                        }\n                        ganttObj.editModule.dialogModule.openToolbarEditDialog();\n                    }\n                    break;\n                }\n            case 'delete':\n                if (ganttObj.selectionModule && ganttObj.editModule && ganttObj.editModule.dialogModule &&\n                    (!ganttObj.editModule.dialogModule.dialogObj || (ganttObj.editModule.dialogModule.dialogObj &&\n                        !ganttObj.editModule.dialogModule.dialogObj.visible)) && (!ganttObj.editSettings.allowTaskbarEditing\n                    || (ganttObj.editSettings.allowTaskbarEditing && !ganttObj.editModule.taskbarEditModule.touchEdit))) {\n                    if ((ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectionModule.selectedRowIndexes.length)\n                        || (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length)) {\n                        if (!isNullOrUndefined(e.target)) {\n                            if (e.target['tagName'] !== 'INPUT') {\n                                ganttObj.editModule.startDeleteAction();\n                            }\n                        }\n                        else {\n                            ganttObj.editModule.startDeleteAction();\n                        }\n                    }\n                }\n                break;\n            case 'focusTask':\n                {\n                    e.preventDefault();\n                    var selectedId = void 0;\n                    if (ganttObj.selectionModule) {\n                        var currentViewData = ganttObj.currentViewData;\n                        if (ganttObj.selectionSettings.mode !== 'Cell' &&\n                            !isNullOrUndefined(currentViewData[ganttObj.selectedRowIndex])) {\n                            selectedId = ganttObj.currentViewData[ganttObj.selectedRowIndex].ganttProperties.rowUniqueID;\n                        }\n                        else if (ganttObj.selectionSettings.mode === 'Cell' &&\n                            ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                            var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                            selectedId = currentViewData[selectCellIndex[selectCellIndex.length - 1].rowIndex].ganttProperties.rowUniqueID;\n                        }\n                    }\n                    if (selectedId) {\n                        ganttObj.scrollToTask(selectedId.toString());\n                    }\n                    break;\n                }\n            case 'focusSearch':\n                {\n                    if (ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar')) {\n                        var searchElement = ganttObj.element.querySelector('#' + ganttObj.element.id + '_searchbar');\n                        searchElement.setAttribute('tabIndex', '-1');\n                        searchElement.focus();\n                    }\n                    break;\n                }\n            case 'tab':\n            case 'shiftTab':\n                if (!ganttObj.element.classList.contains('e-scroll-disabled')) {\n                    ganttObj.ganttChartModule.onTabAction(e);\n                }\n                break;\n            case 'contextMenu':\n                {\n                    var contextMenu = document.getElementById(this.parent.element.id +\n                        '_contextmenu').ej2_instances[0];\n                    var containerPosition = this.parent.getOffsetRect(e.target);\n                    var top_1 = containerPosition.top + (containerPosition.height / 2);\n                    var left = containerPosition.left + (containerPosition.width / 2);\n                    this.setActiveElement(e.target);\n                    contextMenu.open(top_1, left);\n                    e.preventDefault();\n                    break;\n                }\n            case 'undo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                        this.parent.undo();\n                    }\n                    break;\n                }\n            case 'redo':\n                {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['getRedoCollection'].length > 0) {\n                        this.parent.redo();\n                    }\n                    break;\n                }\n            case 'selectAll':\n                {\n                    e.preventDefault();\n                    var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n                    if (ganttRow.length > 0) {\n                        var firstRowIndex = parseInt(ganttRow[0].getAttribute('aria-rowindex'), 10) - 1;\n                        var lastRowIndex = parseInt(ganttRow[ganttRow.length - 1].getAttribute('aria-rowindex'), 10) - 1;\n                        if (!isNullOrUndefined(firstRowIndex)) {\n                            firstRowIndex = Number(firstRowIndex);\n                        }\n                        if (!isNullOrUndefined(lastRowIndex)) {\n                            lastRowIndex = Number(lastRowIndex);\n                        }\n                        if (!isNullOrUndefined(firstRowIndex) && !isNullOrUndefined(lastRowIndex)) {\n                            this.parent.selectionModule.selectRowsByRange(firstRowIndex, lastRowIndex);\n                        }\n                    }\n                    break;\n                }\n            default:\n                {\n                    var eventArgs = {\n                        requestType: 'keyPressed',\n                        action: e.action,\n                        keyEvent: e\n                    };\n                    ganttObj.trigger('actionComplete', eventArgs);\n                    break;\n                }\n        }\n    };\n    FocusModule.prototype.upDownKeyNavigate = function (e) {\n        e.preventDefault();\n        var ganttObj = this.parent;\n        var expandedRecords;\n        if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.flatData);\n        }\n        else {\n            expandedRecords = ganttObj.getExpandedRecords(ganttObj.currentViewData);\n        }\n        if (ganttObj.selectionModule) {\n            if (ganttObj.selectionSettings.mode !== 'Cell' && ganttObj.selectedRowIndex !== -1) {\n                var selectedItem = void 0;\n                if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                    selectedItem = ganttObj.flatData[ganttObj.selectedRowIndex];\n                }\n                else {\n                    selectedItem = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n                }\n                var focussedElement = ganttObj.element.querySelector('.e-focused');\n                if (focussedElement) {\n                    removeClass([focussedElement], 'e-focused');\n                }\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var activeElement = this.parent['args'];\n                if (document.activeElement !== activeElement) {\n                    if ((e.action === 'downArrow' || e.action === 'upArrow') && this.parent.selectionModule && this.parent.allowSelection && this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                        ganttObj.selectionModule.selectRow(ganttObj.flatData.indexOf(currentSelectingRecord), false, true);\n                    }\n                    else {\n                        ganttObj.selectionModule.selectRow(ganttObj.currentViewData.indexOf(currentSelectingRecord), false, true);\n                    }\n                }\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                var selectedCellItem = selectCellIndex[selectCellIndex.length - 1];\n                var currentCellIndex = selectedCellItem.cellIndexes[selectedCellItem.cellIndexes.length - 1];\n                var selectedItem = ganttObj.currentViewData[selectedCellItem.rowIndex];\n                var selectingRowIndex = expandedRecords.indexOf(selectedItem);\n                var currentSelectingRecord = e.action === 'downArrow' ? expandedRecords[selectingRowIndex + 1] :\n                    expandedRecords[selectingRowIndex - 1];\n                var cellInfo = {\n                    rowIndex: ganttObj.currentViewData.indexOf(currentSelectingRecord),\n                    cellIndex: currentCellIndex\n                };\n                ganttObj.selectionModule.selectCell(cellInfo);\n            }\n            this.parent.ganttChartModule.focusedRowIndex = this.parent.selectedRowIndex;\n        }\n    };\n    FocusModule.prototype.expandCollapseKey = function (e) {\n        var ganttObj = this.parent;\n        if (ganttObj.selectionModule && ganttObj.selectedRowIndex !== -1) {\n            var selectedRowIndex_1;\n            if (ganttObj.selectionSettings.mode !== 'Cell') {\n                selectedRowIndex_1 = ganttObj.selectedRowIndex;\n            }\n            else if (ganttObj.selectionSettings.mode === 'Cell' && ganttObj.selectionModule.getSelectedRowCellIndexes().length > 0) {\n                var selectCellIndex = ganttObj.selectionModule.getSelectedRowCellIndexes();\n                selectedRowIndex_1 = selectCellIndex[selectCellIndex.length - 1].rowIndex;\n            }\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                selectedRowIndex_1 = this.parent.currentViewData.findIndex(function (obj) { return obj.ganttProperties.rowUniqueID ===\n                    selectedRowIndex_1.toString(); }) + 1;\n            }\n            if (e.action === 'expandRow') {\n                this.isFromKeyboardAction = true;\n                ganttObj.expandByIndex(selectedRowIndex_1);\n                this.isFromKeyboardAction = false;\n            }\n            else {\n                this.isFromKeyboardAction = true;\n                ganttObj.collapseByIndex(selectedRowIndex_1);\n                this.isFromKeyboardAction = false;\n            }\n        }\n    };\n    return FocusModule;\n}());\nexport { FocusModule };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, createElement, Complex, addClass, removeClass, Event, formatUnit, Browser, closest } from '@syncfusion/ej2-base';\nimport { Internationalization, extend, getValue, isObjectArray, isObject, setValue, isUndefined } from '@syncfusion/ej2-base';\nimport { Property, NotifyPropertyChanges, L10n, EventHandler } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, KeyboardEvents, Collection, append, remove } from '@syncfusion/ej2-base';\nimport { createSpinner, showSpinner, hideSpinner } from '@syncfusion/ej2-popups';\nimport { TaskProcessor } from './task-processor';\nimport { GanttChart } from './gantt-chart';\nimport { Timeline } from '../renderer/timeline';\nimport { GanttTreeGrid } from './tree-grid';\nimport { SortSettings } from '../models/models';\nimport { LoadingIndicator } from '../models/models';\nimport { TaskFields, TimelineSettings, Holiday, EventMarker, DayWorkingTime, EditSettings, SelectionSettings } from '../models/models';\nimport { FilterSettings, SplitterSettings, TooltipSettings, LabelSettings } from '../models/models';\nimport { SearchSettings, ResourceFields } from '../models/models';\nimport { DateProcessor } from './date-processor';\nimport { ChartRows } from '../renderer/chart-rows';\nimport { Dependency } from '../actions/dependency';\nimport * as cls from './css-constants';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { TreeGrid } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\nimport { ConnectorLine } from '../renderer/connector-line';\nimport { Splitter } from './splitter';\nimport { Tooltip } from '../renderer/tooltip';\nimport { FocusModule } from '../actions/keyboard';\nimport { isCountRequired } from './utils';\nimport { WeekWorkingTime } from '../models/week-working-time';\n/**\n *\n * Represents the Gantt chart component.\n * ```html\n * <div id='gantt'></div>\n * <script>\n *  var ganttObject = new Gantt({\n *      taskFields: { id: 'taskId', name: 'taskName', startDate: 'startDate', duration: 'duration' }\n *  });\n *  ganttObject.appendTo('#gantt');\n * </script>\n * ```\n */\nvar Gantt = /** @class */ (function (_super) {\n    __extends(Gantt, _super);\n    function Gantt(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRowSelected = false;\n        _this.showIndicator = true;\n        _this.singleTier = 0;\n        _this.expandedRecords = [];\n        _this.isLocaleChanged = false;\n        _this.triggeredColumnName = '';\n        _this.totalUndoAction = 0;\n        _this.previousFlatData = [];\n        _this.isExpandPerformed = false;\n        _this.oldRecords = [];\n        _this.updateDuration = false;\n        _this.isConvertedMilestone = false;\n        /** @hidden */\n        _this.isCancelled = false;\n        /** @hidden */\n        _this.isCollapseAll = false;\n        /** @hidden */\n        _this.previousRecords = {};\n        /** @hidden */\n        _this.editedRecords = [];\n        /** @hidden */\n        _this.modifiedRecords = [];\n        /** @hidden */\n        _this.isOnEdit = false;\n        /** @hidden */\n        _this.isOnDelete = false;\n        /** @hidden */\n        _this.isOnAdded = false;\n        /** @hidden */\n        _this.isExpandCollapseLevelMethod = false;\n        /** @hidden */\n        _this.isFromEventMarker = false;\n        /** @hidden */\n        _this.isDynamicData = false;\n        /** @hidden */\n        _this.isConnectorLineUpdate = false;\n        /** @hidden */\n        _this.staticSelectedRowIndex = -1;\n        _this.needsID = true;\n        /** @hidden */\n        _this.showActiveElement = true;\n        /** @hidden */\n        _this.addDeleteRecord = false;\n        /** @hidden */\n        _this.enableHeaderFocus = true;\n        /** @hidden */\n        _this.enableValidation = true;\n        /**\n         * @private\n         */\n        _this.isTreeGridRendered = false;\n        /**\n         * @private\n         */\n        _this.isFromOnPropertyChange = false;\n        /**\n         * @private\n         */\n        _this.isFromRenderBaseline = false;\n        /**\n         * @private\n         */\n        _this.isGanttChartRendered = false;\n        /**\n         * @private\n         */\n        _this.isEdit = false;\n        /**\n         * To get the module name\n         *\n         * @returns {string} .\n         * @private\n         */\n        _this.eventMarkerColloction = [];\n        setValue('mergePersistData', _this.mergePersistGanttData, _this);\n        return _this;\n    }\n    Gantt.prototype.getModuleName = function () {\n        return 'gantt';\n    };\n    /**\n     * For internal use only - Initialize the event handler\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.preRender = function () {\n        this.initProperties();\n    };\n    Gantt.prototype.getCurrentDayStartTime = function (date) {\n        var dayStartTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayStartTime = this['getStartTime'](date);\n        }\n        else {\n            dayStartTime = this.defaultStartTime;\n        }\n        return dayStartTime;\n    };\n    Gantt.prototype.getCurrentDayEndTime = function (date) {\n        var dayEndTime;\n        if (this.weekWorkingTime.length > 0) {\n            dayEndTime = this['getEndTime'](date);\n        }\n        else {\n            dayEndTime = this.defaultEndTime;\n        }\n        return dayEndTime;\n    };\n    Gantt.prototype.getStartTime = function (date) {\n        var day = date.getDay();\n        var startTime;\n        switch (day) {\n            case 0:\n                startTime = this.sundayDefaultStartTime;\n                break;\n            case 1:\n                startTime = this.mondayDefaultStartTime;\n                break;\n            case 2:\n                startTime = this.tuesdayDefaultStartTime;\n                break;\n            case 3:\n                startTime = this.wednesdayDefaultStartTime;\n                break;\n            case 4:\n                startTime = this.thursdayDefaultStartTime;\n                break;\n            case 5:\n                startTime = this.fridayDefaultStartTime;\n                break;\n            default:\n                startTime = this.saturdayDefaultStartTime;\n                break;\n        }\n        return startTime;\n    };\n    Gantt.prototype.getEndTime = function (date) {\n        var day = date.getDay();\n        var endTime;\n        switch (day) {\n            case 0:\n                endTime = this.sundayDefaultEndTime;\n                break;\n            case 1:\n                endTime = this.mondayDefaultEndTime;\n                break;\n            case 2:\n                endTime = this.tuesdayDefaultEndTime;\n                break;\n            case 3:\n                endTime = this.wednesdayDefaultEndTime;\n                break;\n            case 4:\n                endTime = this.thursdayDefaultEndTime;\n                break;\n            case 5:\n                endTime = this.fridayDefaultEndTime;\n                break;\n            default:\n                endTime = this.saturdayDefaultEndTime;\n                break;\n        }\n        return endTime;\n    };\n    Gantt.prototype.getNonWorkingRange = function (date) {\n        var day = date.getDay();\n        var nonWorkingTimeRange;\n        switch (day) {\n            case 0:\n                nonWorkingTimeRange = this.sundayNonWorkingTimeRanges;\n                break;\n            case 1:\n                nonWorkingTimeRange = this.mondayNonWorkingTimeRanges;\n                break;\n            case 2:\n                nonWorkingTimeRange = this.tuesdayNonWorkingTimeRanges;\n                break;\n            case 3:\n                nonWorkingTimeRange = this.wednesdayNonWorkingTimeRanges;\n                break;\n            case 4:\n                nonWorkingTimeRange = this.thursdayNonWorkingTimeRanges;\n                break;\n            case 5:\n                nonWorkingTimeRange = this.fridayNonWorkingTimeRanges;\n                break;\n            default:\n                nonWorkingTimeRange = this.saturdayNonWorkingTimeRanges;\n                break;\n        }\n        return nonWorkingTimeRange;\n    };\n    Gantt.prototype.getWorkingRange = function (date) {\n        var day = date.getDay();\n        var workingTimeRanges;\n        switch (day) {\n            case 0:\n                workingTimeRanges = this.sundayWorkingTimeRanges;\n                break;\n            case 1:\n                workingTimeRanges = this.mondayWorkingTimeRanges;\n                break;\n            case 2:\n                workingTimeRanges = this.tuesdayWorkingTimeRanges;\n                break;\n            case 3:\n                workingTimeRanges = this.wednesdayWorkingTimeRanges;\n                break;\n            case 4:\n                workingTimeRanges = this.thursdayWorkingTimeRanges;\n                break;\n            case 5:\n                workingTimeRanges = this.fridayWorkingTimeRanges;\n                break;\n            default:\n                workingTimeRanges = this.saturdayWorkingTimeRanges;\n                break;\n        }\n        return workingTimeRanges;\n    };\n    Gantt.prototype.getSecondsPerDay = function (date) {\n        var day = date.getDay();\n        var totalSeconds;\n        switch (day) {\n            case 0:\n                totalSeconds = this.sundaySeconds;\n                break;\n            case 1:\n                totalSeconds = this.mondaySeconds;\n                break;\n            case 2:\n                totalSeconds = this.tuesdaySeconds;\n                break;\n            case 3:\n                totalSeconds = this.wednesdaySeconds;\n                break;\n            case 4:\n                totalSeconds = this.thursdaySeconds;\n                break;\n            case 5:\n                totalSeconds = this.fridaySeconds;\n                break;\n            case 6:\n                totalSeconds = this.saturdaySeconds;\n                break;\n            default:\n                totalSeconds = this.secondsPerDay;\n                break;\n        }\n        return totalSeconds;\n    };\n    Gantt.prototype.initProperties = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.isAdaptive = Browser.isDevice;\n        this.flatData = [];\n        this.currentViewData = [];\n        this.updatedRecords = [];\n        this.ids = [];\n        this.ganttColumns = [];\n        this.updateOffsetOnTaskbarEdit = this.UpdateOffsetOnTaskbarEdit === false ?\n            this.UpdateOffsetOnTaskbarEdit : this.updateOffsetOnTaskbarEdit;\n        this.localeObj = new L10n(this.getModuleName(), this.getDefaultLocale(), this.locale);\n        this.dataOperation = new TaskProcessor(this);\n        this.nonWorkingHours = [];\n        this.mondayNonWorkingHours = [];\n        this.tuesdayNonWorkingHours = [];\n        this.wednesdayNonWorkingHours = [];\n        this.thursdayNonWorkingHours = [];\n        this.fridayNonWorkingHours = [];\n        this.saturdayNonWorkingHours = [];\n        this.sundayNonWorkingHours = [];\n        this.nonWorkingTimeRanges = [];\n        this.mondayNonWorkingTimeRanges = [];\n        this.tuesdayNonWorkingTimeRanges = [];\n        this.wednesdayNonWorkingTimeRanges = [];\n        this.thursdayNonWorkingTimeRanges = [];\n        this.fridayNonWorkingTimeRanges = [];\n        this.saturdayNonWorkingTimeRanges = [];\n        this.sundayNonWorkingTimeRanges = [];\n        this.workingTimeRanges = [];\n        this.mondayWorkingTimeRanges = [];\n        this.tuesdayWorkingTimeRanges = [];\n        this.wednesdayWorkingTimeRanges = [];\n        this.thursdayWorkingTimeRanges = [];\n        this.fridayWorkingTimeRanges = [];\n        this.saturdayWorkingTimeRanges = [];\n        this.sundayWorkingTimeRanges = [];\n        this.defaultEndTime = null;\n        this.defaultStartTime = null;\n        this.mondayDefaultStartTime = null;\n        this.mondayDefaultEndTime = null;\n        this.tuesdayDefaultStartTime = null;\n        this.tuesdayDefaultEndTime = null;\n        this.wednesdayDefaultStartTime = null;\n        this.wednesdayDefaultEndTime = null;\n        this.thursdayDefaultStartTime = null;\n        this.thursdayDefaultEndTime = null;\n        this.fridayDefaultStartTime = null;\n        this.fridayDefaultEndTime = null;\n        this.saturdayDefaultStartTime = null;\n        this.saturdayDefaultEndTime = null;\n        this.sundayDefaultStartTime = null;\n        this.sundayDefaultEndTime = null;\n        this.durationUnitTexts = {\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute'\n        };\n        this.durationUnitEditText = {\n            minute: ['m', 'min', 'minute', 'minutes'],\n            hour: ['h', 'hr', 'hour', 'hours'],\n            day: ['d', 'dy', 'day', 'days']\n        };\n        this.perDayWidth = null;\n        this.isMileStoneEdited = false;\n        this.chartVerticalLineContainer = null;\n        this.updatedConnectorLineCollection = [];\n        this.connectorLineIds = [];\n        this.predecessorsCollection = [];\n        this.isInPredecessorValidation = this.enablePredecessorValidation;\n        this.isValidationEnabled = true;\n        this.isLoad = true;\n        this.editedPredecessorRecords = [];\n        this.validationDialogElement = null;\n        this.currentEditedArgs = {};\n        this.dialogValidateMode = {\n            respectLink: false,\n            removeLink: false,\n            preserveLinkWithEditing: true\n        };\n        this.secondsPerDay = this.dataOperation.getSecondsPerDay();\n        this.nonWorkingDayIndex = [];\n        this.dataOperation.getNonWorkingDayIndex();\n        this.columnMapping = {};\n        this.controlId = this.element.id;\n        this.cloneProjectStartDate = this.enablePersistence && this.cloneProjectStartDate ?\n            this.cloneProjectStartDate : null;\n        this.cloneProjectEndDate = this.enablePersistence && this.cloneProjectEndDate ?\n            this.cloneProjectEndDate : null;\n        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n        this.ganttChartModule = new GanttChart(this);\n        this.timelineModule = new Timeline(this);\n        this.chartRowsModule = new ChartRows(this);\n        this.treeGridModule = new GanttTreeGrid(this);\n        this.dateValidationModule = new DateProcessor(this);\n        this.predecessorModule = new Dependency(this);\n        this.connectorLineModule = new ConnectorLine(this);\n        this.splitterModule = new Splitter(this);\n        this.tooltipModule = new Tooltip(this);\n        this.keyConfig = {\n            home: 'home',\n            end: 'end',\n            downArrow: 'downarrow',\n            upArrow: 'uparrow',\n            collapseAll: 'ctrl+uparrow',\n            expandAll: 'ctrl+downarrow',\n            collapseRow: 'ctrl+shift+uparrow',\n            expandRow: 'ctrl+shift+downarrow',\n            saveRequest: '13',\n            escape: '27',\n            addRow: 'insert',\n            addRowDialog: 'ctrl+insert',\n            editRowDialog: 'ctrl+f2',\n            delete: 'delete',\n            tab: 'tab',\n            shiftTab: 'shift+tab',\n            focusTask: 'shift+f5',\n            indentLevel: 'shift+leftarrow',\n            outdentLevel: 'shift+rightarrow',\n            focusSearch: 'ctrl+shift+70',\n            contextMenu: 'shift+F10',\n            undo: 'ctrl+z',\n            redo: 'ctrl+y',\n            selectAll: 'ctrl+a'\n        };\n        this.focusModule = new FocusModule(this);\n        if (this.zoomingLevels.length === 0) {\n            this.setProperties({ zoomingLevels: this.getZoomingLevels() }, true);\n        }\n        this.resourceFieldsMapping();\n        if (isNullOrUndefined(this.resourceFields.unit)) { //set resourceUnit as unit if not mapping\n            this.setProperties({ resourceFields: { unit: 'unit' } }, true);\n        }\n        this.taskIds = [];\n    };\n    Gantt.prototype.isUndoRedoItemPresent = function (action) {\n        if (this.undoRedoModule && this.undoRedoActions && this.undoRedoActions.indexOf(action) !== -1) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getDateFormat = function () {\n        if (!isNullOrUndefined(this.dateFormat)) {\n            return this.dateFormat;\n        }\n        else {\n            var ganttDateFormat = this.globalize.getDatePattern({ skeleton: 'yMd' });\n            return ganttDateFormat;\n        }\n    };\n    /**\n     * To get timezone offset.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getDefaultTZOffset = function () {\n        var janMonth = new Date(new Date().getFullYear(), 0, 1);\n        var julMonth = new Date(new Date().getFullYear(), 6, 1); //Because there is no reagions DST inbetwwen this range\n        return Math.max(janMonth.getTimezoneOffset(), julMonth.getTimezoneOffset());\n    };\n    /**\n     * To check whether the date is in DST.\n     *\n     * @param {Date} date - Defines the date to check whether it is DST.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isInDst = function (date) {\n        return date.getTimezoneOffset() < this.getDefaultTZOffset();\n    };\n    /**\n     * Method to map resource fields.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.resourceFieldsMapping = function () {\n        var resourceSettings = this.resourceFields;\n        resourceSettings.id = !isNullOrUndefined(resourceSettings.id) ? resourceSettings.id : this.resourceIDMapping;\n        resourceSettings.name = !isNullOrUndefined(resourceSettings.name) ? resourceSettings.name : this.resourceNameMapping;\n    };\n    /**\n     * To validate height and width\n     *\n     * @param {string | number} value .\n     * @returns {string} .\n     */\n    Gantt.prototype.validateDimentionValue = function (value) {\n        if (!isNullOrUndefined(value)) {\n            if (typeof (value) === 'string' && value !== 'auto' && value.indexOf('%') === -1) {\n                return value.indexOf('px') === -1 ? value + 'px' : value;\n            }\n            else if (typeof (value) === 'number') {\n                return value + 'px';\n            }\n            else {\n                return value.toString();\n            }\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To calculate dimensions of Gantt control\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.calculateDimensions = function () {\n        var settingsHeight = this.validateDimentionValue(this.height);\n        var settingsWidth = this.validateDimentionValue(this.width);\n        if (!isNullOrUndefined(this.width) && typeof (this.width) === 'string' && this.width.indexOf('%') !== -1) {\n            settingsWidth = this.width;\n        }\n        var elementStyleHeight = this.element.style.height;\n        var elementStyleWidth = this.element.style.width;\n        if (settingsWidth) {\n            this.element.style.width = settingsWidth;\n        }\n        if (settingsHeight) {\n            this.element.style.height = settingsHeight;\n        }\n        if (!settingsHeight && !elementStyleHeight) {\n            this.element.style.height = 'auto'; // old 450px\n        }\n        if (!settingsWidth && !elementStyleWidth) {\n            this.element.style.width = 'auto';\n        }\n        this.ganttHeight = this.element.offsetHeight;\n        this.ganttWidth = this.element.offsetWidth;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.render = function () {\n        if (this.isReact) {\n            this.treeGrid.isReact = true;\n            this.treeGrid.grid.isReact = true;\n        }\n        if (this.isVue) {\n            this.treeGrid.isVue = true;\n            this.treeGrid.grid.isVue = true;\n            /* eslint-disable-next-line */\n            this.treeGrid.vueInstance = this.vueInstance;\n            /* eslint-disable-next-line */\n            this.treeGrid.grid.vueInstance = this.vueInstance;\n        }\n        this.element.setAttribute('role', 'application');\n        createSpinner({ target: this.element }, this.createElement);\n        this.trigger('load', {});\n        this.element.classList.add(cls.root);\n        if (this.isAdaptive) {\n            this.element.classList.add(cls.adaptive);\n        }\n        else {\n            this.element.classList.remove(cls.adaptive);\n        }\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.renderToolbar();\n        }\n        this.splitterModule.renderSplitter();\n        this.notify('renderPanels', null);\n        this.actionFailures();\n        if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n            this.showMaskRow();\n        }\n        else {\n            this.showSpinner();\n        }\n        if (this.dataMap) {\n            this.dataMap.clear();\n        }\n        this.dataOperation.checkDataBinding();\n    };\n    Gantt.prototype.actionFailures = function () {\n        var failureCases = [];\n        var lettersRegex = /^[a-zA-Z\\s/]+$/;\n        var allPropertiesNull = true;\n        var fields = this.taskFields['properties'];\n        var shouldBreak = false;\n        Object.keys(fields).forEach(function (key) {\n            if (fields[key] !== null) {\n                allPropertiesNull = false;\n                shouldBreak = true;\n            }\n        });\n        var isPrimary = true;\n        for (var i = 0; i < this.columns.length; i++) {\n            if (this.columns[i]['isPrimaryKey']) {\n                isPrimary = false;\n                break;\n            }\n        }\n        if (allPropertiesNull) {\n            failureCases.push('Gantt Task Fields are not configured properly. The task fields are crucial for both the project and resource views to function properly. Please ensure that the gantt task fields are properly configured!');\n        }\n        if (this.viewType === 'ResourceView') {\n            if (!this.resourceFields.id) {\n                failureCases.push('Gantt Resource Fields are not properly configured, which is crucial for the Resource View. Please ensure that the resource fields are configured correctly!');\n            }\n        }\n        if (this.dataSource instanceof DataManager && isNullOrUndefined(this.taskFields.hasChildMapping)) {\n            failureCases.push('hasChildMapping property is not configured for load-on-demand. Please ensure its properly configured in the Gantt Task Fields!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.topTier.format) && this.timelineSettings.topTier.format !== '' && !lettersRegex.test(this.timelineSettings.topTier.format)) {\n            failureCases.push('The provided top tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (!isNullOrUndefined(this.timelineSettings.bottomTier.format) && this.timelineSettings.bottomTier.format !== '' && !lettersRegex.test(this.timelineSettings.bottomTier.format)) {\n            failureCases.push('The provided bottom  tier format is invalid. Please ensure that you provide a valid format for these tier. Make sure to use only letters and avoid numbers or special characters!');\n        }\n        if (isPrimary && this.viewType !== 'ResourceView') {\n            failureCases.push('Primarykey is not configured properly. The primarykey is crucial for doing CRUD operations or map taskId in column field of gantt!');\n        }\n        if (this.eventMarkers.length > 0) {\n            this.eventMarkers.forEach(function (markers) {\n                if (!markers.day) {\n                    failureCases.push('Day is not configured properly in event markers.Please ensure that the day in event markers is properly configured!');\n                }\n            });\n        }\n        /* eslint-disable-next-line */\n        function checkModule(moduleName, settings, injectedModules, failureCases) {\n            /* eslint-disable-next-line */\n            var modules;\n            if (!isNullOrUndefined(injectedModules)) {\n                modules = injectedModules.filter(function (e) { return e.prototype.getModuleName() === moduleName; });\n            }\n            if (settings && !isNullOrUndefined(modules) && modules.length === 0) {\n                failureCases.push(\"Module \" + moduleName + \" is not available in Gantt component! You either misspelled the module name or forgot to load it!\");\n            }\n        }\n        checkModule('sort', this.allowSorting, this.injectedModules, failureCases);\n        var editSettings;\n        if (this.editSettings.allowAdding || this.editSettings.allowDeleting || this.editSettings.allowEditing ||\n            this.editSettings.allowNextRowEdit || this.editSettings.allowTaskbarEditing || this.editSettings.mode ||\n            this.editSettings.newRowPosition || this.editSettings.showDeleteConfirmDialog) {\n            editSettings = true;\n        }\n        checkModule('edit', editSettings, this.injectedModules, failureCases);\n        checkModule('reorder', this.allowReordering, this.injectedModules, failureCases);\n        checkModule('excelExport', this.allowExcelExport, this.injectedModules, failureCases);\n        var dragAndDrop;\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            dragAndDrop = true;\n        }\n        checkModule('rowDragAndDrop', dragAndDrop, this.injectedModules, failureCases);\n        checkModule('criticalPath', this.enableCriticalPath, this.injectedModules, failureCases);\n        checkModule('undoRedo', this.enableUndoRedo, this.injectedModules, failureCases);\n        checkModule('resize', this.allowResizing, this.injectedModules, failureCases);\n        var toolbar;\n        if (this.toolbar && this.toolbar.length > 0) {\n            toolbar = true;\n        }\n        checkModule('toolbar', toolbar, this.injectedModules, failureCases);\n        var filter;\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            filter = true;\n        }\n        checkModule('filter', filter, this.injectedModules, failureCases);\n        checkModule('selection', this.allowSelection, this.injectedModules, failureCases);\n        var dayMarkers;\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            dayMarkers = true;\n        }\n        checkModule('dayMarkers', dayMarkers, this.injectedModules, failureCases);\n        checkModule('contextMenu', this.enableContextMenu, this.injectedModules, failureCases);\n        checkModule('columnMenu', this.showColumnMenu, this.injectedModules, failureCases);\n        checkModule('pdfExport', this.allowPdfExport, this.injectedModules, failureCases);\n        checkModule('virtualScroll', this.enableVirtualization, this.injectedModules, failureCases);\n        if (failureCases.length > 0) {\n            /* eslint-disable-next-line */\n            var failureEventArgs_1 = {\n                error: {}\n            };\n            /* eslint-disable-next-line */\n            failureCases.forEach(function (err, index) {\n                failureEventArgs_1.error[parseInt(index, 10)] = err;\n            });\n            this.trigger('actionFailure', failureEventArgs_1);\n        }\n    };\n    Gantt.prototype.hideMaskRow = function () {\n        var isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.contentMaskTable) && (isTablePresent !== 0 || this.contentMaskTable)) {\n            var maskTable = this.contentMaskTable;\n            remove(maskTable);\n            this.contentMaskTable = null;\n        }\n        isTablePresent = this.element.querySelectorAll('.e-masked-table').length;\n        if (!isNullOrUndefined(this.headerMaskTable) && (isTablePresent !== 0 || this.headerMaskTable)) {\n            var maskTable = this.headerMaskTable;\n            remove(maskTable);\n            this.headerMaskTable = null;\n        }\n        while ((this.element.querySelectorAll('.e-table-background')).length !== 0) {\n            this.element.querySelectorAll('.e-table-background')[0].remove();\n        }\n        while ((this.element.querySelectorAll('.e-temp-timeline')).length !== 0) {\n            this.element.querySelectorAll('.e-temp-timeline')[0].remove();\n        }\n        if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n            for (var i = 0; i < this.singleTier; i++) {\n                if (!isNullOrUndefined(this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)])) {\n                    this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'visible';\n                }\n            }\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.' + cls.timelineHeaderContainer))) {\n            this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'relative';\n        }\n        if (!isNullOrUndefined(this.element.getElementsByClassName(cls.chartBodyContent)[0])) {\n            this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'visible';\n        }\n    };\n    Gantt.prototype.showMaskRow = function () {\n        var ganttHeader = this.chartPane.childNodes[0].childNodes[0];\n        this.scrollLeftValue = this.chartPane.childNodes[0].childNodes[0]['scrollLeft'];\n        var ganttContent = this.chartPane.childNodes[0].childNodes[1];\n        if (this.treeGrid.element) {\n            this.ganttChartModule['setVirtualHeight']();\n        }\n        if (!this.contentMaskTable) {\n            if (ganttContent) {\n                var content = ganttContent;\n                this.renderBackGround(content);\n                if (this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                    if (this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer).length !== 0) {\n                        this.singleTier = this.timelineModule.isSingleTier ? 1 : 2;\n                        for (var i = 0; i < this.singleTier; i++) {\n                            this.element.querySelectorAll('.' + cls.timelineHeaderTableContainer)[parseInt(i.toString(), 10)]['style'].visibility = 'hidden';\n                        }\n                    }\n                    if (this.singleTier === 0) {\n                        this.singleTier = 2;\n                    }\n                }\n                this.element.getElementsByClassName(cls.chartBodyContent)[0]['style'].visibility = 'hidden';\n                this.contentMaskTable = this.contentMaskTable = this.createMaskTable(content);\n            }\n            if (ganttHeader && this.ganttChartModule.scrollObject['isSetScrollLeft']) {\n                this.element.querySelector('.' + cls.timelineHeaderContainer)['style'].position = 'static';\n                var content = ganttHeader;\n                this.renderHeaderBackground(content);\n                this.headerMaskTable = this.headerMaskTable = this.createMaskTable(content);\n            }\n        }\n    };\n    Gantt.prototype.renderHeaderBackground = function (element) {\n        var parentElement = element;\n        // const timelineHeight: any = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        if (header) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= ((160))) + 'px; top:0px;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += ((160))) + 'px; top:0px;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    Gantt.prototype.renderBackGround = function (element) {\n        var parentElement = element;\n        // const timelineHeight: number = element.getBoundingClientRect().height;\n        var content = closest(parentElement, '.' + cls.chartBodyContainer) ? true : false;\n        if (content) {\n            var div = this.createElement('div', { className: 'e-table-background' });\n            // const tempRow: Element = this.createElement('tr', {\n            //     className: 'e-masked-row e-row', attrs: {\n            //         style: 'height: ' + timelineHeight + 'px;'\n            //     }\n            // });\n            var backgroundLines = 0;\n            var containerWidth = Math.round(element.getBoundingClientRect().width);\n            for (var i = 0; i < 3; i++) {\n                if (this.enableRtl) {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (containerWidth -= (160)) + 'px;z-index:1;'\n                        } }));\n                }\n                else {\n                    div.appendChild(this.createElement('div', { className: 'e-div-background', attrs: {\n                            style: 'left: ' + (backgroundLines += (160)) + 'px;z-index:1;'\n                        } }));\n                }\n            }\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n    };\n    /* eslint-disable-next-line */\n    Gantt.prototype.createMaskTable = function (element) {\n        var parentElement = element;\n        var shimmerContainerHeight = element.getBoundingClientRect().height;\n        var header = closest(parentElement, '.' + cls.timelineHeaderContainer) ? true : false;\n        /* eslint-disable-next-line */\n        var maskTable;\n        if (header) {\n            maskTable = this.createEmptyTimeLineTable(shimmerContainerHeight);\n            maskTable.style.position = 'sticky';\n            maskTable.style.left = 0 + 'px';\n            if (this.enableRtl) {\n                maskTable.style.removeProperty('left');\n            }\n        }\n        else {\n            maskTable = this.createEmptyMaskTable(shimmerContainerHeight);\n            maskTable.style.position = 'absolute';\n            maskTable.style.zIndex = 1;\n        }\n        if (!header) {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            parentElement.insertBefore(maskTable, parentElement.firstChild);\n        }\n        else {\n            maskTable.style.height = element.getBoundingClientRect().height + 'px';\n            var div = this.createElement('div', { className: 'e-temp-timeline' });\n            div.style.width = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] + 'px';\n            div.style.position = 'sticky';\n            if (this.enableRtl) {\n                div.style['margin-right'] = Math.abs(this.scrollLeftValue) + 'px';\n            }\n            else {\n                div.style['margin-left'] = this.scrollLeftValue + 'px';\n            }\n            div.appendChild(maskTable);\n            parentElement.insertBefore(div, parentElement.firstChild);\n        }\n        return maskTable;\n    };\n    Gantt.prototype.createEmptyTimeLineTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', {\n            className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 2 + 'px;'\n            }\n        });\n        for (var i = 0; i < this.singleTier; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        this.topBottomHeader = 0;\n        for (var i = 0; i < row.length; i++) {\n            tbody.appendChild(this.applyTimelineMaskRow(row[parseInt(i.toString(), 10)]));\n            this.topBottomHeader = this.topBottomHeader + 1;\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        return table;\n    };\n    Gantt.prototype.applyTimelineMaskRow = function (row) {\n        var maskRow = row;\n        var num = 4;\n        if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166 > 4) {\n            num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 166;\n        }\n        for (var i = 0; i < num; i++) {\n            maskRow.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n        }\n        for (var i = 0; i < maskRow.childNodes.length - 1; i++) {\n            maskRow.childNodes[parseInt(i.toString(), 10)]['style']['width'] = 166 + 'px';\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.topBottomHeader) {\n                case 0:\n                    {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                            maskCell.children[0]['style'].left = -20 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-timelineHeader\"></span>';\n                        }\n                        break;\n                    }\n                case 1:\n                    {\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        maskCell.appendChild(this.createElement('td', { className: 'e-timeline-masked-top-header-cell' }));\n                        var innerMaskCells = [].slice.call(maskCell.childNodes);\n                        for (var i_1 = 0; i_1 < innerMaskCells.length; i_1++) {\n                            var htmlInner = innerMaskCells[parseInt(i_1.toString(), 10)];\n                            if (i_1 === 0) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                    htmlInner.children[0]['style'].left = -14 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML\"></span>';\n                                }\n                            }\n                            else if (i_1 === 1) {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                    htmlInner.children[0]['style'].left = -30 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML1\"></span>';\n                                }\n                            }\n                            else {\n                                if (this.enableRtl) {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                    htmlInner.children[0]['style'].left = -60 + 'px';\n                                }\n                                else {\n                                    htmlInner.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-innerHTML2\"></span>';\n                                }\n                            }\n                        }\n                        break;\n                    }\n            }\n        }\n        return maskRow;\n    };\n    Gantt.prototype.createEmptyMaskTable = function (timelineHeight) {\n        var table = this.createElement('table', { className: 'e-table e-masked-table' });\n        var tbody = this.createElement('tbody', { className: 'e-masked-tbody' });\n        /* eslint-disable-next-line */\n        var row = [];\n        var duplicateRow = this.createElement('tr', { className: 'e-masked-row e-row', attrs: {\n                style: 'height: ' + timelineHeight / 7 + 'px;'\n            } });\n        this.columnLoop = 0;\n        for (var i = 0; i < 6; i++) {\n            row.push(duplicateRow.cloneNode(true));\n        }\n        for (var j = 0; j < row.length; j++) {\n            if (this.columnLoop < 4) {\n                this.columnLoop = this.columnLoop + 1;\n            }\n            else if (this.columnLoop === 4) {\n                this.columnLoop = 1;\n            }\n            tbody.appendChild(this.applyMaskRow(row[parseInt(j.toString(), 10)]));\n        }\n        table.appendChild(tbody);\n        table.style.width = 100 + '%';\n        var div = this.createElement('div', { className: 'e-temp-container' });\n        div.style.width = 'calc(100% - ' + 17 + 'px)';\n        div.style.overflow = 'hidden';\n        div.appendChild(table);\n        return div;\n    };\n    Gantt.prototype.applyMaskRow = function (row) {\n        var maskRow = row;\n        if (this.columnLoop < 4) {\n            var num = 2;\n            if (this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300 > 2) {\n                num = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetWidth'] / 300;\n            }\n            for (var i = 0; i < num; i++) {\n                maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n            }\n        }\n        else {\n            maskRow.appendChild(this.createElement('td', { className: 'e-masked-cell e-rowcell' }));\n        }\n        var maskCells = [].slice.call(maskRow.childNodes);\n        for (var i = 0; i < maskCells.length; i++) {\n            var maskCell = maskCells[parseInt(i.toString(), 10)];\n            switch (this.columnLoop) {\n                case 1:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell01\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell02\"></span>';\n                    }\n                    break;\n                case 2:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                            maskCell.children[0]['style'].left = -14 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell03\"></span>';\n                        }\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell04\"></span>';\n                    }\n                    break;\n                case 3:\n                    if (i === 0) {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                            maskCell.children[0]['style'].left = -64 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell05\"></span>';\n                        }\n                    }\n                    else {\n                        if (this.enableRtl) {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                            maskCell.children[0]['style'].left = -192 + 'px';\n                        }\n                        else {\n                            maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell06\"></span>';\n                        }\n                    }\n                    break;\n                case 4:\n                    if (this.enableRtl) {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                        maskCell.children[0]['style'].left = -388 + 'px';\n                    }\n                    else {\n                        maskCell.innerHTML = '<span class=\"e-mask e-skeleton e-skeleton-text e-shimmer-wave e-maskcell07\"></span>';\n                    }\n                    break;\n            }\n        }\n        return maskRow;\n    };\n    /**\n     * Method used to show spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.showSpinner = function () {\n        showSpinner(this.element);\n    };\n    /**\n     * Method used to hide spinner.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.hideSpinner = function () {\n        hideSpinner(this.element);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.processTimeline = function () {\n        this.timelineModule.processTimelineUnit();\n        this.timelineModule.calculateZoomingLevelsPerDayWidth(); // To calculate the perDaywidth\n    };\n    /**\n     * @param {boolean} isChange -Defines whether task data is changed.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderGantt = function (isChange) {\n        if (isChange) {\n            this.isFromOnPropertyChange = isChange;\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n        }\n        var flatData = this.flatData;\n        var flatDataCollection = new Map();\n        if (flatData != null) {\n            for (var _i = 0, flatData_1 = flatData; _i < flatData_1.length; _i++) {\n                var record = flatData_1[_i];\n                flatDataCollection.set(record.ganttProperties.rowUniqueID.toString(), record);\n            }\n        }\n        if (this.allowParentDependency) {\n            this.predecessorModule.updateParentPredecessor(flatDataCollection);\n        }\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.predecessorModule['parentIds'] = [];\n            this.predecessorModule['parentRecord'] = [];\n            this.predecessorModule.updatePredecessors(flatDataCollection);\n            if (this.isInPredecessorValidation && this.enableValidation && this.autoCalculateDateScheduling &&\n                !(this.isLoad && !this.treeGrid.loadChildOnDemand && this.taskFields.hasChildMapping)) {\n                this.predecessorModule.updatedRecordsDateByPredecessor(flatDataCollection);\n            }\n        }\n        if (this.enableValidation) {\n            this.dataOperation.calculateProjectDates();\n            this.timelineModule.validateTimelineProp();\n            this.dataOperation.updateGanttData();\n        }\n        if (isChange) {\n            if (this.dataSource instanceof Object && isCountRequired(this)) {\n                var count = getValue('count', this.dataSource);\n                this.treeGrid.dataSource = { result: this.flatData, count: count };\n            }\n            else {\n                this.treeGrid.setProperties({ dataSource: this.flatData }, false);\n            }\n            if (!isNullOrUndefined(this.selectionModule)) {\n                this.treeGrid.setProperties({ selectedRowIndex: this.selectedRowIndex }, false);\n            }\n        }\n        else {\n            this.treeGridPane.classList.remove('e-temp-content');\n            if (!isNullOrUndefined(this.treeGridPane.querySelector('.e-gantt-temp-header'))) {\n                remove(this.treeGridPane.querySelector('.e-gantt-temp-header'));\n            }\n            this.notify('dataReady', {});\n            if (this.enableContextMenu) {\n                this.notify('initiate-contextMenu', {});\n            }\n            var height = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? (this.rowHeight === 36) ? 46 : this.rowHeight : this.rowHeight;\n            this.rowHeight = isNullOrUndefined(this.rowHeight) ? 36 : height;\n            this.renderTreeGrid();\n            this.wireEvents();\n            this.notify('initPredessorDialog', {});\n        }\n        if (!this.isFromOnPropertyChange) {\n            this.splitterModule.updateSplitterPosition();\n        }\n        if ((this.gridLines === 'Vertical' || this.gridLines === 'Both') && (!this.dayMarkersModule)) {\n            this.renderChartVerticalLines();\n        }\n    };\n    Gantt.prototype.removeCriticalPathStyles = function () {\n        var ganttChartElement = this.ganttChartModule.chartElement;\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-gantt-child-progressbar-inner-div'), cls.criticalChildProgressBarInnerDiv);\n        removeClass(ganttChartElement.querySelectorAll('.e-critical-milestone'), cls.criticalMilestone);\n        removeClass(this.element.querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n        removeClass(this.element.querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n    };\n    Gantt.prototype.wireEvents = function () {\n        if (this.allowKeyboard) {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfig,\n                eventName: 'keydown'\n            });\n        }\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document.body, 'keydown', this.keyDownHandler, this);\n    };\n    Gantt.prototype.unwireEvents = function () {\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n            this.keyboardModule = null;\n        }\n        /* eslint-disable-next-line */\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document.body, 'keydown', this.keyDownHandler);\n    };\n    Gantt.prototype.keyDownHandler = function (e) {\n        if (e.altKey) {\n            if (e.keyCode === 74) { //alt j\n                this.ganttChartModule.manageFocus(this.treeGrid.element.childNodes[1], 'remove', false);\n                this.ganttChartModule.manageFocus(this.element, 'add', false);\n            }\n        }\n    };\n    /**\n     * Method trigger while user perform window resize.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.windowResize = function () {\n        var _this = this;\n        if (!isNullOrUndefined(this.element)) {\n            this.updateContentHeight();\n            this.ganttChartModule.updateWidthAndHeight(); // Updating chart scroll conatiner height for row mismatch\n            this.treeGridModule.ensureScrollBar();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.updateRowHeightInConnectorLine(this.updatedConnectorLineCollection);\n                this.connectorLineModule.renderConnectorLines(this.updatedConnectorLineCollection);\n            }\n            var criticalModule = this.criticalPathModule;\n            if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n            }\n            this.calculateDimensions();\n            var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n            var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n            this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n            this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n            if (this.timelineModule.isZoomedToFit) {\n                setTimeout(function () {\n                    _this.timelineModule.processZoomToFit();\n                }, 0);\n            }\n        }\n        if (this.dayMarkersModule && this.dayMarkersModule['eventMarkerRender']) {\n            this.dayMarkersModule['eventMarkerRender'].updateContainerHeight();\n        }\n        if (this.enableTimelineVirtualization) {\n            this.timelineModule.refreshTimeline();\n        }\n    };\n    Gantt.prototype.keyActionHandler = function (e) {\n        if (this.enableContextMenu && this.contextMenuModule && (e.action === 'downArrow' || e.action === 'upArrow') && document.getElementById(this.element.id + '_contextmenu') && this['args']) {\n            var firstMenuItem = this['args'];\n            if (!isNullOrUndefined(firstMenuItem)) {\n                (firstMenuItem).focus();\n            }\n        }\n        if ((e.target && (e.action === 'downArrow' || e.action === 'upArrow') && e.target === this.element.querySelector('.e-rowcell')) ||\n            (e.target && e.action === 'escape' && this.treeGrid.grid.columnMenuModule &&\n                this.treeGrid.grid.columnMenuModule['columnMenu'].element.style.display === 'block')) {\n            this.treeGrid.grid.notify('key-pressed', e);\n        }\n        else {\n            this.focusModule.onKeyPress(e);\n        }\n    };\n    /**\n     * Method for updating row height value in connector line collections\n     *\n     * @param {IConnectorLineObject[]} collection  -Defines the CollectorLine collection.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateRowHeightInConnectorLine = function (collection) {\n        if (collection && collection.length) {\n            var rowHeight = !isNullOrUndefined(this.ganttChartModule) && this.ganttChartModule.getChartRows()[0]\n                && this.ganttChartModule.getChartRows()[0].getBoundingClientRect().height;\n            if (rowHeight && !isNaN(rowHeight)) {\n                for (var count = 0; count < collection.length; count++) {\n                    collection[count].rowHeight = rowHeight;\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderToolbar = function () {\n        if (!isNullOrUndefined(this.toolbarModule)) {\n            this.toolbarModule.renderToolbar();\n            this.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderTreeGrid = function () {\n        this.treeGridModule.renderTreeGrid();\n    };\n    Gantt.prototype.updateCurrentViewData = function () {\n        var _this = this;\n        this.currentViewData = this.treeGrid.getCurrentViewRecords().slice();\n        if (this.currentViewData.length > 0 && this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.isLoad = true;\n            this.flatData = [];\n            this.dataOperation.taskIds = [];\n            this.ids = [];\n            this.dataOperation.recordIndex = 0;\n            this.dataOperation.dataArray = this.currentViewData;\n            this.dataOperation.cloneDataSource();\n            if (this.predecessorModule && this.taskFields.dependency) {\n                this.predecessorModule['parentIds'] = [];\n                this.predecessorModule['parentRecord'] = [];\n                this.predecessorModule.updatePredecessors();\n            }\n            /* eslint-disable-next-line */\n            var gridData = this.treeGrid.grid.contentModule['rows'];\n            /* eslint-disable-next-line */\n            var data = gridData.filter(function (x) {\n                if (x['data'][_this.taskFields.id] === _this.flatData[0].ganttProperties.taskId) {\n                    return x;\n                }\n            })[0];\n            var index = data['index'];\n            for (var i = 0; i < this.flatData.length; i++) {\n                this.flatData[i].index = index;\n                index++;\n            }\n            this.currentViewData = this.flatData;\n            this.treeGrid.grid.currentViewData = this.flatData;\n            if (!isNullOrUndefined(this.treeGrid['virtualScrollModule'])) {\n                this.treeGrid['virtualScrollModule'].visualData = this.flatData;\n                this.updatedRecords = this.flatData;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} records -Defines the delete record collections.\n     * @returns {IGanttData} .\n     * @private\n     */\n    Gantt.prototype.getRecordFromFlatdata = function (records) {\n        var updatedRecord = [];\n        for (var i = 0; i < records.length; i++) {\n            updatedRecord.push(this.getTaskByUniqueID(records[i].uniqueID));\n        }\n        return updatedRecord;\n    };\n    /**\n     * @param {object} args -Update the gantt element content height.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateContentHeight = function (args) {\n        if ((!this.allowTaskbarOverlap && !this.ganttChartModule.isCollapseAll && !this.ganttChartModule.isExpandAll) && !this.isLoad) {\n            return;\n        }\n        else {\n            if (this.virtualScrollModule && this.enableVirtualization && !isNullOrUndefined(args)) {\n                var length_1 = getValue('result.length', args);\n                this.contentHeight = length_1 * this.rowHeight;\n            }\n            else {\n                var expandedRecords = this.virtualScrollModule && this.enableVirtualization ?\n                    this.currentViewData : this.getExpandedRecords(this.currentViewData);\n                this.expandedRecords = expandedRecords;\n                var height = void 0;\n                var chartRow = (!isNullOrUndefined(this.ganttChartModule) &&\n                    !isNullOrUndefined(this.ganttChartModule.getChartRows())) ? this.ganttChartModule.getChartRows()[0] : null;\n                if (!isNullOrUndefined(chartRow) && chartRow.offsetHeight > 0) {\n                    height = chartRow.offsetHeight;\n                }\n                else {\n                    height = this.rowHeight;\n                }\n                this.contentHeight = expandedRecords.length * height;\n            }\n        }\n    };\n    /**\n     * To get expand status.\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.getExpandStatus = function (data) {\n        var parentRecord = this.getParentTask(data.parentItem);\n        if (!isNullOrUndefined(parentRecord)) {\n            if (parentRecord.expanded === false) {\n                return false;\n            }\n            else if (parentRecord.parentItem) {\n                var parentData = this.getParentTask(parentRecord.parentItem);\n                if (parentData.expanded === false) {\n                    return false;\n                }\n                else {\n                    return this.getExpandStatus(this.getParentTask(parentRecord.parentItem));\n                }\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    /**\n     * Get expanded records from given record collection.\n     *\n     * @param {IGanttData[]} records - Defines record collection.\n     * @returns {IGanttData[]} .\n     */\n    Gantt.prototype.getExpandedRecords = function (records) {\n        var _this = this;\n        if (isNullOrUndefined(records)) {\n            return [];\n        }\n        var expandedRecords = records.filter(function (record) {\n            return _this.getExpandStatus(record) === true;\n        });\n        this.expandedRecords = expandedRecords;\n        return expandedRecords;\n    };\n    /**\n     * Getting the Zooming collections of the Gantt control\n     *\n     * @returns {ZoomTimelineSettings} .\n     * @private\n     */\n    Gantt.prototype.getZoomingLevels = function () {\n        var _WeekStartDay = this.timelineSettings.weekStartDay;\n        var zoomingLevels = [\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 50 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 10 }, timelineUnitSize: 99, level: 0,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 20 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 5 }, timelineUnitSize: 99, level: 1,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 5 },\n                bottomTier: { unit: 'Year', format: 'yyyy', count: 1 }, timelineUnitSize: 99, level: 2,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 66, level: 3,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayHalfValue, count: 6\n                }, timelineUnitSize: 99, level: 4,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'MMM, yy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 66, level: 5,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: {\n                    unit: 'Month', formatter: this.displayQuarterValue, count: 3\n                }, timelineUnitSize: 99, level: 6,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Year', format: 'yyyy', count: 1 },\n                bottomTier: { unit: 'Month', format: 'MMM yyyy', count: 1 }, timelineUnitSize: 99, level: 7,\n                timelineViewMode: 'Year', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd', count: 1 }, timelineUnitSize: 33, level: 8,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 66, level: 9,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Month', format: 'MMM, yyyy', count: 1 },\n                bottomTier: { unit: 'Week', format: 'dd MMM', count: 1 }, timelineUnitSize: 99, level: 10,\n                timelineViewMode: 'Month', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 33, level: 11,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 66, level: 12,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Week', format: 'MMM dd, yyyy', count: 1 },\n                bottomTier: { unit: 'Day', format: 'd', count: 1 }, timelineUnitSize: 99, level: 13,\n                timelineViewMode: 'Week', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 66, level: 14,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 12 }, timelineUnitSize: 99, level: 15,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 66, level: 16,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 6 }, timelineUnitSize: 99, level: 17,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 66, level: 18,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 2 }, timelineUnitSize: 99, level: 19,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 66, level: 20,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Day', format: 'E dd yyyy', count: 1 },\n                bottomTier: { unit: 'Hour', format: 'hh a', count: 1 }, timelineUnitSize: 99, level: 21,\n                timelineViewMode: 'Day', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 30 }, timelineUnitSize: 66, level: 22,\n                timelineViewMode: 'Hour', weekStartDay: 0, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 15 }, timelineUnitSize: 66, level: 23,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            },\n            {\n                topTier: { unit: 'Hour', format: 'ddd MMM, h a', count: 1 },\n                bottomTier: { unit: 'Minutes', format: 'mm', count: 1 }, timelineUnitSize: 66, level: 24,\n                timelineViewMode: 'Hour', weekStartDay: _WeekStartDay, updateTimescaleView: true, weekendBackground: null, showTooltip: true\n            }\n        ];\n        return zoomingLevels;\n    };\n    Gantt.prototype.displayQuarterValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 2) {\n            return 'Q1';\n        }\n        else if (month >= 3 && month <= 5) {\n            return 'Q2';\n        }\n        else if (month >= 6 && month <= 8) {\n            return 'Q3';\n        }\n        else {\n            return 'Q4';\n        }\n    };\n    Gantt.prototype.displayHalfValue = function (date) {\n        var month = date.getMonth();\n        if (month >= 0 && month <= 5) {\n            return 'H1';\n        }\n        else {\n            return 'H2';\n        }\n    };\n    /**\n     *\n     * @param {Date} date .\n     * @param {string} format .\n     * @returns {string} .\n     */\n    Gantt.prototype.getFormatedDate = function (date, format) {\n        if (isNullOrUndefined(date)) {\n            return null;\n        }\n        if (isNullOrUndefined(format)) {\n            format = this.getDateFormat();\n        }\n        return this.globalize.formatDate(date, { format: format });\n    };\n    /**\n     * Get duration value as string combined with duration and unit values.\n     *\n     * @param {number} duration - Defines the duration.\n     * @param {string} durationUnit - Defines the duration unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getDurationString = function (duration, durationUnit) {\n        var value = this.dateValidationModule.getDurationString(duration, durationUnit);\n        return value;\n    };\n    /**\n     * Get work value as string combined with work and unit values.\n     *\n     * @param {number} work - Defines the work value.\n     * @param {string} workUnit - Defines the work unit.\n     * @returns {string} .\n     */\n    Gantt.prototype.getWorkString = function (work, workUnit) {\n        var value = this.dateValidationModule.getWorkString(work, workUnit);\n        return value;\n    };\n    Gantt.prototype.updateTreeColumns = function () {\n        var temp;\n        // let field: string;\n        var gridColumns = this.treeGrid.grid.getColumns();\n        if (this.treeColumnIndex !== -1 && this.columns[this.treeColumnIndex] &&\n            !isNullOrUndefined(this.columns[this.treeColumnIndex]['template'])) {\n            temp = this.columns[this.treeColumnIndex]['template'];\n            // field = this.columns[this.treeColumnIndex]['field'];\n        }\n        var gridColumn;\n        for (var i = 0; i < gridColumns.length; i++) {\n            gridColumn = {};\n            for (var j = 0; j < this.columns.length; j++) {\n                if (this.columns[j]['field'] === gridColumns[i].field) {\n                    for (var _i = 0, _a = Object.keys(this.columns[j]); _i < _a.length; _i++) {\n                        var prop = _a[_i];\n                        if (!isUndefined(this.columns[j][prop])) {\n                            gridColumn[prop] = gridColumns[i][prop];\n                        }\n                        gridColumn.visible = gridColumns[i].visible;\n                        gridColumn.width = gridColumns[i].width;\n                    }\n                    this.columns[j] = (gridColumn);\n                    if (this.columns[j]['type'] !== 'checkbox' && (!isNullOrUndefined(temp) && temp !== '')) {\n                        this.columns[j]['template'] = temp;\n                    }\n                }\n            }\n        }\n        if (this.columns.length > 0) {\n            this.treeGrid.setProperties({ columns: this.columns }, true);\n        }\n    };\n    /**\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.treeDataBound = function (args) {\n        var _this = this;\n        if (this.isLoad && this.undoRedoModule) {\n            if (this.sortSettings.columns.length > 0) {\n                this.undoRedoModule['previousSortedColumns'] = this.sortSettings.columns;\n            }\n            else if (this.searchSettings.key !== '') {\n                this.undoRedoModule['searchString'] = this.searchSettings.key;\n            }\n        }\n        this.element.getElementsByClassName('e-chart-root-container')[0]['style'].height = '100%';\n        // let gridHeight: string = this.element.getElementsByClassName('e-gridcontent')[0]['style'].height;\n        var gridContent = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0];\n        gridContent.setAttribute('tabindex', '0');\n        var treeGridrole = this.element.getElementsByClassName('e-gridcontent')[0].childNodes[0].childNodes[0];\n        treeGridrole.setAttribute('role', 'treegrid');\n        var timelineContainer = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n        // gridHeight = 'calc(100% - ' + timelineContainer + 'px)';\n        // this.element.getElementsByClassName('e-chart-scroll-container e-content')[0]['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        var scrollContainer = this.element.getElementsByClassName('e-chart-scroll-container e-content')[0];\n        scrollContainer['style'].height = 'calc(100% - ' + timelineContainer + 'px)';\n        scrollContainer.setAttribute('tabindex', '0');\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.splitterElement.style.height = 'calc(100% - ' + this.toolbarModule.element.offsetHeight + 'px)';\n        }\n        else {\n            this.splitterElement.style.height = '100%';\n        }\n        if (this.filterSettings && this.filterSettings['properties'] && this.filterSettings['properties'].columns) {\n            this.filterSettings['properties'].columns.forEach(function (column) {\n                var searchString = column.properties.field;\n                var matchedObject = null;\n                for (var i = 0; i < _this.treeGrid.columns.length; i++) {\n                    var treeColumn = _this.treeGrid.columns[i];\n                    if (treeColumn['field'] === searchString) {\n                        matchedObject = treeColumn;\n                        break;\n                    }\n                }\n                if (matchedObject && column.properties.uid !== matchedObject['uid']) {\n                    column.properties.uid = matchedObject['uid'];\n                }\n            });\n        }\n        if (this.isLoad) {\n            if (this.enablePersistence) {\n                this.updateTreeColumns();\n            }\n            this.updateCurrentViewData();\n            if (!this.enableVirtualization) {\n                this.updateContentHeight();\n            }\n            else if (this.virtualScrollModule && this.enableVirtualization) {\n                this.ganttChartModule.virtualRender.adjustTable();\n                this.ganttChartModule.scrollObject.updateTopPosition();\n            }\n            if (!this.isTreeGridRendered) {\n                this.isTreeGridRendered = true;\n                // let toolbarHeight: number = 0;\n                // if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n                //     toolbarHeight = this.toolbarModule.element.offsetHeight;\n                // }\n                if (this.timelineModule.isSingleTier) {\n                    this.element.classList.add(cls.ganttSingleTimeline);\n                }\n                else {\n                    this.element.classList.remove(cls.ganttSingleTimeline);\n                }\n                var timelineContainer_1 = this.element.getElementsByClassName('e-timeline-header-container')[0]['offsetHeight'];\n                scrollContainer['style'].height = 'calc(100% - ' + timelineContainer_1 + 'px)';\n                this.treeGrid.setProperties({ height: '100%' }, false);\n                this.notify('tree-grid-created', {});\n                this.createGanttPopUpElement();\n                if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.hideMaskRow();\n                }\n                else {\n                    this.hideSpinner();\n                }\n                setValue('isGanttCreated', true, args);\n                this.renderComplete();\n            }\n        }\n        else {\n            this.getCurrentRecords(args);\n        }\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            this.updateContentHeight();\n        }\n        if (this.enableCriticalPath && this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n        }\n        this.notify('recordsUpdated', {});\n        for (var i = 0; i < document.getElementsByClassName('e-timeline-header-table-container').length; i++) {\n            for (var j = 0; j < document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children.length; j++) {\n                var childElement = document.getElementsByClassName('e-timeline-header-table-container')[i].children[0].children[0].children[j].children[0];\n                if (childElement) {\n                    childElement.setAttribute('tabindex', '-1');\n                }\n            }\n        }\n        var criticalModule = this.criticalPathModule;\n        if (this.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        this.initialChartRowElements = this.ganttChartModule.getChartRows();\n        this.isLoad = false;\n        this.isExpandPerformed = !this.enableVirtualization ? false : this.isExpandPerformed;\n        if (!this.isExpandPerformed) {\n            this.previousFlatData = extend([], this.flatData, [], true);\n        }\n        this.trigger('dataBound', args);\n    };\n    /**\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.getCurrentRecords = function (args) {\n        if (this.predecessorModule && this.taskFields.dependency) {\n            this.connectorLineModule.removePreviousConnectorLines(this.currentViewData);\n        }\n        this.updateCurrentViewData();\n        if (!this.enableVirtualization) {\n            this.updateContentHeight();\n        }\n        // this.chartRowsModule.refreshGanttRows();\n        if (this.virtualScrollModule && this.enableVirtualization) {\n            this.ganttChartModule.virtualRender.adjustTable();\n            this.ganttChartModule.scrollObject.updateTopPosition();\n        }\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @param {GanttModel} newProp - Defines the New GanttModel.\n     * @param {GanttModel} oldProp - Defines the old GanttModel.\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Gantt.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var isRefresh = false;\n        // eslint-disable-next-line\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowSelection':\n                case 'allowRowDragAndDrop':\n                case 'allowFiltering':\n                case 'showColumnMenu':\n                case 'allowResizing':\n                case 'allowReordering':\n                case 'allowSorting':\n                case 'enableImmutableMode':\n                    this.treeGrid[prop] = this[prop];\n                    this.treeGrid.dataBind();\n                    break;\n                case 'workWeek':\n                    this.dataOperation.getNonWorkingDayIndex();\n                    this.dataOperation.reUpdateGanttData();\n                    this.chartRowsModule.initiateTemplates();\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                    }\n                    this.chartRowsModule.refreshGanttRows();\n                    this.treeGrid.refreshColumns();\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'toolbar':\n                    this.notify('ui-toolbarupdate', { module: 'toolbar', properties: newProp });\n                    break;\n                case 'columnMenuItems':\n                    this.treeGrid.grid.columnMenuItems =\n                        getActualProperties(this.columnMenuItems);\n                    break;\n                case 'eventMarkers':\n                case 'highlightWeekends':\n                    this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    break;\n                case 'sortSettings':\n                    this.treeGrid.sortSettings = getActualProperties(this.sortSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'timelineSettings':\n                    this.timelineModule.refreshTimeline();\n                    break;\n                case 'rowHeight':\n                case 'taskbarHeight':\n                    this.treeGrid.rowHeight = this.rowHeight;\n                    this.treeGrid.dataBind();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    if (this.taskFields.dependency) {\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'timezone':\n                    this.dataOperation.checkDataBinding(true);\n                    break;\n                case 'enableCriticalPath':\n                    if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.hideMaskRow();\n                    }\n                    else {\n                        this.hideSpinner();\n                    }\n                    if (this.enableCriticalPath && this.criticalPathModule) {\n                        this.criticalPathModule.showCriticalPath(this.enableCriticalPath);\n                        var criticalModule = this.criticalPathModule;\n                        if (criticalModule.criticalPathCollection) {\n                            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                        }\n                    }\n                    else {\n                        this.removeCriticalPathStyles();\n                    }\n                    break;\n                case 'filterSettings':\n                    if (isNullOrUndefined(newProp.filterSettings)) {\n                        this.filterSettings.columns = [];\n                    }\n                    this.treeGrid.filterSettings = getActualProperties(this.filterSettings);\n                    this.treeGrid.dataBind();\n                    break;\n                case 'gridLines':\n                    this.treeGrid.gridLines = this.gridLines;\n                    this.treeGrid.dataBind();\n                    this.renderChartGridLines();\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule.toolTipObj) {\n                        this.tooltipModule.toolTipObj.destroy();\n                    }\n                    this.tooltipModule.createTooltip();\n                    break;\n                case 'splitterSettings':\n                    this.splitterModule.updateSplitterPosition();\n                    break;\n                case 'selectionSettings':\n                    this.treeGrid.selectionSettings = getActualProperties(this.selectionSettings);\n                    this.treeGrid.grid.selectionSettings.enableToggle = this.selectionSettings.enableToggle;\n                    this.treeGrid.dataBind();\n                    break;\n                case 'searchSettings':\n                    if (newProp.searchSettings.key !== ('' || undefined)) {\n                        this.treeGrid.grid.searchSettings = getActualProperties(this.searchSettings);\n                        this.treeGrid.grid.dataBind();\n                    }\n                    this.treeGrid.searchSettings = getActualProperties(this.searchSettings);\n                    this.treeGrid.dataBind();\n                    if (this.toolbarModule) {\n                        this.toolbarModule.updateSearchTextBox();\n                    }\n                    break;\n                case 'labelSettings':\n                case 'renderBaseline':\n                case 'baselineColor':\n                    this.isFromRenderBaseline = true;\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isFromRenderBaseline = false;\n                    break;\n                case 'resourceIDMapping':\n                case 'resourceNameMapping':\n                case 'resources':\n                    this.dataOperation.reUpdateResources();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    break;\n                case 'includeWeekend':\n                case 'allowUnscheduledTasks':\n                case 'holidays':\n                    this.isLoad = true;\n                    if (prop === 'holidays') {\n                        this.totalHolidayDates = this.dataOperation.getHolidayDates();\n                        this.notify('ui-update', { module: 'day-markers', properties: newProp });\n                    }\n                    this.dataOperation.reUpdateGanttData();\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.chartRowsModule.refreshGanttRows();\n                    this.isLoad = false;\n                    if (this.taskFields.dependency) {\n                        this.predecessorModule.updatedRecordsDateByPredecessor();\n                        this.treeGrid.refreshColumns();\n                        this.chartRowsModule.refreshGanttRows();\n                    }\n                    break;\n                case 'dayWorkingTime':\n                case 'weekWorkingTime':\n                    isRefresh = true;\n                    break;\n                case 'addDialogFields':\n                case 'editDialogFields':\n                    if (this.editModule && this.editModule.dialogModule) {\n                        this.editModule.dialogModule.processDialogFields();\n                    }\n                    break;\n                case 'columns':\n                    this.treeGridModule.treeGridColumns = [];\n                    this.treeGridModule.validateGanttColumns();\n                    this.treeGrid.columns = this.treeGridModule.treeGridColumns;\n                    this.treeGrid.refreshColumns();\n                    this.chartRowsModule.initiateTemplates();\n                    this.timelineModule.updateChartByNewTimeline();\n                    break;\n                case 'width':\n                case 'height':\n                    this.reUpdateDimention(prop);\n                    break;\n                case 'editSettings':\n                    this.treeGrid.editSettings.allowAdding = this.editSettings.allowAdding;\n                    this.treeGrid.editSettings.allowDeleting = this.editSettings.allowDeleting;\n                    this.treeGrid.editSettings.showDeleteConfirmDialog = this.editSettings.showDeleteConfirmDialog;\n                    this.treeGrid.editSettings.allowEditing = this.editSettings.allowEditing;\n                    this.treeGrid.editSettings.allowNextRowEdit = this.editSettings.allowNextRowEdit;\n                    if (!isNullOrUndefined(this.editModule)) {\n                        this.editModule.reUpdateEditModules();\n                    }\n                    if (!isNullOrUndefined(this.toolbarModule)) {\n                        this.toolbarModule.refreshToolbarItems();\n                    }\n                    break;\n                case 'connectorLineBackground':\n                case 'connectorLineWidth':\n                    if (this.taskFields.dependency) {\n                        this.connectorLineModule.initPublicProp();\n                        this.ganttChartModule.reRenderConnectorLines();\n                    }\n                    break;\n                case 'treeColumnIndex':\n                    this.treeGrid.treeColumnIndex = this.treeColumnIndex;\n                    break;\n                case 'projectStartDate':\n                case 'projectEndDate':\n                    this.timelineModule.isZoomToFit = false;\n                    this.dataOperation.calculateProjectDates();\n                    this.updateProjectDates(this.cloneProjectStartDate, this.cloneProjectEndDate, this.isTimelineRoundOff);\n                    break;\n                case 'selectedRowIndex':\n                    if (!isNullOrUndefined(this.selectionModule)) {\n                        this.selectionModule.selectRowByIndex();\n                    }\n                    break;\n                case 'dataSource':\n                    this.isLoad = true;\n                    if (this.isReact) {\n                        this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n                    }\n                    this.closeGanttActions();\n                    if (this.dataSource instanceof Object && isCountRequired(this)) {\n                        // In order to bind the observable data at load time, hasChildMapping is necessary to be mapped.\n                        this.treeGrid.hasChildMapping = 'isParent';\n                        var count = getValue('count', this.dataSource);\n                        this.treeGrid.dataSource = { result: this.flatData, count: count };\n                    }\n                    else {\n                        this.treeGrid.hasChildMapping = null;\n                    }\n                    this.dataOperation.checkDataBinding(true);\n                    this.isLoad = false;\n                    break;\n                case 'enableContextMenu':\n                case 'contextMenuItems':\n                    if (this.enableContextMenu || prop === 'contextMenuItems') {\n                        this.notify('reRender-contextMenu', { module: 'contextMenu', enable: true });\n                    }\n                    else {\n                        this.treeGrid.contextMenuItems = [];\n                    }\n                    this.treeGrid.dataBind();\n                    break;\n                case 'currencyCode':\n                case 'locale':\n                case 'enableRtl':\n                case 'readOnly':\n                case 'viewType':\n                case 'taskFields':\n                case 'allowTaskbarDragAndDrop':\n                case 'allowTaskbarOverlap':\n                case 'allowParentDependency':\n                case 'enableMultiTaskbar':\n                    if (prop === 'locale') {\n                        this.isLocaleChanged = true;\n                    }\n                    if (prop === 'taskFields') {\n                        if (!isNullOrUndefined(newProp.taskFields.child)) {\n                            return;\n                        }\n                    }\n                    if (prop !== 'allowTaskbarDragAndDrop') {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'validateManualTasksOnLinking':\n                    this.validateManualTasksOnLinking = newProp.validateManualTasksOnLinking;\n                    break;\n                case 'showOverAllocation':\n                    this.updateOverAllocationCotainer();\n                    break;\n            }\n        }\n        if (isRefresh) {\n            if (this.isLoad && this.contentMaskTable) {\n                this.contentMaskTable = null;\n            }\n            this.refresh();\n        }\n    };\n    Gantt.prototype.updateOverAllocationCotainer = function () {\n        if (this.showOverAllocation) {\n            this.ganttChartModule.renderOverAllocationContainer();\n        }\n        else {\n            var rangeContainer = this.element.querySelector('.' + cls.rangeContainer);\n            if (rangeContainer) {\n                rangeContainer.innerHTML = '';\n            }\n        }\n    };\n    /**\n     * Returns the properties to be maintained in persisted state.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getPersistData = function () {\n        var keyEntity = ['sortSettings',\n            'filterSettings', 'columns', 'searchSettings', 'selectedRowIndex', 'treeColumnIndex', 'currentZoomingLevel', 'cloneProjectStartDate', 'cloneProjectEndDate', 'splitterSettings'];\n        var ignoreOnPersist = {\n            filterSettings: ['type', 'mode', 'showFilterBarStatus', 'immediateModeDelay', 'ignoreAccent', 'hierarchyMode'],\n            searchSettings: ['fields', 'operator', 'ignoreCase'],\n            sortSettings: [], columns: [], selectedRowIndex: []\n        };\n        var ignoreOnColumn = ['filter', 'edit', 'filterBarTemplate', 'headerTemplate', 'template',\n            'commandTemplate', 'commands', 'dataSource'];\n        for (var i = 0; i < keyEntity.length; i++) {\n            var currentObject = this[keyEntity[i]];\n            for (var k = 0, val = ignoreOnPersist[keyEntity[i]]; (!isNullOrUndefined(val) && k < val.length); k++) {\n                var objVal = val[k];\n                delete currentObject[objVal];\n            }\n        }\n        this.ignoreInArrays(ignoreOnColumn, this.columns);\n        return this.addOnPersist(keyEntity);\n    };\n    Gantt.prototype.ignoreInArrays = function (ignoreOnColumn, columns) {\n        for (var i = 0; i < columns.length; i++) {\n            this.ignoreInColumn(ignoreOnColumn, columns[i]);\n        }\n    };\n    Gantt.prototype.ignoreInColumn = function (ignoreOnColumn, column) {\n        for (var i = 0; i < ignoreOnColumn.length; i++) {\n            delete column[ignoreOnColumn[i]];\n            column.filter = {};\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.destroy = function () {\n        this.notify('destroy', {});\n        this.unwireEvents();\n        if (!isNullOrUndefined(this.validationDialogElement) && !this.validationDialogElement.isDestroyed) {\n            this.validationDialogElement.destroy();\n        }\n        var modules = ['ganttChartModule', 'timelineModule', 'chartRowsModule',\n            'treeGridModule', 'ganttDataUpdatesModule', 'dateValidationModule', 'tooltipModule'];\n        for (var i = 0; i < modules.length; i++) {\n            if (this[modules[i]]) {\n                this[modules[i]] = null;\n            }\n        }\n        if (this.keyboardModule) {\n            this.keyboardModule.destroy();\n        }\n        if (this.editModule && this.editModule.dialogModule) {\n            this.editModule.dialogModule.destroy();\n        }\n        if (this.splitterModule) {\n            this.splitterModule['destroy']();\n        }\n        if (this.toolbarModule && this.toolbarModule.toolbar) {\n            this.toolbarModule.toolbar.destroy();\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            if (!isNullOrUndefined(this.dayMarkersModule['eventMarkerRender']) && !isNullOrUndefined(this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer)) {\n                this.dayMarkersModule['eventMarkerRender'].eventMarkersContainer = null;\n            }\n            if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender)) {\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender.nonworkingContainer)) {\n                    this.dayMarkersModule.nonworkingDayRender.nonworkingContainer = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['weekendContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['weekendContainer'] = null;\n                }\n                if (!isNullOrUndefined(this.dayMarkersModule.nonworkingDayRender['holidayContainer'])) {\n                    this.dayMarkersModule.nonworkingDayRender['holidayContainer'] = null;\n                }\n            }\n        }\n        if (this.connectorLineModule) {\n            this.connectorLineModule.dependencyViewContainer = null;\n            this.connectorLineModule.svgObject = null;\n            this.connectorLineModule.renderer = null;\n            this.connectorLineModule.tooltipTable = null;\n        }\n        this.treeGridPane = null;\n        this.chartPane = null;\n        this.initialChartRowElements = null;\n        _super.prototype.destroy.call(this);\n        this.chartVerticalLineContainer = null;\n        this.element.innerHTML = '';\n        removeClass([this.element], cls.root);\n        this.element.innerHTML = '';\n        this.isTreeGridRendered = false;\n        this.resetTemplates();\n        this.dataOperation['uid'] = null;\n    };\n    /**\n     * Method to get taskbarHeight.\n     *\n     * @returns {number} .\n     * @public\n     */\n    Gantt.prototype.getTaskbarHeight = function () {\n        return this.chartRowsModule.taskBarHeight;\n    };\n    /**\n     * To provide the array of modules needed for component rendering\n     *\n     * @returns {ModuleDeclaration[]} .\n     * @hidden\n     */\n    Gantt.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.isDestroyed) {\n            return modules;\n        }\n        if (this.allowSorting) {\n            modules.push({\n                member: 'sort',\n                args: [this]\n            });\n        }\n        if (this.allowFiltering || (this.toolbar && this.toolbar.indexOf('Search') !== -1)) {\n            modules.push({\n                member: 'filter',\n                args: [this]\n            });\n        }\n        if (this.allowReordering) {\n            modules.push({\n                member: 'reorder',\n                args: [this]\n            });\n        }\n        if (this.allowExcelExport) {\n            modules.push({\n                member: 'excelExport',\n                args: [this]\n            });\n        }\n        if (this.allowRowDragAndDrop || this.allowTaskbarDragAndDrop) {\n            modules.push({\n                member: 'rowDragAndDrop',\n                args: [this]\n            });\n        }\n        if (this.enableCriticalPath) {\n            modules.push({\n                member: 'criticalPath',\n                args: [this]\n            });\n        }\n        if (this.enableUndoRedo) {\n            modules.push({\n                member: 'undoRedo',\n                args: [this]\n            });\n        }\n        if (this.allowResizing) {\n            modules.push({\n                member: 'resize',\n                args: [this]\n            });\n        }\n        if (this.toolbar && this.toolbar.length > 0) {\n            modules.push({\n                member: 'toolbar',\n                args: [this]\n            });\n        }\n        if (this.editSettings.allowAdding || this.editSettings.allowEditing || this.editSettings.allowDeleting\n            || this.editSettings.allowTaskbarEditing || this.allowRowDragAndDrop) {\n            modules.push({\n                member: 'edit',\n                args: [this]\n            });\n        }\n        if (this.allowSelection) {\n            modules.push({\n                member: 'selection',\n                args: [this]\n            });\n        }\n        if (this.tooltipSettings.showTooltip) {\n            modules.push({\n                member: 'tooltip',\n                args: [this]\n            });\n        }\n        if (this.highlightWeekends || (this.holidays && this.holidays.length > 0)\n            || (this.eventMarkers && this.eventMarkers.length > 0)) {\n            modules.push({\n                member: 'dayMarkers',\n                args: [this]\n            });\n        }\n        if (this.enableContextMenu) {\n            modules.push({\n                member: 'contextMenu',\n                args: [this]\n            });\n        }\n        if (this.showColumnMenu) {\n            modules.push({\n                member: 'columnMenu',\n                args: [this]\n            });\n        }\n        if (this.allowPdfExport) {\n            modules.push({\n                member: 'pdfExport',\n                args: [this]\n            });\n        }\n        if (this.enableVirtualization) {\n            modules.push({\n                member: 'virtualScroll',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * Sorts a column with the given options.\n     *\n     * @param {string} columnName - Defines the column name to be sorted.\n     * @param {SortDirection} direction - Defines the direction of sorting field.\n     * @param {boolean} isMultiSort - Specifies whether the previous sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Gantt.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        if (this.sortModule && this.allowSorting) {\n            this.sortModule.sortColumn(columnName, direction, isMultiSort);\n        }\n    };\n    Gantt.prototype.mergePersistGanttData = function () {\n        if (!this.treeGrid) {\n            this.treeGrid = new TreeGrid();\n        }\n        var persist1 = 'mergePersistGridData';\n        this.treeGrid.grid[persist1].apply(this);\n    };\n    Gantt.prototype.mergeColumns = function (storedColumn, columns) {\n        var persist2 = 'mergeColumns';\n        this.treeGrid.grid[persist2].apply(this, [storedColumn, columns]);\n    };\n    Gantt.prototype.setFrozenCount = function () {\n        var persist3 = 'setFrozenCount';\n        this.treeGrid.grid[\"\" + persist3].apply(this);\n    };\n    Gantt.prototype.splitFrozenCount = function (columns) {\n        var persist4 = 'splitFrozenCount';\n        this.treeGrid.grid[\"\" + persist4].apply(this, [columns]);\n    };\n    Gantt.prototype.isFrozenGrid = function () {\n        return this.treeGrid.grid.isFrozenGrid();\n    };\n    /**\n     * Clears all the sorted columns of the Gantt.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSorting = function () {\n        this.sortModule.clearSorting();\n    };\n    /**\n     * To validate and render chart horizontal and vertical lines in the Gantt\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.renderChartGridLines = function () {\n        var className = 'e-chart-row-border';\n        var verticalLines = this.chartVerticalLineContainer;\n        var chartRowsTD = document.getElementById(this.element.id + 'GanttTaskTableBody').querySelectorAll('td');\n        if (this.gridLines === 'Vertical') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Horizontal') {\n            if (!isNullOrUndefined(verticalLines)) {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'Both') {\n            if (isNullOrUndefined(verticalLines)) {\n                this.renderChartVerticalLines();\n            }\n            else {\n                if (window.getComputedStyle(verticalLines).display === 'none') {\n                    verticalLines.style.display = 'block';\n                }\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && !chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    addClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n        else if (this.gridLines === 'None') {\n            if (!isNullOrUndefined(verticalLines) && window.getComputedStyle(verticalLines).display !== 'none') {\n                verticalLines.style.display = 'none';\n            }\n            if (chartRowsTD && chartRowsTD.length > 0 && chartRowsTD[0].classList.contains(className)) {\n                for (var c = 0; c < chartRowsTD.length; c++) {\n                    removeClass([chartRowsTD[c]], className);\n                }\n            }\n        }\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.updateGridLineContainerHeight = function () {\n        if (this.chartVerticalLineContainer) {\n            this.chartVerticalLineContainer.style.height = formatUnit(this.getContentHeight());\n        }\n    };\n    /**\n     * To get actual height of grid lines, holidays, weekend and event markers.\n     *\n     * @returns {number} .\n     * @private\n     */\n    Gantt.prototype.getContentHeight = function () {\n        var scrollHeight = this.ganttChartModule.scrollElement.offsetHeight - 16; //16 is horizontal scrollbar height\n        var contentHeight = this.ganttChartModule.chartBodyContent.offsetHeight;\n        var height = contentHeight < scrollHeight ? contentHeight : scrollHeight;\n        return height;\n    };\n    /**\n     * To update height of the Grid lines in the Gantt chart side.\n     *\n     * @param {boolean} currentProp - Update current property change in the Gantt chart.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.reUpdateDimention = function (currentProp) {\n        var toolbarHeight = 0;\n        this.calculateDimensions();\n        if (!isNullOrUndefined(this.toolbarModule) && !isNullOrUndefined(this.toolbarModule.element)) {\n            this.toolbarModule.toolbar.refresh();\n            this.toolbarModule.refreshToolbarItems();\n            toolbarHeight = this.toolbarModule.element.offsetHeight;\n        }\n        this.treeGrid.height = this.ganttHeight - toolbarHeight -\n            this.treeGrid.grid.getHeaderContent().offsetHeight;\n        this.splitterModule.splitterObject.height = (this.ganttHeight - toolbarHeight).toString();\n        if (!isNullOrUndefined(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer.style.height = this.ganttHeight + 'px';\n        }\n        if (!isNullOrUndefined(this.dayMarkersModule)) {\n            var holidayContainer = getValue('nonworkingDayRender.holidayContainer', this.dayMarkersModule);\n            var weekendContainer = getValue('nonworkingDayRender.weekendContainer', this.dayMarkersModule);\n            var eventMarkersContainer = getValue('eventMarkerRender.eventMarkersContainer', this.dayMarkersModule);\n            if (holidayContainer) {\n                holidayContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (weekendContainer) {\n                weekendContainer.style.height = this.ganttHeight + 'px';\n            }\n            if (eventMarkersContainer) {\n                eventMarkersContainer.style.height = this.ganttHeight + 'px';\n            }\n        }\n        if (currentProp === 'width') {\n            this.splitterModule.splitterObject.width = this.ganttWidth.toString();\n        }\n        this.ganttChartModule.scrollObject.\n            setHeight(this.ganttHeight - this.ganttChartModule.chartTimelineContainer.offsetHeight - toolbarHeight);\n    };\n    /**\n     * To render vertical lines in the Gantt chart side.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.renderChartVerticalLines = function () {\n        if (!this.element.contains(this.chartVerticalLineContainer)) {\n            this.chartVerticalLineContainer = createElement('div', {\n                id: this.element.id + 'line-container',\n                styles: 'position:absolute;height:100%;'\n            });\n            this.ganttChartModule.chartBodyContent.insertBefore(this.chartVerticalLineContainer, this.ganttChartModule.chartBodyContent.lastChild);\n        }\n        this.chartVerticalLineContainer.innerHTML = '';\n        var headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[1];\n        if (isNullOrUndefined(headerTable)) {\n            headerTable = this.element.getElementsByClassName('e-timeline-header-table-container')[0];\n        }\n        var thElements = headerTable.getElementsByTagName('th');\n        var thLength = thElements.length;\n        var thWidth;\n        var leftPos = 0;\n        var containerDiv = createElement('div');\n        for (var n = 0; n < thLength; n++) {\n            leftPos = n === 0 ? -1 : (leftPos + parseFloat(thWidth));\n            thWidth = thElements[n].style.width;\n            var divElement = createElement('div', {\n                className: 'e-line-container-cell',\n                styles: (this.enableRtl ? 'right:' + (leftPos + 1) : 'left:' + (leftPos !== -1 ? (leftPos + 0.3) : leftPos)) + 'px'\n            });\n            containerDiv.appendChild(divElement);\n        }\n        while (containerDiv.firstChild) {\n            this.chartVerticalLineContainer.appendChild(containerDiv.firstChild);\n        }\n    };\n    /**\n     * Method to get default localized text of the Gantt.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.getDefaultLocale = function () {\n        var ganttLocale = {\n            emptyRecord: 'No records to display',\n            id: 'ID',\n            name: 'Name',\n            startDate: 'Start Date',\n            endDate: 'End Date',\n            duration: 'Duration',\n            progress: 'Progress',\n            dependency: 'Dependency',\n            notes: 'Notes',\n            criticalPath: 'Critical Path',\n            undo: 'Undo',\n            redo: 'Redo',\n            baselineStartDate: 'Baseline Start Date',\n            baselineEndDate: 'Baseline End Date',\n            taskMode: 'Task Mode',\n            changeScheduleMode: 'Change Schedule Mode',\n            subTasksStartDate: 'SubTasks Start Date',\n            subTasksEndDate: 'SubTasks End Date',\n            scheduleStartDate: 'Schedule Start Date',\n            scheduleEndDate: 'Schedule End Date',\n            auto: 'Auto',\n            manual: 'Manual',\n            type: 'Type',\n            offset: 'Offset',\n            resourceName: 'Resources',\n            resourceID: 'Resource ID',\n            day: 'day',\n            hour: 'hour',\n            minute: 'minute',\n            days: 'days',\n            hours: 'hours',\n            minutes: 'minutes',\n            generalTab: 'General',\n            customTab: 'Custom Columns',\n            writeNotes: 'Write Notes',\n            addDialogTitle: 'New Task',\n            editDialogTitle: 'Task Information',\n            add: 'Add',\n            edit: 'Edit',\n            update: 'Update',\n            delete: 'Delete',\n            cancel: 'Cancel',\n            search: 'Search',\n            task: ' task',\n            tasks: ' tasks',\n            zoomIn: 'Zoom in',\n            zoomOut: 'Zoom out',\n            zoomToFit: 'Zoom to fit',\n            excelExport: 'Excel export',\n            csvExport: 'CSV export',\n            pdfExport: 'PDF export',\n            expandAll: 'Expand all',\n            collapseAll: 'Collapse all',\n            nextTimeSpan: 'Next timespan',\n            prevTimeSpan: 'Previous timespan',\n            saveButton: 'Save',\n            taskBeforePredecessorFS: 'You moved \"{0}\" to start before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFS: 'You moved \"{0}\" away from \"{1}\" and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSS: 'You moved \"{0}\" to start before \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSS: 'You moved \"{0}\" to start after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorFF: 'You moved \"{0}\" to finish before \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorFF: 'You moved \"{0}\" to finish after \"{1}\" finishes and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskBeforePredecessorSF: 'You moved \"{0}\" away from \"{1}\" to starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            taskAfterPredecessorSF: 'You moved \"{0}\" to finish after \"{1}\" starts and the two tasks are linked.'\n                + 'As the result, the links cannot be honored. Select one action below to perform',\n            okText: 'Ok',\n            confirmDelete: 'Are you sure you want to Delete Record?',\n            from: 'From',\n            to: 'To',\n            taskLink: 'Task Link',\n            lag: 'Lag',\n            start: 'Start',\n            finish: 'Finish',\n            enterValue: 'Enter the value',\n            taskInformation: 'Task Information',\n            deleteTask: 'Delete Task',\n            deleteDependency: 'Delete Dependency',\n            convert: 'Convert',\n            save: 'Save',\n            above: 'Above',\n            below: 'Below',\n            child: 'Child',\n            milestone: 'Milestone',\n            toTask: 'To Task',\n            toMilestone: 'To Milestone',\n            eventMarkers: 'Event markers',\n            leftTaskLabel: 'Left task label',\n            rightTaskLabel: 'Right task label',\n            timelineCell: 'Timeline cell',\n            confirmPredecessorDelete: 'Are you sure you want to remove dependency link?',\n            unit: 'Unit',\n            work: 'Work',\n            taskType: 'Task Type',\n            unassignedTask: 'Unassigned Task',\n            group: 'Group',\n            indent: 'Indent',\n            outdent: 'Outdent',\n            segments: 'Segments',\n            splitTask: 'Split Task',\n            mergeTask: 'Merge Task',\n            left: 'Left',\n            right: 'Right',\n            FF: 'FF',\n            FS: 'FS',\n            SF: 'SF',\n            SS: 'SS'\n        };\n        return ganttLocale;\n    };\n    /**\n     * To remove sorted records of particular column.\n     *\n     * @param {string} columnName - Defines the sorted column name.\n     * @returns {void} .\n     */\n    Gantt.prototype.removeSortColumn = function (columnName) {\n        this.sortModule.removeSortColumn(columnName);\n    };\n    /**\n     *\n     * @param {object} args -Defines the edited event args.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.actionBeginTask = function (args) {\n        this.trigger('actionBegin', args);\n        if (!getValue('cancel', args)) {\n            if (!isNullOrUndefined(this.loadingIndicator) && this.loadingIndicator.indicatorType === 'Shimmer') {\n                this.showMaskRow();\n            }\n            else {\n                this.showSpinner();\n            }\n        }\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific date.\n     *\n     * @param  {string} date - Defines the date to which the Gantt chart should scroll.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToDate = function (date) {\n        var tempDate = this.dateValidationModule.getDateFromFormat(date);\n        var left = this.dataOperation.getTaskLeft(tempDate, false);\n        this.ganttChartModule.updateScrollLeft(left);\n    };\n    /**\n     * To move horizontal scroll bar of Gantt to specific task id.\n     *\n     * @param  {string} taskId - Defines the task id of data.\n     * @returns {void} .\n     */\n    Gantt.prototype.scrollToTask = function (taskId) {\n        if (this.ids.indexOf(taskId) !== -1) {\n            var left = this.flatData[this.ids.indexOf(taskId)].ganttProperties.left;\n            this.ganttChartModule.updateScrollLeft(left);\n        }\n    };\n    /**\n     * To update the horizontal (left) and vertical (top) scroll positions of the Gantt chart.\n     *\n     * @param  {number} left - Defines the scroll left value of chart side.\n     * @param  {number} top - Defines the scroll top value of chart side.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateChartScrollOffset = function (left, top) {\n        if (!isNullOrUndefined(left)) {\n            left = this.ganttChartModule.scrollElement.scrollWidth <= left ?\n                this.ganttChartModule.scrollElement.scrollWidth : left;\n            this.ganttChartModule.scrollObject.setScrollLeft(left, this.enableRtl ? -1 : 0);\n        }\n        if (!isNullOrUndefined(top)) {\n            top = this.ganttChartModule.scrollElement.scrollHeight <= top ? this.ganttChartModule.scrollElement.scrollHeight : top;\n            this.ganttChartModule.scrollObject.setScrollTop(top);\n        }\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IParent} cloneParent - Defines the clone parent item.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getParentTask = function (cloneParent) {\n        if (isNullOrUndefined(cloneParent)) {\n            return null;\n        }\n        if (!this.autoCalculateDateScheduling && this.dataMap && this.dataMap.size > 0 && !this.taskFields.hasChildMapping &&\n            this.isLoad) {\n            var parent_1 = this.dataMap.get(cloneParent.uniqueID);\n            if (parent_1) {\n                return parent_1;\n            }\n        }\n        else {\n            var parent_2 = this.flatData.find(function (val) { return cloneParent.uniqueID === val.uniqueID; });\n            if (parent_2) {\n                return parent_2;\n            }\n        }\n        return null;\n    };\n    /**\n     * Get parent task by clone parent item.\n     *\n     * @param {IGanttData} ganttRecord -Defines the Gantt record.\n     * @param {number} level -Defines the selected record level.\n     * @returns {IGanttData} .\n     * @hidden\n     */\n    Gantt.prototype.getRootParent = function (ganttRecord, level) {\n        if (ganttRecord.level === level) {\n            return ganttRecord;\n        }\n        return this.getRootParent(this.getParentTask(ganttRecord.parentItem), level);\n    };\n    /**\n     * Filters TreeGrid row by column name with the given options.\n     *\n     * @param  {string} fieldName - Defines the field name of the column.\n     * @param  {string} filterOperator - Defines the operator to filter records.\n     * @param  {string | number | Date | boolean | number[] | string[] | Date[] | boolean[]} filterValue - Defines the value\n     *  used to filter records.\n     * @param  {string} predicate - Defines the relationship between one filter query and another by using AND or OR predicate.\n     * @param  {boolean} matchCase - If match case is set to true, TreeGrid filters the records with exact match.if false, it filters case\n     * insensitive records (uppercase and lowercase letters treated the same).\n     * @param  {boolean} ignoreAccent - If ignoreAccent set to true,\n     * then filter ignores the diacritic characters or accents while filtering.\n     * @returns {void} .\n     */\n    Gantt.prototype.filterByColumn = function (fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent) {\n        this.treeGrid.filterByColumn(fieldName, filterOperator, filterValue, predicate, matchCase, ignoreAccent);\n    };\n    /**\n     * Export Gantt data to Excel file(.xlsx).\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.excelExport = function (excelExportProperties, isMultipleExport, \n    /* eslint-disable-next-line */\n    workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.excelExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to CSV file.\n     *\n     * @param  {ExcelExportProperties} excelExportProperties - Defines the export properties of the Gantt.\n     * @param  {boolean} isMultipleExport - Define to enable multiple export.\n     * @param  {workbook} workbook - Defines the Workbook if multiple export is enabled.\n     * @param  {boolean} isBlob - If 'isBlob' set to true, then it will be returned as blob data.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.csvExport = function (excelExportProperties, \n    /* eslint-disable-next-line */\n    isMultipleExport, workbook, isBlob) {\n        return this.excelExportModule ? this.treeGrid.csvExport(excelExportProperties, isMultipleExport, workbook, isBlob) : null;\n    };\n    /**\n     * Export Gantt data to PDF document.\n     *\n     * @param  {PdfExportProperties} pdfExportProperties - Defines the export properties of the Gantt.\n     * @param  {isMultipleExport} isMultipleExport - Define to enable multiple export.\n     * @param  {pdfDoc} pdfDoc - Defined the Pdf Document if multiple export is enabled.\n     * @param  {boolean} isBlob - If the 'isBlob' parameter is set to true, the method returns PDF data as a blob instead of exporting it as a down-loadable PDF file. The default value is false.\n     * @returns {Promise<any>} .\n     */\n    Gantt.prototype.pdfExport = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        return this.pdfExportModule ? this.pdfExportModule.export(pdfExportProperties, isMultipleExport, pdfDoc, isBlob)\n            : null;\n    };\n    /**\n     * Clears the filtered columns in Gantt.\n     *\n     * Can also be used to clear filtering of a specific column in Gantt.\n     *\n     * @param {string[]} fields - Defines the specific column to remove filter.\n     * @returns {void} .\n     */\n    Gantt.prototype.clearFiltering = function (fields) {\n        this.treeGrid.grid.clearFiltering(fields);\n    };\n    /**\n     * Removes filtered column by field name.\n     *\n     * @param  {string} field - Defines column field name to remove filter.\n     * @returns {void} .\n     * @hidden\n     */\n    Gantt.prototype.removeFilteredColsByField = function (field) {\n        this.treeGrid.removeFilteredColsByField(field, false);\n    };\n    /**\n     * Method to set holidays and non working days in date time and date picker controls\n     *\n     * @param {RenderDayCellEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.renderWorkingDayCell = function (args) {\n        var includeWeekend = false;\n        var isCustomManual = false;\n        includeWeekend = (this.taskMode !== 'Auto' && this.taskMode !== 'Custom') ? true : (this.includeWeekend || !this.autoCalculateDateScheduling) ? true : false;\n        if (this.taskMode === 'Custom' && this.taskFields.manual) {\n            var editModule = this.editModule;\n            if (editModule && editModule.cellEditModule && editModule.cellEditModule.isCellEdit) {\n                isCustomManual = editModule.cellEditModule.currentEditedRowData[this.taskFields.manual];\n            }\n            else if (editModule && editModule.dialogModule && editModule.dialogModule['isEdit']) {\n                isCustomManual = editModule.dialogModule['editedRecord'][this.taskFields.manual];\n            }\n            includeWeekend = isCustomManual || this.includeWeekend || !this.autoCalculateDateScheduling;\n        }\n        var nonWorkingDays = !includeWeekend ? this.nonWorkingDayIndex : [];\n        var holidays = this.totalHolidayDates;\n        if (nonWorkingDays.length > 0 && nonWorkingDays.indexOf(args.date.getDay()) !== -1) {\n            args.isDisabled = true;\n        }\n        else if (holidays.length > 0) {\n            var tempDate = new Date(args.date.getTime());\n            tempDate.setHours(0, 0, 0);\n            if (holidays.indexOf(tempDate.getTime()) !== -1) {\n                if (!this.autoCalculateDateScheduling || (this.isLoad && !this.treeGrid.loadChildOnDemand &&\n                    this.taskFields.hasChildMapping)) {\n                    args.isDisabled = false;\n                }\n                else {\n                    args.isDisabled = true;\n                }\n            }\n        }\n    };\n    /**\n     * Updates the Gantt timeline to the previous time span by one unit.\n     *\n     * @param {string} mode - Render previous span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.previousTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('PreviousTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'PreviousTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('prevTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To update timeline at end point with one unit.\n     *\n     * @param {string} mode - Render next span of Timeline.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.nextTimeSpan = function (mode) {\n        if (this.isReact) {\n            this['clearTemplate'](['TaskbarTemplate', 'ParentTaskbarTemplate', 'MilestoneTemplate', 'TaskLabelTemplate', 'RightLabelTemplate', 'LeftLabelTemplate']);\n        }\n        if (this.undoRedoModule && this['isUndoRedoItemPresent']('NextTimeSpan')) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var timeSpan = {};\n            timeSpan['action'] = 'NextTimeSpan';\n            timeSpan['previousTimelineStartDate'] = extend([], [], [this.timelineModule.timelineStartDate], true)[0];\n            timeSpan['previousTimelineEndDate'] = extend([], [], [this.timelineModule.timelineEndDate], true)[0];\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = timeSpan;\n        }\n        this.timelineModule.performTimeSpanAction('nextTimeSpan', 'publicMethod', new Date(this.timelineModule.timelineStartDate.getTime()), new Date(this.timelineModule.timelineEndDate.getTime()), mode);\n    };\n    /**\n     * To validate project start date and end date.\n     *\n     * @param  {Date} startDate - Defines start date of project.\n     * @param  {Date} endDate - Defines end date of project.\n     * @param  {boolean} isTimelineRoundOff - Defines project start date and end date need to be round off or not.\n     * @param {string} isFrom - Defines whether the call originates from a public method action or a taskbar editing action.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateProjectDates = function (startDate, endDate, isTimelineRoundOff, isFrom) {\n        this.timelineModule.totalTimelineWidth = 0;\n        this.cloneProjectStartDate = startDate;\n        this.cloneProjectEndDate = endDate;\n        this.isTimelineRoundOff = isTimelineRoundOff;\n        this.timelineModule.refreshTimelineByTimeSpan();\n        this.dataOperation.reUpdateGanttDataPosition();\n        if (!this.pdfExportModule || (this.pdfExportModule && !this.pdfExportModule.isPdfExport) ||\n            (this.pdfExportModule && this.pdfExportModule.isPdfExport && this.pdfExportModule.helper.exportProps &&\n                this.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n                !this.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth)) {\n            this.timelineModule.updateChartByNewTimeline();\n            var browserZoomLevel = (window.outerWidth / window.innerWidth);\n            // Handled zoomtofit horizontal scrollbar hide while performing different zooming levels in browser-Task(919516)\n            if (this.timelineModule.isZoomToFit && !this.enableTimelineVirtualization && browserZoomLevel < 1) {\n                var clientWidthDifference = void 0;\n                if (this.enableVirtualization) {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth - this.element.getElementsByClassName('e-chart-scroll-container e-content')[0].clientWidth) + 1;\n                }\n                else {\n                    clientWidthDifference = Math.abs(this.timelineModule.totalTimelineWidth -\n                        this.ganttChartModule.chartBodyContent.parentElement.clientWidth);\n                }\n                this.ganttChartModule.chartBodyContent.style.width =\n                    formatUnit(this.timelineModule.totalTimelineWidth - clientWidthDifference);\n            }\n            else {\n                this.ganttChartModule.chartBodyContent.style.width = formatUnit(this.timelineModule.totalTimelineWidth);\n            }\n            this.ganttChartModule.updateLastRowBottomWidth();\n            if (this.taskFields.dependency) {\n                this.ganttChartModule.reRenderConnectorLines();\n            }\n            if (isFrom !== 'beforeAdd') {\n                this.notify('selectRowByIndex', {});\n            }\n        }\n    };\n    /**\n     * Splits the taskbar of a specified task into segments based on the given date.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} splitDate - Defines in which date the taskbar must be split up.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.splitTask = function (taskId, splitDate) {\n        this.isEdit = true;\n        this.chartRowsModule.splitTask(taskId, splitDate);\n    };\n    /**\n     * Merge the split taskbar with the given segment indexes.\n     *\n     * @param  {string} taskId - Defines the id of a task to be split.\n     * @param  {string} segmentIndexes - Defines the object array of indexes which must be merged.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.mergeTask = function (taskId, segmentIndexes) {\n        this.chartRowsModule.mergeTask(taskId, segmentIndexes);\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param  {string} fromFName - Defines origin field name.\n     * @param  {string} toFName - Defines destination field name.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.reorderColumns = function (fromFName, toFName) {\n        this.treeGrid.reorderColumns(fromFName, toFName);\n    };\n    /**\n     * Method to clear edited collections in gantt set edit flag value\n     *\n     * @param {boolean} isStart -Defines whether to initiate edit action.\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.initiateEditAction = function (isStart) {\n        this.isOnEdit = isStart;\n        this.previousRecords = {};\n        this.editedRecords = [];\n    };\n    /**\n     *\n     * @param {string} field Method to update value in Gantt record and make clone record for this\n     * @param {IGanttData | ITaskData} record .\n     * @param {boolean} isTaskData .\n     * @returns {void} .\n     * @private\n     */\n    /* eslint-disable-next-line */\n    Gantt.prototype.setRecordValue = function (field, value, record, isTaskData) {\n        value = isUndefined(value) ? null : value;\n        var resultIf = (this.isOnEdit || this.isOnDelete) ? true : false;\n        if (resultIf) {\n            this.makeCloneData(field, record, isTaskData);\n            var ganttData = isTaskData ? record : record.ganttProperties;\n            var id = ganttData.rowUniqueID;\n            var task_1 = this.getRecordByID(id);\n            var isValid = false;\n            isValid = (isNullOrUndefined(value) ||\n                (!isNullOrUndefined(value) && !isNullOrUndefined(record[\"\" + field]) &&\n                    (value instanceof Date ? value.getTime() !== record[\"\" + field].getTime() :\n                        record[\"\" + field] !== value))) ? true : isValid;\n            if (task_1 && ((this.editedRecords.indexOf(task_1) === -1 && isValid) || this.editedRecords.length === 0)) {\n                if (this.editModule['draggedRecord'] && this.editModule['draggedRecord'].ganttProperties.taskId === ganttData.taskId) {\n                    this.editedRecords.splice(0, 0, task_1);\n                }\n                else {\n                    this.editedRecords.push(task_1);\n                }\n                if (this.undoRedoModule) {\n                    if (this.undoRedoModule['changedRecords'].indexOf(task_1) === -1) {\n                        this.undoRedoModule['changedRecords'].push(extend({}, {}, task_1, true));\n                    }\n                    var currentAction = this.undoRedoModule['getUndoCollection'].length > 0 ? this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['action'] : null;\n                    if (this.editModule && this.editSettings.allowEditing && !this.undoRedoModule['isUndoRedoPerformed'] && !this.isOnDelete && !this.isOnAdded && currentAction !== 'outdent' && currentAction !== 'indent' &&\n                        currentAction !== 'RowDragAndDrop' && currentAction !== 'TaskbarDragAndDrop') {\n                        var oldRecord = this.previousFlatData.filter(function (data) {\n                            return data.ganttProperties.taskId === task_1.ganttProperties.taskId;\n                        })[0];\n                        if (oldRecord && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] && this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords']) {\n                            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1]['modifiedRecords'].push(oldRecord);\n                        }\n                    }\n                }\n                if (this.enableImmutableMode) {\n                    this.modifiedRecords.push(task_1);\n                }\n            }\n        }\n        setValue(field, value, record);\n    };\n    Gantt.prototype.makeCloneData = function (field, record, isTaskData) {\n        var cloneData;\n        /* eslint-disable-next-line */\n        var value = getValue(field, record);\n        /* eslint-disable-next-line */\n        var prevValue;\n        /* eslint-disable-next-line */\n        var clonedValue;\n        if (isTaskData) {\n            field = 'ganttProperties.' + field;\n        }\n        if (isNullOrUndefined(this.previousRecords[record.uniqueID])) {\n            var tempData = {};\n            this.previousRecords[record.uniqueID] = tempData;\n        }\n        /* eslint-disable-next-line */\n        cloneData = this.previousRecords[record.uniqueID];\n        /* eslint-disable-next-line */\n        prevValue = getValue(field, cloneData);\n        if (isUndefined(prevValue)) {\n            if (value instanceof Date) {\n                clonedValue = new Date(value.getTime());\n            }\n            else if (isObjectArray(value)) {\n                clonedValue = extend([], value, [], true);\n            }\n            else if (isObject(value)) {\n                clonedValue = extend({}, {}, value, true);\n            }\n            else {\n                clonedValue = value;\n            }\n            if (!isUndefined(clonedValue)) {\n                setValue(field, clonedValue, cloneData);\n            }\n            else {\n                setValue(field, null, cloneData);\n            }\n        }\n    };\n    Gantt.prototype.closeGanttActions = function () {\n        if (this.editModule) {\n            if (this.editModule.cellEditModule && this.editModule.cellEditModule.isCellEdit) {\n                this.treeGrid.closeEdit();\n                this.editModule.cellEditModule.isCellEdit = false;\n                if (!isNullOrUndefined(this.toolbarModule)) {\n                    this.toolbarModule.refreshToolbarItems();\n                }\n            }\n            else if (this.editModule.dialogModule && this.editModule.dialogModule.dialogObj &&\n                this.editModule.dialogModule.dialogObj.visible) {\n                this.editModule.dialogModule.dialogObj.hide();\n                this.editModule.dialogModule.dialogClose();\n            }\n        }\n    };\n    /**\n     * Method to get task by uniqueId value.\n     *\n     * @param {string} id - Defines the task id.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getTaskByUniqueID = function (id) {\n        var value = this.flatData.filter(function (val) {\n            return val.uniqueID === id;\n        });\n        if (value.length > 0) {\n            return value[0];\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get record by id value.\n     *\n     * @param {string} id - Defines the id of record.\n     * @returns {IGanttData} .\n     * @isGenericType true\n     */\n    Gantt.prototype.getRecordByID = function (id) {\n        if (isNullOrUndefined(id)) {\n            return null;\n        }\n        return this.flatData[this.ids.indexOf(id.toString())];\n    };\n    /**\n     * Method to set splitter position.\n     *\n     * @param {string|number} value - Define value to splitter settings property.\n     * @param {string} type - Defines name of internal splitter settings property.\n     * @returns {void} .\n     */\n    Gantt.prototype.setSplitterPosition = function (value, type) {\n        var tempSplitterSettings = {};\n        tempSplitterSettings[type] = value;\n        var splitterPosition = this.splitterModule.calculateSplitterPosition(tempSplitterSettings);\n        switch (type) {\n            case 'view':\n                this.splitterSettings.view = tempSplitterSettings[type];\n                break;\n            case 'columnIndex':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.columnIndex = tempSplitterSettings[type];\n                break;\n            case 'position':\n                this.splitterModule['isSplitterResized'] = true;\n                this.splitterSettings.position = tempSplitterSettings[type];\n                break;\n            default:\n                break;\n        }\n        var pane1 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[0];\n        var pane2 = this.splitterModule.splitterObject.element.querySelectorAll('.e-pane')[1];\n        this.splitterModule.splitterPreviousPositionGrid = pane1.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterPreviousPositionChart = pane2.scrollWidth + 1 + 'px';\n        this.splitterModule.splitterObject.paneSettings[0].size = splitterPosition;\n        this.splitterModule.splitterObject.paneSettings[1].size = (parseFloat('99.75%') - parseFloat(splitterPosition)) + '%';\n        this.splitterModule.triggerCustomResizedEvent();\n    };\n    /**\n     * Expand the records by index value.\n     *\n     * @param {number[] | number} index - Defines the index of rows to be expand.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByIndex = function (index) {\n        if (typeof index === 'number') {\n            var args = this.contructExpandCollapseArgs(null, index);\n            this.ganttChartModule.isExpandCollapseFromChart = true;\n            this.ganttChartModule.expandGanttRow(args);\n        }\n        else {\n            for (var i = 0; i < index.length; i++) {\n                if (typeof index[i] === 'number') {\n                    var ind = index[i];\n                    var args = this.contructExpandCollapseArgs(null, ind);\n                    this.ganttChartModule.isExpandCollapseFromChart = true;\n                    this.ganttChartModule.expandGanttRow(args);\n                }\n            }\n        }\n    };\n    /**\n     * Expand the record by task id.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandByID = function (id) {\n        if (this.enableVirtualization) {\n            this.isExpandPerformed = true;\n        }\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.expandGanttRow(args);\n    };\n    /**\n     * Collapse the record by index value.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByIndex = function (index) {\n        var args = this.contructExpandCollapseArgs(null, index);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Collapse the record by id value.\n     *\n     * @param {number} id - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseByID = function (id) {\n        var args = this.contructExpandCollapseArgs(id);\n        this.ganttChartModule.isExpandCollapseFromChart = true;\n        this.ganttChartModule.collapseGanttRow(args);\n    };\n    /**\n     * Method to add record.\n     *\n     * @param {Object[] | IGanttData | Object} data - Defines record to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        if (this.editModule && this.editSettings.allowAdding) {\n            if (this.viewType === 'ResourceView') {\n                this.editModule.addRowPosition = rowPosition;\n                this.editModule.addRowIndex = rowIndex;\n                var resources = void 0;\n                if (!isNullOrUndefined(data)) {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        resources = data.ganttProperties.resourceInfo;\n                    }\n                    else {\n                        resources = data[this.taskFields.resourceInfo];\n                    }\n                }\n                var id = void 0;\n                var parentTask = void 0;\n                if (!isNullOrUndefined(resources) && resources.length) {\n                    for (var i = 0; i < resources.length; i++) {\n                        id = (typeof resources[i] === 'object') ? resources[i][this.resourceFields.id] :\n                            resources[0];\n                        parentTask = this.flatData[this.getTaskIds().indexOf('R' + id)];\n                        if (parentTask) {\n                            break;\n                        }\n                    }\n                    if (parentTask && (parentTask.level === 0 || parentTask.childRecords.length)) {\n                        var dropChildRecord = parentTask.childRecords[rowIndex];\n                        if (this.viewType === 'ResourceView' && this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                            this.editModule.addRecord(data, rowPosition, rowIndex);\n                        }\n                        else if (dropChildRecord) {\n                            var position = rowPosition === 'Above' || rowPosition === 'Below' ? rowPosition :\n                                'Child';\n                            if (position === 'Child') {\n                                this.editModule.addRecord(data, position, this.getTaskIds().indexOf('R' + id));\n                            }\n                            else {\n                                this.editModule.addRecord(data, position, this.flatData.indexOf(dropChildRecord));\n                            }\n                        }\n                        else {\n                            this.editModule.addRecord(data, 'Child', this.getTaskIds().indexOf('R' + id));\n                        }\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                else {\n                    if (this.undoRedoModule && this.undoRedoModule['isUndoRedoPerformed']) {\n                        this.editModule.addRecord(data, rowPosition, rowIndex);\n                    }\n                    else {\n                        this.editModule.addRecord(data, 'Bottom');\n                    }\n                }\n                this.editModule.addRowPosition = null;\n                this.editModule.addRowIndex = null;\n            }\n            else {\n                this.editModule.addRecord(data, rowPosition, rowIndex);\n                if (rowPosition === 'Bottom') {\n                    this.selectedRowIndex = rowIndex;\n                }\n            }\n            if (rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') {\n                this.currentSelection = !isNullOrUndefined(data) ? data : this.currentSelection;\n            }\n        }\n    };\n    /**\n     * Method to update record by ID.\n     *\n     * @param  {Object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByID = function (data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.updateDuration = true;\n            this.editModule.updateRecordByID(data);\n            this.updateDuration = false;\n        }\n    };\n    /**\n     * To update existing taskId with new unique Id.\n     *\n     * @param {number | string} currentId - Defines the current Id of the record.\n     * @param {number | string} newId - Defines the new Id of the record.\n     * @returns {void} .\n     */\n    Gantt.prototype.updateTaskId = function (currentId, newId) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.updateTaskId(currentId, newId);\n        }\n    };\n    /**\n     * Public method to expand particular level of rows.\n     *\n     * @returns {void} .\n     * @param {number} level .\n     * @private\n     */\n    Gantt.prototype.expandAtLevel = function (level) {\n        if (this.enableVirtualization) {\n            this.isExpandCollapseLevelMethod = true;\n        }\n        this.ganttChartModule.expandAtLevel(level);\n    };\n    /**\n     * To indent the level of selected task to the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.indent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.indent();\n        }\n    };\n    /**\n     * To outdent the level of selected task from the hierarchical Gantt task.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.outdent = function () {\n        if (this.editModule && this.editSettings.allowEditing) {\n            this.editModule.outdent();\n        }\n    };\n    /**\n     * To retrieve the collection of previously recorded actions. This method returns an object as a collection that holds the following details.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     * @public\n     */\n    Gantt.prototype.getUndoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getUndoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * To retrieve the collection of actions to reapply.\n     * `modifiedRecords` - retrieves the modified records.\n     * `action` - shows the current performed action such as 'sorting','columnReorder','columnResize','progressResizing','rightResizing','leftResizing','add','delete','search','filtering','zoomIn','zoomOut','zoomToFit','columnState','previousTimeSpan','nextTimeSpan','indent','outdent','rowDragAndDrop','taskbarDragAndDrop','dialogEdit'\n     *\n     * @returns {Object[]} To get the collection of actions\n     *\n     * @public\n     */\n    Gantt.prototype.getRedoActions = function () {\n        if (this.undoRedoModule) {\n            return this.undoRedoModule['getRedoCollection'];\n        }\n        else {\n            return [];\n        }\n    };\n    /**\n     * Clears the stack collection for undo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearUndoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getUndoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     * Clears the stack collection for redo action.\n     *\n     * @public\n     * @returns {void}\n     */\n    Gantt.prototype.clearRedoCollection = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['getRedoCollection'] = [];\n            if (this.toolbarModule) {\n                this.toolbarModule.enableItems([this.controlId + '_redo'], false);\n            }\n        }\n    };\n    /**\n     * Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.undo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['undoAction']();\n        }\n    };\n    /**\n     * Initiates a redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.redo = function () {\n        if (this.undoRedoModule) {\n            this.undoRedoModule['redoAction']();\n        }\n    };\n    /**\n     * To render the critical path tasks in Gantt.\n     *\n     * @returns {void} .\n     * @param {boolean} isCritical - To checks whether to render critical path or not .\n     * @public\n     */\n    Gantt.prototype.showCriticalPath = function (isCritical) {\n        if (this.criticalPathModule) {\n            this.criticalPathModule.showCriticalPath(isCritical);\n            var criticalModule = this.criticalPathModule;\n            this.criticalPathModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n    };\n    /**\n     * To get all the critical tasks in Gantt.\n     *\n     * @returns {IGanttData[]} .\n     * @public\n     */\n    Gantt.prototype.getCriticalTasks = function () {\n        if (!isNullOrUndefined(this.criticalPathModule) && this.enableCriticalPath) {\n            return this.criticalPathModule.getCriticalTasks();\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To perform Zoom in action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomIn = function () {\n        this.timelineModule.processZooming(true);\n    };\n    /**\n     * To perform zoom out action on Gantt timeline.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.zoomOut = function () {\n        this.timelineModule.processZooming(false);\n    };\n    /**\n     * To show all project task in available chart width.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.fitToProject = function () {\n        this.timelineModule.processZoomToFit();\n        this.ganttChartModule.updateScrollLeft(0);\n    };\n    /**\n     * Reorder the rows based on given indexes and position.\n     *\n     * @param {number[]} fromIndexes - Defines the indexes of the dragged records.\n     * @param {number} toIndex - Defines the index where the dragged rows will be dropped.\n     * @param {string} position - Defines the position of the dropped row.\n     * @returns {void} .\n     */\n    Gantt.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        this.rowDragAndDropModule.reorderRows(fromIndexes, toIndex, position);\n    };\n    /**\n     * Method to update record by Index.\n     *\n     * @param  {number} index - Defines the index of data to modify.\n     * @param  {object} data - Defines the data to modify.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updateRecordByIndex = function (index, data) {\n        if (this.editModule && this.editSettings.allowEditing) {\n            var tasks = this.taskFields;\n            var record = this.updatedRecords.length > 0 ?\n                !isNullOrUndefined(this.updatedRecords[index]) ? this.updatedRecords[index] : null : null;\n            if (!isNullOrUndefined(record)) {\n                data[tasks.id] = record[tasks.id];\n                this.editModule.updateRecordByID(data);\n            }\n        }\n    };\n    /**\n     * To add dependency for Task.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to add.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.addPredecessor = function (id, predecessorString) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.addPredecessor(ganttRecord, predecessorString);\n            }\n        }\n    };\n    /**\n     * To remove dependency from task.\n     *\n     * @param  {number} id - Defines the ID of the task from which the dependency will be removed.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.removePredecessor = function (id) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.removePredecessor(ganttRecord);\n            }\n        }\n    };\n    /**\n     * To modify current dependency values of Task by task id.\n     *\n     * @param  {number} id - Defines the ID of data to modify.\n     * @param  {string} predecessorString - Defines the predecessor string to update.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.updatePredecessor = function (id, predecessorString) {\n        if (this.connectorLineModule) {\n            var ganttRecord = this.connectorLineModule.getRecordByID(id.toString());\n            if (this.editModule && !isNullOrUndefined(ganttRecord) && this.editSettings.allowTaskbarEditing) {\n                this.connectorLineEditModule.updatePredecessor(ganttRecord, predecessorString);\n            }\n        }\n    };\n    /**\n     * Method to open Add dialog.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openAddDialog = function () {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowAdding) {\n            this.editModule.dialogModule.openAddDialog();\n        }\n    };\n    /**\n     * Method to open Edit dialog.\n     *\n     * @param {number } taskId - Defines the id of task.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.openEditDialog = function (taskId) {\n        if (this.editModule && this.editModule.dialogModule && this.editSettings.allowEditing) {\n            this.editModule.dialogModule.openEditDialog(taskId);\n        }\n    };\n    /**\n     * Changes the TreeGrid column positions by field names.\n     *\n     * @param {string | number} id .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.contructExpandCollapseArgs = function (id, index) {\n        var chartRow;\n        var record;\n        var rowIndex;\n        if (isNullOrUndefined(index) && id) {\n            record = this.getRecordByID(id.toString());\n            chartRow = this.getRowByID(id);\n            if (!isNullOrUndefined(chartRow)) {\n                rowIndex = getValue('rowIndex', chartRow);\n            }\n        }\n        else if (!isNullOrUndefined(index)) {\n            chartRow = this.getRowByIndex(index);\n            var isFromKeyboardAction = this.focusModule['isFromKeyboardAction'];\n            rowIndex = isFromKeyboardAction ? getValue('rowIndex', chartRow) : index;\n            record = isFromKeyboardAction ? this.currentViewData[rowIndex] : this.flatData[rowIndex];\n        }\n        var gridRow = this.treeGrid.getRows()[rowIndex];\n        return { data: record, gridRow: gridRow, chartRow: chartRow, cancel: false };\n    };\n    /**\n     * Method to get chart row value by index.\n     *\n     * @param {number} index - Defines the index of row.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByIndex = function (index) {\n        try {\n            var gridRows = this.element.querySelectorAll('.e-chart-row');\n            if (!isNullOrUndefined(index)) {\n                return gridRows[index];\n            }\n            else {\n                return null;\n            }\n        }\n        catch (e) {\n            return null;\n        }\n    };\n    /**\n     * Method to get the row element by task id.\n     *\n     * @param {string | number} id - Defines the id of task.\n     * @returns {HTMLElement} .\n     */\n    Gantt.prototype.getRowByID = function (id) {\n        var _this = this;\n        var record = this.getRecordByID(id.toString());\n        var index;\n        if (this.loadChildOnDemand && this.taskFields.hasChildMapping) {\n            index = this.updatedRecords.map(function (item) { return item[_this.taskFields.id]; }).indexOf(record.ganttProperties.taskId);\n        }\n        else {\n            index = this.enableVirtualization ? this.currentViewData.indexOf(record) : this.updatedRecords.indexOf(record);\n        }\n        if (index !== -1) {\n            return this.getRowByIndex(index);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp .\n     * @returns {string} .\n     * @private\n     */\n    Gantt.prototype.getUnscheduledTaskClass = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.endDate) &&\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return ' ' + cls.traceUnscheduledTask;\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * Method to get class name for unscheduled tasks\n     *\n     * @param {ITaskData} ganttProp -Defines the Gantt propertie.\n     * @returns {boolean} .\n     * @private\n     */\n    Gantt.prototype.isUnscheduledTask = function (ganttProp) {\n        if (isNullOrUndefined(ganttProp.startDate) || isNullOrUndefined(ganttProp.endDate) ||\n            isNullOrUndefined(ganttProp.duration)) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    Gantt.prototype.createGanttPopUpElement = function () {\n        var popup = this.createElement('div', { className: 'e-ganttpopup', styles: 'display:none;' });\n        var content = this.createElement('div', { className: 'e-content', attrs: { tabIndex: '-1' } });\n        append([content, this.createElement('div', { className: 'e-uptail e-tail' })], popup);\n        content.appendChild(this.createElement('span'));\n        append([content, this.createElement('div', { className: 'e-downtail e-tail' })], popup);\n        document.getElementById(this.element.id + 'GanttChart').appendChild(popup);\n    };\n    /**\n     * Method to get predecessor value as string.\n     *\n     * @param {string} type .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    Gantt.prototype.getPredecessorTextValue = function (type) {\n        var textValue;\n        switch (type) {\n            case 'SS':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('start');\n                break;\n            case 'FF':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'SF':\n                textValue = this.localeObj.getConstant('start') + '-' + this.localeObj.getConstant('finish');\n                break;\n            case 'FS':\n                textValue = this.localeObj.getConstant('finish') + '-' + this.localeObj.getConstant('start');\n                break;\n        }\n        return textValue;\n    };\n    /**\n     * Method to perform search action in Gantt.\n     *\n     * @param {string} keyVal - Defines key value to search.\n     * @returns {void} .\n     */\n    Gantt.prototype.search = function (keyVal) {\n        if (this.filterModule) {\n            this.searchSettings.key = keyVal;\n            this.dataBind();\n        }\n    };\n    /**\n     * Method to get offset rect value\n     *\n     * @param {HTMLElement} element .\n     * @returns {number} .\n     * @hidden\n     */\n    Gantt.prototype.getOffsetRect = function (element) {\n        var box = element.getBoundingClientRect();\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop\n            || document.body.scrollTop;\n        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n            document.body.scrollLeft;\n        var clientTop = document.documentElement.clientTop || document.body.clientTop || 0;\n        var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n        var top = box.top + scrollTop - clientTop;\n        var left = this.enableRtl ? box.right + scrollLeft - clientLeft : box.left + scrollLeft - clientLeft;\n        return { top: Math.round(top), left: Math.round(left), width: box.width, height: box.height };\n    };\n    /**\n     * Method to expand all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.expandAll = function () {\n        this.ganttChartModule.expandCollapseAll('expand');\n    };\n    /**\n     * Method to update data source.\n     *\n     * @returns {void} .\n     * @param {object[]} dataSource - Defines a collection of data.\n     * @param {object} args - Defines the projectStartDate and projectEndDate values.\n     * @public\n     */\n    Gantt.prototype.updateDataSource = function (dataSource, args) {\n        this.isDynamicData = true;\n        if (!isNullOrUndefined(args)) {\n            for (var _i = 0, _a = Object.keys(args); _i < _a.length; _i++) { // eslint-disable-line\n                var prop = _a[_i];\n                switch (prop) {\n                    case 'projectStartDate':\n                        this.setProperties({ projectStartDate: args[prop] }, true);\n                        break;\n                    case 'projectEndDate':\n                        this.setProperties({ projectEndDate: args[prop] }, true);\n                        break;\n                }\n            }\n        }\n        this.ganttChartModule.scrollObject.element.scrollLeft = 0;\n        this.dataSource = dataSource;\n    };\n    /**\n     * Method to collapse all the rows of Gantt.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.collapseAll = function () {\n        this.ganttChartModule.expandCollapseAll('collapse');\n    };\n    /**\n     * Gets the columns from the TreeGrid.\n     *\n     * @returns {Column[]} .\n     * @public\n     */\n    Gantt.prototype.getGridColumns = function () {\n        return this.treeGrid.getColumns();\n    };\n    /**\n     * Method to column from given column collection based on field value\n     *\n     * @param {string} field .\n     * @param {ColumnModel[]} columns .\n     * @returns {ColumnModel} .\n     * @private\n     */\n    Gantt.prototype.getColumnByField = function (field, columns) {\n        var column = columns.filter(function (value) {\n            return value.field === field;\n        });\n        return column.length > 0 ? column[0] : null;\n    };\n    /**\n     * Gets the Gantt columns.\n     *\n     * @returns {ColumnModel[]} .\n     * @public\n     */\n    Gantt.prototype.getGanttColumns = function () {\n        return this.ganttColumns;\n    };\n    /**\n     * Shows a column by its column name.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} showBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.showColumn = function (keys, showBy) {\n        this.treeGrid.showColumns(keys, showBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * Hides one or more columns in the Gantt chart based on the specified column names or header texts.\n     *\n     * @param  {string|string[]} keys - Defines a single or collection of column names.\n     * @param  {string} hideBy - Defines the column key either as field name or header text.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.hideColumn = function (keys, hideBy) {\n        this.treeGrid.hideColumns(keys, hideBy);\n        this.updateTreeColumns();\n    };\n    /**\n     * To set scroll top for chart scroll container.\n     *\n     * @param {number} scrollTop - Defines scroll top value for scroll container.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.setScrollTop = function (scrollTop) {\n        this.ganttChartModule.scrollObject.setScrollTop(scrollTop);\n    };\n    /**\n     * Cancels the current edit operation and reverts the changes made during editing.\n     *\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.cancelEdit = function () {\n        this.isCancelled = true;\n        this.closeGanttActions();\n    };\n    /**\n     * Selects a cell by the given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCell = function (cellIndex, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCell(cellIndex, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectCells = function (rowCellIndexes) {\n        if (this.selectionModule) {\n            this.selectionModule.selectCells(rowCellIndexes);\n        }\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRow = function (index, isToggle) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRow(index, isToggle);\n        }\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Gantt.prototype.selectRows = function (records) {\n        if (this.selectionModule) {\n            this.selectionModule.selectRows(records);\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string } taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.deleteRecord = function (taskDetail) {\n        if (this.editModule) {\n            this.editModule.deleteRecord(taskDetail);\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     */\n    Gantt.prototype.enableItems = function (items, isEnable) {\n        if (this.toolbarModule) {\n            this.toolbarModule.enableItems(items, isEnable);\n        }\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Gantt.prototype.clearSelection = function () {\n        if (this.selectionModule) {\n            this.selectionModule.clearSelection();\n        }\n    };\n    /**\n     * @param {ITaskAddedEventArgs | IActionBeginEventArgs} args .\n     * @returns {ITaskAddedEventArgs | IActionBeginEventArgs} .\n     * @hidden\n     */\n    Gantt.prototype.updateDataArgs = function (args) {\n        if (!Array.isArray(args.data)) {\n            var customData = [];\n            customData.push(args.data);\n            setValue('data', customData, args);\n        }\n        return args;\n    };\n    /**\n     * Method to convert task data to milestone data.\n     *\n     * @param {string} id - Defines id of record.\n     * @returns {void} .\n     * @public\n     */\n    Gantt.prototype.convertToMilestone = function (id) {\n        var rowData = this.getRecordByID(id);\n        if (!isNullOrUndefined(rowData)) {\n            var data = extend({}, {}, rowData.taskData, true);\n            var taskfields = this.taskFields;\n            if (data[taskfields.startDate]) {\n                this.setRecordValue(taskfields.startDate, rowData.ganttProperties.startDate, data, true);\n            }\n            if (!isNullOrUndefined(taskfields.duration)) {\n                data[taskfields.duration] = 0;\n            }\n            else {\n                data[taskfields.startDate] = new Date(rowData.ganttProperties.startDate);\n                data[taskfields.endDate] = new Date(rowData.ganttProperties.endDate);\n            }\n            if (!isNullOrUndefined(taskfields.milestone)) {\n                if (data[taskfields.milestone] === false) {\n                    data[taskfields.milestone] = true;\n                }\n            }\n            if (!isNullOrUndefined(taskfields.progress)) {\n                data[taskfields.progress] = 0;\n            }\n            if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                data[taskfields.child] = [];\n            }\n            if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                data[taskfields.parentID] = null;\n            }\n            if (!isNullOrUndefined(taskfields.segments)) {\n                data[taskfields.segments] = null;\n            }\n            var taskType = !isNullOrUndefined(rowData.ganttProperties.taskType) ? rowData.ganttProperties.taskType\n                : this.taskType;\n            if (taskType === 'FixedWork') {\n                if (!isNullOrUndefined(data[taskfields.work])) {\n                    data[taskfields.work] = 0;\n                }\n                else {\n                    rowData.ganttProperties.work = 0;\n                }\n            }\n            if (!isNullOrUndefined(this.contextMenuModule) &&\n                this.contextMenuModule.isOpen &&\n                this.contextMenuModule.item === 'Milestone') {\n                if (!isNullOrUndefined(taskfields.dependency)) {\n                    data[taskfields.dependency] = null;\n                }\n                var position = this.editSettings.newRowPosition;\n                this.addRecord(data, position, this.selectedRowIndex);\n            }\n            else {\n                if (!rowData.hasChildRecords && !rowData.ganttProperties.isMilestone) {\n                    this.isConvertedMilestone = true;\n                    this.updateRecordByID(data);\n                    this.isConvertedMilestone = false;\n                }\n            }\n        }\n    };\n    /**\n     * To change the mode of a record.\n     *\n     * @param {object} data - Use to change the TaskMode either manual, auto or custom.\n     * @returns {void} .\n     */\n    Gantt.prototype.changeTaskMode = function (data) {\n        if (this.undoRedoModule && !this.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.undoRedoModule['redoEnabled']) {\n                this.undoRedoModule['disableRedo']();\n            }\n            this.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'TaskMode';\n            details['modifiedRecords'] = extend([], [data], [], true);\n            this.undoRedoModule['getUndoCollection'][this.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var tasks = this.taskFields;\n        var ganttData = this.getRecordByID(data[tasks.id]);\n        var ganttProp = ganttData.ganttProperties;\n        this.isOnEdit = true;\n        this.setRecordValue('isAutoSchedule', !ganttProp.isAutoSchedule, ganttProp, true);\n        if (!isNullOrUndefined(this.taskFields.manual)) {\n            this.setRecordValue('taskData.' + tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n            this.setRecordValue(tasks.manual, !ganttProp.isAutoSchedule, ganttData);\n        }\n        this.editModule.updateTaskScheduleModes(ganttData);\n        var args = {\n            data: ganttData\n        };\n        this.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * @returns {string[]} .\n     * @private\n     */\n    Gantt.prototype.getTaskIds = function () {\n        return this.taskIds;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Gantt.prototype.setTaskIds = function (data) {\n        if (this.viewType !== 'ProjectView') {\n            var id = data.ganttProperties.taskId;\n            id = data.level === 0 ? 'R' + id : 'T' + id;\n            this.taskIds.push(id);\n        }\n    };\n    /**\n     * To render the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.renderTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To reset the react templates\n     *\n     * @returns {void} .\n     *  @hidden\n     */\n    Gantt.prototype.resetTemplates = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowKeyboard\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableImmutableMode\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowParentDependency\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"disableHtmlEncode\", void 0);\n    __decorate([\n        Complex({}, LoadingIndicator)\n    ], Gantt.prototype, \"loadingIndicator\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enableVirtualMaskRow\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"loadChildOnDemand\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"updateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"UpdateOffsetOnTaskbarEdit\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoCalculateDateScheduling\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"autoFocusTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableAdaptiveUI\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowSorting\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"enablePredecessorValidation\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showColumnMenu\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"columnMenuItems\", void 0);\n    __decorate([\n        Property(['Sorting', 'Add', 'ColumnReorder', 'ColumnResize', 'ColumnState', 'Delete', 'Edit', 'Filtering', 'Indent', 'Outdent', 'NextTimeSpan', 'PreviousTimeSpan', 'RowDragAndDrop', 'TaskbarDragAndDrop', 'Search', 'ZoomIn', 'ZoomOut', 'ZoomToFit'])\n    ], Gantt.prototype, \"undoRedoActions\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"timezone\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"collapseAllParentTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"highlightWeekends\", void 0);\n    __decorate([\n        Property(0)\n    ], Gantt.prototype, \"treeColumnIndex\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('day')\n    ], Gantt.prototype, \"durationUnit\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"query\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"dateFormat\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"height\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"renderBaseline\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowTaskbarDragAndDrop\", void 0);\n    __decorate([\n        Property(true)\n    ], Gantt.prototype, \"allowTaskbarOverlap\", void 0);\n    __decorate([\n        Property('Horizontal')\n    ], Gantt.prototype, \"gridLines\", void 0);\n    __decorate([\n        Complex({}, LabelSettings)\n    ], Gantt.prototype, \"labelSettings\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"parentTaskbarTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"timelineTemplate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"milestoneTemplate\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"baselineColor\", void 0);\n    __decorate([\n        Property('auto')\n    ], Gantt.prototype, \"width\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableVirtualization\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableTimelineVirtualization\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"toolbar\", void 0);\n    __decorate([\n        Property(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'])\n    ], Gantt.prototype, \"workWeek\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"includeWeekend\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowUnscheduledTasks\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showInlineNotes\", void 0);\n    __decorate([\n        Property(36)\n    ], Gantt.prototype, \"rowHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"taskbarHeight\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectStartDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"projectEndDate\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceIDMapping\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"resourceNameMapping\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"resources\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"segmentData\", void 0);\n    __decorate([\n        Property(null)\n    ], Gantt.prototype, \"connectorLineBackground\", void 0);\n    __decorate([\n        Property(1)\n    ], Gantt.prototype, \"connectorLineWidth\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"columns\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"addDialogFields\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"editDialogFields\", void 0);\n    __decorate([\n        Property(-1)\n    ], Gantt.prototype, \"selectedRowIndex\", void 0);\n    __decorate([\n        Property('hour')\n    ], Gantt.prototype, \"workUnit\", void 0);\n    __decorate([\n        Property('FixedUnit')\n    ], Gantt.prototype, \"taskType\", void 0);\n    __decorate([\n        Property('ProjectView')\n    ], Gantt.prototype, \"viewType\", void 0);\n    __decorate([\n        Collection([{ from: 8, to: 12 }, { from: 13, to: 17 }], DayWorkingTime)\n    ], Gantt.prototype, \"dayWorkingTime\", void 0);\n    __decorate([\n        Collection([], WeekWorkingTime)\n    ], Gantt.prototype, \"weekWorkingTime\", void 0);\n    __decorate([\n        Collection([], Holiday)\n    ], Gantt.prototype, \"holidays\", void 0);\n    __decorate([\n        Collection([], EventMarker)\n    ], Gantt.prototype, \"eventMarkers\", void 0);\n    __decorate([\n        Complex({}, TaskFields)\n    ], Gantt.prototype, \"taskFields\", void 0);\n    __decorate([\n        Complex({}, ResourceFields)\n    ], Gantt.prototype, \"resourceFields\", void 0);\n    __decorate([\n        Complex({}, TimelineSettings)\n    ], Gantt.prototype, \"timelineSettings\", void 0);\n    __decorate([\n        Property([])\n    ], Gantt.prototype, \"zoomingLevels\", void 0);\n    __decorate([\n        Complex({}, SortSettings)\n    ], Gantt.prototype, \"sortSettings\", void 0);\n    __decorate([\n        Complex({}, EditSettings)\n    ], Gantt.prototype, \"editSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], Gantt.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, SelectionSettings)\n    ], Gantt.prototype, \"selectionSettings\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowFiltering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowExcelExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowRowDragAndDrop\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowReordering\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"readOnly\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowResizing\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableContextMenu\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableCriticalPath\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableUndoRedo\", void 0);\n    __decorate([\n        Property(10)\n    ], Gantt.prototype, \"undoRedoStepsCount\", void 0);\n    __decorate([\n        Property()\n    ], Gantt.prototype, \"contextMenuItems\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"allowPdfExport\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"validateManualTasksOnLinking\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"enableMultiTaskbar\", void 0);\n    __decorate([\n        Property(false)\n    ], Gantt.prototype, \"showOverAllocation\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Gantt.prototype, \"taskMode\", void 0);\n    __decorate([\n        Complex({}, FilterSettings)\n    ], Gantt.prototype, \"filterSettings\", void 0);\n    __decorate([\n        Complex({}, SearchSettings)\n    ], Gantt.prototype, \"searchSettings\", void 0);\n    __decorate([\n        Complex({}, SplitterSettings)\n    ], Gantt.prototype, \"splitterSettings\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeExcelExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"excelHeaderQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDragStartHelper\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"collapsed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanding\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"expanded\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionBegin\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"actionFailure\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataStateChange\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEdited\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"endEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellEdit\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"taskbarEditing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"dataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"resizeStop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizeStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResizing\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"splitterResized\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDragStart\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrag\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnDrop\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforeTooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselecting\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"cellDeselected\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"queryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"headerCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"rowDataBound\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"toolbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"columnMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuOpen\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"contextMenuClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onTaskbarClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"recordDoubleClick\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"onMouseMove\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"beforePdfExport\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfExportComplete\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTaskbarInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfQueryTimelineCellInfo\", void 0);\n    __decorate([\n        Event()\n    ], Gantt.prototype, \"pdfColumnHeaderQueryCellInfo\", void 0);\n    Gantt = __decorate([\n        NotifyPropertyChanges\n    ], Gantt);\n    return Gantt;\n}(Component));\nexport { Gantt };\n","/**\n * public Enum for `PdfHorizontalOverflowType`.\n *\n * @private\n */\nexport var PdfHorizontalOverflowType;\n(function (PdfHorizontalOverflowType) {\n    /**\n     * Specifies the type of `NextPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"NextPage\"] = 0] = \"NextPage\";\n    /**\n     * Specifies the type of `LastPage`.\n     *\n     * @private\n     */\n    PdfHorizontalOverflowType[PdfHorizontalOverflowType[\"LastPage\"] = 1] = \"LastPage\";\n})(PdfHorizontalOverflowType || (PdfHorizontalOverflowType = {}));\n","import { isNullOrUndefined as isNOU, getValue, extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { TreeGrid, Edit } from '@syncfusion/ej2-treegrid';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * To handle cell edit action on default columns and custom columns\n */\nvar CellEdit = /** @class */ (function () {\n    function CellEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.isCellEdit = false;\n        this.isResourceCellEdited = false;\n        this.parent = ganttObj;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Bind all editing related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    CellEdit.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.editSettings.allowEditing = this.parent.editSettings.allowEditing;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        this.parent.treeGrid.editSettings.mode = 'Cell';\n        this.parent.treeGrid.cellEdit = this.ensureEditCell.bind(this);\n        if (this.parent.editSettings.allowEditing) {\n            TreeGrid.Inject(Edit);\n        }\n    };\n    /**\n     * Ensure current cell was editable or not\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void | Deferred} .\n     */\n    CellEdit.prototype.ensureEditCell = function (args) {\n        var _this = this;\n        var data = args.rowData;\n        var field = args.columnName;\n        this.editedColumn = this.parent.getColumnByField(field, this.parent.ganttColumns);\n        var taskSettings = this.parent.taskFields;\n        if (this.parent.readOnly) {\n            args.cancel = true;\n            return;\n        }\n        if (this.parent.editSettings.mode === 'Dialog') {\n            args.cancel = true;\n            return;\n        }\n        if (data.hasChildRecords && !this.parent.allowParentDependency && ((field === taskSettings.endDate &&\n            ((!isNullOrUndefined(data[taskSettings.manual]) && data[taskSettings.manual] === false) ||\n                this.parent.taskMode === 'Auto')) || field === taskSettings.duration || field === taskSettings.dependency ||\n            field === taskSettings.progress || field === taskSettings.work || field === taskSettings.type || field === 'taskType')) {\n            if ((field === taskSettings.dependency && !this.parent.allowParentDependency) || field !== taskSettings.dependency) {\n                args.cancel = true;\n            }\n        }\n        else {\n            var callBackPromise_1 = new Deferred();\n            var parentReference_1 = this.parent;\n            this.currentEditedRowData = args.rowData;\n            this.parent.trigger('cellEdit', args, function (arg) {\n                if (arg.columnName === parentReference_1.taskFields.progress && arg.rowData.hasChildRecords) {\n                    arg.cancel = true;\n                }\n                if (data.level === 0 && _this.parent.viewType === 'ResourceView') {\n                    arg.cancel = true;\n                }\n                callBackPromise_1.resolve(arg);\n                if (!arg.cancel) {\n                    if (arg.columnName === _this.parent.taskFields.notes) {\n                        _this.openNotesEditor(arg);\n                    }\n                    else {\n                        _this.isCellEdit = true;\n                        if (!isNOU(_this.parent.toolbarModule)) {\n                            _this.parent.toolbarModule.refreshToolbarItems();\n                        }\n                    }\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    /**\n     * To render edit dialog and to focus on notes tab\n     *\n     * @param {CellEditArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.openNotesEditor = function (args) {\n        var taskSettings = this.parent.taskFields;\n        var data = args.rowData;\n        var field = args.columnName;\n        if ((field === taskSettings.notes && !this.parent.showInlineNotes)) {\n            args.cancel = true;\n            var columnTypes = this.parent.editModule.dialogModule.updatedEditFields.map(function (x) { return x.type; });\n            var index = columnTypes.indexOf('Notes');\n            if (index !== -1) {\n                this.parent.editModule.dialogModule.openEditDialog(data.ganttProperties.rowUniqueID);\n                var tabObj = document.getElementById(this.parent.element.id + '_Tab').ej2_instances[0];\n                tabObj.selectedItem = index;\n            }\n        }\n        if (field === taskSettings.notes && this.parent.showInlineNotes === true) {\n            this.isCellEdit = true;\n        }\n    };\n    // private isValueChange(args: Record<string, unknown>, field: string): boolean {\n    //     const data: IGanttData = getValue('data', args);\n    //     const editedValue: Record<string, unknown> = data[`${field}`];\n    //     const previousValue: Record<string, unknown> = getValue('previousData', args);\n    //     if ((isNOU(editedValue) && !isNOU(previousValue)) || (!isNOU(editedValue) && isNOU(previousValue))) {\n    //         return true;\n    //     } else if (!isNOU(editedValue) && !isNOU(previousValue)) {\n    //         if (editedValue instanceof Date) {\n    //             return editedValue.getTime() !== data.taskData[field as string].getTime() ? true : false;\n    //         } else if (field === this.parent.taskFields.resourceInfo) {\n    //             return editedValue !== previousValue ? true : false;\n    //         } else if (editedValue !== data.taskData[field as string]) {\n    //             return true;\n    //         }\n    //     }\n    //     return false;\n    // }\n    /**\n     * Initiate cell save action on Gantt with arguments from TreeGrid\n     *\n     * @param {object} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.initiateCellEdit = function (args, editedObj) {\n        var isValid = true;\n        if (args['name'] === 'actionComplete' && args['previousData'] === args['data'][args['column'].field]) {\n            isValid = false;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (isValid) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'CellEditing';\n                action['editedColumn'] = args['column'].field;\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n            }\n        }\n        var column = getValue('column', args);\n        var data = getValue('data', args);\n        var editedArgs = {};\n        editedArgs.action = 'CellEditing';\n        editedArgs.data = this.parent.getTaskByUniqueID(data.uniqueID);\n        var previousValue = getValue('previousData', args);\n        var editedValue = this.parent.allowUnscheduledTasks ? data[column.field] : ((isNullOrUndefined(data[column.field])\n            || data[column.field] === '') && (this.parent.taskFields.duration === column.field ||\n            this.parent.taskFields.startDate === column.field || this.parent.taskFields.endDate === column.field)) ? previousValue\n            : data[column.field];\n        if (!isNOU(data)) {\n            data[column.field] = previousValue;\n            editedArgs.data[column.field] = previousValue;\n            this.parent.initiateEditAction(true);\n            if (this.parent.weekWorkingTime.length > 0 && editedValue && (column.field === this.parent.taskFields.startDate ||\n                column.field === this.parent.taskFields.baselineStartDate)) {\n                var sDate = column.field === this.parent.taskFields.startDate ? data.ganttProperties.startDate :\n                    data.ganttProperties.baselineStartDate;\n                var prevDay = this.parent['getStartTime'](sDate);\n                if (prevDay / 3600 === sDate.getHours()) {\n                    var dayStartTime = this.parent['getStartTime'](editedValue);\n                    this.parent.dataOperation.setTime(dayStartTime, editedValue);\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n                else {\n                    this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n                }\n            }\n            else {\n                this.parent.setRecordValue(column.field, editedValue, editedArgs.data);\n            }\n            if (column.field === this.parent.taskFields.name) {\n                this.taskNameEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.startDate) {\n                this.startDateEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.endDate) {\n                this.endDateEdited(editedArgs, args['previousData']);\n            }\n            else if (column.field === this.parent.taskFields.duration) {\n                this.durationEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.resourceInfo) {\n                this.resourceEdited(editedArgs, editedObj, data);\n            }\n            else if (column.field === this.parent.taskFields.progress) {\n                this.progressEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.baselineStartDate\n                || column.field === this.parent.taskFields.baselineEndDate) {\n                this.baselineEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.dependency) {\n                this.dependencyEdited(editedArgs, previousValue);\n            }\n            else if (column.field === this.parent.taskFields.notes) {\n                this.notedEdited(editedArgs);\n            }\n            else if (column.field === this.parent.taskFields.work) {\n                this.workEdited(editedArgs);\n            }\n            else if ((column.field === this.parent.taskFields.type || column.field === 'taskType') &&\n                !isNOU(this.parent.taskFields.work)) {\n                this.typeEdited(editedArgs, editedObj);\n            }\n            else if (column.field === this.parent.taskFields.manual) {\n                this.taskmodeEdited(editedArgs);\n            }\n            else {\n                this.parent.setRecordValue('taskData.' + column.field, editedArgs.data[column.field], editedArgs.data);\n                this.parent.editModule.initiateSaveAction(editedArgs);\n            }\n        }\n        else {\n            this.parent.editModule.endEditAction(args);\n        }\n        this.isCellEdit = false;\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule.editedColumn)) {\n            this.parent.editModule.cellEditModule.editedColumn = null;\n        }\n        if (!isNOU(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * To update task name cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskNameEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.name, args.data[this.parent.taskFields.name], args.data);\n        this.parent.setRecordValue('taskName', args.data[this.parent.taskFields.name], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task notes cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.notedEdited = function (args) {\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.notes, args.data[this.parent.taskFields.notes], args.data);\n        this.parent.setRecordValue('notes', args.data[this.parent.taskFields.notes], args.data.ganttProperties, true);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task schedule mode cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.taskmodeEdited = function (args) {\n        this.parent.setRecordValue('isAutoSchedule', !args.data[this.parent.taskFields.manual], args.data.ganttProperties, true);\n        this.parent.editModule.updateTaskScheduleModes(args.data);\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task start date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.startDateEdited = function (args) {\n        var ganttData = args.data;\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.startDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        currentValue = this.parent.dateValidationModule.checkStartDate(currentValue, ganttData.ganttProperties, ganttData.ganttProperties.isMilestone);\n        if (isNOU(currentValue)) {\n            if (!ganttData.hasChildRecords) {\n                this.parent.setRecordValue('startDate', null, ganttProb, true);\n                if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                    this.parent.setRecordValue('duration', null, ganttProb, true);\n                }\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                // if (this.parent.allowUnscheduledTasks && isNOU(this.parent.taskFields.endDate)) {\n                //     this.parent.setRecordValue('endDate', null, ganttProb, true);\n                // }\n            }\n        }\n        else if (ganttProb.endDate || !isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(ganttData);\n        }\n        else if (isNOU(ganttProb.endDate) && isNOU(ganttProb.duration)) {\n            this.parent.setRecordValue('startDate', new Date(currentValue.getTime()), ganttProb, true);\n        }\n        this.parent.setRecordValue('isMilestone', ganttProb.duration === 0 ? true : false, ganttProb, true);\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n        this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n        this.updateEditedRecord(args);\n    };\n    CellEdit.prototype.validateEndDateWithSegments = function (ganttProp) {\n        var ganttSegments = [];\n        var segments = ganttProp.segments;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[parseInt(i.toString(), 10)];\n            var endDate = segment.endDate;\n            endDate = (!isNullOrUndefined(ganttProp.endDate)) && endDate.getTime() <\n                ganttProp.endDate.getTime() && i !== segments.length - 1 ? endDate : ganttProp.endDate;\n            segment.duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n            if (segments.length > 0 && endDate.getTime() < segment.startDate.getTime()\n                && endDate.getTime() <= ganttProp.endDate.getTime()) {\n                segments[i - 1].duration = this.parent.dataOperation.getDuration(segments[i - 1].startDate, ganttProp.endDate, ganttProp.durationUnit, ganttProp.isAutoSchedule, ganttProp.isMilestone);\n                continue;\n            }\n            ganttSegments.push(segment);\n        }\n        return ganttSegments;\n    };\n    /**\n     * To update task end date cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {Date} previousValue .\n     * @returns {void} .\n     */\n    CellEdit.prototype.endDateEdited = function (args, previousValue) {\n        var ganttProb = args.data.ganttProperties;\n        var currentValue = args.data[this.parent.taskFields.endDate];\n        currentValue = currentValue ? new Date(currentValue.getTime()) : null;\n        if (isNOU(currentValue)) {\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!(ganttProb.startDate === null && ganttProb.endDate === null && ganttProb.duration !== null)) {\n                this.parent.setRecordValue('duration', null, ganttProb, true);\n            }\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n        }\n        else {\n            var dayEndTime = this.parent['getCurrentDayEndTime'](currentValue);\n            if ((currentValue.getHours() === 0 || (previousValue &&\n                currentValue.toTimeString().slice(0, 5) === previousValue.toTimeString().slice(0, 5))) && dayEndTime !== 86400) {\n                this.parent.dateValidationModule.setTime(dayEndTime, currentValue);\n            }\n            currentValue = this.parent.dateValidationModule.checkEndDate(currentValue, ganttProb, ganttProb.isMilestone);\n            this.parent.setRecordValue('endDate', currentValue, ganttProb, true);\n            if (!isNOU(ganttProb.startDate) && isNOU(ganttProb.duration)) {\n                if (this.parent.dateValidationModule.compareDates(ganttProb.endDate, ganttProb.startDate) === -1) {\n                    this.parent.setRecordValue('endDate', new Date(ganttProb.startDate.getTime()), ganttProb, true);\n                    dayEndTime = this.parent['getCurrentDayEndTime'](ganttProb.endDate);\n                    this.parent.dateValidationModule.setTime(dayEndTime, ganttProb.endDate);\n                }\n            }\n            else if (!isNOU(ganttProb.duration) && isNOU(ganttProb.startDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(ganttProb.endDate, ganttProb.duration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments)) {\n                ganttProb.segments = this.validateEndDateWithSegments(ganttProb);\n            }\n            if (this.compareDatesFromRecord(ganttProb) <= 0) {\n                this.parent.dateValidationModule.calculateDuration(args.data);\n            }\n            else {\n                this.parent.editModule.revertCellEdit(args);\n            }\n            this.updateDates(args);\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            if (ganttProb.isMilestone) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0) {\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), args.data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(args.data, 'segments');\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'endDate');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update duration cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.durationEdited = function (args) {\n        var regex = /^[^\\d.-]+$/;\n        if (regex.test(args.data[this.parent.taskFields.duration])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.duration + \" field is invalid. Please ensure the \" + this.parent.taskFields.duration + \" field contains only valid numeric values.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        if (parseInt(args.data[this.parent.taskFields.duration], 10) < 0) {\n            args.data[this.parent.taskFields.duration] = 0;\n        }\n        var ganttProb = args.data.ganttProperties;\n        var durationString = args.data[this.parent.taskFields.duration];\n        this.parent.dataOperation.updateDurationValue(durationString, ganttProb);\n        this.updateDates(args);\n        this.parent.editModule.updateResourceRelatedFields(args.data, 'duration');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update start date, end date based on duration\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateDates = function (args) {\n        var ganttProb = args.data.ganttProperties;\n        var endDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.endDate);\n        var startDate = this.parent.dateValidationModule.getDateFromFormat(ganttProb.startDate);\n        var currentDuration = ganttProb.duration;\n        if (isNOU(currentDuration)) {\n            this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n            if (args.data[this.parent.taskFields.duration] !== null) {\n                this.parent.setRecordValue('endDate', null, ganttProb, true);\n            }\n        }\n        else {\n            if (isNOU(startDate) && !isNOU(endDate)) {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.getStartDate(endDate, currentDuration, ganttProb.durationUnit, ganttProb), ganttProb, true);\n            }\n            if (currentDuration !== 0 && ganttProb.isMilestone) {\n                this.parent.setRecordValue('isMilestone', false, ganttProb, true);\n                if (!isNullOrUndefined(this.parent.taskFields.milestone)) {\n                    this.parent.setRecordValue(this.parent.taskFields.milestone, false, args.data, true);\n                }\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(ganttProb.startDate, ganttProb), ganttProb, true);\n            }\n            if (!isNullOrUndefined(ganttProb.segments) && ganttProb.segments.length > 0) {\n                this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(args.data, false), ganttProb, true);\n                this.parent.dataOperation.updateMappingData(args.data, 'segments');\n            }\n            this.parent.setRecordValue('isMilestone', (ganttProb.duration === 0 ? true : false), ganttProb, true);\n            this.parent.dateValidationModule.calculateEndDate(args.data);\n        }\n        this.parent.dataOperation.updateWidthLeft(args.data);\n        this.parent.dataOperation.updateMappingData(args.data, 'endDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'startDate');\n        this.parent.dataOperation.updateMappingData(args.data, 'duration');\n    };\n    /**\n     * To update progress cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.progressEdited = function (args) {\n        var ganttRecord = args.data;\n        this.parent.setRecordValue('progress', (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), ganttRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.progress, (ganttRecord[this.parent.taskFields.progress] > 100 ? 100 : ganttRecord[this.parent.taskFields.progress]), args.data);\n        if (!ganttRecord.ganttProperties.isAutoSchedule) {\n            this.parent.setRecordValue('autoWidth', this.parent.dataOperation.calculateWidth(ganttRecord, false), ganttRecord.ganttProperties, true);\n        }\n        if (!isNullOrUndefined(args.data.ganttProperties.segments) && args.data.ganttProperties.segments.length > 0 &&\n            !isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n            this.parent.editModule.taskbarEditModule.updateSegmentProgress(args.data.ganttProperties);\n        }\n        if (!args.data.hasChildRecords) {\n            var width = ganttRecord.ganttProperties.isAutoSchedule ? ganttRecord.ganttProperties.width :\n                ganttRecord.ganttProperties.autoWidth;\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(width, ganttRecord.ganttProperties.progress), ganttRecord.ganttProperties, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update baselines with new baseline start date and baseline end date\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.baselineEdited = function (args) {\n        var ganttRecord = args.data.ganttProperties;\n        var baseLineStartDate = args.data[this.parent.taskFields.baselineStartDate];\n        var baseLineEndDate = args.data[this.parent.taskFields.baselineEndDate];\n        var dayEndTime = this.parent['getCurrentDayEndTime'](baseLineEndDate);\n        if (baseLineEndDate && baseLineEndDate.getHours() === 0 && dayEndTime !== 86400) {\n            this.parent.dateValidationModule.setTime(dayEndTime, baseLineEndDate);\n        }\n        this.parent.setRecordValue('baselineStartDate', this.parent.dateValidationModule.checkBaselineStartDate(baseLineStartDate, ganttRecord), ganttRecord, true);\n        this.parent.setRecordValue('baselineEndDate', this.parent.dateValidationModule.checkBaselineEndDate(baseLineEndDate), ganttRecord, true);\n        if (ganttRecord.baselineStartDate && ganttRecord.baselineEndDate) {\n            this.parent.setRecordValue('baselineLeft', this.parent.dataOperation.calculateBaselineLeft(ganttRecord), ganttRecord, true);\n            this.parent.setRecordValue('baselineWidth', this.parent.dataOperation.calculateBaselineWidth(ganttRecord), ganttRecord, true);\n        }\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To update task's resource cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @param {IGanttData} previousData .\n     * @returns {void} .\n     */\n    CellEdit.prototype.resourceEdited = function (args, editedObj, previousData) {\n        var resourceSettings = this.parent.resourceFields;\n        var editedResourceId = editedObj[this.parent.taskFields.resourceInfo];\n        if (editedResourceId) {\n            this.isResourceCellEdited = true;\n            var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n            var editedResouceLength = tempResourceInfo.length;\n            var previousResource = previousData.ganttProperties.resourceInfo;\n            var index = void 0;\n            var editedResources = [];\n            var resourceData = this.parent.resources;\n            var newIndex = void 0;\n            var _loop_1 = function (count) {\n                if (previousResource) {\n                    var previousResourceLength = previousResource.length;\n                    for (newIndex = 0; newIndex < previousResourceLength; newIndex++) {\n                        if (previousResource[newIndex][resourceSettings.id] === editedResourceId[count]) {\n                            index = newIndex;\n                            break;\n                        }\n                        else {\n                            index = -1;\n                        }\n                    }\n                }\n                if (!isNOU(index) && index !== -1) {\n                    editedResources.push(previousResource[parseInt(index.toString(), 10)]);\n                }\n                else {\n                    var resource = resourceData.filter(function (resourceInfo) {\n                        return (editedResourceId[count] === resourceInfo[resourceSettings.id]);\n                    });\n                    var ganttDataResource = extend({}, resource[0]);\n                    ganttDataResource[resourceSettings.unit] = 100;\n                    editedResources.push(ganttDataResource);\n                }\n            };\n            for (var count = 0; count < editedResouceLength; count++) {\n                _loop_1(count);\n            }\n            args.data.ganttProperties.resourceInfo = editedResources;\n            this.parent.dataOperation.updateMappingData(args.data, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'resource');\n            if (this.parent.viewType === 'ResourceView') {\n                this.parent.editModule.dialogModule.isResourceUpdate = true;\n                this.parent.editModule.dialogModule.previousResource = previousResource;\n            }\n            this.updateDates(args);\n            this.updateEditedRecord(args);\n        }\n    };\n    /**\n     * To update task's predecessor cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @param {object} cellEditArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.dependencyEdited = function (editedArgs, cellEditArgs) {\n        var specialCharacterPattern = /[!@#$%^&*()_=[\\]{};:<>|./?-]/;\n        if (specialCharacterPattern.test(editedArgs.data[this.parent.taskFields.dependency])) {\n            var err = \"The provided value for the \" + this.parent.taskFields.dependency + \" field is invalid. Please ensure that the \" + this.parent.taskFields.dependency + \" field does not contain any special characters.\";\n            this.parent.trigger('actionFailure', { error: err });\n        }\n        this.parent.predecessorModule.updateUnscheduledDependency(editedArgs.data);\n        var FF = this.parent.localeObj.getConstant('FF');\n        var FS = this.parent.localeObj.getConstant('FS');\n        var SS = this.parent.localeObj.getConstant('SS');\n        var SF = this.parent.localeObj.getConstant('SF');\n        var value = '';\n        if (!isNullOrUndefined(editedArgs.data[this.parent.taskFields.dependency])) {\n            var splitString_1 = editedArgs.data[this.parent.taskFields.dependency].split(',');\n            splitString_1.map(function (splitvalue, index) {\n                if (splitvalue.includes(FF)) {\n                    value += splitvalue.replace(FF, 'FF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(FS)) {\n                    value += splitvalue.replace(FS, 'FS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SS)) {\n                    value += splitvalue.replace(SS, 'SS');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else if (splitvalue.includes(SF)) {\n                    value += splitvalue.replace(SF, 'SF');\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n                else {\n                    value += splitvalue;\n                    value += (splitString_1.length !== index + 1) ? ',' : '';\n                }\n            });\n        }\n        if (!this.parent.connectorLineEditModule.updatePredecessor(editedArgs.data, value, editedArgs)) {\n            this.parent.editModule.revertCellEdit(cellEditArgs);\n        }\n    };\n    /**\n     * To update task's work cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {void} .\n     */\n    CellEdit.prototype.workEdited = function (editedArgs) {\n        var ganttProb = editedArgs.data.ganttProperties;\n        if (editedArgs.data[this.parent.taskFields.work] < 0 || isNullOrUndefined(editedArgs.data[this.parent.taskFields.work])) {\n            editedArgs.data[this.parent.taskFields.work] = 0;\n        }\n        this.parent['updateDuration'] = true;\n        var workValue = editedArgs.data[this.parent.taskFields.work];\n        this.parent.setRecordValue('work', workValue, ganttProb, true);\n        this.parent.editModule.updateResourceRelatedFields(editedArgs.data, 'work');\n        this.updateDates(editedArgs);\n        this.updateEditedRecord(editedArgs);\n        this.parent['updateDuration'] = false;\n    };\n    /**\n     * To update task type cell with new value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @param {object} editedObj .\n     * @returns {void} .\n     */\n    CellEdit.prototype.typeEdited = function (args, editedObj) {\n        var key = this.parent.taskFields.type || 'taskType';\n        var ganttProb = args.data.ganttProperties;\n        var taskType = editedObj[\"\" + key];\n        this.parent.setRecordValue('taskType', taskType, ganttProb, true);\n        // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n        if (ganttProb.taskType === 'FixedDuration' && ganttProb.duration === 0) {\n            this.parent.editModule.updateResourceRelatedFields(args.data, 'work');\n        }\n        //this.parent.dataOperation.updateMappingData(args.data, 'taskType');\n        this.updateEditedRecord(args);\n    };\n    /**\n     * To compare start date and end date from Gantt record\n     *\n     * @param {ITaskData} ganttRecord .\n     * @returns {number} .\n     */\n    CellEdit.prototype.compareDatesFromRecord = function (ganttRecord) {\n        var sDate = this.parent.dateValidationModule.getValidStartDate(ganttRecord);\n        var eDate = this.parent.dateValidationModule.getValidEndDate(ganttRecord);\n        return this.parent.dateValidationModule.compareDates(sDate, eDate);\n    };\n    /**\n     * To start method save action with edited cell value\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     */\n    CellEdit.prototype.updateEditedRecord = function (args) {\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To remove all public private properties\n     *\n     * @returns {void} .\n     * @private\n     */\n    CellEdit.prototype.destroy = function () {\n        // Destroy Method\n        this.parent.editModule.cellEditModule = undefined;\n    };\n    return CellEdit;\n}());\nexport { CellEdit };\n","import { getValue, isNullOrUndefined, initializeCSPTemplate } from '@syncfusion/ej2-base';\nimport { Tooltip } from '@syncfusion/ej2-popups';\nimport * as cls from '../base/css-constants';\n/**\n * File for handling taskbar editing tooltip in Gantt.\n */\nvar EditTooltip = /** @class */ (function () {\n    function EditTooltip(gantt, taskbarEdit) {\n        this.parent = gantt;\n        this.taskbarEdit = taskbarEdit;\n    }\n    /**\n     * To create tooltip.\n     *\n     * @param {string} opensOn .\n     * @param {boolean} mouseTrail .\n     * @param {string} target .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.createTooltip = function (opensOn, mouseTrail, target) {\n        var _this = this;\n        this.toolTipObj = new Tooltip({\n            opensOn: opensOn,\n            position: 'TopRight',\n            enableRtl: this.parent.enableRtl,\n            mouseTrail: mouseTrail,\n            cssClass: cls.ganttTooltip,\n            windowCollision: true,\n            target: target ? target : null,\n            animation: { open: { effect: 'None' }, close: { effect: 'None' } }\n        });\n        this.toolTipObj.target = '.e-connectorpoint-left, .e-connectorpoint-right';\n        this.toolTipObj.beforeRender = function (args) {\n            var argsData = {\n                data: _this.taskbarEdit.taskBarEditRecord,\n                args: args,\n                content: _this.toolTipObj.content\n            };\n            _this.parent.trigger('beforeTooltipRender', argsData);\n        };\n        this.toolTipObj.afterOpen = function (args) {\n            _this.updateTooltipPosition(args);\n        };\n        this.toolTipObj.isStringTemplate = true;\n        this.toolTipObj.appendTo(this.parent.chartPane);\n    };\n    /**\n     * Method to update tooltip position\n     *\n     * @param {TooltipEventArgs} args .\n     * @returns {void} .\n     */\n    EditTooltip.prototype.updateTooltipPosition = function (args) {\n        args.element.style.visibility = 'visible';\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (isNullOrUndefined(parentWithZoomStyle)) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.chartPane);\n            var leftEnd = containerPosition.left + this.parent.chartPane.offsetWidth;\n            var tooltipPositionX = args.element.offsetLeft;\n            if (leftEnd < (tooltipPositionX + args.element.offsetWidth)) {\n                tooltipPositionX += leftEnd - (tooltipPositionX + args.element.offsetWidth);\n            }\n            args.element.style.left = tooltipPositionX + 'px';\n            args.element.style.visibility = 'visible';\n            if (args.target && this.parent.tooltipSettings.editing) {\n                var top_1 = args.target.getBoundingClientRect().top + window.scrollY;\n                var tooltipPositionY = void 0;\n                if (args.target.classList.contains('e-connectorpoint-left') ||\n                    args.target.classList.contains('e-connectorpoint-right')) {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 14;\n                }\n                else {\n                    tooltipPositionY = top_1 - (args.element.offsetHeight) - 8;\n                }\n                this.toolTipHeight = args.element.style.top = tooltipPositionY + 'px';\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar edit tooltip.\n     *\n     * @param {boolean} bool .\n     * @param {number} segmentIndex .\n     * @returns {void}\n     * @private\n     */\n    EditTooltip.prototype.showHideTaskbarEditTooltip = function (bool, segmentIndex) {\n        if (bool && this.parent.tooltipSettings.showTooltip) {\n            this.createTooltip('Custom', false);\n            this.parent.tooltipModule.toolTipObj.close();\n            this.updateTooltip(segmentIndex);\n            if (this.parent.tooltipSettings.editing) {\n                this.toolTipObj.openDelay = 500;\n            }\n            if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointLeft));\n            }\n            else if (this.taskbarEdit.connectorSecondAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.open(this.taskbarEdit.connectorSecondElement.querySelector('.' + cls.connectorPointRight));\n            }\n            else {\n                this.toolTipObj.open(this.taskbarEdit.taskBarEditElement);\n            }\n        }\n        else if (!isNullOrUndefined(this.toolTipObj)) {\n            this.toolTipObj.destroy();\n            this.toolTipObj = null;\n        }\n    };\n    /**\n     * To update tooltip content and position.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.updateTooltip = function (segmentIndex) {\n        var ganttProp = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        var taskWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.width :\n            ganttProp.segments[segmentIndex].width;\n        var progressWidth = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.progressWidth :\n            ganttProp.segments[segmentIndex].progressWidth;\n        var left = (isNullOrUndefined(segmentIndex) || segmentIndex === -1) ? ganttProp.left : ganttProp.left +\n            ganttProp.segments[segmentIndex].left;\n        if (!isNullOrUndefined(this.toolTipObj)) {\n            if (this.taskbarEdit.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskbarEdit.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.offsetY = -3;\n            }\n            else {\n                if (this.parent.tooltipSettings.editing) {\n                    this.toolTipObj.openDelay = 500;\n                }\n                this.toolTipObj.content = this.getTooltipText(segmentIndex);\n                if (ganttProp.segments && ganttProp.segments.length > 0 && this.taskbarEdit['mainElement'] && this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    var segments = this.taskbarEdit['mainElement'].querySelectorAll('.e-segmented-taskbar');\n                    this.toolTipObj.refresh(segments[segmentIndex]);\n                }\n                else {\n                    this.toolTipObj.refresh(this.taskbarEdit.taskBarEditElement);\n                }\n                if (this.taskbarEdit.taskBarEditAction === 'LeftResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'RightResizing' ||\n                    this.taskbarEdit.taskBarEditAction === 'ParentResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -taskWidth;\n                    }\n                    else {\n                        this.toolTipObj.offsetX = 0;\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'ProgressResizing') {\n                    if (this.parent.enableRtl) {\n                        this.toolTipObj.offsetX = -(progressWidth);\n                    }\n                    else {\n                        this.toolTipObj.offsetX = -(taskWidth - progressWidth);\n                    }\n                }\n                else if (this.taskbarEdit.taskBarEditAction === 'MilestoneDrag') {\n                    this.toolTipObj.offsetX = -(this.parent.chartRowsModule.milestoneHeight / 2);\n                }\n                else if (taskWidth > 5) {\n                    this.toolTipObj.offsetX = -(taskWidth + left - this.taskbarEdit.tooltipPositionX);\n                }\n                if (this.parent.tooltipSettings.editing && document.getElementsByClassName('e-gantt-tooltip')[0] && this.toolTipHeight) {\n                    document.getElementsByClassName('e-gantt-tooltip')[0].style.top = this.toolTipHeight;\n                }\n            }\n        }\n    };\n    /**\n     * To get updated tooltip text.\n     *\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    EditTooltip.prototype.getTooltipText = function (segmentIndex) {\n        var tooltipString = '';\n        var instance = this.parent.globalize;\n        var editRecord = this.taskbarEdit.taskBarEditRecord.ganttProperties;\n        if (!isNullOrUndefined(editRecord.segments) && editRecord.segments.length > 0 && segmentIndex !== -1\n            && this.taskbarEdit.taskBarEditAction !== 'ProgressResizing') {\n            editRecord = editRecord.segments[segmentIndex];\n        }\n        if (this.parent.tooltipSettings.editing) {\n            var templateNode = this.parent.tooltipModule.templateCompiler(this.parent.tooltipSettings.editing, this.parent, this.taskbarEdit.taskBarEditRecord, 'TooltipEditingTemplate');\n            if (getValue('tooltipEle', this.toolTipObj)) {\n                this.parent.renderTemplates();\n            }\n            tooltipString = templateNode[0];\n        }\n        else {\n            var startDate = void 0;\n            var endDate = void 0;\n            var duration = void 0;\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.startDate)) {\n                startDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('startDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.startDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.endDate)) {\n                endDate = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('endDate') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    instance.formatDate(editRecord.endDate, { format: this.parent.getDateFormat() }) + '</td></tr>';\n            }\n            if (!isNullOrUndefined(editRecord) && !isNullOrUndefined(editRecord.duration)) {\n                duration = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('duration') +\n                    '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' +\n                    this.parent.getDurationString(editRecord.duration, editRecord.durationUnit) + '</td></tr>';\n            }\n            switch (this.taskbarEdit.taskBarEditAction) {\n                case 'ProgressResizing':\n                    {\n                        var progress = '<tr><td class = \"e-gantt-tooltip-label\">' + this.parent.localeObj.getConstant('progress') +\n                            '</td><td class=' + cls.templatePadding + '>:</td><td class = \"e-gantt-tooltip-value\">' + editRecord.progress + '</td></tr>';\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            progress + '</tbody></table>';\n                        break;\n                    }\n                case 'LeftResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            startDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'RightResizing':\n                case 'ParentResizing':\n                    {\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' +\n                            endDate + duration + '</tbody></table>';\n                        break;\n                    }\n                case 'ChildDrag':\n                case 'ParentDrag':\n                case 'MilestoneDrag':\n                case 'ManualParentDrag':\n                    {\n                        var sDate = '';\n                        var eDate = '';\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.startDate)) {\n                            sDate = startDate;\n                        }\n                        if (!isNullOrUndefined(this.taskbarEdit.taskBarEditRecord.ganttProperties.endDate)) {\n                            eDate = endDate;\n                        }\n                        tooltipString = '<table class = \"e-gantt-tooltiptable\"><tbody>' + sDate + eDate + '</tbody></table>';\n                        break;\n                    }\n                case 'ConnectorPointLeftDrag':\n                case 'ConnectorPointRightDrag':\n                    {\n                        tooltipString = this.parent.connectorLineModule.tooltipTable;\n                        if (isNullOrUndefined(this.toolTipObj)) {\n                            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                        }\n                        break;\n                    }\n            }\n        }\n        if (typeof tooltipString === 'string') {\n            var contentTemp = function () {\n                return tooltipString;\n            };\n            return initializeCSPTemplate(contentTemp);\n        }\n        else {\n            return tooltipString;\n        }\n    };\n    return EditTooltip;\n}());\nexport { EditTooltip };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, createElement, extend, addClass, remove, removeClass, closest, merge, classList, getValue } from '@syncfusion/ej2-base';\nimport { parentsUntil } from '../base/utils';\nimport { DateProcessor } from '../base/date-processor';\nimport * as cls from '../base/css-constants';\nimport { EditTooltip } from '../renderer/edit-tooltip';\n/**\n * File for handling taskbar editing operation in Gantt.\n */\nvar TaskbarEdit = /** @class */ (function (_super) {\n    __extends(TaskbarEdit, _super);\n    function TaskbarEdit(ganttObj) {\n        var _this = _super.call(this, ganttObj) || this;\n        _this.leftValue = 0;\n        _this.previousLeftValue = 0;\n        _this.isMouseDragged = false;\n        _this.dependencyCancel = false;\n        _this.isDragged = false;\n        _this.editElement = null;\n        _this.elementOffsetLeft = 0;\n        _this.elementOffsetTop = 0;\n        _this.elementOffsetWidth = 0;\n        _this.elementOffsetHeight = 0;\n        _this.segmentIndex = -1;\n        _this.currentItemTop = 0;\n        _this.currentItemPrevTop = 0;\n        _this.topValue = 0;\n        _this.draggedRecordMarginTop = '0px';\n        _this.isClonedElement = false;\n        _this.updatePosition = false;\n        _this.tooltipValue = 0;\n        _this.parent = ganttObj;\n        _this.initPublicProp();\n        _this.wireEvents();\n        _this.editTooltip = new EditTooltip(_this.parent, _this);\n        return _this;\n    }\n    TaskbarEdit.prototype.wireEvents = function () {\n        this.parent.on('chartMouseDown', this.mouseDownHandler, this);\n        this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        this.parent.on('chartMouseLeave', this.mouseLeaveHandler, this);\n        this.parent.on('chartMouseMove', this.mouseMoveAction, this);\n        this.parent.on('chartMouseClick', this.mouseClickHandler, this);\n    };\n    /**\n     * To initialize the public property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.initPublicProp = function () {\n        this.taskBarEditElement = null;\n        this.taskBarEditRecord = null;\n        this.taskBarEditAction = null;\n        this.connectorSecondElement = null;\n        this.connectorSecondRecord = null;\n        this.connectorSecondAction = null;\n        this.highlightedSecondElement = null;\n        this.fromPredecessorText = null;\n        this.toPredecessorText = null;\n        this.finalPredecessor = null;\n        this.drawPredecessor = false;\n        this.roundOffDuration = true;\n        this.dragMouseLeave = false;\n        this.isMouseDragged = false;\n        this.previousItemProperty = ['left', 'progress', 'duration', 'isMilestone', 'startDate', 'endDate', 'width', 'progressWidth',\n            'autoLeft', 'autoDuration', 'autoStartDate', 'autoEndDate', 'autoWidth', 'segments'];\n        this.tapPointOnFocus = false;\n        this.touchEdit = false;\n    };\n    TaskbarEdit.prototype.mouseDownHandler = function (e) {\n        if (this.parent.editSettings.allowTaskbarEditing && !this.parent.readOnly) {\n            this.canDrag = false;\n            if (this.taskBarEditElement) {\n                var targetElement = this.getElementByPosition(e);\n                var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n                if ((element && element.innerHTML === this.taskBarEditElement.innerHTML ||\n                    this.taskBarEditElement.classList.contains('e-segmented-taskbar') || this.taskBarEditElement.classList.contains('collpse-parent-border'))) {\n                    this.updateTaskBarEditElement(e);\n                    this.canDrag = true;\n                    e.preventDefault();\n                }\n            }\n            else if (!this.parent.isAdaptive) {\n                this.updateTaskBarEditElement(e);\n            }\n        }\n    };\n    TaskbarEdit.prototype.mouseClickHandler = function (e) {\n        if (!this.parent.editSettings.allowTaskbarEditing) {\n            return;\n        }\n        var targetElement = this.getElementByPosition(e);\n        var element = parentsUntil(targetElement, cls.taskBarMainContainer);\n        if (this.parent.selectionModule && this.parent.selectionModule.enableSelectMultiTouch) {\n            if (this.tapPointOnFocus) {\n                this.updateTaskBarEditElement(e);\n            }\n            return;\n        }\n        if (this.tapPointOnFocus && !isNullOrUndefined(this.taskBarEditElement) && element &&\n            element.innerHTML !== this.taskBarEditElement.innerHTML) {\n            this.connectorSecondRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondElement = element;\n            this.fromPredecessorText = 'Finish';\n            if (this.validateConnectorPoint()) {\n                this.taskBarEditingAction(e, true);\n            }\n            this.showHideActivePredecessors(false);\n            this.initPublicProp();\n        }\n        else if (targetElement.classList.contains(cls.connectorPointLeftHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointLeftDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else if (targetElement.classList.contains(cls.connectorPointRightHover)) {\n            this.canDrag = false;\n            this.multipleSelectionEnabled();\n            this.showHideTaskBarEditingElements(targetElement, this.taskBarEditElement);\n            this.tapPointOnFocus = true;\n            this.taskBarEditAction = 'ConnectorPointRightDrag';\n            this.connectorSecondRecord = this.taskBarEditRecord;\n            this.taskBarEditingAction(e, false);\n        }\n        else {\n            if (this.tapPointOnFocus) {\n                this.showHideActivePredecessors(false);\n                this.showHideTaskBarEditingElements(element, this.taskBarEditElement);\n            }\n            this.updateTaskBarEditElement(e);\n        }\n    };\n    TaskbarEdit.prototype.showHideActivePredecessors = function (show) {\n        var ganttProp = this.taskBarEditRecord.ganttProperties;\n        var predecessors = ganttProp.predecessor;\n        var id = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n        if (predecessors) {\n            for (var i = 0; i < predecessors.length; i++) {\n                var predecessor = predecessors[i];\n                if (id.toString() === predecessor.from || id.toString() === predecessor.to) {\n                    this.applyActiveColor(predecessor.from, predecessor.to, show);\n                }\n            }\n        }\n        var chartContent = this.parent.ganttChartModule.chartBodyContainer;\n        if (show) {\n            addClass([this.taskBarEditElement], [cls.activeChildTask]);\n            addClass([chartContent], [cls.touchMode]);\n        }\n        else {\n            removeClass([this.taskBarEditElement], [cls.activeChildTask]);\n            removeClass([chartContent], [cls.touchMode]);\n        }\n        this.touchEdit = show;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    TaskbarEdit.prototype.applyActiveColor = function (from, to, enable) {\n        var taskId = this.parent.viewType === 'ProjectView' ? this.taskBarEditRecord.ganttProperties.taskId.toString() :\n            this.taskBarEditRecord.ganttProperties.rowUniqueID.toString();\n        var ganttRecord = (taskId === from) ? this.parent.connectorLineModule.getRecordByID(to) :\n            this.parent.connectorLineModule.getRecordByID(from);\n        var $tr = this.parent.ganttChartModule.getChartRows()[this.parent.currentViewData.indexOf(ganttRecord)];\n        if (!isNullOrUndefined($tr)) {\n            var $taskbar = $tr.querySelector('.' + cls.taskBarMainContainer);\n            var $connectorElement = this.parent.element.querySelector('#ConnectorLineparent' + from + 'child' + to);\n            if (enable) {\n                addClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    addClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n            else {\n                removeClass([$taskbar], [cls.activeConnectedTask]);\n                if ($connectorElement) {\n                    removeClass([$connectorElement], [cls.activeConnectedTask]);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.validateConnectorPoint = function () {\n        var parentRecord = this.taskBarEditRecord.ganttProperties;\n        var childRecord = this.connectorSecondRecord.ganttProperties;\n        var isValid = true;\n        var parentId = this.parent.viewType === 'ResourceView' ? parentRecord.taskId : parentRecord.rowUniqueID;\n        var childId = this.parent.viewType === 'ResourceView' ? childRecord.taskId : childRecord.rowUniqueID;\n        if (this.connectorSecondRecord.hasChildRecords) {\n            isValid = false;\n        }\n        else if (childRecord.predecessor) {\n            for (var i = 0; i < childRecord.predecessor.length; i++) {\n                var predecessor = childRecord.predecessor[i];\n                if (predecessor.from === parentId.toString() &&\n                    predecessor.to === childId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.connectorSecondRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n                else if (predecessor.from === childId.toString() &&\n                    predecessor.to === parentId.toString()) {\n                    this.parent.connectorLineEditModule.childRecord = this.taskBarEditRecord;\n                    this.parent.connectorLineEditModule.predecessorIndex = i;\n                    this.parent.connectorLineEditModule.renderPredecessorDeleteConfirmDialog();\n                    isValid = false;\n                    break;\n                }\n            }\n        }\n        return isValid;\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.mouseLeaveHandler = function (e) {\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ProgressResizing' || this.taskBarEditAction === 'LeftResizing' ||\n            this.taskBarEditAction === 'RightResizing') {\n            this.dragMouseLeave = false;\n        }\n        else {\n            this.dragMouseLeave = true;\n        }\n    };\n    /**\n     * To update taskbar edited elements on mouse down action.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateTaskBarEditElement = function (e) {\n        var target = this.getElementByPosition(e);\n        var cloneTaskBar;\n        var element;\n        if (target.classList.contains(cls.manualParentRightResizer) || target.classList.contains(cls.manualParentMainContainer)\n            || target.classList.contains(cls.manualParentTaskBar)) {\n            element = parentsUntil(target, cls.manualParentMainContainer);\n        }\n        else if (target.classList.contains(cls.manualParentMilestone)) {\n            element = parentsUntil(target, cls.manualParentMilestone);\n        }\n        else {\n            element = parentsUntil(target, cls.taskBarMainContainer);\n            if (!isNullOrUndefined(element) && !target.classList.contains('e-connectorpoint-left') &&\n                !target.classList.contains('e-connectorpoint-right')) {\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (currentRecord && currentRecord.ganttProperties && !isNullOrUndefined(currentRecord.ganttProperties.segments) &&\n                    currentRecord.ganttProperties.segments.length > 0) {\n                    if (target.classList.contains('e-progressbar-handler-after')) {\n                        for (var i = 0; i < currentRecord.ganttProperties.segments.length; i++) {\n                            if (currentRecord.ganttProperties.segments[i].showProgress) {\n                                element = element.querySelectorAll('.e-segmented-taskbar')[i];\n                                break;\n                            }\n                        }\n                    }\n                    else {\n                        element = parentsUntil(target, cls.childTaskBarInnerDiv);\n                    }\n                }\n            }\n        }\n        if (this.parent.editSettings.allowTaskbarEditing && element) {\n            this.showHideTaskBarEditingElements(element, this.editElement);\n            this.editElement = element;\n            this.realTaskbarElement = this.editElement;\n            var index = this.editElement.getAttribute('data-segment-index');\n            if (!isNullOrUndefined(index)) {\n                this.segmentIndex = Number(index);\n            }\n            else {\n                this.segmentIndex = -1;\n            }\n            this.taskBarEditRecord = this.parent.ganttChartModule.getRecordByTaskBar(this.editElement);\n            if (e.type === 'mousedown' || e.type === 'touchstart' || e.type === 'click') {\n                this.taskBarEditAction = this.getTaskBarAction(e);\n                var index_1 = this.editElement.getAttribute('data-segment-index');\n                var currentRecord = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                var ganttprop = currentRecord.ganttProperties;\n                var parentleft = this.editElement.parentElement.offsetLeft;\n                this.currentData = currentRecord;\n                var resizeElement = createElement('div', { styles: 'height:100%;border-style:dashed;border-bottom:none;border-top:none;border-width:1px;position:absolute;z-index:10000' });\n                addClass([resizeElement], 'e-taskbar-resize-div');\n                resizeElement.style.setProperty('width', ganttprop.width + 'px');\n                var currentindex = this.editElement.getAttribute('data-segment-index');\n                if (!isNullOrUndefined(ganttprop.segments) && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    resizeElement.style.setProperty('left', ((!isNullOrUndefined(ganttprop.segments) ? parentleft + 'px' : (ganttprop.left) + 'px')));\n                }\n                else {\n                    resizeElement.style.setProperty('left', (((!isNullOrUndefined(ganttprop.segments) && ganttprop.segments.length > 1) ? parentleft + ganttprop.segments[Number(currentindex)].left + 'px' : (ganttprop.left) + 'px')));\n                }\n                var resizeTable = this.parent.createElement('table');\n                var resizetableBody = this.parent.createElement('tbody');\n                resizetableBody.appendChild(resizeElement);\n                resizeTable.appendChild(resizetableBody);\n                var Check = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-clone-taskbar');\n                var createTable = null;\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                }\n                else {\n                    if (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' &&\n                        this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        cloneTaskBar = this.editElement.parentElement.cloneNode(true);\n                    }\n                    else {\n                        cloneTaskBar = this.editElement.cloneNode(true);\n                    }\n                }\n                if (!Check) {\n                    addClass([cloneTaskBar], 'e-clone-taskbar');\n                    cloneTaskBar.style.setProperty('position', 'absolute');\n                    if (currentRecord.hasChildRecords && !currentRecord.ganttProperties.isAutoSchedule) {\n                        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n                        var taskbarPosition = this.parent.getOffsetRect(this.editElement);\n                        if (this.editElement.classList.contains('e-manualparent-main-container')) {\n                            cloneTaskBar.style.setProperty('left', (currentRecord.ganttProperties.left - currentRecord.ganttProperties.autoLeft) + 'px');\n                        }\n                        else {\n                            cloneTaskBar.style.setProperty(this.parent.enableRtl ?\n                                'right' : 'left', Math.abs(taskbarPosition.left - containerPosition.left + Math.abs(this.parent.ganttChartModule.scrollElement.scrollLeft)) + 'px');\n                        }\n                    }\n                    cloneTaskBar.style.setProperty('top', 0 + 'px');\n                    createTable = this.parent.createElement('table');\n                    var tableBody = this.parent.createElement('tbody');\n                    tableBody.appendChild(cloneTaskBar);\n                    createTable.appendChild(tableBody);\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') && !isNullOrUndefined(index_1) && !isNullOrUndefined(index_1) ? Number(index_1) === 0 : false) {\n                    var segmentedTasks = cloneTaskBar.getElementsByClassName('e-segmented-taskbar');\n                    this.cloneTaskbarElement = segmentedTasks[Number(index_1)];\n                }\n                else {\n                    this.cloneTaskbarElement = cloneTaskBar;\n                }\n                this.taskBarEditElement = this.cloneTaskbarElement;\n                this.taskbarElement = createTable;\n                this.taskbarResizer = resizeTable;\n                this.currentIndex = index_1;\n                this.roundOffDuration = true;\n                if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') &&\n                    isNullOrUndefined(this.parent.taskFields.dependency)) {\n                    this.taskBarEditAction = null;\n                }\n                this.updateMouseDownProperties(e);\n                if (this.parent.viewType === 'ResourceView' || this.parent.viewType === 'ProjectView') {\n                    if (this.taskBarEditRecord.level === 0) {\n                        return;\n                    }\n                    else if (this.parent.enableMultiTaskbar) {\n                        var parentRecord = this.parent.getTaskByUniqueID(this.taskBarEditRecord.parentItem.uniqueID);\n                        if (!isNullOrUndefined(parentRecord) && !parentRecord.expanded) {\n                            this.prevZIndex = (this.taskBarEditElement).style.zIndex;\n                            (this.taskBarEditElement).style.zIndex = '1000';\n                            if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')) {\n                                addClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (this.taskBarEditElement) {\n                    this.showHideTaskBarEditingElements(element, this.editElement);\n                }\n                this.initPublicProp();\n            }\n            else {\n                this.showHideTaskBarEditingElements(element, this.editElement);\n            }\n        }\n    };\n    /**\n     * To show/hide taskbar editing elements.\n     *\n     * @param {Element} element .\n     * @param {Element} secondElement .\n     * @param {boolean} fadeConnectorLine .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.showHideTaskBarEditingElements = function (element, secondElement, fadeConnectorLine) {\n        secondElement = secondElement ? secondElement : this.editElement;\n        var isShowProgressResizer = this.parent.taskFields.progress ? true : false;\n        var isShowConnectorPoints = true;\n        if (this.parent.readOnly) {\n            return;\n        }\n        var record = element ? this.parent.ganttChartModule.getRecordByTaskBar(element) :\n            secondElement ? this.parent.ganttChartModule.getRecordByTaskBar(secondElement) : null;\n        if (this.parent.enableMultiTaskbar && element) {\n            var parentRecord = this.parent.getParentTask(record.parentItem);\n            if (!isNullOrUndefined(parentRecord)) {\n                if (!parentRecord.expanded) {\n                    isShowConnectorPoints = false;\n                    addClass([element], [cls.collapseMultiTaskBar]);\n                }\n            }\n        }\n        if (element) {\n            if (element.querySelector('.' + cls.taskBarLeftResizer)) {\n                addClass([element.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                addClass([element.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                if (isShowProgressResizer) {\n                    var progressElement = (record && record.ganttProperties.segments &&\n                        record.ganttProperties.segments.length > 0) ?\n                        this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)).\n                            querySelectorAll('.' + cls.childProgressResizer)[0] :\n                        element.querySelector('.' + cls.childProgressResizer);\n                    if (!isNullOrUndefined(progressElement)) {\n                        addClass([progressElement], [cls.progressResizeGripper]);\n                        progressElement.style.top = '3px';\n                    }\n                }\n            }\n            else if (this.parent.isAdaptive && isShowProgressResizer) {\n                var record_1 = this.parent.ganttChartModule.getRecordByTaskBar(element);\n                if (record_1.hasChildRecords) {\n                    addClass([element], [cls.activeParentTask]);\n                }\n            }\n            addClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (element.querySelector('.' + cls.connectorPointLeft)\n                    || element.parentElement.querySelector('.' + cls.connectorPointLeft))\n                && isShowConnectorPoints) {\n                var connectorElement = !isNullOrUndefined(element.querySelector('.' + cls.connectorPointLeft)) ?\n                    element : element.parentElement;\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointLeft))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointLeftHover]);\n                }\n                if (!isNullOrUndefined(connectorElement.querySelector('.' + cls.connectorPointRight))) {\n                    addClass([connectorElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointRightHover]);\n                }\n            }\n        }\n        else if (!fadeConnectorLine) {\n            removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n        }\n        if (secondElement && element !== secondElement) {\n            if (secondElement.querySelector('.' + cls.taskBarLeftResizer)) {\n                removeClass([secondElement.querySelector('.' + cls.taskBarLeftResizer)], [cls.leftResizeGripper]);\n                removeClass([secondElement.querySelector('.' + cls.taskBarRightResizer)], [cls.rightResizeGripper]);\n                var progressElement = (record && record.ganttProperties.segments && record.ganttProperties.segments.length > 0) ?\n                    this.parent.getRowByIndex(this.parent.currentViewData.indexOf(record)) : secondElement;\n                if (progressElement && progressElement.querySelector('.' + cls.childProgressResizer)) {\n                    removeClass([progressElement.querySelector('.' + cls.childProgressResizer)], [cls.progressResizeGripper]);\n                }\n            }\n            if (!isNullOrUndefined(this.parent.taskFields.dependency)\n                && (secondElement.querySelector('.' + cls.connectorPointLeft)\n                    || secondElement.parentElement.querySelector('.' + cls.connectorPointLeft))) {\n                var connectorElement = !isNullOrUndefined(secondElement.querySelector('.' + cls.connectorPointLeft)) ?\n                    secondElement : secondElement.parentElement;\n                var leftConnector = connectorElement.querySelector('.' + cls.connectorPointLeft);\n                var rightConnector = connectorElement.querySelector('.' + cls.connectorPointRight);\n                if (leftConnector) {\n                    removeClass([leftConnector], [cls.connectorPointLeftHover]);\n                }\n                if (rightConnector) {\n                    removeClass([rightConnector], [cls.connectorPointRightHover]);\n                }\n            }\n            else if (this.parent.isAdaptive) {\n                var record_2 = this.parent.ganttChartModule.getRecordByTaskBar(secondElement);\n                if (record_2 && record_2.hasChildRecords) {\n                    removeClass([secondElement], [cls.activeParentTask]);\n                }\n            }\n            this.editElement = null;\n        }\n    };\n    /**\n     * To get taskbar edit actions.\n     *\n     * @param {PointerEvent} e .\n     * @returns {string} .\n     * @private\n     */\n    TaskbarEdit.prototype.getTaskBarAction = function (e) {\n        var mouseDownElement = this.getElementByPosition(e);\n        var data = this.taskBarEditRecord;\n        var action = '';\n        if (mouseDownElement.classList.contains(cls.taskBarLeftResizer)) {\n            action = 'LeftResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.taskBarRightResizer)) {\n            action = 'RightResizing';\n        }\n        else if ((mouseDownElement.classList.contains(cls.childProgressResizer) ||\n            closest(mouseDownElement, '.' + cls.childProgressResizer)) && (this.parent.taskFields.progress)) {\n            action = 'ProgressResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointLeft)) {\n            action = 'ConnectorPointLeftDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.connectorPointRight)) {\n            action = 'ConnectorPointRightDrag';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentRightResizer)) {\n            action = 'ParentResizing';\n        }\n        else if (mouseDownElement.classList.contains(cls.manualParentTaskBar) ||\n            mouseDownElement.classList.contains(cls.manualParentMainContainer) ||\n            mouseDownElement.classList.contains(cls.manualParentMilestone)) {\n            action = 'ManualParentDrag';\n        }\n        else if (data) {\n            action = data.hasChildRecords ? data[this.parent.taskFields.manual] ? '' : 'ParentDrag'\n                : data.ganttProperties.isMilestone ? 'MilestoneDrag' : 'ChildDrag';\n        }\n        return action;\n    };\n    /**\n     * To update property while perform mouse down.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseDownProperties = function (event) {\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n            if (this.parent.enableRtl) {\n                this.mouseDownX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseDownX = (e.pageX - containerPosition.left) +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseDownX;\n            this.mouseDownY = this.dragMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag' || this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            this.fromPredecessorText = this.taskBarEditAction === 'ConnectorPointLeftDrag' ? 'start' : 'finish';\n            this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n            this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.taskBarEditRecord.ganttProperties.taskName, this.fromPredecessorText, '', ''));\n        }\n    };\n    TaskbarEdit.prototype.isMouseDragCheck = function () {\n        if (!this.isMouseDragged && this.taskBarEditAction && ((this.mouseDownX !== this.mouseMoveX) &&\n            ((this.mouseDownX + 3) < this.mouseMoveX || (this.mouseDownX - 3) > this.mouseMoveX)\n            || (this.mouseDownY !== this.mouseMoveY) &&\n                ((this.mouseDownY + 3) < this.mouseMoveY || (this.mouseDownY - 3) > this.mouseMoveY))) {\n            this.isMouseDragged = true;\n            this.parent.initiateEditAction(true);\n            var item = this.taskBarEditRecord.ganttProperties;\n            this.previousItem = this.parent.timelineModule.extendFunction(item, this.previousItemProperty);\n            if (this.taskBarEditAction !== 'ConnectorPointLeftDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                !(this.parent.viewType === 'ResourceView' && this.taskBarEditAction === 'ParentDrag')) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            this.taskBarEditElement.setAttribute('aria-grabbed', 'true');\n        }\n    };\n    /* eslint-disable-next-line */\n    TaskbarEdit.prototype.removeFirstBorder = function (element) {\n        var canremove = this.parent.rowDragAndDropModule['dropPosition'] === 'bottomSegment';\n        if (this.parent.element.getElementsByClassName('e-firstrow-border').length > 0 && element &&\n            (element.getAttribute('aria-rowindex') - 1 !== 0 || canremove)) {\n            this.parent.element.getElementsByClassName('e-firstrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removeLastBorder = function (element) {\n        var isEmptyRow = element && (element.classList.contains('e-emptyrow') || element.classList.contains('e-columnheader')\n            || element.classList.contains('e-detailrow'));\n        var islastRowIndex;\n        if (this.parent.enableVirtualization) {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRows()[this.parent.treeGrid.getCurrentViewRecords().length - 1].getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        else {\n            islastRowIndex = element && !isEmptyRow &&\n                this.parent.treeGrid.getRowByIndex(this.parent.treeGrid.getCurrentViewRecords().length - 1).getAttribute('data-uid') !==\n                    element.getAttribute('data-uid');\n        }\n        var canremove = islastRowIndex || this.parent.rowDragAndDropModule['dropPosition'] === 'topSegment';\n        if (this.parent.element.getElementsByClassName('e-lastrow-border').length > 0 && element && (islastRowIndex || canremove)) {\n            this.parent.element.getElementsByClassName('e-lastrow-border')[0].remove();\n        }\n    };\n    TaskbarEdit.prototype.removetopOrBottomBorder = function () {\n        var border = [].slice.call(this.parent.element.querySelectorAll('.e-dropbottom, .e-droptop'));\n        if (border.length) {\n            this.addRemoveClasses(border, false, 'e-dropbottom');\n            this.addRemoveClasses(border, false, 'e-droptop');\n        }\n    };\n    TaskbarEdit.prototype.topOrBottomBorder = function (target) {\n        var rowElement;\n        if (this.parent.enableVirtualization) {\n            var gridElement = this.parent.treeGrid.getRows().filter(function (data) {\n                return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(target.getAttribute('aria-rowindex'), 10) - 1;\n            })[0];\n            var index = this.parent.treeGrid.getRows().indexOf(gridElement);\n            rowElement = this.parent.getRowByIndex(index).children;\n        }\n        else {\n            rowElement = this.parent.getRowByIndex(parseInt(target.getAttribute('aria-rowindex'), 10) - 1).children;\n        }\n        if (rowElement) {\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'above') {\n                this.addRemoveClasses(rowElement, true, 'e-droptop');\n                if (this.parent.element.getElementsByClassName('e-lastrow-dragborder').length > 0) {\n                    this.parent.element.getElementsByClassName('e-lastrow-dragborder')[0].remove();\n                }\n            }\n            if (this.parent.rowDragAndDropModule['dropPosition'] === 'below') {\n                this.addRemoveClasses(rowElement, true, 'e-dropbottom');\n            }\n        }\n    };\n    TaskbarEdit.prototype.removeChildBorder = function () {\n        var borderElem = [].slice.call(this.parent.element.querySelectorAll('.e-childborder'));\n        if (borderElem.length > 0) {\n            this.addRemoveClasses(borderElem, false, 'e-childborder');\n        }\n    };\n    TaskbarEdit.prototype.addRemoveClasses = function (cells, add, className) {\n        for (var i = 0, len = cells.length; i < len; i++) {\n            if (add) {\n                cells[parseInt(i.toString(), 10)].classList.add(className);\n            }\n            else {\n                cells[parseInt(i.toString(), 10)].classList.remove(className);\n            }\n        }\n    };\n    TaskbarEdit.prototype.addErrorElem = function () {\n        var dragelem = document.getElementsByClassName('e-clone-taskbar')[0];\n        var errorelem = document.querySelectorAll('.e-errorelem').length;\n        if (!errorelem) {\n            var ele = document.createElement('div');\n            classList(ele, ['e-errorcontainer'], []);\n            classList(ele, ['e-icons', 'e-errorelem'], []);\n            if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                ele.style.paddingTop = this.parent.taskbarHeight + 'px';\n            }\n            dragelem.appendChild(ele);\n        }\n    };\n    TaskbarEdit.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    TaskbarEdit.prototype.ensurePosition = function (draggedRecords, currentRecord) {\n        var _this = this;\n        draggedRecords.filter(function (draggedRecord) {\n            if (draggedRecord.hasChildRecords && !isNullOrUndefined(draggedRecord.childRecords)) {\n                var valid = draggedRecord.childRecords.indexOf(currentRecord);\n                if (valid === -1) {\n                    _this.ensurePosition(draggedRecord.childRecords, currentRecord);\n                }\n                else {\n                    _this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                    _this.addErrorElem();\n                    return;\n                }\n            }\n        });\n    };\n    /**\n     * To handle mouse move action in chart\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseMoveAction = function (event) {\n        var _this = this;\n        if (this.parent.isAdaptive) {\n            if (!this.canDrag) {\n                return;\n            }\n            else {\n                this.multipleSelectionEnabled();\n            }\n        }\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        if (this.parent.enableRtl) {\n            this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n        }\n        else {\n            this.mouseMoveX = e.pageX - containerPosition.left +\n                this.parent.ganttChartModule.scrollObject.previousScroll.left;\n        }\n        this.mouseMoveY = e.pageY - containerPosition.top +\n            this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.dragMouseLeave = false;\n        var cancel = false;\n        if (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag') {\n            var ganttRowElement = void 0;\n            if (this.parent.enableVirtualization) {\n                var index = this.parent.currentViewData.indexOf(this.taskBarEditRecord);\n                ganttRowElement = this.parent.getRowByIndex(index);\n            }\n            else {\n                ganttRowElement = this.parent.getRowByIndex(this.taskBarEditRecord.index);\n            }\n            var eventArgs = {\n                cancel: cancel,\n                cloneElement: this.taskbarElement,\n                data: this.taskBarEditRecord,\n                target: event.target,\n                rows: ganttRowElement\n            };\n            this.parent.trigger('rowDrag', eventArgs);\n            cancel = eventArgs['cancel'];\n        }\n        if (!cancel) {\n            this.isMouseDragCheck();\n        }\n        if (this.isMouseDragged && this.taskBarEditAction) {\n            event.preventDefault();\n            if (!isNullOrUndefined(this.taskbarElement) && !isNullOrUndefined(this.editElement) && (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n                this.taskBarEditAction !== 'ConnectorPointLeftDrag') && !(this.parent.viewType === 'ResourceView' && this.currentData.hasChildRecords)) {\n                var currentElement = this.editElement.parentElement;\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n                if ((this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'LeftResizing') &&\n                    !isNullOrUndefined(this.currentIndex) && !isNullOrUndefined(this.currentIndex) ? Number(this.currentIndex) === 0 : false) {\n                    this.taskbarElement.childNodes[0].childNodes[0].style.setProperty('top', currentElement.parentElement.offsetTop + 'px');\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.parentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                else {\n                    if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                        this.parent.chartPane.getElementsByClassName('e-gantt-chart')[0].appendChild(this.taskbarElement);\n                    }\n                    else {\n                        currentElement.appendChild(this.taskbarElement);\n                    }\n                }\n                if (this.taskBarEditAction !== 'ProgressResizing') {\n                    if (this.parent.enableTimelineVirtualization &&\n                        this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-scroll-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                    else {\n                        var rootElement = this.parent.ganttChartModule.chartBodyContainer.querySelectorAll('.e-chart-rows-container');\n                        rootElement[0].appendChild(this.taskbarResizer);\n                    }\n                }\n            }\n            if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag')) {\n                var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                var xValue = void 0;\n                if (this.parent.enableRtl) {\n                    xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                }\n                else {\n                    xValue = Math.abs(taskbarPosition.left - pointerLeft - 1);\n                }\n                if (!this.isClonedElement && !this.parent.enableRtl) {\n                    xValue = xValue - this.parent.ganttChartModule.scrollElement.scrollLeft;\n                    this.isClonedElement = true;\n                }\n                var rowPositionHeight = 0;\n                this.parent.rowDragAndDropModule['dropPosition'] = undefined;\n                var target = void 0;\n                var yValue = void 0;\n                if (event.type === 'touchmove' || event.type === 'touchstart' || event.type === 'touchend') {\n                    yValue = event['changedTouches'][0].pageY;\n                }\n                else {\n                    yValue = event.y;\n                }\n                if (this.parent.enableRtl) {\n                    target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth, yValue);\n                    if (target.classList.contains('e-taskbar-resize-div')) {\n                        target = document.elementFromPoint(this.parent.ganttChartModule.chartBodyContainer.offsetWidth - target['offsetWidth'], yValue);\n                    }\n                }\n                else {\n                    target = document.elementFromPoint(xValue, yValue);\n                }\n                var draggedTreeGridRowElement = void 0;\n                if (this.parent.enableVirtualization) {\n                    if (!this.draggedTreeGridRowElement) {\n                        var currentElement = this.editElement.parentElement;\n                        draggedTreeGridRowElement = currentElement.parentElement;\n                        this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                else {\n                    draggedTreeGridRowElement = this.parent.treeGrid.getRows()[this.parent.flatData.indexOf(this.taskBarEditRecord)];\n                    this.draggedTreeGridRowElement = draggedTreeGridRowElement;\n                    if (this.parent.enableMultiTaskbar) {\n                        if (this.taskBarEditRecord.parentItem &&\n                            !isNullOrUndefined(this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId))) {\n                            this.draggedTreeGridRowHeight = this.parent.getRowByID(this.taskBarEditRecord.parentItem.taskId).offsetHeight;\n                            if (this.parent.viewType === 'ProjectView' && this.draggedTreeGridRowHeight === 0) {\n                                var nestedParent = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                                while (nestedParent.parentItem) {\n                                    nestedParent = this.parent.getRecordByID(nestedParent.parentItem.taskId);\n                                    this.draggedTreeGridRowHeight = this.parent.getRowByID(nestedParent['TaskID']).offsetHeight;\n                                }\n                            }\n                        }\n                        else {\n                            var currentElement = this.editElement.parentElement;\n                            this.draggedTreeGridRowElement = currentElement.parentElement;\n                            this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                        }\n                    }\n                    else {\n                        this.draggedTreeGridRowHeight = this.draggedTreeGridRowElement.offsetHeight;\n                    }\n                }\n                var chartRowElement_1;\n                if (target) {\n                    chartRowElement_1 = closest(target, 'tr.' + cls.chartRow);\n                }\n                if (chartRowElement_1) {\n                    var droppedTreeGridRowElement = void 0;\n                    if (this.parent.enableVirtualization) {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows().filter(function (data) {\n                            return parseInt(data.getAttribute('aria-rowindex'), 10) - 1 === parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1;\n                        })[0];\n                    }\n                    else {\n                        droppedTreeGridRowElement = this.parent.treeGrid.getRows()[parseInt(chartRowElement_1.getAttribute('aria-rowindex'), 10) - 1];\n                    }\n                    this.removeFirstBorder(droppedTreeGridRowElement);\n                    this.removeLastBorder(droppedTreeGridRowElement);\n                    if (!isNullOrUndefined(droppedTreeGridRowElement) && droppedTreeGridRowElement.getAttribute('data-uid') === this.draggedTreeGridRowElement.getAttribute('data-uid')\n                        || !parentsUntil(target, 'e-chart-rows-container')) {\n                        this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                        this.addErrorElem();\n                    }\n                    var tObj = this.parent;\n                    var rowTop = 0;\n                    var toolHeight = tObj.toolbarModule ?\n                        this.parent.toolbarModule.element.offsetHeight : 0;\n                    var positionOffSet = this.parent.getOffsetRect(tObj.element);\n                    var contentHeight = tObj.treeGrid.getHeaderContent().offsetHeight + positionOffSet.top + toolHeight;\n                    var scrollTop = tObj.treeGrid.getContent().firstElementChild.scrollTop;\n                    if (!isNullOrUndefined(droppedTreeGridRowElement)) {\n                        rowPositionHeight = droppedTreeGridRowElement.offsetTop - scrollTop;\n                    }\n                    if (this.parent.enableVirtualization) {\n                        rowTop = this.parent.getOffsetRect(droppedTreeGridRowElement).top;\n                    }\n                    else {\n                        rowTop = rowPositionHeight + contentHeight;\n                    }\n                    var rowBottom = rowTop + this.draggedTreeGridRowHeight;\n                    var difference = rowBottom - rowTop;\n                    var divide = difference / 3;\n                    var topRowSegment = rowTop + divide;\n                    var middleRowSegment = topRowSegment + divide;\n                    var bottomRowSegment = middleRowSegment + divide;\n                    var posy = (event.type === 'mousemove') ? event.pageY : ((!isNullOrUndefined(event['changedTouches'])) ? event['changedTouches'][0].pageY : null);\n                    var isTopSegment = posy <= topRowSegment;\n                    var isMiddleRowSegment = (posy > topRowSegment && posy <= middleRowSegment);\n                    var isBottomRowSegment = (posy > middleRowSegment && posy <= bottomRowSegment);\n                    if (isTopSegment || isMiddleRowSegment || isBottomRowSegment) {\n                        var rowElement = void 0;\n                        if (this.parent.enableVirtualization) {\n                            var index = this.parent.treeGrid.getRows().indexOf(droppedTreeGridRowElement);\n                            rowElement = this.parent.getRowByIndex(index);\n                        }\n                        else {\n                            rowElement = this.parent.getRowByIndex(parseInt(droppedTreeGridRowElement.getAttribute('aria-rowindex'), 10) - 1);\n                        }\n                        var rowIndex = getValue('rowIndex', rowElement);\n                        var droppedTreeGridRecord = this.parent.flatData[rowIndex];\n                        var isValid = true;\n                        if (this.parent.viewType === 'ResourceView' && !this.taskBarEditRecord.hasChildRecords && !droppedTreeGridRecord.hasChildRecords &&\n                            !isNullOrUndefined(droppedTreeGridRecord.parentItem) &&\n                            this.taskBarEditRecord.parentItem.taskId === droppedTreeGridRecord.parentItem.taskId) {\n                            isValid = false;\n                        }\n                        if (droppedTreeGridRecord) {\n                            this.ensurePosition([this.taskBarEditRecord], droppedTreeGridRecord);\n                        }\n                        if (isValid) {\n                            if (isTopSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'above';\n                                this.removeChildBorder();\n                                this.removeErrorElem();\n                                this.removetopOrBottomBorder();\n                                this.topOrBottomBorder(rowElement);\n                            }\n                            if (isMiddleRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'child';\n                                this.removetopOrBottomBorder();\n                                this.addRemoveClasses(rowElement.children, true, 'e-childborder');\n                            }\n                            if (isBottomRowSegment && this.parent.rowDragAndDropModule['dropPosition'] !== 'Invalid') {\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'below';\n                                this.removetopOrBottomBorder();\n                                this.removeErrorElem();\n                                this.removeChildBorder();\n                                this.removeFirstBorder(droppedTreeGridRowElement);\n                                this.topOrBottomBorder(droppedTreeGridRowElement);\n                            }\n                        }\n                    }\n                }\n            }\n            var args_1 = {\n                cancel: false,\n                requestType: 'taskbarediting',\n                taskBarEditAction: this.taskBarEditAction,\n                data: this.taskBarEditRecord\n            };\n            if (this.segmentIndex !== -1) {\n                args_1.requestType = 'mergeSegment';\n            }\n            this.parent.trigger('actionBegin', args_1, function (arg) {\n                if (args_1.taskBarEditAction === 'ConnectorPointRightDrag' || args_1.taskBarEditAction === 'ConnectorPointLeftDrag'\n                    || args_1.taskBarEditAction === 'LeftResizing' || args_1.taskBarEditAction === 'RightResizing'\n                    || args_1.taskBarEditAction === 'ProgressResizing' || args_1.taskBarEditAction === 'ChildDrag' || args_1.taskBarEditAction === 'ParentDrag' ||\n                    args_1.taskBarEditAction === 'MilestoneDrag' || args_1.taskBarEditAction === 'ManualParentDrag' || args_1.taskBarEditAction === 'ParentResizing') {\n                    _this.parent.showIndicator = false;\n                    if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('Edit')) {\n                        if (_this.parent.undoRedoModule['redoEnabled']) {\n                            _this.parent.undoRedoModule['disableRedo']();\n                        }\n                        var action = {};\n                        if (_this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                        else if (_this.parent.editModule['createArray']) {\n                            _this.isDragged = true;\n                            action['modifiedRecords'] = [];\n                            action['action'] = args_1.taskBarEditAction;\n                            _this.parent.undoRedoModule['createUndoCollection']();\n                            _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                            _this.parent.editModule['createArray'] = false;\n                            _this.parent.undoRedoModule['changedRecords'] = [];\n                        }\n                    }\n                }\n                if (arg.cancel === false) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer' && _this.parent.showIndicator) {\n                        _this.parent.showMaskRow();\n                    }\n                    else if (_this.parent.showIndicator) {\n                        _this.parent.showSpinner();\n                    }\n                    _this.taskBarEditingAction(event, false);\n                }\n                else {\n                    _this.editTooltip.updateTooltip(_this.segmentIndex);\n                }\n            });\n        }\n        else if (!this.parent.isAdaptive && !this.taskBarEditAction) {\n            this.updateTaskBarEditElement(event);\n        }\n    };\n    /**\n     * Method to update taskbar editing action on mous move.\n     *\n     * @param {PointerEvent} e .\n     * @param {boolean} isMouseClick .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditingAction = function (e, isMouseClick) {\n        var _this = this;\n        var args = {};\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        if (this.taskBarEditRecord !== null) {\n            args.editingFields = this.taskBarEditRecord.ganttProperties;\n            args.data = this.taskBarEditRecord;\n            if (this.parent.viewType === 'ResourceView' && args.data.level === 0) {\n                return;\n            }\n            args.recordIndex = recordIndex;\n            args.taskBarEditAction = this.taskBarEditAction;\n            args.roundOffDuration = this.roundOffDuration;\n            args.cancel = false;\n            args.previousData = this.previousItem;\n            args.segmentIndex = this.segmentIndex;\n            this.roundOffDuration = args.roundOffDuration;\n            this.targetElement = args.target = this.cloneTaskbarElement;\n            this.updateMouseMoveProperties(e);\n            if (!this.oldData) {\n                this.oldData = extend([], [], [this.taskBarEditRecord], true)[0];\n            }\n            var segmentIndex = this.segmentIndex !== -1 ? this.segmentIndex : null;\n            if (this.taskBarEditAction === 'ProgressResizing') {\n                this.mainElement = parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer);\n                if (this.taskBarEditRecord.ganttProperties.segments && this.taskBarEditRecord.ganttProperties.segments.length > 0) {\n                    segmentIndex = -1;\n                    for (var i = 0; i < this.taskBarEditRecord.ganttProperties.segments.length; i++) {\n                        var resizeGripper = document.getElementsByClassName('e-child-progress-resizer e-progress-resize-gripper')[0]['style'];\n                        var currentWidth = (this.parent.enableRtl ? parseInt(resizeGripper['right'], 10) - 8 : parseInt(resizeGripper['left'], 10) + 8);\n                        if (currentWidth < this.taskBarEditRecord.ganttProperties.segments[i].width && i === 0) {\n                            segmentIndex = i;\n                        }\n                        if (this.taskBarEditRecord.ganttProperties.segments[i + 1] &&\n                            currentWidth < this.taskBarEditRecord.ganttProperties.segments[i + 1].width +\n                                this.taskBarEditRecord.ganttProperties.segments[i + 1].left && currentWidth >\n                            this.taskBarEditRecord.ganttProperties.segments[i + 1].left) {\n                            segmentIndex = i + 1;\n                        }\n                    }\n                }\n                this.performProgressResize(e, segmentIndex);\n            }\n            else if (this.taskBarEditAction === 'LeftResizing') {\n                this.enableLeftResizing(e);\n            }\n            else if (this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ParentResizing') {\n                this.enableRightResizing(e);\n            }\n            else if (this.taskBarEditAction === 'ParentDrag' || this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') {\n                this.enableDragging(e);\n            }\n            else if (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                this.updateConnectorLineSecondProperties(e);\n                this.triggerDependencyEvent(e);\n                this.drawFalseLine();\n            }\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction !== 'LeftResizing' && this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                var parentClientRect = this.parent.getOffsetRect(this.parent.chartPane);\n                var coordinates = this.getCoordinate(e);\n                var position = { top: coordinates.pageY, left: coordinates.pageX };\n                var pos = { left: Math.abs(position.left - parentClientRect.left), top: position.top - parentClientRect.top };\n                if (this.parent.viewType === 'ResourceView' && this.parent.enableMultiTaskbar) {\n                    var parentRecord = this.parent.getRecordByID(this.taskBarEditRecord.parentItem.taskId);\n                    if (!this.parent.allowTaskbarOverlap && this.taskBarEditRecord.parentItem && !parentRecord.expanded) {\n                        var reduceHeight = 0;\n                        if (parseInt(this.editElement['style'].marginTop, 10) > this.parent.rowHeight) {\n                            for (var i = 0; i < parentRecord.childRecords.length; i++) {\n                                if (parentRecord.childRecords[i].ganttProperties.taskId !==\n                                    this.taskBarEditRecord.ganttProperties.taskId) {\n                                    reduceHeight = reduceHeight + this.parent.rowHeight;\n                                }\n                                else {\n                                    break;\n                                }\n                            }\n                            pos.top = pos.top - reduceHeight;\n                        }\n                    }\n                }\n                this.topValue = pos.top;\n                var xValue = void 0;\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    xValue = e['changedTouches'][0].pageX;\n                }\n                else {\n                    xValue = e.pageX;\n                }\n                if (this.parent.enableRtl) {\n                    this.leftValue = pos.left - Math.abs(xValue - (this.parent.getOffsetRect(this.taskBarEditElement).left)) -\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                else {\n                    this.leftValue = pos.left - (xValue - this.parent.getOffsetRect(this.taskBarEditElement).left) +\n                        (this.previousLeftValue !== 0 ? xValue - this.previousLeftValue : 0);\n                }\n                if (this.previousLeftValue === 0) {\n                    if (!this.parent.enableRtl) {\n                        this.leftValue = this.leftValue - this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                    }\n                    else {\n                        this.leftValue = this.leftValue - (this.parent.ganttChartModule.scrollObject.previousScroll.left);\n                        if (this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                            this.leftValue = this.leftValue - 60;\n                        }\n                    }\n                }\n                this.previousLeftValue = xValue;\n            }\n            else {\n                this.leftValue = this.taskBarEditRecord.ganttProperties.left;\n            }\n            this.currentSegmentIndex = segmentIndex;\n            this.setItemPosition();\n            this.updateEditedItem();\n            this.tooltipValue = (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') ? e['changedTouches'][0].pageX : e.pageX;\n            if ((!this.taskBarEditRecord.ganttProperties.segments || segmentIndex !== -1)) {\n                this.editTooltip.updateTooltip(segmentIndex);\n            }\n            if (isMouseClick) {\n                this.taskBarEditedAction(e);\n            }\n            this.parent.trigger('taskbarEditing', args, function (arg) {\n                if (arg.cancel && _this.taskBarEditRecord !== null) {\n                    _this.tapPointOnFocus = false;\n                    merge(_this.taskBarEditRecord.ganttProperties, arg.previousData);\n                }\n            });\n        }\n    };\n    /**\n     * To update property while perform mouse move.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateMouseMoveProperties = function (event) {\n        var containerPosition = this.parent.getOffsetRect(this.parent.ganttChartModule.chartBodyContainer);\n        var e = this.getCoordinate(event);\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            e.pageX = e.pageX / zoom1;\n            e.pageY = e.pageY / zoom1;\n        }\n        if (e.pageX || e.pageY) {\n            if (this.parent.enableRtl) {\n                this.mouseMoveX = Math.abs(e.pageX - (containerPosition.left +\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left)));\n            }\n            else {\n                this.mouseMoveX = e.pageX - containerPosition.left +\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n            this.tooltipPositionX = this.mouseMoveX;\n            this.mouseMoveY = e.pageY - containerPosition.top +\n                this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        }\n        var isConnectorLineEdit = (this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') ?\n            true : false;\n        if (((this.taskBarEditRecord.ganttProperties.width > 3 || this.taskBarEditRecord.ganttProperties.isMilestone) && !(this.taskBarEditAction === 'ProgressResizing' &&\n            (this.taskBarEditRecord.ganttProperties.progress === 0 || this.taskBarEditRecord.ganttProperties.progress === 100))) ||\n            isConnectorLineEdit) {\n            var mouseX = 0;\n            if (this.parent.enableRtl) {\n                mouseX = Math.abs(Math.abs(this.mouseMoveX) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left) +\n                    containerPosition.left);\n            }\n            else {\n                mouseX = this.mouseMoveX - this.parent.ganttChartModule.scrollObject.previousScroll.left +\n                    containerPosition.left;\n            }\n            var mouseY = this.mouseMoveY - this.parent.ganttChartModule.scrollObject.previousScroll.top +\n                containerPosition.top;\n            if ((mouseX + 20) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX + 40) >\n                containerPosition.left + this.parent.ganttChartModule.chartBodyContainer.offsetWidth && this.parent.enableRtl &&\n                this.parent.ganttChartModule.scrollObject.previousScroll.left === 0) {\n                this.parent.ganttChartModule.scrollObject.previousScroll.left = -1;\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('right');\n            }\n            else if ((mouseX - 20) < containerPosition.left) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.left;\n                this.startScrollTimer('left');\n            }\n            else if (((mouseY + 80) >\n                containerPosition.top + this.parent.ganttChartModule.chartBodyContainer.offsetHeight)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('bottom');\n            }\n            else if (((mouseY - 20) < containerPosition.top)) {\n                this.timerCount = this.parent.ganttChartModule.scrollObject.previousScroll.top;\n                this.startScrollTimer('top');\n            }\n            else {\n                this.stopScrollTimer();\n            }\n        }\n        else {\n            this.stopScrollTimer();\n        }\n    };\n    /**\n     * To start the scroll timer.\n     *\n     * @param {string} direction .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.startScrollTimer = function (direction) {\n        var _this = this;\n        this.stopScrollTimer();\n        var leftSign = 0;\n        this.scrollTimer = window.setInterval(function () {\n            if (Math.sign(_this.timerCount) === -1) {\n                leftSign = -1;\n                _this.timerCount = Math.abs(_this.timerCount);\n            }\n            if (direction === 'right') {\n                var timelineWidth = _this.parent.enableTimelineVirtualization ?\n                    _this.parent.timelineModule.wholeTimelineWidth : _this.parent.timelineModule.totalTimelineWidth;\n                _this.timerCount = (_this.timerCount + 1) >= timelineWidth ?\n                    timelineWidth : (_this.timerCount + 1);\n            }\n            else if (direction === 'bottom') {\n                _this.timerCount = _this.timerCount + 1;\n            }\n            else {\n                _this.timerCount = (_this.timerCount - 1) < 0 ? 0 : (_this.timerCount - 1);\n            }\n            if (direction === 'bottom' || direction === 'top') {\n                _this.parent.ganttChartModule.scrollObject.setScrollTop(_this.timerCount);\n            }\n            else {\n                _this.parent.ganttChartModule.scrollObject.setScrollLeft(_this.timerCount, leftSign);\n            }\n            if (_this.taskBarEditAction === 'ConnectorPointLeftDrag'\n                || _this.taskBarEditAction === 'ConnectorPointRightDrag') {\n                _this.drawFalseLine();\n            }\n        }, 0);\n    };\n    /**\n     * To stop the scroll timer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.stopScrollTimer = function () {\n        window.clearInterval(this.scrollTimer);\n        this.scrollTimer = null;\n    };\n    /**\n     * To update left and width while perform taskbar drag operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.enableDragging = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var timelineWidth = this.parent.enableTimelineVirtualization ?\n            this.parent.timelineModule.wholeTimelineWidth : this.parent.timelineModule.totalTimelineWidth;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') &&\n            !this.taskBarEditElement.classList.contains('e-segment-first')) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left - differenceWidth;\n            }\n            else {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                segment.left = segment.left + differenceWidth;\n            }\n            var previousSegment = segments[this.segmentIndex - 1];\n            var nextSegment = segments[this.segmentIndex + 1];\n            var left = void 0;\n            if (this.taskBarEditElement.classList.contains('e-segment-inprogress')) {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    ((segment.width + segment.left) > (nextSegment.left)) ? nextSegment.left - segment.width : segment.left;\n            }\n            else {\n                left = segment.left < (previousSegment.left + previousSegment.width) ? (previousSegment.left + previousSegment.width) :\n                    (item.left + segment.width + segment.left) >= timelineWidth ?\n                        (timelineWidth - segment.width) : segment.left;\n            }\n            segment.left = left;\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                differenceWidth = this.mouseDownX - this.mouseMoveX;\n                if (differenceWidth > 0) {\n                    this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                }\n            }\n            else {\n                differenceWidth = this.mouseMoveX - this.mouseDownX;\n                this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n            }\n            var left = item.left < 0 ? 0 : (item.left + item.width) >= timelineWidth ?\n                (timelineWidth - item.width) : item.left;\n            this.parent.setRecordValue('left', left, item, true);\n        }\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.validateProgressWidth = function (item, progressWidth, totalTaskWidth) {\n        var reduceWidth = 0;\n        if (this.currentSegmentIndex !== -1 && item.segments) {\n            var startIndex = this.currentSegmentIndex >= this.segmentIndex ? 0 : this.currentSegmentIndex !== 0 ?\n                this.currentSegmentIndex : -1;\n            var endIndex = this.currentSegmentIndex >= this.segmentIndex ? this.currentSegmentIndex : this.segmentIndex;\n            if (startIndex !== -1) {\n                for (var i = startIndex; i < endIndex; i++) {\n                    reduceWidth = (item.segments[i + 1].left) - (item.segments[i].left + item.segments[i].width);\n                    progressWidth = progressWidth - reduceWidth;\n                }\n            }\n        }\n        var totalWidth = 0;\n        if (item.segments && item.segments.length > 0) {\n            totalTaskWidth = this.splitTasksDuration(item.segments) * this.parent.perDayWidth;\n            totalWidth = item.segments.reduce(function (width, segment) {\n                return width + segment.width;\n            }, 0);\n            totalTaskWidth = totalWidth;\n        }\n        if (progressWidth > totalTaskWidth) {\n            progressWidth = totalTaskWidth;\n        }\n        return { progressWidth: progressWidth, totalTaskWidth: totalTaskWidth };\n    };\n    /**\n     * To update left and width while perform progress resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @param {number} segmentIndex .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.performProgressResize = function (e, segmentIndex) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var diffrenceWidth = 0;\n        var prevProgress = item.progressWidth;\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width)) && item.left > 0) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX >= (item.left + item.width)) {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n            }\n        }\n        else {\n            if (this.mouseMoveX > item.left &&\n                (this.mouseMoveX < (item.left + item.width))) {\n                diffrenceWidth = this.mouseMoveX - item.left;\n                this.parent.setRecordValue('progressWidth', diffrenceWidth, item, true);\n            }\n            else {\n                if (this.mouseMoveX <= item.left) {\n                    this.parent.setRecordValue('progressWidth', 0, item, true);\n                }\n                else {\n                    this.parent.setRecordValue('progressWidth', item.width, item, true);\n                }\n            }\n        }\n        var widthValue = item.progressWidth > item.width ?\n            item.width : item.progressWidth;\n        widthValue = item.progressWidth < 0 ? 0 : item.progressWidth;\n        if (segmentIndex !== -1 || !segmentIndex) {\n            this.parent.setRecordValue('progressWidth', widthValue, item, true);\n        }\n        else {\n            this.parent.setRecordValue('progressWidth', prevProgress, item, true);\n        }\n        this.progressValue = widthValue;\n        var diff = item.width - item.progressWidth;\n        if (diff <= 4) {\n            this.progressBorderRadius = 4 - diff;\n        }\n        else {\n            this.progressBorderRadius = 0;\n        }\n    };\n    /**\n     * To update left and width while perform taskbar left resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableLeftResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            this.enableSplitTaskLeftResize(item);\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    if (item.left > 0) {\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                    }\n                }\n                else {\n                    if (this.mouseMoveX > (item.left + item.width)) {\n                        differenceWidth = this.mouseDownX - this.mouseMoveX;\n                        this.parent.setRecordValue('left', this.previousItem.left - differenceWidth, item, true);\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX < (item.left + item.width)) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    if ((item.left) < (item.left + item.width) &&\n                        ((this.previousItem.left + differenceWidth) <= (this.previousItem.left + this.previousItem.width))) {\n                        this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                        this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                    }\n                }\n                else {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('left', this.previousItem.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', 3, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n            this.parent.setRecordValue('left', (this.previousItem.left + this.previousItem.width - item.width), item, true);\n        }\n    };\n    TaskbarEdit.prototype.enableSplitTaskLeftResize = function (item) {\n        var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n        var segment = segments[this.segmentIndex];\n        var differenceWidth = 0;\n        //when decrease the left and increase the width\n        if (this.mouseDownX > this.mouseMoveX) {\n            if (this.mouseMoveX < (item.left + segment.width + segment.left)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                this.previousMouseMove = this.mouseMoveX;\n                // when resize other than 0th segment\n                if (segment.left > 0) {\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = segment.width + differenceWidth;\n                    if (this.segmentIndex !== 0) {\n                        var previousSegment = segments[this.segmentIndex - 1];\n                        if ((item.left + segment.left) < (item.left + previousSegment.left + previousSegment.width)) {\n                            var difference = (item.left + previousSegment.left + previousSegment.width) - (item.left + segment.left);\n                            segment.width -= difference;\n                            segment.left = segment.left + difference;\n                        }\n                    }\n                }\n                else if (segment.left <= 0 && this.segmentIndex === 0) {\n                    this.parent.setRecordValue('left', item.left - differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width + differenceWidth, item, true);\n                    segment.width = segment.width + differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_1 = segments[i];\n                        segment_1.left = segment_1.left + differenceWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > (item.left + segment.width + segment.left)) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.left = segment.left - differenceWidth;\n                    segment.width = this.parent.perDayWidth;\n                }\n            }\n        }\n        else {\n            // when increase left value and decrease width of segment\n            if (this.mouseMoveX < (item.left + segment.width + segment.left - this.parent.perDayWidth)) {\n                differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                    (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                this.previousMouseMove = this.mouseMoveX;\n                // when decrease the first segment width\n                if (this.segmentIndex === 0 && segment.left <= 0) {\n                    this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                    this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                    segment.width = segment.width - differenceWidth;\n                    for (var i = 1; i < item.segments.length; i++) {\n                        var segment_2 = segments[i];\n                        segment_2.left = segment_2.left - differenceWidth;\n                    }\n                    // when decrease remaining segments\n                }\n                else if ((segment.left) < (segment.left + segment.width) &&\n                    ((segment.left + differenceWidth) <= (segment.left + segment.width))) {\n                    segment.left = segment.left + differenceWidth;\n                    segment.width = segment.width - differenceWidth;\n                }\n                // when mouse move goes beyond one day width of task bar.\n            }\n            else {\n                if (this.mouseMoveX < (item.left + segment.left + segment.width)) {\n                    if (segment.width > this.parent.perDayWidth) {\n                        differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                            (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                        this.previousMouseMove = this.mouseMoveX;\n                        var singleDayDifference = (segment.width - differenceWidth) < this.parent.perDayWidth ?\n                            this.parent.perDayWidth > segment.width ?\n                                this.parent.perDayWidth - segment.width : segment.width - this.parent.perDayWidth : 0;\n                        differenceWidth -= singleDayDifference;\n                        if (this.segmentIndex === 0) {\n                            this.parent.setRecordValue('width', item.width - differenceWidth, item, true);\n                            this.parent.setRecordValue('left', item.left + differenceWidth, item, true);\n                            segment.width = segment.width - differenceWidth;\n                            for (var i = 1; i < item.segments.length; i++) {\n                                var segment_3 = segments[i];\n                                segment_3.left = segment_3.left - differenceWidth;\n                            }\n                        }\n                        else {\n                            segment.left = segment.left + differenceWidth;\n                            segment.width = segment.width - differenceWidth;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent.setRecordValue('segments', segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * Update mouse position and edited item value\n     *\n     * @param {PointerEvent} e .\n     * @param {ITaskData} item .\n     * @returns {void} .\n     */\n    TaskbarEdit.prototype.updateEditPosition = function (e, item) {\n        this.updateIsMilestone(item);\n        this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(item.width, item.progress), item, true);\n    };\n    /**\n     *  To update milestone property.\n     *\n     * @param {ITaskData} item .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateIsMilestone = function (item) {\n        if (item.width <= 3) {\n            this.parent.setRecordValue('width', 3, item, true);\n            this.parent.setRecordValue('isMilestone', true, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, true, this.taskBarEditRecord, true);\n            }\n        }\n        else {\n            this.parent.setRecordValue('width', item.width, item, true);\n            this.parent.setRecordValue('isMilestone', false, item, true);\n            if (!isNullOrUndefined(this.taskBarEditRecord[this.parent.taskFields.milestone])) {\n                this.parent.setRecordValue(this.parent.taskFields.milestone, false, this.taskBarEditRecord, true);\n            }\n        }\n    };\n    /**\n     * To update left and width while perform taskbar right resize operation.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.enableRightResizing = function (e) {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var differenceWidth = 0;\n        if (this.taskBarEditElement.classList.contains('e-segmented-taskbar') && item.segments.length > 1) {\n            var segments = this.taskBarEditRecord.ganttProperties.segments.map(function (e) { return (__assign({}, e)); });\n            var segment = segments[this.segmentIndex];\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > (item.left + segment.left) && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseDownX - this.mouseMoveX) : (this.previousMouseMove - this.mouseMoveX);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width - differenceWidth;\n                }\n                else {\n                    if (this.mouseMoveX < (item.left + segment.left)) {\n                        var segmentWidth = (this.parent.timelineModule.isSingleTier &&\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes' ||\n                                this.parent.timelineModule.customTimelineSettings.topTier.unit === 'Minutes')) ||\n                            (this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Hour' ||\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.unit === 'Minutes') ?\n                            this.parent.timelineModule.customTimelineSettings.timelineUnitSize :\n                            this.parent.perDayWidth;\n                        segment.width = segmentWidth;\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > segment.left) {\n                    differenceWidth = isNullOrUndefined(this.previousMouseMove) ?\n                        (this.mouseMoveX - this.mouseDownX) : (this.mouseMoveX - this.previousMouseMove);\n                    this.previousMouseMove = this.mouseMoveX;\n                    segment.width = segment.width + differenceWidth;\n                }\n            }\n            var width = void 0;\n            var nextSegment = this.segmentIndex !== segments.length - 1 ? segments[this.segmentIndex + 1] : null;\n            if (!isNullOrUndefined(nextSegment)) {\n                if (!this.taskBarEditElement.classList.contains('e-segment-last')) {\n                    width = (segment.left + segment.width) > nextSegment.left ? (nextSegment.left - segment.left) : segment.width;\n                }\n                segment.width = width;\n            }\n            if (this.segmentIndex === item.segments.length - 1) {\n                if (this.segmentIndex === 0) {\n                    this.parent.setRecordValue('width', segment.width, item, true);\n                }\n            }\n            this.parent.setRecordValue('segments', segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        }\n        else {\n            if (this.mouseDownX > this.mouseMoveX) {\n                if (this.mouseMoveX > item.left && (this.mouseDownX - this.mouseMoveX) > 3) {\n                    differenceWidth = this.mouseDownX - this.mouseMoveX;\n                    this.parent.setRecordValue('width', this.previousItem.width - differenceWidth, item, true);\n                }\n                else {\n                    if (this.mouseMoveX < item.left) {\n                        this.parent.setRecordValue('width', 3, item, true);\n                    }\n                }\n            }\n            else {\n                if (this.mouseMoveX > item.left) {\n                    differenceWidth = this.mouseMoveX - this.mouseDownX;\n                    this.parent.setRecordValue('width', this.previousItem.width + differenceWidth, item, true);\n                }\n            }\n            if (item.segments && item.segments.length === 1) {\n                item.segments[0].width = item.width;\n            }\n            this.updateEditPosition(e, item);\n        }\n    };\n    /**\n     * To updated startDate and endDate while perform taskbar edit operation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateEditedItem = function () {\n        var item = this.taskBarEditRecord.ganttProperties;\n        var left;\n        var projectStartDate;\n        var endDate;\n        var startDate;\n        switch (this.taskBarEditAction) {\n            case 'ProgressResizing':\n                {\n                    var progressWidth = item.progressWidth;\n                    var totalTaskWidth = item.width;\n                    var updatedValues = this.validateProgressWidth(item, progressWidth, totalTaskWidth);\n                    this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), item, true);\n                    break;\n                }\n            case 'LeftResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n                    projectStartDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.endDate)) {\n                        endDate = this.parent.dateValidationModule.getValidEndDate(item);\n                        this.parent.setRecordValue('endDate', endDate, item, true);\n                    }\n                    startDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                    this.parent.setRecordValue('startDate', new Date(startDate.getTime()), item, true);\n                    if (this.parent.dateValidationModule.compareDates(item.startDate, item.endDate) === 0\n                        && isNullOrUndefined(item.isMilestone) && item.isMilestone === false && item.duration === 0) {\n                        this.parent.setRecordValue('duration', 1, item, true);\n                    }\n                    if (item.isMilestone) {\n                        this.parent.setRecordValue('endDate', new Date(startDate.getTime()), item, true);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitLeftResize(item);\n                }\n                break;\n            case 'RightResizing':\n            case 'ParentResizing':\n                if (this.segmentIndex === -1) {\n                    left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n                    var tempEndDate = this.getDateByLeft(left);\n                    if (isNullOrUndefined(item.startDate)) {\n                        startDate = this.parent.dateValidationModule.getValidStartDate(item);\n                        this.parent.setRecordValue('startDate', startDate, item, true);\n                    }\n                    var tempdate = isNullOrUndefined(item.startDate) ? startDate : item.startDate;\n                    endDate = item.isMilestone ? tempdate :\n                        this.parent.dateValidationModule.checkEndDate(tempEndDate, this.taskBarEditRecord.ganttProperties);\n                    this.parent.setRecordValue('endDate', new Date(endDate.getTime()), item, true);\n                    this.parent.dateValidationModule.calculateDuration(this.taskBarEditRecord);\n                    this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n                }\n                else {\n                    this.updateSplitRightResizing(item);\n                }\n                break;\n            case 'ParentDrag':\n            case 'ChildDrag':\n            case 'MilestoneDrag':\n            case 'ManualParentDrag':\n                if (this.segmentIndex === -1 || this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop)) {\n                    this.updateChildDrag(item);\n                }\n                else {\n                    this.setSplitTaskDrag(item);\n                }\n                break;\n        }\n        if (!isNullOrUndefined(this.taskBarEditRecord.ganttProperties.segments)) {\n            this.parent.chartRowsModule.updateSegment(this.taskBarEditRecord.ganttProperties.segments, this.taskBarEditRecord.ganttProperties.taskId);\n        }\n    };\n    /**\n     * Extracts the maximum end date from a list of predecessor relationships.\n     * The end date is selected based on the type of dependency:\n     * - FS (Finish to Start) and FF (Finish to Finish): uses the end date.\n     * - SS (Start to Start) and SF (Start to Finish): uses the start date.\n     *\n     * @param {IPredecessor[]} predecessorList - An array of predecessor links to analyze.\n     * @returns {{ maxEndDate: Date }} - The latest relevant date among all predecessors.\n     */\n    TaskbarEdit.prototype.extractEndDates = function (predecessorList) {\n        var _this = this;\n        var maxEndDate = new Date(0);\n        predecessorList.forEach(function (item) {\n            var predecessorRecord = _this.parent.getRecordByID(item.from);\n            if (!predecessorRecord || !predecessorRecord.ganttProperties) {\n                return;\n            }\n            var compareDate = null;\n            switch (item.type) {\n                case 'FS':\n                case 'FF':\n                    compareDate = predecessorRecord.ganttProperties.endDate || predecessorRecord.ganttProperties.startDate;\n                    break;\n                case 'SS':\n                case 'SF':\n                    compareDate = predecessorRecord.ganttProperties.startDate || predecessorRecord.ganttProperties.endDate;\n                    break;\n            }\n            if (compareDate && compareDate.getTime() > maxEndDate.getTime()) {\n                maxEndDate = compareDate;\n            }\n        });\n        return {\n            maxEndDate: maxEndDate\n        };\n    };\n    /**\n     * Validates whether the given task has a valid dependency configuration.\n     * It compares the task's start or end date against the latest required predecessor date\n     * and ensures the task starts after all its dependencies are satisfied.\n     *\n     * @param {IGanttData} record - The Gantt task to validate.\n     * @returns {{ isValid: boolean }} - An object indicating if the task's dependencies are valid.\n     */\n    TaskbarEdit.prototype.isValidDependency = function (record) {\n        if (isNullOrUndefined(record.ganttProperties) || isNullOrUndefined(record.ganttProperties.predecessor)) {\n            return { isValid: true };\n        }\n        var predecessorArray = record.ganttProperties.predecessor;\n        var maxEndDateandType = this.extractEndDates(predecessorArray);\n        var maxDate = maxEndDateandType.maxEndDate;\n        maxDate = this.parent.predecessorModule.getPredecessorDate(record, predecessorArray, null);\n        if (!maxDate) {\n            return { isValid: true };\n        }\n        var recordDate = isNullOrUndefined(record.ganttProperties.startDate)\n            ? record.ganttProperties.endDate\n            : record.ganttProperties.startDate;\n        var isValid = recordDate.getTime() >= maxDate.getTime();\n        return { isValid: isValid };\n    };\n    TaskbarEdit.prototype.updateChildDrag = function (item) {\n        var left = this.getRoundOffStartLeft(item, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left, item.isMilestone, item);\n        var endDate;\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n            item.segments[0].startDate = projectStartDate;\n            item.segments[0].endDate = this.parent.dataOperation.getEndDate(item.segments[0].startDate, item.segments[0].duration, item.durationUnit, item, false);\n            this.parent.setRecordValue('segments', item.segments, item, true);\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n            this.parent.chartRowsModule.incrementSegments(item.segments, 0, this.taskBarEditRecord);\n            this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, item.segments, this.taskBarEditRecord, true);\n        }\n        else {\n            if (!isNullOrUndefined(item.endDate) && isNullOrUndefined(item.startDate)) {\n                endDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.taskBarEditRecord.ganttProperties);\n                this.parent.setRecordValue('endDate', endDate, item, true);\n            }\n            else {\n                this.parent.setRecordValue('startDate', this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null), item, true);\n                if (!isNullOrUndefined(item.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(this.taskBarEditRecord);\n                }\n            }\n        }\n    };\n    TaskbarEdit.prototype.updateSplitLeftResize = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.segmentIndex === 0 ? this.getRoundOffStartLeft(item, this.roundOffDuration) :\n            this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        var startDate = this.parent.dataOperation.checkStartDate(projectStartDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.startDate = new Date(startDate.getTime());\n        segment.duration = duration;\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        if (this.segmentIndex === 0) {\n            this.parent.setRecordValue('startDate', segment.startDate, item, true);\n        }\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var segmentOffsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    TaskbarEdit.prototype.updateSplitRightResizing = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var left = this.getRoundOffEndLeft(item, this.roundOffDuration);\n        var tempEndDate = this.getDateByLeft(left);\n        var endDate = this.parent.dataOperation.checkEndDate(tempEndDate, item, false);\n        var duration = this.parent.dataOperation.getDuration(segment.startDate, endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        segment.endDate = new Date(endDate.getTime());\n        segment.duration = duration;\n        // update next segment offset duration\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var segmentOffset = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            segment.offsetDuration = segmentOffset;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        this.parent.editModule.updateResourceRelatedFields(this.taskBarEditRecord, 'duration');\n    };\n    TaskbarEdit.prototype.sumOfDuration = function (segments) {\n        var duration = 0;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            duration += segment.duration;\n        }\n        return duration;\n    };\n    TaskbarEdit.prototype.setSplitTaskDrag = function (item) {\n        var segment = item.segments[this.segmentIndex];\n        var taskSettings = this.parent.taskFields;\n        var left = this.getRoundOffStartLeft(segment, this.roundOffDuration);\n        var projectStartDate = this.getDateByLeft(left);\n        projectStartDate = this.parent.dateValidationModule.checkStartDate(projectStartDate, item, null);\n        segment.startDate = projectStartDate;\n        var segmentDate = this.parent.dataOperation.getEndDate(segment.startDate, segment.duration, item.durationUnit, item, false);\n        if (item.segments[this.segmentIndex + 1] && segmentDate.getTime() > item.segments[this.segmentIndex + 1].startDate.getTime()) {\n            segment.endDate = item.segments[this.segmentIndex + 1].startDate;\n        }\n        else {\n            segment.endDate = segmentDate;\n        }\n        segment.duration = this.parent.dataOperation.getDuration(segment.startDate, segment.endDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n        this.parent.setRecordValue('duration', this.sumOfDuration(item.segments), item, true);\n        this.parent.setRecordValue('endDate', item.segments[item.segments.length - 1].endDate, item, true);\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'endDate');\n        }\n        //set offset if previous record present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex - 1])) {\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex - 1].endDate, item.segments[this.segmentIndex].startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (segment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            segment.offsetDuration = offsetDuration;\n        }\n        //set next record  offset if present\n        if (!isNullOrUndefined(item.segments[this.segmentIndex + 1])) {\n            var nextSegment = item.segments[this.segmentIndex + 1];\n            var offsetDuration = this.parent.dataOperation.getDuration(item.segments[this.segmentIndex].endDate, nextSegment.startDate, item.durationUnit, item.isAutoSchedule, item.isMilestone);\n            if (nextSegment.startDate.getDay() === 1 && offsetDuration === 0 && !this.parent.includeWeekend) {\n                offsetDuration = 1;\n            }\n            nextSegment.offsetDuration = offsetDuration;\n        }\n        this.parent.setRecordValue('segments', item.segments, item, true);\n        /* eslint-disable-next-line */\n        this.taskBarEditRecord[taskSettings.segments][this.segmentIndex] = this.parent.dataOperation['setSegmentTaskData'](segment, this.taskBarEditRecord[taskSettings.segments][this.segmentIndex]);\n        this.parent.dataOperation.updateMappingData(this.taskBarEditRecord, 'segments');\n    };\n    /**\n     * To get roundoff enddate.\n     *\n     * @param {ITaskData} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffEndLeft = function (ganttRecord, isRoundOff) {\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var totalLeft = ganttRecord.width + ganttRecord.left;\n        if (this.segmentIndex !== -1 && ganttRecord.segments.length > 1) {\n            var segment = ganttRecord.segments[this.segmentIndex];\n            totalLeft = totalLeft - ganttRecord.width + segment.width + segment.left;\n        }\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainingLeft = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var positionValue = remainingLeft / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (positionValue > 0.5) {\n                    totalLeft = totalLeft - remainingLeft + this.parent.perDayWidth;\n                }\n                else if (positionValue < 0.5) {\n                    totalLeft = (totalLeft - remainingLeft) + (this.parent.perDayWidth / 2);\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                var inHour = (this.parent.perDayWidth / 24);\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Hour') / (1000 * 60 * 60)));\n                remainingLeft = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inHour;\n                }\n            }\n            else if (tierMode === 'Minutes') {\n                var inMinutes = (this.parent.perDayWidth / (24 * 60));\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(totalLeft), 1, 'Minutes') / (1000 * 60)));\n                remainingLeft = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + inMinutes;\n                }\n            }\n            else {\n                if (remainingLeft !== 0) {\n                    totalLeft = (totalLeft - remainingLeft) + this.parent.perDayWidth;\n                }\n            }\n        }\n        return totalLeft;\n    };\n    /**\n     * To get roundoff startdate.\n     *\n     * @param {ITaskData | ITaskSegment} ganttRecord .\n     * @param {boolean} isRoundOff .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getRoundOffStartLeft = function (ganttRecord, isRoundOff) {\n        var left = isNullOrUndefined(ganttRecord) ? ganttRecord.left\n            : ganttRecord.left;\n        if (this.segmentIndex !== -1 && isNullOrUndefined(ganttRecord.segments)) {\n            left = ganttRecord.left + this.taskBarEditRecord.ganttProperties.left;\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.bottomTier :\n            this.parent.timelineModule.topTier;\n        var remainingContribution = (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left, isNullOrUndefined(ganttRecord) ? ganttRecord.isMilestone : null, ganttRecord), 1, 'Day') / (1000 * 60 * 60 * 24)));\n        var remainDays = this.parent.perDayWidth - (this.parent.perDayWidth / remainingContribution);\n        var remainDaysInDecimal = remainDays / this.parent.perDayWidth;\n        if (isRoundOff === undefined) {\n            isRoundOff = false;\n        }\n        /*Rounding the decimal value for week-month-year schedule mode*/\n        if (!isRoundOff) {\n            if ((tierMode !== 'Hour' && tierMode !== 'Minutes')) {\n                if (remainDaysInDecimal <= 0.5) {\n                    left = left - remainDays;\n                }\n                else if (remainDaysInDecimal > 0.5) {\n                    left = (left - remainDays) + this.parent.perDayWidth / 2;\n                }\n            }\n        }\n        else if (isRoundOff) {\n            if (tierMode === 'Hour') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Hour') / (1000 * 60 * 60)));\n                remainDays = (this.parent.perDayWidth / 24) - ((this.parent.perDayWidth / 24) / remainingContribution);\n                left = left - remainDays;\n            }\n            else if (tierMode === 'Minutes') {\n                remainingContribution =\n                    (1 / (this.parent.timelineModule.getIncrement(this.getDateByLeft(left), 1, 'Minutes') / (1000 * 60)));\n                remainDays = (this.parent.perDayWidth / (24 * 60)) - ((this.parent.perDayWidth / (24 * 60)) / remainingContribution);\n                left = left - remainDays;\n            }\n            else {\n                left = left - remainDays;\n            }\n        }\n        return left;\n    };\n    /**\n     * To get date by left value.\n     *\n     * @param {number} left .\n     * @param {boolean} isMilestone .\n     * @param {ITaskData} property .\n     * @returns {Date} .\n     * @private\n     */\n    TaskbarEdit.prototype.getDateByLeft = function (left, isMilestone, property) {\n        var pStartDate = new Date(this.parent.timelineModule.timelineStartDate.toString());\n        var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n        var calculatedDate = new Date(pStartDate); // Renamed from tempStartDate\n        // while dragging to get date without weekends\n        if (!this.parent.timelineSettings.showWeekend) {\n            calculatedDate = this.parent.timelineModule.calculateDateExcludingNonWorkingDays(left, pStartDate);\n            pStartDate = calculatedDate;\n        }\n        else {\n            calculatedDate.setTime(calculatedDate.getTime() + (left * milliSecondsPerPixel));\n        }\n        if (!this.parent.timelineSettings.showWeekend) {\n            pStartDate = calculatedDate;\n        }\n        else {\n            if (this.parent.isInDst(calculatedDate)) {\n                pStartDate.setTime(pStartDate.getTime() + ((left - (this.parent.perDayWidth / 24)) * milliSecondsPerPixel));\n            }\n            else {\n                pStartDate.setTime(pStartDate.getTime() + (left * milliSecondsPerPixel));\n            }\n        }\n        /* To render the milestone in proper date while editing */\n        if (isMilestone && !isNullOrUndefined(property.predecessorsName) && property.predecessorsName !== '') {\n            //  pStartDate.setDate(pStartDate.getDate() -1);\n            var dayEndTime = this.parent['getCurrentDayEndTime'](property.isAutoSchedule ? property.autoEndDate : property.endDate);\n            this.parent.dateValidationModule.setTime(dayEndTime, pStartDate);\n            pStartDate = this.parent.dateValidationModule.checkStartDate(pStartDate, property, true);\n        }\n        var tierMode = this.parent.timelineModule.bottomTier !== 'None' ? this.parent.timelineModule.topTier :\n            this.parent.timelineModule.bottomTier;\n        if (tierMode !== 'Hour' && tierMode !== 'Minutes') {\n            if (this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) &&\n                !this.parent.isInDst(pStartDate)) {\n                pStartDate.setTime(pStartDate.getTime() + (60 * 60 * 1000));\n            }\n            // else if (!this.parent.isInDst(new Date(this.parent.timelineModule.timelineStartDate.toString())) && this.parent.isInDst(pStartDate)) {\n            //     pStartDate.setTime(pStartDate.getTime() - (60 * 60 * 1000));\n            // }\n        }\n        return pStartDate;\n    };\n    /**\n     * To set item position.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.setItemPosition = function () {\n        if (!isNullOrUndefined(this.editElement)) {\n            var currentElement = this.editElement.parentElement;\n            if (this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag') {\n                currentElement.style.position = null;\n            }\n            else {\n                if (this.parent.enableTimelineVirtualization &&\n                    this.parent.timelineModule.wholeTimelineWidth > this.parent.element.offsetWidth * 3) {\n                    currentElement.style.setProperty('position', 'relative');\n                }\n                else {\n                    currentElement.style.setProperty('position', 'absolute');\n                }\n            }\n        }\n        var item = this.taskBarEditRecord.ganttProperties;\n        var position = this.parent.enableRtl ? 'right' : 'left';\n        var segment = !isNullOrUndefined(item.segments) ? item.segments[this.segmentIndex] : null;\n        var width = this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone ?\n            this.parent.chartRowsModule.milestoneHeight : item.width;\n        var rightResizer = this.parent.isAdaptive ? (width - 2) : (width - 10);\n        if (!isNullOrUndefined(segment)) {\n            rightResizer = this.parent.isAdaptive ? (segment.width - 2) : (segment.width - 10);\n        }\n        this.taskBarEditElement.style.setProperty('opacity', '.75');\n        var taskBarMainContainer;\n        if (this.parent.allowTaskbarDragAndDrop && !item.isAutoSchedule && this.taskBarEditRecord.hasChildRecords) {\n            taskBarMainContainer = this.taskBarEditElement;\n        }\n        else {\n            taskBarMainContainer = (!this.taskBarEditElement.classList.contains(cls.taskBarMainContainer)) ? ((this.taskBarEditAction === 'ChildDrag' ||\n                this.taskBarEditAction === 'LeftResizing') && this.segmentIndex === 0) ? this.taskBarEditElement.parentElement : closest(this.taskBarEditElement, 'tr.' + cls.chartRow)\n                .querySelector('.' + cls.taskBarMainContainer) : this.taskBarEditElement;\n        }\n        var segmentedTaskBarContainer = (this.taskBarEditElement.classList.contains('e-segmented-taskbar') ||\n            this.taskBarEditElement.querySelector('.e-segmented-taskbar')) ? true : false;\n        var traceChildProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceChildProgressBar);\n        var traceChildTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceChildTaskBar);\n        var childProgressResizer = segmentedTaskBarContainer ? parentsUntil(this.taskBarEditElement, cls.taskBarMainContainer).querySelector('.' + cls.childProgressResizer) : this.taskBarEditElement.querySelector('.' + cls.childProgressResizer);\n        var taskBarRightResizer = this.taskBarEditElement.querySelector('.' + cls.taskBarRightResizer);\n        var traceParentTaskBar = this.taskBarEditElement.querySelector('.' + cls.traceParentTaskBar);\n        var traceParentProgressBar = this.taskBarEditElement.querySelector('.' + cls.traceParentProgressBar);\n        var traceConnectorPointRight = this.taskBarEditElement.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var segmentConnectorPointRight = taskBarMainContainer.querySelector('.' + cls.rightConnectorPointOuterDiv);\n        var manualParentTaskbar = this.taskBarEditElement;\n        var manualTaskbar = this.taskBarEditElement.querySelector('.' + cls.manualParentTaskBar);\n        var manualParentRight = this.taskBarEditElement.querySelector('.' + cls.manualParentRightResizer);\n        var manualParentLeft = this.taskBarEditElement.querySelector('.' + cls.manualParentLeftResizer);\n        var resizeLine = this.parent.ganttChartModule.chartBodyContainer.querySelector('.e-taskbar-resize-div');\n        if (this.parent.allowTaskbarDragAndDrop && !this.updatePosition) {\n            this.leftValue = this.leftValue + 30;\n            this.updatePosition = true;\n        }\n        if (this.taskBarEditAction !== 'ConnectorPointRightDrag' &&\n            this.taskBarEditAction !== 'ConnectorPointLeftDrag') {\n            if (this.taskBarEditAction !== 'ParentResizing' && this.taskBarEditAction !== 'ManualParentDrag') {\n                if (segmentedTaskBarContainer && !isNullOrUndefined(item.segments)\n                    && (this.taskBarEditAction === 'RightResizing' || this.segmentIndex !== 0)) {\n                    if (!isNullOrUndefined(resizeLine)) {\n                        if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag' &&\n                            this.taskBarEditAction !== 'ParentDrag')) {\n                            resizeLine.style.width = (segment.width) + 'px';\n                        }\n                    }\n                    this.taskBarEditElement.style.width = (segment.width) + 'px';\n                    if (this.parent.enableRtl) {\n                        this.taskBarEditElement.style.right = (segment.left) + 'px';\n                    }\n                    else {\n                        this.taskBarEditElement.style.left = (segment.left) + 'px';\n                        if (!isNullOrUndefined(resizeLine)) {\n                            if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'ChildDrag'\n                                && this.taskBarEditAction !== 'ParentDrag')) {\n                                resizeLine.style.left = (segment.left + this.editElement.parentElement.offsetLeft) + 'px';\n                            }\n                        }\n                    }\n                }\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left)) + 'px');\n                taskBarMainContainer.style.width = (width) + 'px';\n                if (segmentedTaskBarContainer && segmentConnectorPointRight) {\n                    segmentConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n                if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.taskBarEditAction !== 'LeftResizing' &&\n                    this.taskBarEditAction !== 'RightResizing' && this.taskBarEditAction !== 'ProgressResizing') {\n                    var addTop = this.parent.taskbarHeight / 2;\n                    taskBarMainContainer.style.setProperty('top', (this.topValue + addTop) + 'px');\n                    taskBarMainContainer.style.zIndex = '4';\n                }\n                if (this.taskBarEditAction === 'LeftResizing' && this.segmentIndex === 0) {\n                    this.taskBarEditElement.style.setProperty('opacity', '.75');\n                    var parent_1 = this.taskBarEditElement.parentElement;\n                    var segmentedTasks = parent_1.getElementsByClassName('e-segmented-taskbar');\n                    for (var i = 0; i < item.segments.length; i++) {\n                        var segment_4 = item.segments[i];\n                        var segmentElement = segmentedTasks[i];\n                        segmentElement.style.width = (segment_4.width) + 'px';\n                        if (item.segments.length === 1) {\n                            resizeLine.style.width = (segment_4.width) + 'px';\n                            resizeLine.style.setProperty(position, (item.left) + 'px');\n                        }\n                        else {\n                            if (i === 0) {\n                                resizeLine.style.width = (segment_4.width) + 'px';\n                                resizeLine.style.setProperty(position, (segment_4.left + item.left) + 'px');\n                            }\n                            if (this.parent.enableRtl) {\n                                segmentElement.style.right = (segment_4.left) + 'px';\n                            }\n                            else {\n                                segmentElement.style.left = (segment_4.left) + 'px';\n                            }\n                        }\n                    }\n                }\n                if (this.taskBarEditAction === 'ChildDrag' && (this.segmentIndex === 0 || (this.segmentIndex !== -1 && this.parent.allowTaskbarDragAndDrop))) {\n                    resizeLine.style.width = (width) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    taskBarMainContainer.style.setProperty('opacity', '.75');\n                }\n            }\n            if (traceConnectorPointRight) {\n                if (this.parent.enableRtl) {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width - 2)) + 'px';\n                }\n                else {\n                    traceConnectorPointRight.style.left = (this.parent.isAdaptive ? (width + 10) : (width + 2)) + 'px';\n                }\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'LeftResizing') {\n                traceConnectorPointRight.style.left = (width - 2) + 'px';\n            }\n            if (childProgressResizer && traceChildProgressBar && (this.taskBarEditAction === 'LeftResizing' || this.taskBarEditAction === 'RightResizing' || this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag')) {\n                childProgressResizer.style.display = 'none';\n                traceChildProgressBar.style.display = 'none';\n            }\n            if (traceConnectorPointRight && this.taskBarEditAction === 'ProgressResizing') {\n                traceConnectorPointRight.style.display = 'none';\n            }\n            if (this.taskBarEditAction === 'MilestoneDrag' || item.isMilestone) {\n                taskBarMainContainer.style.setProperty(position, (this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left - (width / 2))) + 'px');\n                resizeLine.style.setProperty(position, (item.left - (width / 2)) + 'px');\n                resizeLine.style.width = (width) + 'px';\n            }\n            else if (this.taskBarEditAction === 'ProgressResizing') {\n                if (this.segmentIndex === -1) {\n                    traceChildTaskBar.style.setProperty(position, (item.left + item.progressWidth - 10) + 'px');\n                    if (!isNullOrUndefined(traceChildProgressBar)) {\n                        traceChildProgressBar.style.width = item.progressWidth + 'px';\n                        traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                        traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                        var width_1 = this.parent.enableRtl ? item.progressWidth + 8 : item.progressWidth - 8;\n                        childProgressResizer.style.setProperty(position, width_1 + 'px');\n                    }\n                }\n                else {\n                    this.updateSegmentProgress(this.taskBarEditRecord.ganttProperties);\n                    var progressElements = taskBarMainContainer.querySelectorAll('.e-gantt-child-progressbar');\n                    for (var count = 0; count < progressElements.length; count++) {\n                        if (item.segments[count] && item.segments[count].progressWidth && this.segmentIndex !== count) {\n                            progressElements[count]['style'].display = 'block';\n                            progressElements[count].style.width = item.segments[count].progressWidth + 'px';\n                        }\n                    }\n                    traceChildProgressBar.style.width = item.segments[this.segmentIndex].progressWidth + 'px';\n                    traceChildProgressBar.style.borderBottomRightRadius = this.progressBorderRadius + 'px';\n                    traceChildProgressBar.style.borderTopRightRadius = this.progressBorderRadius + 'px';\n                    var width_2 = this.parent.enableRtl ? this.progressValue + 8 : this.progressValue - 8;\n                    childProgressResizer.style.setProperty(position, width_2 + 'px');\n                }\n            }\n            else if (this.taskBarEditAction === 'RightResizing' && !isNullOrUndefined(traceChildTaskBar)) {\n                resizeLine.style.width = (width) + 'px';\n                traceChildTaskBar.style.width = (width) + 'px';\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentDrag') {\n                resizeLine.style.setProperty(position, item.left + 'px');\n                resizeLine.style.width = (width) + 'px';\n                resizeLine.style.width = (item.width) + 'px';\n                if (!isNullOrUndefined(traceParentTaskBar)) {\n                    traceParentTaskBar.style.width = (width) + 'px';\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar) && !isNullOrUndefined(traceParentProgressBar)) {\n                    traceParentProgressBar.style.width = (item.progressWidth) + 'px';\n                }\n            }\n            else if (this.taskBarEditAction === 'ParentResizing') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty('width', (item.width) + 'px');\n                manualTaskbar.style.setProperty('width', (item.width) + 'px');\n                this.editElement.parentElement.style.setProperty('width', (item.width) + 'px');\n            }\n            else if (this.taskBarEditAction === 'ManualParentDrag') {\n                resizeLine.style.width = (item.width) + 'px';\n                resizeLine.style.setProperty(position, item.left + 'px');\n                manualParentTaskbar.style.setProperty(position, item.left - item.autoLeft + 'px');\n                if (this.parent.allowTaskbarDragAndDrop) {\n                    manualParentTaskbar.style.setProperty(position, this.leftValue + 'px');\n                    manualParentTaskbar.style.setProperty('top', (this.topValue) + 'px');\n                    manualParentTaskbar.style.zIndex = '4';\n                }\n            }\n            else {\n                if (!isNullOrUndefined(traceChildTaskBar) && !segmentedTaskBarContainer) {\n                    traceChildTaskBar.style.width = (item.width) + 'px';\n                    traceChildTaskBar.style.left = (item.left) + 'px';\n                    this.taskBarEditElement.style.width = (item.width) + 'px';\n                    this.taskBarEditElement.style.left = ((this.parent.allowTaskbarDragAndDrop ? this.leftValue : (item.left))) + 'px';\n                    resizeLine.style.setProperty(position, item.left + 'px');\n                    resizeLine.style.width = (item.width) + 'px';\n                }\n                if (!isNullOrUndefined(traceChildProgressBar)) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (item.progressWidth) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, item.progressWidth - 10 + 'px');\n                    }\n                }\n                if (segmentedTaskBarContainer) {\n                    taskBarRightResizer.style.setProperty(position, rightResizer + 'px');\n                    traceChildProgressBar.style.width = (segment.width) + 'px';\n                    if (!isNullOrUndefined(childProgressResizer)) {\n                        childProgressResizer.style.setProperty(position, segment.width - 10 + 'px');\n                    }\n                }\n            }\n        }\n        if (this.parent.allowTaskbarDragAndDrop && (this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'ManualParentDrag' || this.taskBarEditAction === 'MilestoneDrag')) {\n            var resizeValue = this.parent.enableRtl ? parseInt(resizeLine.style.right, 10) : parseInt(resizeLine.style.left, 10);\n            if (this.parent.enableRtl) {\n                resizeLine.style.right = (resizeValue - 30) + 'px';\n            }\n            else {\n                resizeLine.style.left = (resizeValue + 30) + 'px';\n            }\n        }\n    };\n    /**\n     * To handle mouse up event in chart\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.mouseUpHandler = function (e) {\n        var mouseDragged = this.isMouseDragged;\n        this.previousMouseMove = null;\n        this.leftValue = 0;\n        this.previousLeftValue = 0;\n        this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n        if (this.taskBarEditAction && this.isMouseDragged) {\n            if ((!this.dragMouseLeave && this.taskBarEditedAction) || (this.parent.allowTaskbarDragAndDrop)) {\n                if (e.type === 'touchmove' || e.type === 'touchstart' || e.type === 'touchend') {\n                    var coordinates = this.getCoordinate(e);\n                    this['droppedTarget'] = document.elementFromPoint(coordinates.pageX, coordinates.pageY);\n                }\n                else {\n                    if (this.taskBarEditRecord.hasChildRecords && !this.taskBarEditRecord.ganttProperties.isAutoSchedule) {\n                        var taskbarPosition = this.parent.getOffsetRect(this.taskBarEditElement);\n                        var left = (!isNullOrUndefined(document.body.className) && document.body.className.includes('e-bigger')) ? 12 : 0;\n                        var pointerLeft = (3 + this.parent.chartRowsModule.connectorPointWidth + left);\n                        var xValue = void 0;\n                        if (this.parent.enableRtl) {\n                            xValue = Math.abs(taskbarPosition.left + pointerLeft + 1);\n                        }\n                        else {\n                            xValue = Math.abs(Math.abs(taskbarPosition.left - pointerLeft - 1) -\n                                this.parent.ganttChartModule.scrollElement.scrollLeft);\n                        }\n                        this['droppedTarget'] = document.elementFromPoint(xValue, e.y);\n                    }\n                    else {\n                        this['droppedTarget'] = document.elementFromPoint(e.x, e.y);\n                    }\n                    if (this['droppedTarget'] && this['droppedTarget'].classList.contains('e-span-label')) {\n                        this['droppedTarget'] = document.elementFromPoint(e.x + this['droppedTarget']['offsetWidth'], e.y);\n                    }\n                }\n                this.previousIds = this.parent.ids.slice();\n                this.previousFlatData = this.parent.flatData.slice();\n                this.taskBarEditedAction(e);\n                this.isMouseDragged = false;\n            }\n            else {\n                this.parent.isOnEdit = false;\n                this.cancelTaskbarEditActionInMouseLeave();\n                var criticalModule = this.parent.criticalPathModule;\n                if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n                    criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n                }\n            }\n        }\n        if (this.parent.enableMultiTaskbar && !isNullOrUndefined(this.taskBarEditElement)) {\n            if (!isNullOrUndefined(this.taskBarEditElement.querySelector('.e-gantt-child-taskbar'))) {\n                if (this.taskBarEditElement.querySelector('.e-gantt-child-taskbar').classList.contains('e-collapsed-taskbar-drag')) {\n                    removeClass([this.taskBarEditElement.querySelector('.e-gantt-child-taskbar')], 'e-collapsed-taskbar-drag');\n                    this.taskBarEditElement.style.zIndex = this.prevZIndex;\n                    this.prevZIndex = '';\n                }\n            }\n        }\n        if (!this.parent.isAdaptive || mouseDragged) {\n            this.initPublicProp();\n        }\n        this.stopScrollTimer();\n    };\n    /**\n     * To perform taskbar edit operation.\n     *\n     * @param {PointerEvent} event .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskBarEditedAction = function (event) {\n        var args = {};\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var item = this.taskBarEditRecord;\n        var recordIndex = this.parent.ganttChartModule.getIndexByTaskBar(this.taskBarEditElement);\n        var x2 = this.mouseMoveX;\n        var e = this.getCoordinate(event);\n        var resMouseY = e.pageY - this.parent.ganttChartModule.chartBodyContainer.offsetTop;\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && !this.drawPredecessor) {\n            this.dependencyCancel = true;\n        }\n        var parentRecord = [];\n        if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n            this.taskBarEditAction === 'ConnectorPointRightDrag') && this.drawPredecessor && (!this.connectorSecondRecord.hasChildRecords ||\n            this.connectorSecondRecord.hasChildRecords && this.parent.allowParentDependency)) {\n            parentRecord.push(extend([], [], [this.taskBarEditRecord], true)[0]);\n            if (this.parent.undoRedoModule) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            this.parent.connectorLineEditModule.updatePredecessor(this.connectorSecondRecord, this.finalPredecessor);\n        }\n        else {\n            if ((this.taskBarEditAction === 'ConnectorPointLeftDrag' ||\n                this.taskBarEditAction === 'ConnectorPointRightDrag') || (this.oldData && JSON.stringify(item.ganttProperties) === JSON.stringify(this.oldData.ganttProperties))) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent['totalUndoAction']--;\n                    this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n                    }\n                }\n            }\n            else {\n                if (this.parent.undoRedoModule && this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                }\n            }\n            if (x1 !== x2 || (Math.abs(y1 - resMouseY) >= (this.parent.rowHeight - this.parent.taskbarHeight) / 2)) {\n                if (item !== null) {\n                    args.editingFields = item.ganttProperties;\n                    args.data = item;\n                    args.recordIndex = recordIndex;\n                    args.previousData = this.previousItem;\n                    args.taskBarEditAction = this.taskBarEditAction;\n                    args.action = 'TaskbarEditing';\n                    args.roundOffDuration = this.roundOffDuration;\n                    args.target = this.targetElement;\n                    this.taskbarEditedArgs = args;\n                    this.taskbarEdited(args);\n                }\n            }\n        }\n        this.parent['isProjectDateUpdated'] = false;\n    };\n    /**\n     * To cancel the taskbar edt action.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.cancelTaskbarEditActionInMouseLeave = function () {\n        this.parent.editModule.reUpdatePreviousRecords(true);\n    };\n    TaskbarEdit.prototype.updateSegmentProgress = function (taskData) {\n        var segments = taskData.segments;\n        var fixedWidth = true;\n        var totalTaskWidth = this.splitTasksDuration(segments) * this.parent.perDayWidth;\n        var progress = Math.ceil((taskData.progressWidth / totalTaskWidth) * 100);\n        var totalProgressWidth = (totalTaskWidth * progress) / 100;\n        var tempWidth = totalProgressWidth;\n        for (var i = 0; i < segments.length; i++) {\n            var segment = segments[i];\n            if (i !== 0) {\n                if (segment.left <= tempWidth) {\n                    var newWidth = (tempWidth - segment.left);\n                    totalProgressWidth = newWidth;\n                }\n                else {\n                    totalProgressWidth = 0;\n                }\n            }\n            delete segment.progressWidth;\n            if (totalProgressWidth > 0 && totalProgressWidth > segment.width) {\n                totalProgressWidth = totalProgressWidth - segment.width;\n                segment.progressWidth = segment.width;\n                segment.showProgress = false;\n            }\n            else if (fixedWidth) {\n                segment.progressWidth = totalProgressWidth;\n                segment.showProgress = true;\n                totalProgressWidth = totalProgressWidth - segment.width;\n                fixedWidth = false;\n            }\n        }\n    };\n    /**\n     * To trigger taskbar edited event.\n     *\n     * @param {ITaskbarEditedEventArgs} arg .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.taskbarEdited = function (arg) {\n        var args = extend({}, arg);\n        var ganttRecord = args.data;\n        var taskData = ganttRecord.ganttProperties;\n        var draggedRecIndex = this.parent.flatData.indexOf(ganttRecord);\n        if ((this.parent.allowTaskbarDragAndDrop && this.taskBarEditAction === 'ChildDrag' || this.taskBarEditAction === 'ParentDrag' ||\n            this.taskBarEditAction === 'MilestoneDrag' || this.taskBarEditAction === 'ManualParentDrag') && this.dragMoveY > 0 &&\n            ((this.parent.viewType === 'ResourceView' && !ganttRecord.hasChildRecords) || this.parent.viewType === 'ProjectView')) {\n            if (this.parent.rowDragAndDropModule) {\n                var flatRecordCol = this.parent.currentViewData;\n                if (this.taskBarEditRecord.parentItem && flatRecordCol[this.taskBarEditRecord.parentItem.index] &&\n                    ((this.parent.editedRecords.indexOf(flatRecordCol[this.taskBarEditRecord.parentItem.index]) === -1))) {\n                    this.parent.editedRecords.push(flatRecordCol[this.taskBarEditRecord.parentItem.index]);\n                }\n                this.removeChildBorder();\n                this.removeErrorElem();\n                this.removetopOrBottomBorder();\n                var droppedRecord = void 0;\n                this.updatePosition = false;\n                this.draggedRecordMarginTop = this.taskBarEditElement.style.marginTop;\n                var row = void 0;\n                if (!isNullOrUndefined(this.droppedTarget)) {\n                    row = closest(this.droppedTarget, 'tr.' + cls.chartRow);\n                }\n                if (row) {\n                    var recordIndex = Array.from(this.parent.ganttChartModule.getChartRows()).indexOf(row);\n                    droppedRecord = flatRecordCol[recordIndex];\n                    var droppedParentRecordIndex = this.parent.getRootParent(droppedRecord, 0).index;\n                    var draggedParentRecordIndex = this.parent.getRootParent(this.taskBarEditRecord, 0).index;\n                    var e = {\n                        cancel: false,\n                        data: this.taskBarEditRecord,\n                        fromIndex: this.taskBarEditRecord.index,\n                        dropIndex: droppedRecord.index,\n                        dropPosition: this.parent.rowDragAndDropModule['dropPosition'],\n                        dropRecord: droppedRecord\n                    };\n                    this.parent.trigger('rowDrop', e);\n                    if (!e['cancel'] && droppedRecord && recordIndex !== draggedRecIndex && ((droppedParentRecordIndex !== draggedParentRecordIndex ||\n                        (this.taskBarEditRecord.hasChildRecords && droppedRecord.hasChildRecords)) ||\n                        !this.taskBarEditRecord.hasChildRecords)) {\n                        var droppedRecordIndex = this.parent.flatData.indexOf(droppedRecord);\n                        var position = void 0;\n                        if (this.parent.viewType === 'ProjectView' && !isNullOrUndefined(this.parent.rowDragAndDropModule['dropPosition'])) {\n                            position = this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        else {\n                            position = (droppedRecord.hasChildRecords || (!droppedRecord.parentItem &&\n                                droppedRecord.childRecords.length === 0)) ? 'child' : this.parent.rowDragAndDropModule['dropPosition'];\n                        }\n                        if (this.parent.rowDragAndDropModule) {\n                            if (this.parent.viewType === 'ResourceView' && (position === 'child' && !droppedRecord.hasChildRecords) && !isNullOrUndefined(droppedRecord.parentItem)) {\n                                position = 'Invalid';\n                                this.parent.rowDragAndDropModule['dropPosition'] = 'Invalid';\n                            }\n                            if (position) {\n                                this.parent.rowDragAndDropModule.reorderRows([draggedRecIndex], droppedRecordIndex, position);\n                            }\n                        }\n                        this.dragMoveY = 0;\n                    }\n                }\n                this.isClonedElement = false;\n            }\n            if (this.parent.showOverAllocation) {\n                this.parent.ganttChartModule.renderOverAllocationContainer();\n            }\n        }\n        if (args.taskBarEditAction === 'ProgressResizing') {\n            if (args.previousData.progress !== taskData.progress) {\n                var progressWidth = args.data.ganttProperties.progressWidth;\n                var totalTaskWidth = args.data.ganttProperties.width;\n                /* eslint-disable-next-line */\n                var updatedValues = this.validateProgressWidth(args.data.ganttProperties, progressWidth, totalTaskWidth);\n                this.parent.setRecordValue('progress', this.getProgressPercent(updatedValues.totalTaskWidth, updatedValues.progressWidth), taskData, true);\n                if (ganttRecord.parentItem) {\n                    this.parent.editModule.updateParentProgress(ganttRecord.parentItem);\n                }\n                if (!isNullOrUndefined(taskData.segments)) {\n                    this.updateSegmentProgress(taskData);\n                }\n            }\n        }\n        else {\n            var segments = args.data.ganttProperties.segments;\n            if (!isNullOrUndefined(segments) && segments.length > 0\n                && ((this.taskBarEditAction === 'LeftResizing' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'ChildDrag' && this.segmentIndex !== 0)\n                    || (this.taskBarEditAction === 'RightResizing'))) {\n                var segment = segments[this.segmentIndex];\n                var ganttProp = this.taskBarEditRecord.ganttProperties;\n                var previousSegment = this.segmentIndex === 0 ? null\n                    : segments[this.segmentIndex - 1];\n                var nextSegment = this.segmentIndex === segments.length - 1 ? null\n                    : segments[this.segmentIndex + 1];\n                var sDate = !isNullOrUndefined(nextSegment) ?\n                    new Date(nextSegment.startDate.getTime()) : this.parent.cloneProjectEndDate;\n                var eDate = !isNullOrUndefined(previousSegment) ?\n                    new Date(previousSegment.endDate.getTime()) : this.parent.cloneProjectStartDate;\n                var cStartDate = new Date(segment.startDate.getTime());\n                var cEndDate = new Date(segment.endDate.getTime());\n                if (this.parent.timelineModule.topTier === 'Day' && this.parent.timelineModule.bottomTier === 'Hour') {\n                    cStartDate.setHours(cStartDate.getHours() - 1);\n                    cEndDate.setHours(cEndDate.getHours() + 1);\n                }\n                else {\n                    cStartDate.setDate(cStartDate.getDate());\n                    cEndDate.setDate(cEndDate.getDate());\n                }\n                if (this.parent.includeWeekend) {\n                    sDate.setHours(0, 0, 0, 0);\n                    eDate.setHours(0, 0, 0, 0);\n                    cStartDate.setDate(cStartDate.getDate() - 1);\n                    cEndDate.setDate(cEndDate.getDate() + 1);\n                    cStartDate.setHours(0, 0, 0, 0);\n                    cEndDate.setHours(0, 0, 0, 0);\n                    if (cStartDate.getTime() <= eDate.getTime() && !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment)) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime() && this.segmentIndex !== segments.length - 1) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    else if (cEndDate.getTime() >= sDate.getTime()) {\n                        segment.endDate.setDate(this.parent.cloneProjectEndDate.getDate() - 1);\n                        segment.startDate = this.parent.dataOperation.getStartDate(segment.endDate, segment.duration, ganttProp.durationUnit, ganttProp);\n                        // eslint-disable-next-line\n                        for (var i = segments.length - 2; i >= 0; i--) {\n                            var segment_5 = __assign({}, segments[i]);\n                            if (!isNullOrUndefined(segment_5)) {\n                                var eDate_1 = new Date(segment_5.endDate);\n                                eDate_1.setDate(eDate_1.getDate() - segment_5.offsetDuration);\n                                segment_5.endDate = eDate_1;\n                                segment_5.startDate = this.parent.dataOperation.getStartDate(segment_5.endDate, segment_5.duration, ganttProp.durationUnit, ganttProp);\n                            }\n                        }\n                    }\n                }\n                else {\n                    //Hits while dragging taskbar toward right & taskbar rightside resizing:\n                    if (cEndDate.getTime() <= sDate.getTime() && this.segmentIndex !== segments.length - 1 && !this.parent.includeWeekend &&\n                        this.parent.dataOperation.getDuration((this.parent.dataOperation.checkStartDate(cEndDate, taskData, false)), sDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': segment.segmentIndex, 'secondSegmentIndex': nextSegment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                    //Hits while dragging taskbar toward left & taskbar leftside resizing:\n                    else if (cStartDate.getTime() >= eDate.getTime() &&\n                        !isNullOrUndefined(previousSegment) && !isNullOrUndefined(segment) &&\n                        !this.parent.includeWeekend && this.parent.dataOperation.getDuration((this.parent.dataOperation.checkEndDate(cStartDate, taskData, false)), eDate, taskData.durationUnit, false, false) === 0) {\n                        var segmentIndexes = [\n                            { 'firstSegmentIndex': previousSegment.segmentIndex, 'secondSegmentIndex': segment.segmentIndex }\n                        ];\n                        this.parent.chartRowsModule.mergeTask(ganttProp.taskId, segmentIndexes);\n                    }\n                }\n            }\n            this.parent.dataOperation.updateWidthLeft(args.data);\n        }\n        this.isDragged = false;\n        this.parent.dataOperation.updateTaskData(ganttRecord);\n        this.parent.editModule.initiateUpdateAction(args);\n    };\n    /**\n     * To get progress in percentage.\n     *\n     * @param {number} parentwidth .\n     * @param {number} progresswidth .\n     * @returns {number} .\n     * @private\n     */\n    TaskbarEdit.prototype.getProgressPercent = function (parentwidth, progresswidth) {\n        return Math.ceil(((progresswidth / parentwidth) * 100));\n    };\n    /**\n     * false line implementation.\n     *\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.drawFalseLine = function () {\n        var x1 = this.mouseDownX;\n        var y1 = this.mouseDownY;\n        var x2 = this.mouseMoveX;\n        var y2 = this.mouseMoveY;\n        var length = Math.sqrt((x1 - x2) * (x1 - x2) + (y1 - y2) * (y1 - y2));\n        var angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;\n        var transform = 'rotate(' + (this.parent.enableRtl ? -angle : angle) + 'deg)';\n        var left;\n        var width = 0;\n        if (!isNullOrUndefined(document.querySelectorAll('.e-chart-row')[0])) {\n            width = document.querySelectorAll('.e-chart-row')[0].offsetWidth;\n        }\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            if (this.parent.enableRtl) {\n                left = ((width - (this.elementOffsetLeft + (this.parent.chartRowsModule.connectorPointWidth / 2)))) -\n                    Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft - (this.parent.chartRowsModule.connectorPointWidth / 2)) -\n                    this.parent.ganttChartModule.scrollObject.previousScroll.left;\n            }\n        }\n        if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            if (this.parent.enableRtl) {\n                left = (width - (this.elementOffsetLeft + this.elementOffsetWidth +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2))) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n            else {\n                left = (this.elementOffsetLeft + this.elementOffsetWidth) +\n                    (this.parent.chartRowsModule.connectorPointWidth / 2) - Math.abs(this.parent.ganttChartModule.scrollObject.previousScroll.left);\n            }\n        }\n        var top = ((this.elementOffsetTop) + (this.elementOffsetHeight / 2) +\n            this.parent.ganttChartModule.chartBodyContainer.offsetTop) - this.parent.ganttChartModule.scrollObject.previousScroll.top;\n        this.removeFalseLine(false);\n        this.falseLine = createElement('div', {\n            className: cls.falseLine, id: 'ganttfalseline' + this.parent.element.id,\n            styles: 'position: absolute;transform:' + transform + ';' +\n                'border-top-width: 1px;border-top-style: dashed;z-index: 5;width:' + (length - 3) + 'px;' +\n                'top:' + top + 'px;'\n        });\n        if (this.parent.enableRtl) {\n            this.falseLine.style.left = 'auto';\n            this.falseLine.style.right = left + 'px';\n            this.falseLine.style.transformOrigin = '100% 0%';\n        }\n        else {\n            this.falseLine.style.right = 'auto';\n            this.falseLine.style.left = left + 'px';\n            this.falseLine.style.transformOrigin = '0% 100%';\n        }\n        this.parent.ganttChartModule.chartBodyContainer.appendChild(this.falseLine);\n    };\n    /**\n     *\n     * @param {boolean} isRemoveConnectorPointDisplay .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.removeFalseLine = function (isRemoveConnectorPointDisplay) {\n        if (this.falseLine) {\n            remove(this.falseLine);\n            this.falseLine = null;\n            if (isRemoveConnectorPointDisplay) {\n                this.elementOffsetLeft = 0;\n                this.elementOffsetTop = 0;\n                this.elementOffsetWidth = 0;\n                this.elementOffsetHeight = 0;\n                removeClass(this.parent.ganttChartModule.scrollElement.querySelectorAll('.' + cls.connectorLineContainer), [cls.connectorLineZIndex]);\n            }\n        }\n    };\n    /**\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.updateConnectorLineSecondProperties = function (e) {\n        var target = this.getElementByPosition(e);\n        var element = parentsUntil(target, cls.taskBarMainContainer);\n        var isBigger = document.body.className.includes('e-bigger');\n        this.connectorSecondAction = null;\n        var scrollTop = 0;\n        if (parentsUntil(target, cls.connectorPointLeft)) {\n            this.connectorSecondAction = 'ConnectorPointLeftDrag';\n            this.toPredecessorText = 'Start';\n        }\n        else if (parentsUntil(target, cls.connectorPointRight)) {\n            this.connectorSecondAction = 'ConnectorPointRightDrag';\n            this.toPredecessorText = 'Finish';\n        }\n        else {\n            this.connectorSecondAction = null;\n            this.toPredecessorText = null;\n        }\n        if (this.taskBarEditElement !== element && this.taskBarEditElement !== this.highlightedSecondElement) {\n            if (this.parent.virtualScrollModule && this.parent.enableVirtualization) {\n                var top_1 = this.parent.virtualScrollModule.getTopPosition();\n                scrollTop = top_1;\n            }\n            if ((this.parent.virtualScrollModule && this.parent.enableVirtualization &&\n                !this.elementOffsetLeft) || !this.parent.enableVirtualization) {\n                if (!this.parent.allowParentDependency) {\n                    this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                    this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                        this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                }\n                else {\n                    if (this.taskBarEditElement.children[0].classList.contains('e-manualparent-main-container')) {\n                        this.elementOffsetLeft = this.realTaskbarElement.children[0]['offsetLeft'] +\n                            this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = ((this.realTaskbarElement.parentElement.offsetTop + this.realTaskbarElement.offsetHeight / 3 - 5) + this.taskBarEditElement.children[0]['offsetTop']) + scrollTop;\n                    }\n                    else {\n                        this.elementOffsetLeft = this.realTaskbarElement.offsetLeft - ((isBigger) ? 10 : 0);\n                        this.elementOffsetTop = this.realTaskbarElement.parentElement.offsetTop +\n                            this.realTaskbarElement.offsetHeight / 3 + scrollTop;\n                    }\n                }\n                this.elementOffsetWidth = this.realTaskbarElement.offsetWidth + ((isBigger) ? 20 : 0);\n                this.elementOffsetHeight = this.realTaskbarElement.offsetHeight;\n            }\n            this.showHideTaskBarEditingElements(element, this.highlightedSecondElement, true);\n        }\n        if (isNullOrUndefined(this.connectorSecondAction) && !isNullOrUndefined(this.connectorSecondElement) &&\n            (!this.connectorSecondRecord.hasChildRecords || this.connectorSecondRecord.hasChildRecords &&\n                this.parent.allowParentDependency)) {\n            this.editTooltip.showHideTaskbarEditTooltip(false, this.segmentIndex);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointLeft)], [cls.connectorPointAllowBlock]);\n            removeClass([this.connectorSecondElement.querySelector('.' + cls.connectorPointRight)], [cls.connectorPointAllowBlock]);\n        }\n        this.connectorSecondElement = this.connectorSecondAction ? element : null;\n        this.highlightedSecondElement = element;\n        this.connectorSecondRecord = isNullOrUndefined(this.connectorSecondElement) ?\n            null : this.parent.ganttChartModule.getRecordByTaskBar(this.connectorSecondElement);\n    };\n    // eslint-disable-next-line\n    TaskbarEdit.prototype.triggerDependencyEvent = function (e, mouseUp) {\n        var parentWithZoomStyle = this.parent.element.closest('[style*=\"zoom\"]');\n        var zoomedPageY;\n        if (parentWithZoomStyle) {\n            var zoom1 = parseFloat(getComputedStyle(parentWithZoomStyle).zoom);\n            zoomedPageY = e.pageY / zoom1;\n        }\n        var fromItem = this.taskBarEditRecord.ganttProperties;\n        var toItem = this.connectorSecondRecord ? this.connectorSecondRecord.ganttProperties : null;\n        var predecessor;\n        var currentTarget;\n        var target = this.getElementByPosition(e);\n        var element = target;\n        var uniqueId = this.parent.viewType === 'ResourceView' ? fromItem.taskId : fromItem.rowUniqueID;\n        if (this.taskBarEditAction === 'ConnectorPointLeftDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'F' : 'S');\n        }\n        else if (this.taskBarEditAction === 'ConnectorPointRightDrag') {\n            predecessor = uniqueId + (this.parent.enableRtl ? 'S' : 'F');\n        }\n        if (this.connectorSecondAction) {\n            if (this.connectorSecondAction === 'ConnectorPointLeftDrag') {\n                predecessor += this.parent.enableRtl ? 'F' : 'S';\n                currentTarget = this.parent.enableRtl ? 'finish' : 'start';\n            }\n            else if (this.connectorSecondAction === 'ConnectorPointRightDrag') {\n                predecessor += this.parent.enableRtl ? 'S' : 'F';\n                currentTarget = this.parent.enableRtl ? 'start' : 'finish';\n            }\n        }\n        if (isNullOrUndefined(toItem)) {\n            this.drawPredecessor = false;\n            return;\n        }\n        if (toItem.predecessorsName) {\n            this.finalPredecessor = toItem.predecessorsName + ',' + predecessor;\n        }\n        else {\n            this.finalPredecessor = predecessor;\n        }\n        var isValidLink = this.parent.connectorLineEditModule.validatePredecessorRelation(this.connectorSecondRecord, this.finalPredecessor);\n        // eslint-disable-next-line\n        var predecessorArray = this.parent.predecessorModule.calculatePredecessor(predecessor, this.connectorSecondRecord);\n        var args = {};\n        args.fromItem = fromItem;\n        args.toItem = toItem;\n        args.newPredecessorString = this.finalPredecessor;\n        args.predecessor = predecessorArray && predecessorArray[0];\n        args.isValidLink = isValidLink;\n        args.requestType = 'ValidateDependency';\n        this.parent.trigger('actionBegin', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer' && args.requestType !== 'ValidateDependency') {\n            this.parent.showMaskRow();\n        }\n        else if (args.requestType !== 'ValidateDependency') {\n            this.parent.showSpinner();\n        }\n        args.isValidLink = !isValidLink && args.isValidLink ? false : args.isValidLink;\n        if (args.isValidLink) {\n            if (!this.editTooltip.toolTipObj && !this.parent.isAdaptive) {\n                this.editTooltip.showHideTaskbarEditTooltip(true, this.segmentIndex);\n            }\n            if (!isNullOrUndefined(this.editTooltip.toolTipObj)) {\n                this.parent.connectorLineModule.tooltipTable.innerHTML = '';\n                this.parent.connectorLineModule.tooltipTable.appendChild(this.parent.connectorLineModule.getConnectorLineTooltipInnerTd(this.parent.editModule.taskbarEditModule.taskBarEditRecord.ganttProperties.taskName, this.parent.editModule.taskbarEditModule.fromPredecessorText, '', ''));\n                var table = this.parent.connectorLineModule.tooltipTable.querySelector('#toPredecessor').querySelectorAll('td');\n                table[1].innerText = toItem.taskName;\n                table[2].innerText = this.parent.localeObj.getConstant(currentTarget);\n                if (!isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement) &&\n                    !isNullOrUndefined(this.parent.connectorLineModule.tooltipTable.parentElement.parentElement)) {\n                    var tooltipElement = this.parent.connectorLineModule.tooltipTable.parentElement.parentElement;\n                    if (tooltipElement.offsetTop + tooltipElement.offsetHeight > zoomedPageY) {\n                        tooltipElement.style.top = (e.pageY - tooltipElement.offsetHeight - 20) + 'px';\n                    }\n                }\n            }\n            this.drawPredecessor = true;\n        }\n        else {\n            if (this.parent.isAdaptive) {\n                if (target.classList.contains(cls.connectorPointLeft) ||\n                    target.classList.contains(cls.connectorPointRight)) {\n                    this.showHideActivePredecessors(true);\n                }\n            }\n            else {\n                addClass([element], [cls.connectorPointAllowBlock]);\n            }\n            this.drawPredecessor = false;\n        }\n    };\n    // Get XY coordinates for touch and non-touch device\n    TaskbarEdit.prototype.getCoordinate = function (event) {\n        var coordinates = {};\n        var e = event;\n        coordinates.pageX = e.pageX;\n        coordinates.pageY = e.pageY;\n        if (event && event.type !== 'click') {\n            var e_1 = event;\n            if (e_1.type === 'touchmove' || e_1.type === 'touchstart' || e_1.type === 'touchend') {\n                coordinates.pageX = e_1.changedTouches[0].pageX;\n                coordinates.pageY = e_1.changedTouches[0].pageY;\n            }\n        }\n        return coordinates;\n    };\n    // Get current target element by mouse position\n    // window.pageXOffset && window.pageYOffset is used to find the accurate element position in IPad/IPhone\n    TaskbarEdit.prototype.getElementByPosition = function (event) {\n        if (!this.parent.isAdaptive) {\n            return event.target;\n        }\n        else {\n            var e = this.getCoordinate(event);\n            return document.elementFromPoint((e.pageX - window.pageXOffset), (e.pageY - window.pageYOffset));\n        }\n    };\n    TaskbarEdit.prototype.multipleSelectionEnabled = function () {\n        if (this.parent.selectionModule &&\n            this.parent.selectionSettings.mode !== 'Cell'\n            && this.parent.selectionSettings.type === 'Multiple') {\n            this.parent.selectionModule.hidePopUp();\n        }\n    };\n    TaskbarEdit.prototype.unWireEvents = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartMouseDown', this.mouseDownHandler);\n        this.parent.off('chartMouseUp', this.mouseUpHandler);\n        this.parent.off('chartMouseLeave', this.mouseLeaveHandler);\n        this.parent.off('chartMouseMove', this.mouseMoveAction);\n        this.parent.off('chartMouseClick', this.mouseClickHandler);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    TaskbarEdit.prototype.destroy = function () {\n        this.unWireEvents();\n        this.stopScrollTimer();\n        this.parent.editModule.taskbarEditModule = undefined;\n    };\n    return TaskbarEdit;\n}(DateProcessor));\nexport { TaskbarEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { remove, extend, isNullOrUndefined, createElement, getValue, setValue, closest, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport { DataManager, DataUtil } from '@syncfusion/ej2-data';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { Tab } from '@syncfusion/ej2-navigations';\nimport { Grid, Edit, Toolbar as GridToolbar, Page, getObject, Sort, RowDD, Group, Aggregate, ColumnChooser, ContextMenu, ColumnMenu, Resize, Reorder, DetailRow, Search, Print, PdfExport, ExcelExport, Filter } from '@syncfusion/ej2-grids';\nimport { ForeignKey, getActualProperties } from '@syncfusion/ej2-grids';\nimport { RichTextEditor, Toolbar as RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Image, Table, EmojiPicker, FileManager, FormatPainter, MarkdownEditor } from '@syncfusion/ej2-richtexteditor';\nimport { TextBox, NumericTextBox, MaskedTextBox, FormValidator } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\nimport { DropDownList, ComboBox } from '@syncfusion/ej2-dropdowns';\nimport { isScheduledTask } from '../base/utils';\nimport { TreeGrid, Selection as TreeGridSelection, Filter as TreeGridFilter, Edit as TreeGridEdit, VirtualScroll, Sort as TreeGridSort, Page as TreeGridPage, Aggregate as TreeGridAggregate, Reorder as TreeGridReorder, Resize as TreeGridResize, Toolbar as TreeGridToolbar, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { getUid } from '../base/utils';\n/**\n *\n * @hidden\n */\nvar DialogEdit = /** @class */ (function () {\n    /**\n     * Constructor for render module\n     *\n     * @param {Gantt} parent .\n     * @returns {void} .\n     */\n    function DialogEdit(parent) {\n        this.isFromDialogPredecessor = false;\n        this.isTriggered = false;\n        this.taskFieldColumn = [];\n        this.customFieldColumn = [];\n        this.processedId = [];\n        /**\n         * @private\n         */\n        this.updatedEditFields = null;\n        this.updatedAddFields = null;\n        this.addedRecord = null;\n        this.dialogEditValidationFlag = false;\n        this.ganttResources = [];\n        this.isValidData = true;\n        this.isResourceTabUpdated = false;\n        /**\n         * @private\n         */\n        this.previousResource = [];\n        /**\n         * @private\n         */\n        this.isResourceUpdate = false;\n        this.parent = parent;\n        this.localeObj = this.parent.localeObj;\n        this.beforeOpenArgs = { cancel: false };\n        this.types = this.getPredecessorType();\n        this.rowData = {};\n        this.editedRecord = {};\n        this.inputs = {\n            booleanedit: CheckBox,\n            dropdownedit: DropDownList,\n            datepickeredit: DatePicker,\n            datetimepickeredit: DateTimePicker,\n            maskededit: MaskedTextBox,\n            numericedit: NumericTextBox,\n            stringedit: TextBox,\n            defaultedit: TextBox\n        };\n        this.processDialogFields();\n        this.wireEvents();\n    }\n    DialogEdit.prototype.wireEvents = function () {\n        this.parent.on('chartDblClick', this.dblClickHandler, this);\n    };\n    DialogEdit.prototype.dblClickHandler = function (e) {\n        var ganttData = this.parent.ganttChartModule.getRecordByTarget(e);\n        if (!isNullOrUndefined(ganttData) && this.parent.editModule && this.parent.editSettings.allowEditing) {\n            this.openEditDialog(ganttData);\n        }\n    };\n    /**\n     * Method to validate add and edit dialog fields property.\n     *\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.processDialogFields = function () {\n        if (isNullOrUndefined(this.parent.editDialogFields) ||\n            this.parent.editDialogFields && this.parent.editDialogFields.length === 0) {\n            this.updatedEditFields = this.getDefaultDialogFields();\n            this.updatedEditFields = this.validateDialogFields(this.updatedEditFields);\n        }\n        else {\n            this.updatedEditFields = this.validateDialogFields(this.parent.editDialogFields);\n        }\n        if (isNullOrUndefined(this.parent.addDialogFields) ||\n            this.parent.addDialogFields && this.parent.addDialogFields.length === 0) {\n            this.updatedAddFields = this.getDefaultDialogFields();\n            this.updatedAddFields = this.validateDialogFields(this.updatedAddFields);\n        }\n        else {\n            this.updatedAddFields = this.validateDialogFields(this.parent.addDialogFields);\n        }\n    };\n    DialogEdit.prototype.validateDialogFields = function (dialogFields) {\n        var newDialogFields = [];\n        var emptyCustomColumn = 0;\n        for (var i = 0; i < dialogFields.length; i++) {\n            var fieldItem = getActualProperties(dialogFields[i]);\n            if (fieldItem.type === 'General' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                fieldItem.fields = this.getGeneralColumnFields();\n            }\n            if (fieldItem.type === 'Dependency' && isNullOrUndefined(this.parent.taskFields.dependency)\n                || fieldItem.type === 'Resources' && isNullOrUndefined(this.parent.taskFields.resourceInfo)\n                || fieldItem.type === 'Notes' && isNullOrUndefined(this.parent.taskFields.notes)) {\n                continue;\n            }\n            if (fieldItem.type === 'Custom' && (isNullOrUndefined(fieldItem.fields) || fieldItem.fields.length === 0)) {\n                emptyCustomColumn += 1;\n                fieldItem.fields = this.getCustomColumnFields();\n            }\n            if (emptyCustomColumn > 1) {\n                continue;\n            }\n            newDialogFields.push(fieldItem);\n        }\n        return newDialogFields;\n    };\n    /**\n     * Method to get general column fields\n     *\n     * @returns {string[]} .\n     */\n    DialogEdit.prototype.getGeneralColumnFields = function () {\n        var fields = [];\n        for (var _i = 0, _a = Object.keys(this.parent.columnMapping); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (key === 'dependency' || key === 'resourceInfo' || key === 'notes') {\n                continue;\n            }\n            fields.push(this.parent.columnMapping[key]);\n        }\n        return fields;\n    };\n    /**\n     * Method to get custom column fields\n     *\n     * @returns {void} .\n     */\n    DialogEdit.prototype.getCustomColumnFields = function () {\n        var fields = [];\n        for (var i = 0; i < this.parent.customColumns.length; i++) {\n            fields.push(this.parent.customColumns[i]);\n        }\n        return fields;\n    };\n    /**\n     * Get default dialog fields when fields are not defined for add and edit dialogs\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getDefaultDialogFields = function () {\n        var dialogFields = [];\n        var fieldItem = {};\n        var taskFields = this.parent.taskFields;\n        var columnMapping = this.parent.columnMapping;\n        if (Object.keys(columnMapping).length !== 0) {\n            fieldItem.type = 'General';\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('dependency', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.dependency.valueOf()].visible !== false) {\n                fieldItem.type = 'Dependency';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('resourceInfo', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.resourceInfo.valueOf()].visible !== false) {\n                fieldItem.type = 'Resources';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('notes', columnMapping))) {\n            fieldItem = {};\n            if (this.parent.columnByField[columnMapping.notes.valueOf()].visible !== false) {\n                fieldItem.type = 'Notes';\n            }\n            dialogFields.push(fieldItem);\n        }\n        if (!isNullOrUndefined(getValue('segments', taskFields))) {\n            fieldItem = {};\n            fieldItem.type = 'Segments';\n            dialogFields.push(fieldItem);\n        }\n        if (this.parent.customColumns.length > 0) {\n            fieldItem = {};\n            fieldItem.type = 'Custom';\n            dialogFields.push(fieldItem);\n        }\n        return dialogFields;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openAddDialog = function () {\n        this.isEdit = false;\n        this.editedRecord = this.composeAddRecord();\n        this.isFromAddDialog = true;\n        this.createDialog();\n    };\n    /**\n     *\n     * @returns {Date} .\n     * @private\n     */\n    DialogEdit.prototype.getMinimumStartDate = function () {\n        var minDate = DataUtil.aggregates.min(this.parent.flatData, 'ganttProperties.startDate');\n        if (!isNullOrUndefined(minDate)) {\n            minDate = new Date(minDate.getTime());\n        }\n        else {\n            minDate = new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        }\n        minDate = this.parent.dateValidationModule.checkStartDate(minDate);\n        return new Date(minDate.getTime());\n    };\n    /**\n     * @returns {IGanttData} .\n     * @private\n     */\n    DialogEdit.prototype.composeAddRecord = function () {\n        var tempData = {};\n        tempData.ganttProperties = {};\n        var columns = this.parent.ganttColumns;\n        var taskSettings = this.parent.taskFields;\n        var id = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < columns.length; i++) {\n            var field = columns[i].field;\n            if (field === taskSettings.id) {\n                tempData[field] = id;\n                tempData.ganttProperties.rowUniqueID = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.startDate) {\n                if (isNullOrUndefined(tempData[taskSettings.endDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.startDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.endDate) {\n                if (isNullOrUndefined(tempData[taskSettings.startDate])) {\n                    tempData[field] = this.getMinimumStartDate();\n                }\n                else {\n                    tempData[field] = new Date(tempData[taskSettings.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempData[field] = this.parent.dateValidationModule.remove(tempData[field], this.parent.timezone);\n                }\n                tempData.ganttProperties.endDate = new Date(tempData[field]);\n            }\n            else if (columns[i].field === taskSettings.duration) {\n                tempData[field] = 1;\n                tempData.ganttProperties.duration = tempData[field];\n                tempData.ganttProperties.durationUnit = this.parent.durationUnit.toLocaleLowerCase();\n            }\n            else if (columns[i].field === taskSettings.name) {\n                tempData[field] = this.localeObj.getConstant('addDialogTitle') + ' ' + id;\n                tempData.ganttProperties.taskName = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.progress) {\n                tempData[field] = 0;\n                tempData.ganttProperties.progress = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.work) {\n                tempData[field] = 0;\n                tempData.ganttProperties.work = tempData[field];\n            }\n            else if (columns[i].field === taskSettings.type) {\n                tempData[field] = this.parent.taskType;\n                tempData.ganttProperties.taskType = tempData[field];\n            }\n            else {\n                tempData[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        tempData.ganttProperties.isAutoSchedule = (this.parent.taskMode === 'Auto') ? true :\n            (this.parent.taskMode === 'Manual') ? false :\n                tempData[taskSettings.manual] === true ? false : true;\n        return tempData;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openToolbarEditDialog = function () {\n        var gObj = this.parent;\n        if (gObj.editModule && gObj.editSettings.allowEditing) {\n            if (this.parent.ganttChartModule.focusedRowIndex > -1 && gObj.selectionModule) {\n                gObj.selectionModule.selectRow(this.parent.ganttChartModule.focusedRowIndex, false, false);\n            }\n            var selectedRowId = gObj.selectionModule ?\n                (gObj.selectionSettings.mode === 'Row' || gObj.selectionSettings.mode === 'Both') &&\n                    gObj.selectionModule.selectedRowIndexes.length === 1 ?\n                    gObj.updatedRecords[gObj.selectionModule.selectedRowIndexes[0]].ganttProperties.rowUniqueID :\n                    gObj.selectionSettings.mode === 'Cell' &&\n                        gObj.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        gObj.updatedRecords[gObj.selectionModule.getSelectedRowCellIndexes()[0].rowIndex].ganttProperties.rowUniqueID :\n                        null : null;\n            if (!isNullOrUndefined(selectedRowId)) {\n                this.openEditDialog(selectedRowId);\n            }\n        }\n    };\n    /**\n     * @param { number | string | object} taskId .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.openEditDialog = function (taskId) {\n        var ganttObj = this.parent;\n        if (!isNullOrUndefined(taskId)) {\n            if (!isNullOrUndefined(taskId['ganttProperties'])) {\n                if (typeof taskId['ganttProperties']['taskId'] === 'string') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n            if (isNullOrUndefined(taskId['ganttProperties']) && !isNullOrUndefined(taskId)) {\n                if (isNaN(Number(taskId)) || this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                    this.numericOrString = 'stringedit';\n                }\n                else {\n                    this.numericOrString = 'numericedit';\n                }\n            }\n        }\n        if (typeof taskId === 'object' && !isNullOrUndefined(taskId)) {\n            this.rowIndex = this.parent.currentViewData.indexOf(taskId);\n            if (this.rowIndex > -1) {\n                this.rowData = taskId;\n            }\n        }\n        else if (!isNullOrUndefined(taskId)) {\n            this.rowIndex = ganttObj.ids.indexOf(taskId.toString());\n            if (this.rowIndex > -1) {\n                this.rowData = ganttObj.flatData[this.rowIndex];\n            }\n        }\n        else if (ganttObj.selectedRowIndex > -1) {\n            this.rowData = ganttObj.currentViewData[ganttObj.selectedRowIndex];\n            this.rowIndex = ganttObj.selectedRowIndex;\n        }\n        this.isEdit = true;\n        if (this.parent.viewType === 'ResourceView' && this.rowData.level === 0) {\n            return;\n        }\n        if (Object.keys(this.rowData).length !== 0) {\n            this.editedRecord = extend({}, {}, this.rowData, true);\n            this.isFromEditDialog = true;\n            this.createDialog();\n        }\n    };\n    DialogEdit.prototype.createDialog = function () {\n        var _this = this;\n        var ganttObj = this.parent;\n        var dialogModel = {};\n        this.beforeOpenArgs.dialogModel = dialogModel;\n        this.beforeOpenArgs.rowData = this.editedRecord;\n        this.beforeOpenArgs.rowIndex = this.rowIndex;\n        var dialogMaxWidth = this.parent.isAdaptive ? '' : '600px';\n        var dialog = this.parent.createElement('div', { id: ganttObj.element.id + '_dialog', styles: 'max-width:' + dialogMaxWidth });\n        dialog.classList.add('e-gantt-dialog');\n        ganttObj.element.appendChild(dialog);\n        dialogModel.animationSettings = { effect: 'None' };\n        dialogModel.header = this.localeObj.getConstant(this.isEdit ? 'editDialogTitle' : 'addDialogTitle');\n        dialogModel.isModal = true;\n        dialogModel.enableRtl = this.parent.enableRtl;\n        dialogModel.allowDragging = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? false : true;\n        dialogModel.showCloseIcon = true;\n        var position = this.parent.isAdaptive ? { X: 'top', Y: 'left' } : { X: 'center', Y: 'center' };\n        dialogModel.position = position;\n        //dialogModel.width = '750px';\n        dialogModel.height = this.parent.isAdaptive ? '100%' : 'auto';\n        dialogModel.target = document.body;\n        dialogModel.close = this.dialogClose.bind(this);\n        dialogModel.closeOnEscape = true;\n        /* eslint-disable-next-line */\n        dialogModel.beforeClose = function (args) {\n            if (args.closedBy === 'escape') {\n                if (args.event.name === 'key-pressed' && args.event.target.nodeName === 'INPUT') {\n                    args.cancel = true;\n                }\n            }\n        };\n        dialogModel.open = function (args) {\n            var dialogElement = getValue('element', args);\n            var generalTabElement = dialogElement.querySelector('#' + _this.parent.element.id + 'GeneralTabContainer');\n            if (generalTabElement && generalTabElement.scrollHeight > generalTabElement.offsetHeight) {\n                generalTabElement.classList.add('e-scroll');\n            }\n            if (_this.tabObj.selectedItem === 0) {\n                _this.tabObj.select(0);\n            }\n            if (_this.parent.isAdaptive) {\n                dialogElement.style.maxHeight = 'none';\n            }\n            if (_this.parent.focusModule) {\n                _this.parent.focusModule.setActiveElement(dialogElement);\n            }\n        };\n        dialogModel.locale = this.parent.locale;\n        dialogModel.buttons = [{\n                buttonModel: {\n                    content: this.localeObj.getConstant('saveButton'), cssClass: 'e-primary'\n                },\n                click: this.buttonClick.bind(this)\n            }, {\n                buttonModel: { cssClass: 'e-flat', content: this.localeObj.getConstant('cancel') },\n                click: this.buttonClick.bind(this)\n            }];\n        this.createTab(dialogModel, dialog);\n    };\n    DialogEdit.prototype.buttonClick = function (e) {\n        var target = e.target;\n        target.style.pointerEvents = 'none';\n        if ((this.localeObj.getConstant('cancel')).toLowerCase() === e.target.innerText.trim().toLowerCase()) {\n            if (this.dialog && !this.dialogObj.isDestroyed) {\n                this.CustomformObj = null;\n                this.formObj = null;\n                this.storeValidTab = null;\n                this.customFieldColumn = [];\n                this.taskFieldColumn = [];\n                this.dialogObj.hide();\n                this.dialogClose();\n            }\n        }\n        else {\n            if (this.CustomformObj) {\n                if (!this.CustomformObj.validate()) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.formObj) {\n                /* eslint-disable-next-line */\n                var formValid = this.formObj.validate();\n                if (!formValid) {\n                    target.style.pointerEvents = '';\n                    return;\n                }\n            }\n            if (this.storeDependencyTab || this.firstOccuringTab === 'Dependency') {\n                /* eslint-disable-next-line */\n                var dependencyTab = void 0;\n                if (this.firstOccuringTab === 'Dependency') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    dependencyTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    dependencyTab = this.storeDependencyTab.querySelector('.e-gridform');\n                }\n                if (dependencyTab) {\n                    var dependencyTabValid = dependencyTab['ej2_instances'][0].validate();\n                    if (!dependencyTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            if (this.storeResourceTab || this.firstOccuringTab === 'Resources') {\n                /* eslint-disable-next-line */\n                var resourceTab = void 0;\n                if (this.firstOccuringTab === 'Resources') {\n                    var element = e.target.closest('#' + this.parent.element.id + '_dialog');\n                    resourceTab = element.querySelector('.e-gridform');\n                }\n                else {\n                    resourceTab = this.storeResourceTab.querySelector('.e-gridform');\n                }\n                if (resourceTab) {\n                    var resourceTabValid = resourceTab['ej2_instances'][0].validate();\n                    if (!resourceTabValid) {\n                        target.style.pointerEvents = '';\n                        return;\n                    }\n                }\n            }\n            this.initiateDialogSave();\n            this.parent['updateDuration'] = false;\n            this.CustomformObj = null;\n            this.formObj = null;\n            this.storeValidTab = null;\n            this.customFieldColumn = [];\n            this.taskFieldColumn = [];\n            target.style.pointerEvents = 'auto';\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.dialogClose = function () {\n        if (this.dialog) {\n            this.resetValues();\n        }\n        if (!isNullOrUndefined(this.parent.focusModule) &&\n            !isNullOrUndefined(this.parent.focusModule.getActiveElement(true))) {\n            this.parent.focusModule.getActiveElement(true).focus();\n        }\n    };\n    DialogEdit.prototype.resetValues = function () {\n        this.isEdit = false;\n        this.isAddNewResource = false;\n        this.editedRecord = {};\n        this.parent['triggeredColumnName'] = '';\n        this.rowData = {};\n        this.rowIndex = -1;\n        this.addedRecord = null;\n        this.ganttResources = [];\n        this.dialogEditValidationFlag = false;\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n        this.parent.dataOperation['isDurationValueUpdated'] = false;\n        if (this.dialog && !this.dialogObj.isDestroyed) {\n            this.destroyDialogInnerElements();\n            this.dialogObj.destroy();\n            remove(this.dialog);\n        }\n    };\n    DialogEdit.prototype.destroyDialogInnerElements = function () {\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.destroyCustomField(element);\n                }\n                else if (id === 'Dependency') {\n                    var gridObj = element.ej2_instances[0];\n                    gridObj.destroy();\n                }\n                else if (id === 'Notes') {\n                    var rte = element.ej2_instances[0];\n                    rte.destroy();\n                }\n                else if (id === 'Resources') {\n                    var treeGridObj = element.ej2_instances[0];\n                    treeGridObj.destroy();\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.destroyCustomField(element);\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.destroyCustomField = function (element) {\n        var childNodes = element.childNodes;\n        var ganttObj = this.parent;\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]');\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (!isNullOrUndefined(controlObj)) {\n                    var column = ganttObj.columnByField[fieldName];\n                    if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                        var destroy = column.edit.destroy;\n                        if (typeof destroy === 'string') {\n                            destroy = getObject(destroy, window);\n                            destroy();\n                        }\n                        else {\n                            column.edit.destroy();\n                        }\n                    }\n                    else {\n                        controlObj.destroy();\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.destroy = function () {\n        this.resetValues();\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('chartDblClick', this.dblClickHandler);\n        this.parent.editModule.dialogModule = undefined;\n    };\n    /**\n     * Method to get current edit dialog fields value\n     *\n     * @returns {AddDialogFieldSettings} .\n     */\n    DialogEdit.prototype.getEditFields = function () {\n        if (this.isEdit) {\n            return this.updatedEditFields;\n        }\n        else {\n            return this.updatedAddFields;\n        }\n    };\n    DialogEdit.prototype.createTab = function (dialogModel, dialog) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var tabModel = {};\n        var tabItems = [];\n        var dialogSettings = this.getEditFields();\n        var tabElement;\n        var tasks = ganttObj.taskFields;\n        var length = dialogSettings.length;\n        tabModel.items = tabItems;\n        tabModel.locale = this.parent.locale;\n        tabModel.enableRtl = this.parent.enableRtl;\n        this.beforeOpenArgs.tabModel = tabModel;\n        var count = 0;\n        var index = 0;\n        if (length > 0) {\n            for (var i = 0; i < length; i++) {\n                var dialogField = dialogSettings[i];\n                var tabItem = {};\n                if (dialogField.type === 'General') {\n                    if (Object.keys(ganttObj.columnMapping).length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('generalTab');\n                    }\n                    tabItem.content = 'General';\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Segments') {\n                    if (isNullOrUndefined(tasks.segments)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('segments');\n                    }\n                    tabItem.content = 'Segments';\n                    this.beforeOpenArgs[tabItem.content] = this.getSegmentsModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Dependency') {\n                    if (isNullOrUndefined(tasks.dependency)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('dependency');\n                    }\n                    tabItem.content = 'Dependency';\n                    this.beforeOpenArgs[tabItem.content] = this.getPredecessorModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Resources') {\n                    if (isNullOrUndefined(tasks.resourceInfo)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('resourceName');\n                    }\n                    tabItem.content = 'Resources';\n                    this.beforeOpenArgs[tabItem.content] = this.getResourcesModel(dialogField.fields);\n                }\n                else if (dialogField.type === 'Notes') {\n                    if (isNullOrUndefined(tasks.notes)) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('notes');\n                    }\n                    tabItem.content = 'Notes';\n                    this.beforeOpenArgs[tabItem.content] = this.getNotesModel(dialogField.fields);\n                }\n                else {\n                    if (isNullOrUndefined(dialogField.fields) || dialogField.fields.length === 0) {\n                        continue;\n                    }\n                    if (isNullOrUndefined(dialogField.headerText)) {\n                        dialogField.headerText = this.localeObj.getConstant('customTab'); // eslint-disable-next-line\n                        count++;\n                    }\n                    tabItem.content = 'Custom' + '' + index++;\n                    this.beforeOpenArgs[tabItem.content] = this.getFieldsModel(dialogField.fields);\n                }\n                tabItem.header = { text: dialogField.headerText };\n                tabItems.push(tabItem);\n            }\n        }\n        this.beforeOpenArgs.requestType = this.isEdit ? 'beforeOpenEditDialog' : 'beforeOpenAddDialog';\n        this.parent.trigger('actionBegin', this.beforeOpenArgs, function (arg) {\n            if (!arg.cancel) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.renderTabItems();\n                tabModel.selected = _this.tabSelectedEvent.bind(_this);\n                tabModel.height = _this.parent.isAdaptive ? '100%' : 'auto';\n                tabModel.overflowMode = 'Scrollable';\n                _this.tabObj = new Tab(tabModel);\n                _this.tabObj.isStringTemplate = true;\n                tabElement = _this.parent.createElement('div', { id: ganttObj.element.id + '_Tab' });\n                _this.tabObj.appendTo(tabElement);\n                dialogModel.content = tabElement;\n                _this.dialog = dialog;\n                _this.dialogObj = new Dialog(dialogModel);\n                _this.dialogObj.isStringTemplate = true;\n                _this.dialogObj.appendTo(_this.dialog);\n                var actionCompleteArgs = {\n                    action: 'OpenDialog',\n                    requestType: _this.isEdit ? 'openEditDialog' : 'openAddDialog',\n                    data: _this.beforeOpenArgs.rowData,\n                    element: _this.dialog,\n                    cancel: false\n                };\n                var columns = _this.parent.treeGrid.grid.getColumns();\n                /* eslint-disable-next-line */\n                var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n                if (isValidateColumn) {\n                    _this.CustomformObj = null;\n                    _this.formObj = null;\n                    _this.storeValidTab = null;\n                    _this.customFieldColumn = [];\n                    _this.taskFieldColumn = [];\n                    _this.changeFormObj(actionCompleteArgs.element);\n                }\n                _this.parent.trigger('actionComplete', actionCompleteArgs, function (actionCompleteArg) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    if (actionCompleteArg.cancel) {\n                        _this.resetValues();\n                    }\n                });\n            }\n            else {\n                arg.cancel = false;\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.hideMaskRow();\n                }\n                else {\n                    _this.parent.hideSpinner();\n                }\n            }\n        });\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.changeFormObj = function (actionCompleteArgs) {\n        if (!this.storeColumn) {\n            this.storeColumn = this.parent.treeGrid.grid.getColumns();\n        }\n        if (!this.taskfields) {\n            this.taskfields = this.parent.taskFields['properties'];\n        }\n        if (!this.storeValidTab) {\n            this.storeValidTab = this.getFilteredDialogFields();\n        }\n        if (this.customFieldColumn.length === 0 || this.taskFieldColumn.length === 0) {\n            this.validateColumn(this.storeColumn, this.taskfields, this.storeValidTab);\n        }\n        if (this.isFromAddDialog && this.parent.addDialogFields && this.parent.addDialogFields.length > 0) {\n            var firstFieldType = this.parent.addDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        else if (this.isFromEditDialog && this.parent.editDialogFields && this.parent.editDialogFields.length > 0) {\n            var firstFieldType = this.parent.editDialogFields[0].type;\n            if (firstFieldType === 'Resources' || firstFieldType === 'Dependency') {\n                this.firstOccuringTab = firstFieldType;\n            }\n        }\n        if (!this.CustomformObj || !this.formObj) {\n            var customFieldColumns = this.customFieldColumn;\n            var taskFieldColumns = this.taskFieldColumn;\n            if (!this.CustomformObj && customFieldColumns && customFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < customFieldColumns.length; i++) {\n                    var customColumn = customFieldColumns[i]; // Rename the variable\n                    if (customColumn.visible && customColumn.validationRules) {\n                        validationRulesArray[customColumn.field] = customColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.CustomformObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'Custom0TabContainer');\n                    if (this.CustomformObj) {\n                        this.CustomformObj = this.createFormObj(this.CustomformObj, validationRulesArray);\n                    }\n                }\n            }\n            if (!this.formObj && taskFieldColumns && taskFieldColumns.length > 0) {\n                /* eslint-disable-next-line */\n                var validationRulesArray = {};\n                for (var i = 0; i < taskFieldColumns.length; i++) {\n                    var taskColumn = taskFieldColumns[i]; // Rename the variable\n                    if (taskColumn.visible && taskColumn.validationRules) {\n                        validationRulesArray[taskColumn.field] = taskColumn.validationRules;\n                    }\n                }\n                if (Object.keys(validationRulesArray).length > 0) {\n                    this.formObj = actionCompleteArgs.querySelector('#' + this.parent.element.id + 'GeneralTabContainer');\n                    if (this.formObj) {\n                        this.formObj = this.createFormObj(this.formObj, validationRulesArray);\n                    }\n                }\n            }\n        }\n        this.isFromAddDialog = false;\n        this.isFromEditDialog = false;\n    };\n    DialogEdit.prototype.getFilteredDialogFields = function () {\n        var dialogFields = this.isFromAddDialog\n            ? this.parent.addDialogFields\n            : this.parent.editDialogFields;\n        if (dialogFields.length !== 0) {\n            return dialogFields.filter(function (obj) { return obj.type === 'General' || obj.type === 'Custom'; });\n        }\n        return null;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.validateColumn = function (storeColumn, taskfields, storeValidTab) {\n        var _this = this;\n        if (storeValidTab) {\n            storeValidTab.forEach(function (element) {\n                /* eslint-disable-next-line */\n                var targetArray = element.type === 'General' ? _this.taskFieldColumn : _this.customFieldColumn;\n                element.fields.forEach(function (field) {\n                    var columnValue = _this.parent.getColumnByField(field, storeColumn);\n                    if (columnValue !== null) {\n                        targetArray.push(columnValue);\n                    }\n                    else {\n                        targetArray.push(_this.parent.columnByField[field]);\n                    }\n                });\n            });\n        }\n        else {\n            /* eslint-disable-next-line */\n            storeColumn.forEach(function (column) {\n                if (_this.parent.customColumns.indexOf(column.field) !== -1) {\n                    _this.customFieldColumn.push(column);\n                }\n                else {\n                    _this.taskFieldColumn.push(column);\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.createFormObj = function (form, rules) {\n        var _this = this;\n        return new FormValidator(form, {\n            rules: rules,\n            locale: this.parent.locale,\n            validationComplete: function (args) {\n                _this.validationComplete(args);\n            },\n            customPlacement: function (inputElement, error) {\n                var nameAttribute = inputElement.getAttribute('name');\n                if (nameAttribute) {\n                    var columnName = nameAttribute;\n                    _this.valErrorPlacement(inputElement, error, columnName);\n                }\n            }\n        });\n    };\n    DialogEdit.prototype.valErrorPlacement = function (inputElement, error, columnName) {\n        var id = columnName + \"-tooltip\";\n        var elem = this.getElemTable(inputElement);\n        if (!elem) {\n            this.createTooltip(inputElement, error, id);\n        }\n        else {\n            var tooltipContent = elem.querySelector('.e-tip-content');\n            if (tooltipContent) {\n                tooltipContent.innerHTML = error.outerHTML;\n            }\n        }\n    };\n    DialogEdit.prototype.createTooltip = function (inputElement, errorMessage, id, display) {\n        if (display === void 0) { display = 'block'; }\n        var existingTooltip = document.getElementById(id);\n        if (existingTooltip) {\n            existingTooltip.remove();\n        }\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            parentElement.style.position = 'relative';\n        }\n        var tooltipContainer = document.createElement('div');\n        tooltipContainer.className = 'e-tooltip-wrap e-lib e-control e-popup e-griderror';\n        tooltipContainer.style.display = display;\n        tooltipContainer.style.zIndex = '1000';\n        var labelId = id + \"-label\";\n        var tooltipLabel = document.createElement('div');\n        tooltipLabel.id = labelId;\n        tooltipLabel.className = 'sr-only';\n        var tooltipContent = document.createElement('div');\n        tooltipContent.className = 'e-tip-content';\n        var errorMessageElement = document.createElement('div');\n        errorMessageElement.className = 'error-message';\n        errorMessageElement.appendChild(errorMessage.cloneNode(true));\n        var arrow = document.createElement('div');\n        arrow.className = 'e-arrow-tip e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-outer e-tip-top';\n        arrow.appendChild(document.createElement('div')).className = 'e-arrow-tip-inner e-tip-top';\n        tooltipContainer.setAttribute('aria-labelledby', labelId);\n        tooltipContent.appendChild(errorMessageElement);\n        tooltipContainer.appendChild(tooltipContent);\n        tooltipContainer.appendChild(arrow);\n        tooltipContainer.style.top = '125%';\n        tooltipContainer.style.left = '50%';\n        tooltipContainer.style.transform = 'translateX(-50%)';\n        if (parentElement) {\n            parentElement.appendChild(tooltipLabel);\n            parentElement.appendChild(tooltipContainer);\n        }\n    };\n    DialogEdit.prototype.getElemTable = function (inputElement) {\n        var parentElement = inputElement.parentElement;\n        if (parentElement) {\n            return parentElement.querySelector('.e-tooltip-wrap');\n        }\n        return null;\n    };\n    DialogEdit.prototype.validationComplete = function (args) {\n        var elem = this.getElemTable(args.element);\n        if (elem) {\n            if (args.status === 'failure') {\n                elem.style.display = '';\n            }\n            else {\n                elem.style.display = 'none';\n            }\n        }\n    };\n    DialogEdit.prototype.tabSelectedEvent = function (args) {\n        var ganttObj = this.parent;\n        var id = args.selectedContent.childNodes[0].id;\n        var dialogModule = this.parent.editModule.dialogModule;\n        var dialog = dialogModule.dialog;\n        var hasEditedBatchCell = dialog.getElementsByClassName('e-editedbatchcell').length > 0;\n        var hasEditedOrAddedRow = dialog.getElementsByClassName('e-editedrow').length > 0 ||\n            dialog.getElementsByClassName('e-addedrow').length > 0;\n        if (dialogModule.storeResourceTab && hasEditedBatchCell) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Resources' +\n                'TabContainer_gridcontrol').ej2_instances[0].saveCell();\n        }\n        else if (dialogModule.storeDependencyTab && hasEditedOrAddedRow) {\n            document.querySelector('#' + ganttObj.element.id + '' + 'Dependency' +\n                'TabContainer').ej2_instances[0].editModule.batchSave();\n        }\n        if (id === ganttObj.element.id + 'DependencyTabContainer') {\n            this.storeDependencyTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.storeResourceTab = args.selectedContent;\n        }\n        if (id === ganttObj.element.id + 'Custom0TabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (id === ganttObj.element.id + 'GeneralTabContainer') {\n            var columns = this.parent.treeGrid.grid.getColumns();\n            /* eslint-disable-next-line */\n            var isValidateColumn = columns.some(function (obj) { return obj.validationRules; });\n            if (isValidateColumn) {\n                this.changeFormObj(args.selectedContent);\n            }\n        }\n        if (this.parent.isAdaptive || this.parent.enableAdaptiveUI) {\n            this.responsiveTabContent(id, ganttObj);\n        }\n        if (id === ganttObj.element.id + 'ResourcesTabContainer') {\n            this.resourceSelection(id);\n        }\n        else if (id === ganttObj.element.id + 'NotesTabContainer') {\n            document.getElementById(id).ej2_instances[0].refresh();\n            // const notesTabElement: HTMLElement = document.querySelector('#' + this.parent.element.id + 'NotesTabContainer') as HTMLInputElement;\n        }\n        else if (id === ganttObj.element.id + 'SegmentsTabContainer') {\n            if (isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate)) {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], false);\n            }\n            else {\n                document.getElementById(id).ej2_instances[0]\n                    .enableToolbarItems([this.parent.element.id + 'SegmentsTabContainer' + '_add'], true);\n            }\n        }\n    };\n    DialogEdit.prototype.responsiveTabContent = function (id, ganttObj) {\n        var dialogContent = document.getElementById(ganttObj.element.id + '_dialog_dialog-content');\n        var dialogContentHeight = dialogContent.clientHeight;\n        dialogContentHeight -= dialogContent.querySelector('.e-tab-header').offsetHeight;\n        var grid = document.querySelector('#' + id);\n        if (grid.classList.contains('e-grid')) {\n            dialogContentHeight -= grid.ej2_instances[0].getHeaderContent().offsetHeight;\n            var toolbar_1 = grid.querySelector('.e-toolbar');\n            if (toolbar_1) {\n                dialogContentHeight -= toolbar_1.offsetHeight;\n            }\n        }\n        grid.parentElement.style.height = dialogContentHeight + 'px';\n    };\n    DialogEdit.prototype.getFieldsModel = function (fields) {\n        var fieldsModel = {};\n        var columnByField = this.parent.columnByField;\n        for (var i = 0; i < fields.length; i++) {\n            if (fields[i] === this.parent.taskFields.dependency ||\n                fields[i] === this.parent.taskFields.resourceInfo ||\n                fields[i] === this.parent.taskFields.notes) {\n                continue;\n            }\n            if (!isNullOrUndefined(columnByField[fields[i]])) {\n                var fieldName = fields[i];\n                this.createInputModel(columnByField[fieldName], fieldsModel);\n            }\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.createInputModel = function (column, fieldsModel) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var locale = this.parent.locale;\n        var taskSettings = this.parent.taskFields;\n        var common = {\n            placeholder: column.headerText,\n            floatLabelType: 'Auto'\n        };\n        if (!isNullOrUndefined(this.parent.taskFields.id) && !isNullOrUndefined(this.parent.columnMapping.id)\n            && !isNullOrUndefined(this.numericOrString)) {\n            if (taskSettings.id === column.field) {\n                column.editType = this.numericOrString;\n            }\n        }\n        if (column['editTemplate']) {\n            var index = this.parent.currentViewData.indexOf(this.rowData);\n            var templateCompiler = this.parent.chartRowsModule.templateCompiler(column['editTemplate']);\n            var template = templateCompiler(extend({ index: index }, this.editedRecord), this.parent, 'EditTemplate', this.parent.chartRowsModule.getTemplateID('EditTemplate'), false, undefined, null, this.parent.treeGrid['root']);\n            fieldsModel[column.field] = template;\n        }\n        else {\n            switch (column.editType) {\n                case 'booleanedit':\n                    {\n                        var checkboxModel = {\n                            label: column.headerText,\n                            locale: locale,\n                            enableRtl: this.parent.enableRtl\n                        };\n                        fieldsModel[column.field] = checkboxModel;\n                        break;\n                    }\n                case 'defaultedit':\n                case 'stringedit':\n                    {\n                        var textBox = common;\n                        textBox.enableRtl = this.parent.enableRtl;\n                        if (column.field === ganttObj.columnMapping.duration ||\n                            column.field === ganttObj.columnMapping.id || column.field === ganttObj.columnMapping.startDate ||\n                            column.field === ganttObj.columnMapping.endDate) {\n                            textBox.change = function (args) {\n                                if (!_this.isTriggered) {\n                                    if ((column.field === _this.parent.taskFields.duration ||\n                                        column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                        _this.isTriggered = true;\n                                        _this.parent['triggeredColumnName'] = column.field;\n                                    }\n                                    _this.validateScheduleFields(args, column, ganttObj);\n                                }\n                                else {\n                                    _this.parent['triggeredColumnName'] = '';\n                                }\n                            };\n                        }\n                        fieldsModel[column.field] = common;\n                        break;\n                    }\n                case 'numericedit':\n                    {\n                        var numeric = common;\n                        numeric.enableRtl = this.parent.enableRtl;\n                        if (taskSettings.progress === column.field) {\n                            numeric.min = 0;\n                            numeric.max = 100;\n                        }\n                        numeric.change = function (args) {\n                            if (!_this.isTriggered) {\n                                if ((column.field === _this.parent.taskFields.duration ||\n                                    column.field === _this.parent.taskFields.work) && !_this.isTriggered) {\n                                    _this.isTriggered = true;\n                                    _this.parent['triggeredColumnName'] = column.field;\n                                }\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            }\n                            else {\n                                _this.parent['triggeredColumnName'] = '';\n                            }\n                        };\n                        fieldsModel[column.field] = numeric;\n                        break;\n                    }\n                case 'datepickeredit':\n                    {\n                        var datePickerObj = common;\n                        datePickerObj.format = this.parent.getDateFormat();\n                        datePickerObj.enableRtl = this.parent.enableRtl;\n                        datePickerObj.strictMode = true;\n                        datePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                        if (column.field === ganttObj.columnMapping.startDate ||\n                            column.field === ganttObj.columnMapping.endDate) {\n                            datePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                            datePickerObj.change = function (args) {\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            };\n                        }\n                        fieldsModel[column.field] = datePickerObj;\n                        break;\n                    }\n                case 'datetimepickeredit':\n                    {\n                        var dateTimePickerObj = common;\n                        dateTimePickerObj.format = this.parent.getDateFormat();\n                        dateTimePickerObj.enableRtl = this.parent.enableRtl;\n                        dateTimePickerObj.strictMode = true;\n                        dateTimePickerObj.firstDayOfWeek = ganttObj.timelineModule.customTimelineSettings.weekStartDay;\n                        if (column.field === ganttObj.columnMapping.startDate ||\n                            column.field === ganttObj.columnMapping.endDate) {\n                            dateTimePickerObj.renderDayCell = this.parent.renderWorkingDayCell.bind(this.parent);\n                            dateTimePickerObj.change = function (args) {\n                                _this.validateScheduleFields(args, column, ganttObj);\n                            };\n                        }\n                        fieldsModel[column.field] = dateTimePickerObj;\n                        break;\n                    }\n                case 'dropdownedit':\n                    if (column.field === ganttObj.columnMapping.type || column.field === ganttObj.columnMapping.manual) {\n                        var dataKey = 'dataSource';\n                        var fieldsKey = 'fields';\n                        var types = [\n                            { 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }\n                        ];\n                        common[dataKey] = types;\n                        common[fieldsKey] = { value: 'Value' };\n                        var dropDownListObj = common;\n                        dropDownListObj.enableRtl = this.parent.enableRtl;\n                        dropDownListObj.change = function (args) {\n                            if (column.field === taskSettings.manual) {\n                                _this.editedRecord.ganttProperties.isAutoSchedule = !args.value;\n                            }\n                            _this.validateScheduleFields(args, column, ganttObj);\n                        };\n                    }\n                    fieldsModel[column.field] = common;\n                    break;\n                case 'maskededit':\n                    fieldsModel[column.field] = common;\n                    break;\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && !isNullOrUndefined(column.edit.params)) {\n            extend(fieldsModel[column.field], column.edit.params);\n        }\n        return fieldsModel;\n    };\n    DialogEdit.prototype.validateScheduleFields = function (args, column, ganttObj) {\n        var _a;\n        var dialog;\n        if (!isNullOrUndefined(ganttObj.editModule.dialogModule.dialog)) {\n            dialog = ganttObj.editModule.dialogModule.dialog;\n        }\n        var targetId = null;\n        var inputElement;\n        var currentData = ganttObj.editModule.dialogModule.editedRecord;\n        var cellValue = null;\n        var colName = null;\n        var formObject;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var strViewType = this.parent.viewType;\n        if (!isNullOrUndefined(args.element)) {\n            inputElement = args.element;\n            targetId = inputElement.getAttribute('id');\n        }\n        else if (!isNullOrUndefined(args.container)) {\n            inputElement = args.container;\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        else if (!isNullOrUndefined(args.event) && !isNullOrUndefined(args.event.path) &&\n            !isNullOrUndefined(args.event.path)[1]) {\n            inputElement = args.event.path[1];\n            targetId = inputElement.querySelector('input').getAttribute('id');\n            inputElement = inputElement.querySelector('#' + targetId);\n        }\n        if (isNullOrUndefined(inputElement)) {\n            cellValue = args.value;\n            colName = column.field;\n        }\n        else {\n            cellValue = inputElement.value;\n            colName = targetId.replace(ganttObj.element.id, '');\n            if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n                var customFn = function (args) {\n                    if (strViewType === 'ResourceView') {\n                        return ids.indexOf('T' + args['value']) === -1 && ids.indexOf('R' + args['value']) === -1;\n                    }\n                    else {\n                        return ids.indexOf(args['value']) === -1;\n                    }\n                };\n                var options = {\n                    rules: (_a = {},\n                        _a[this.parent.taskFields.id] = { required: true, minLength: [customFn, 'ID is already present, please enter new value'] },\n                        _a)\n                };\n                /* eslint-disable-next-line */\n                formObject = new FormValidator('#' + this.parent.element.id + 'GeneralTabContainer', options);\n            }\n        }\n        if (colName.search('Segments') === 0) {\n            colName = colName.replace('SegmentsTabContainer', '');\n            this.validateSegmentFields(ganttObj, colName, cellValue, args);\n            this.isTriggered = false;\n            return true;\n        }\n        else {\n            this.validateScheduleValuesByCurrentField(colName, cellValue, this.editedRecord);\n            var ganttProp = currentData.ganttProperties;\n            var tasks = ganttObj.taskFields;\n            if (!isNullOrUndefined(tasks.startDate) && tasks.startDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'startDate');\n            }\n            if (tasks.endDate === colName && !isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(args.value) &&\n                ganttProp.startDate.getTime() > args.value) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.endDate) && tasks.endDate !== colName) {\n                this.updateScheduleFields(dialog, ganttProp, 'endDate');\n            }\n            if (!isNullOrUndefined(tasks.duration) && tasks.duration !== colName || ganttProp.duration >= 0) {\n                this.updateScheduleFields(dialog, ganttProp, 'duration');\n            }\n            if (!isNullOrUndefined(tasks.work) && (tasks.work !== colName || ganttProp.taskType !== 'FixedWork')) {\n                this.updateScheduleFields(dialog, ganttProp, 'work');\n            }\n            this.dialogEditValidationFlag = false;\n            this.isTriggered = false;\n            return true;\n        }\n    };\n    DialogEdit.prototype.updateScheduleFields = function (dialog, ganttProp, ganttField) {\n        var ganttObj = this.parent;\n        var ganttId = ganttObj.element.id;\n        var columnName = getValue(ganttField, ganttObj.columnMapping);\n        var col = ganttObj.columnByField[columnName];\n        var tempValue;\n        var taskField = this.parent.taskFields;\n        if (col.editType === 'stringedit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var textBox = element.ej2_instances[0];\n                if (textBox) {\n                    tempValue = !isNullOrUndefined(col.edit) && !isNullOrUndefined(col.edit.read) ? col.edit.read() :\n                        !isNullOrUndefined(col.valueAccessor) ?\n                            col.valueAccessor(columnName, ganttObj.editModule.dialogModule.editedRecord, col) :\n                            this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n                    if (textBox.value !== tempValue.toString() && taskField.duration === columnName) {\n                        textBox.value = tempValue;\n                        textBox.dataBind();\n                    }\n                    else if (taskField.startDate === columnName || taskField.endDate === columnName) {\n                        textBox.value = taskField.startDate === columnName ? ganttProp.startDate.toString() : ganttProp.endDate.toString();\n                        textBox.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'datepickeredit' || col.editType === 'datetimepickeredit') {\n            var element = dialog.querySelector('#' + ganttId + columnName);\n            if (element) {\n                var picker = col.editType === 'datepickeredit' ?\n                    element.ej2_instances[0] :\n                    element.ej2_instances[0];\n                if (picker) {\n                    tempValue = ganttProp[ganttField];\n                    if (((isNullOrUndefined(picker.value)) && !isNullOrUndefined(tempValue)) ||\n                        (isNullOrUndefined(tempValue) && !isNullOrUndefined(picker.value)) ||\n                        (picker.value !== tempValue && !isNullOrUndefined(picker.value) && !isNullOrUndefined(tempValue)\n                            && picker.value.toString() !== tempValue.toString())) {\n                        picker.value = tempValue;\n                        picker.dataBind();\n                    }\n                }\n            }\n        }\n        else if (col.editType === 'numericedit') {\n            var numericTextBox = dialog.querySelector('#' + ganttId + columnName).ej2_instances[0];\n            tempValue = ganttProp[ganttField];\n            if (!isNullOrUndefined(tempValue) && numericTextBox.value !== tempValue) {\n                numericTextBox.value = tempValue;\n                numericTextBox.dataBind();\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} ganttData .\n     * @returns {void} .\n     * @private\n     */\n    DialogEdit.prototype.validateDuration = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        if (!this.dialogEditValidationFlag) {\n            if (!isNullOrUndefined(ganttProp.startDate) && !isScheduledTask(ganttProp) && isNullOrUndefined(ganttProp.duration)) {\n                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp) || !isNullOrUndefined(ganttProp.startDate)) {\n                if (ganttData.ganttProperties.isMilestone && ganttData.ganttProperties.duration !== 0) {\n                    var updatedStartDate = this.parent.dateValidationModule.checkStartDate(ganttProp.startDate);\n                    this.parent.setRecordValue('startDate', updatedStartDate, ganttProp, true);\n                    if (this.parent.taskFields.startDate) {\n                        this.parent.dataOperation.updateMappingData(ganttData, 'startDate');\n                    }\n                }\n                this.parent.dateValidationModule.calculateEndDate(ganttData);\n            }\n            else if (!isScheduledTask(ganttProp) && !isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.dateValidationModule.calculateStartDate(ganttData);\n            }\n            var milestone = ganttProp.duration === 0 ? true : false;\n            this.parent.setRecordValue('isMilestone', milestone, ganttProp, true);\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateStartDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.startDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                if (this.parent.allowUnscheduledTasks && isNullOrUndefined(tasks.endDate)) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                }\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(tasks.endDate)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                else {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.endDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    DialogEdit.prototype.validateEndDate = function (ganttData) {\n        var ganttProp = ganttData.ganttProperties;\n        var tasks = this.parent.taskFields;\n        if (!this.dialogEditValidationFlag) {\n            if (isNullOrUndefined(ganttProp.endDate)) {\n                this.parent.setRecordValue('duration', null, ganttProp, true);\n                this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n            }\n            else if (isScheduledTask(ganttProp)) {\n                if (isNullOrUndefined(tasks.duration)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n                else if (isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else {\n                    if (!isNullOrUndefined(ganttProp.segments) && ganttProp.segments.length > 0) {\n                        ganttProp.segments = this.parent.editModule.cellEditModule.validateEndDateWithSegments(ganttProp);\n                    }\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(ganttProp.duration)) {\n                    this.parent.dateValidationModule.calculateStartDate(ganttData);\n                }\n                else if (!isNullOrUndefined(ganttProp.startDate)) {\n                    this.parent.dateValidationModule.calculateDuration(ganttData);\n                }\n            }\n            this.dialogEditValidationFlag = true;\n        }\n    };\n    /**\n     *\n     * @param {string} columnName .\n     * @param {string} value .\n     * @param {IGanttData} currentData .\n     * @returns {boolean} .\n     * @private\n     */\n    DialogEdit.prototype.validateScheduleValuesByCurrentField = function (columnName, value, currentData) {\n        var ganttObj = this.parent;\n        var ganttProp = currentData.ganttProperties;\n        var taskSettings = ganttObj.taskFields;\n        if (taskSettings.duration === columnName) {\n            if (!isNullOrUndefined(value) && value !== '' && (parseInt(value, 10) >= 0 || parseFloat(value) >= 0)) {\n                ganttObj.dataOperation.updateDurationValue(value, ganttProp);\n                this.parent.setRecordValue(taskSettings.duration, value, currentData);\n                this.parent.setRecordValue('taskData.' + taskSettings.duration, ganttProp.duration, currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n                this.validateDuration(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    if ((ganttProp.startDate && ganttProp.endDate && ganttProp.startDate.getTime() > ganttProp.endDate.getTime()) || value.indexOf('-') !== -1) {\n                        this.parent.setRecordValue('duration', 0, ganttProp, true);\n                        if (ganttProp.endDate) {\n                            this.parent.setRecordValue('startDate', ganttProp.endDate, ganttProp, true);\n                        }\n                    }\n                    else {\n                        if (value === '') {\n                            this.parent.setRecordValue('duration', null, ganttProp, true);\n                            if (ganttProp.endDate && ganttProp.startDate) {\n                                this.parent.setRecordValue('endDate', null, ganttProp, true);\n                            }\n                        }\n                        else {\n                            var regex = /^[^\\d.-]+$/;\n                            if (regex.test(value)) {\n                                var err = \"The provided value for the \" + taskSettings.duration + \" field is invalid. Please ensure the \" + taskSettings.duration + \" field contains only valid numeric values.\";\n                                this.parent.trigger('actionFailure', { error: err });\n                            }\n                            this.parent.setRecordValue('duration', ganttProp.duration, ganttProp, true);\n                        }\n                    }\n                }\n            }\n            this.parent.editModule.updateResourceRelatedFields(currentData, 'duration');\n        }\n        if (taskSettings.startDate === columnName) {\n            if (value !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate, ganttProp);\n                this.parent.setRecordValue('startDate', startDate, ganttProp, true);\n                this.validateStartDate(currentData);\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks && !(currentData.hasChildRecords)) {\n                    this.parent.setRecordValue('startDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.endDate === columnName) {\n            if (value !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(value);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                if (!isNullOrUndefined(ganttProp.startDate) && !isNullOrUndefined(ganttProp.endDate) && !isNullOrUndefined(endDate) &&\n                    ganttProp.startDate.getTime() > endDate.getTime()) {\n                    endDate = ganttProp.endDate;\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, ganttProp);\n                if (isNullOrUndefined(ganttProp.startDate) || endDate.getTime() >= (ganttProp.startDate).getTime()) {\n                    this.parent.setRecordValue('endDate', endDate, ganttProp, true);\n                }\n                this.validateEndDate(currentData);\n                if (ganttProp.isMilestone && !isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n                    var editedArgs = {};\n                    editedArgs.data = currentData;\n                    this.parent.editModule.cellEditModule['updateDates'](editedArgs);\n                }\n            }\n            else {\n                if (ganttObj.allowUnscheduledTasks) {\n                    this.parent.setRecordValue('endDate', null, ganttProp, true);\n                    this.parent.setRecordValue('duration', null, ganttProp, true);\n                    this.parent.setRecordValue('isMilestone', false, ganttProp, true);\n                }\n            }\n        }\n        if (taskSettings.work === columnName) {\n            if (!isNullOrUndefined(value) && value !== '') {\n                this.parent.setRecordValue('work', value, ganttProp, true);\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n                this.validateDuration(currentData);\n            }\n        }\n        if (columnName === taskSettings.type) {\n            this.parent.setRecordValue('taskType', value, ganttProp, true);\n            // To validate the work column as well, if duartion column value is 0, when FixedDuration type\n            if (value && value === 'FixedDuration' && ganttProp.duration === 0) {\n                this.parent.editModule.updateResourceRelatedFields(currentData, 'work');\n            }\n        }\n        if (taskSettings.manual === columnName) {\n            this.parent.editModule.updateTaskScheduleModes(currentData);\n        }\n        return true;\n    };\n    DialogEdit.prototype.getSegmentsModel = function (fields) {\n        var _this = this;\n        var taskSettings = this.parent.taskFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [];\n            if (!isNullOrUndefined(taskSettings.startDate)) {\n                fields.push(this.parent.taskFields.startDate);\n            }\n            if (!isNullOrUndefined(taskSettings.endDate)) {\n                fields.push(this.parent.taskFields.endDate);\n            }\n            if (!isNullOrUndefined(taskSettings.duration)) {\n                fields.push(this.parent.taskFields.duration);\n            }\n            if (!isNullOrUndefined(taskSettings.id)) {\n                fields.push(this.parent.taskFields.id);\n            }\n        }\n        var segmentInputModel = {};\n        segmentInputModel.editSettings = {\n            allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal', newRowPosition: 'Bottom'\n        };\n        segmentInputModel.locale = this.parent.locale;\n        segmentInputModel.dataSource = [];\n        segmentInputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        segmentInputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'SegmentsTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var gridColumns = [];\n        var _loop_1 = function (i) {\n            var gridColumn = {};\n            var generalTabString = 'General';\n            switch (fields[i]) {\n                case this_1.parent.taskFields.id:\n                    gridColumn = {\n                        field: fields[i], visible: false, isPrimaryKey: true\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.startDate:\n                case this_1.parent.taskFields.endDate:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant((fields[i] === this_1.parent.taskFields.startDate) ? 'startDate' : 'endDate'), editType: 'stringedit', width: '200px',\n                        edit: {\n                            write: function (args) {\n                                var datePickerModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    datePickerModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    datePickerModel = columnModel[fields[i]];\n                                }\n                                var value = args.rowData[args.column.field];\n                                setValue('value', value, datePickerModel);\n                                var datePicker = new _this.inputs[_this.parent.columnByField[fields[i]].editType](datePickerModel);\n                                datePicker.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value;\n                            }\n                        },\n                        format: this_1.parent.getDateFormat()\n                    };\n                    if (fields[i] === this_1.parent.taskFields.startDate) {\n                        gridColumn.validationRules = { required: true };\n                    }\n                    gridColumns.push(gridColumn);\n                    break;\n                case this_1.parent.taskFields.duration:\n                    gridColumn = {\n                        field: fields[i], headerText: this_1.localeObj.getConstant(fields[i].toLocaleLowerCase()), editType: 'stringedit',\n                        width: '100px', edit: {\n                            write: function (args) {\n                                var inputTextModel;\n                                if (!isNullOrUndefined(_this.beforeOpenArgs[generalTabString]) &&\n                                    !isNullOrUndefined(_this.beforeOpenArgs[generalTabString][fields[i]])) {\n                                    inputTextModel = _this.beforeOpenArgs[generalTabString][fields[i]];\n                                }\n                                else {\n                                    var columnFields = _this.getGeneralColumnFields();\n                                    var columnModel = _this.getFieldsModel(columnFields);\n                                    inputTextModel = columnModel[fields[i]];\n                                }\n                                inputTextModel.floatLabelType = 'Never';\n                                var value = args.rowData[args.column.field];\n                                if (!isNullOrUndefined(value)) {\n                                    setValue('value', value, inputTextModel);\n                                }\n                                else {\n                                    setValue('value', null, inputTextModel);\n                                }\n                                setValue('value', value, inputTextModel);\n                                var inputModel = new TextBox(inputTextModel);\n                                inputModel.appendTo(args.element);\n                            },\n                            read: function (args) {\n                                var ej2Instance = args.ej2_instances[0];\n                                return ej2Instance.value.toString();\n                            }\n                        }\n                    };\n                    gridColumns.push(gridColumn);\n                    break;\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < fields.length; i++) {\n            _loop_1(i);\n        }\n        segmentInputModel.columns = gridColumns;\n        segmentInputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return segmentInputModel;\n    };\n    DialogEdit.prototype.getGridColumnByField = function (fieldName, columns) {\n        var column;\n        for (var i = 0; i < columns.length; i++) {\n            if (columns[i].field === fieldName) {\n                column = columns[i];\n            }\n        }\n        return column;\n    };\n    DialogEdit.prototype.updateSegmentField = function (columnName, args, segment) {\n        var dialog = this.parent.editModule.dialogModule.dialog;\n        var gridModel = getValue('Segments', this.beforeOpenArgs);\n        var col = this.getGridColumnByField(columnName, gridModel.columns);\n        var ganttId = this.parent.element.id;\n        var tempValue = segment[columnName];\n        var inputValue;\n        if (col.editType === 'stringedit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        else if (col.editType === 'datepickeredit') {\n            inputValue = dialog.querySelector('#' + ganttId + 'SegmentsTabContainer' + columnName)\n                .ej2_instances[0];\n        }\n        if ((!isNullOrUndefined(inputValue.value)) && (!isNullOrUndefined(tempValue)) &&\n            (inputValue.value.toString() !== tempValue.toString())) {\n            inputValue.value = tempValue;\n            inputValue.dataBind();\n        }\n    };\n    DialogEdit.prototype.validateSegmentFields = function (ganttObj, columnName, cellValue, args) {\n        var taskSettings = this.parent.taskFields;\n        if (!isNullOrUndefined(taskSettings.duration) && taskSettings.duration.toLowerCase() === columnName.toLowerCase()) {\n            if (!isNullOrUndefined(cellValue) && cellValue !== '') {\n                this.selectedSegment[taskSettings.duration] = Number(cellValue);\n                var endDate = ganttObj.dataOperation.getEndDate(this.selectedSegment[taskSettings.startDate], Number(cellValue), this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                endDate = ganttObj.dataOperation.checkEndDate(endDate, this.editedRecord.ganttProperties, false);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate) && taskSettings.startDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var startDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                startDate = this.parent.dateValidationModule.checkStartDate(startDate);\n                this.selectedSegment[taskSettings.startDate] = startDate;\n                if (!isNullOrUndefined(taskSettings.endDate)) {\n                    this.selectedSegment.endDate = this.parent.dataOperation.getEndDate(startDate, this.selectedSegment[taskSettings.duration], this.editedRecord.ganttProperties.durationUnit, this.editedRecord.ganttProperties, false);\n                }\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.endDate) && taskSettings.endDate.toLowerCase() === columnName.toLowerCase()) {\n            if (cellValue !== '') {\n                var endDate = this.parent.dateValidationModule.getDateFromFormat(cellValue);\n                var dayEndTime = this.parent['getCurrentDayEndTime'](endDate);\n                if (endDate.getHours() === 0 && dayEndTime !== 86400) {\n                    this.parent.dateValidationModule.setTime(dayEndTime, endDate);\n                }\n                endDate = this.parent.dateValidationModule.checkEndDate(endDate, this.editedRecord.ganttProperties);\n                this.selectedSegment[taskSettings.endDate] = endDate;\n                this.selectedSegment[taskSettings.duration] = this.parent.dataOperation.getDuration(this.selectedSegment[taskSettings.startDate], this.selectedSegment[taskSettings.endDate], this.editedRecord.ganttProperties.durationUnit, true, false, true);\n            }\n        }\n        if (!isNullOrUndefined(taskSettings.startDate)) {\n            this.updateSegmentField(taskSettings.startDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.endDate)) {\n            this.updateSegmentField(taskSettings.endDate, args, this.selectedSegment);\n        }\n        if (!isNullOrUndefined(taskSettings.duration)) {\n            this.updateSegmentField(taskSettings.duration, args, this.selectedSegment);\n        }\n    };\n    DialogEdit.prototype.getPredecessorModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['ID', 'Name', 'Type', 'Offset', 'UniqueId'];\n        }\n        var inputModel = {};\n        inputModel.editSettings = { allowEditing: true, allowAdding: true, allowDeleting: true, mode: 'Normal' };\n        inputModel.locale = this.parent.locale;\n        inputModel.dataSource = [];\n        inputModel.rowHeight = this.parent.isAdaptive ? 48 : null;\n        inputModel.toolbar = [\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_add', prefixIcon: 'e-add',\n                tooltipText: this.localeObj.getConstant('add'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('add')\n            },\n            {\n                id: this.parent.element.id + 'DependencyTabContainer' + '_delete', prefixIcon: 'e-delete',\n                tooltipText: this.localeObj.getConstant('delete'), align: 'Right',\n                text: this.parent.isAdaptive ? '' : this.localeObj.getConstant('delete')\n            }\n        ];\n        var columns = [];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i].toLowerCase() === 'id') {\n                column = {\n                    field: 'id', headerText: this.localeObj.getConstant('id'), allowEditing: false, width: '70px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'name') {\n                column = {\n                    field: 'name', headerText: this.localeObj.getConstant('name'), editType: 'stringedit', width: '250px',\n                    validationRules: { required: true }\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'type') {\n                column = {\n                    field: 'type', headerText: this.localeObj.getConstant('type'), editType: 'dropdownedit',\n                    dataSource: this.types, foreignKeyField: 'id', foreignKeyValue: 'text',\n                    defaultValue: 'FS', validationRules: { required: true }, width: '150px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'offset') {\n                column = {\n                    field: 'offset', headerText: this.localeObj.getConstant('offset'), editType: 'stringedit',\n                    defaultValue: this.parent.dataOperation.getDurationString(0, this.beforeOpenArgs.rowData.ganttProperties.durationUnit),\n                    validationRules: { required: true }, width: '100px'\n                };\n                columns.push(column);\n            }\n            else if (fields[i].toLowerCase() === 'uniqueid') {\n                column = {\n                    field: 'uniqueId', isPrimaryKey: true, visible: false, defaultValue: getUid().toString()\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '153px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getResourcesModel = function (fields) {\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = [resourceSettings.id, resourceSettings.name, resourceSettings.unit, resourceSettings.group];\n        }\n        var inputModel = {\n            allowFiltering: true,\n            treeColumnIndex: -1,\n            childMapping: '',\n            editSettings: { allowEditing: true, mode: 'Cell' },\n            locale: this.parent.locale,\n            allowSelection: true,\n            rowHeight: this.parent.isAdaptive ? 48 : null,\n            filterSettings: { type: 'Menu' },\n            selectionSettings: { checkboxOnly: true, checkboxMode: 'Default', persistSelection: true, type: 'Multiple' }\n        };\n        var columns = [\n            { type: 'checkbox', allowEditing: false, allowSorting: false, allowFiltering: false, width: 60 }\n        ];\n        for (var i = 0; i < fields.length; i++) {\n            var column = {};\n            if (fields[i] === resourceSettings.id) {\n                column = {\n                    field: resourceSettings.id,\n                    headerText: this.localeObj.getConstant('id'), isPrimaryKey: true, width: '100px',\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.name) {\n                column = {\n                    field: resourceSettings.name, headerText: this.localeObj.getConstant('name'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.unit) {\n                column = {\n                    field: resourceSettings.unit,\n                    headerText: this.localeObj.getConstant('unit'),\n                    editType: 'numericedit',\n                    edit: { params: { min: 0 } }\n                };\n                columns.push(column);\n            }\n            else if (fields[i] === resourceSettings.group && !isNullOrUndefined(resourceSettings.group)) {\n                column = {\n                    field: resourceSettings.group,\n                    headerText: this.localeObj.getConstant('group'),\n                    allowEditing: false\n                };\n                columns.push(column);\n            }\n        }\n        inputModel.columns = columns;\n        inputModel.height = (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : '196px';\n        return inputModel;\n    };\n    DialogEdit.prototype.getNotesModel = function (fields) {\n        if (isNullOrUndefined(fields) || fields.length === 0) {\n            fields = ['Bold', 'Italic', 'Underline', 'StrikeThrough',\n                'FontName', 'FontSize', 'FontColor', 'BackgroundColor',\n                'LowerCase', 'UpperCase', '|',\n                'Alignments', 'OrderedList', 'UnorderedList',\n                'Outdent', 'Indent', '|', 'CreateTable',\n                'CreateLink', '|', 'ClearFormat', 'Print',\n                '|', 'Undo', 'Redo'];\n        }\n        var inputModel = {\n            placeholder: this.localeObj.getConstant('writeNotes'),\n            toolbarSettings: {\n                items: fields\n            },\n            height: (this.parent.isAdaptive || this.parent.enableAdaptiveUI) ? '100%' : 'auto',\n            locale: this.parent.locale\n        };\n        return inputModel;\n    };\n    DialogEdit.prototype.createDivElement = function (className, id) {\n        return createElement('div', { className: className, id: id });\n    };\n    DialogEdit.prototype.createFormElement = function (className, id) {\n        return createElement('form', { className: className, id: id });\n    };\n    DialogEdit.prototype.createInputElement = function (className, id, fieldName, type) {\n        return createElement(type || 'input', {\n            className: className, attrs: {\n                type: 'text', id: id, name: fieldName,\n                title: fieldName\n            }\n        });\n    };\n    DialogEdit.prototype.renderTabItems = function () {\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var isCustomTab = false;\n        var items = tabModel.items;\n        var index = 0;\n        for (var i = 0; i < items.length; i++) {\n            var item = items[i];\n            if (item.content instanceof HTMLElement) {\n                continue;\n            }\n            else if (item.content === 'General') {\n                item.content = this.renderGeneralTab(item.content);\n            }\n            else if (item.content === 'Dependency') {\n                if (this.editedRecord.hasChildRecords && !this.parent.allowParentDependency) {\n                    item.disabled = true;\n                }\n                item.content = this.renderPredecessorTab(item.content);\n            }\n            else if (item.content === 'Resources') {\n                item.content = this.renderResourceTab(item.content);\n            }\n            else if (item.content === ('Custom' + '' + index)) {\n                isCustomTab = true;\n                item.content = this.renderCustomTab(item.content, isCustomTab);\n                index++;\n            }\n            else if (item.content === 'Notes') {\n                item.content = this.renderNotesTab(item.content);\n            }\n            else if (item.content === 'Segments') {\n                if (this.editedRecord.hasChildRecords) {\n                    item.disabled = true;\n                }\n                item.content = this.renderSegmentsTab(item.content);\n            }\n        }\n    };\n    DialogEdit.prototype.segmentGridActionBegin = function (args) {\n        var _a, _b;\n        var taskFields = this.parent.taskFields;\n        var itemName = 'Segments';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit' || args.requestType === 'save') {\n            var gridData = gridModel.dataSource;\n            var selectedItem = getValue('rowData', args);\n            var startDate = this.beforeOpenArgs.rowData.ganttProperties.startDate;\n            if (!isNullOrUndefined(startDate)) {\n                if (args.requestType === 'add') {\n                    var arg = {};\n                    var sDate = getValue(this.parent.taskFields.startDate, selectedItem);\n                    var eDate = this.parent.taskFields.endDate ? getValue(this.parent.taskFields.endDate, selectedItem) : null;\n                    var duration = void 0;\n                    if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n                        duration = getValue(this.parent.taskFields.duration, selectedItem);\n                    }\n                    var startDate_1 = !isNullOrUndefined(gridData) && gridData.length > 0 ?\n                        (!isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData[0][taskFields.endDate])) ?\n                            new Date(getValue(taskFields.endDate, gridData[0]).getTime()) :\n                            new Date(getValue(taskFields.startDate, gridData[0]).getTime()) :\n                        !isNullOrUndefined(this.beforeOpenArgs.rowData.ganttProperties.startDate) &&\n                            new Date(this.beforeOpenArgs.rowData.ganttProperties.startDate.getTime());\n                    startDate_1.setHours(0, 0, 0, 0);\n                    if (!isNullOrUndefined(gridData) && gridData.length > 0) {\n                        startDate_1.setDate(startDate_1.getDate() + 2);\n                    }\n                    sDate = this.parent.dataOperation.checkStartDate(startDate_1);\n                    eDate = this.parent.dateValidationModule.getDateFromFormat(sDate);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](eDate);\n                    if (eDate.getHours() === 0 && dayEndTime !== 86400) {\n                        this.parent.dateValidationModule.setTime(dayEndTime, eDate);\n                    }\n                    eDate = !isNullOrUndefined(taskFields.endDate) && !isNullOrUndefined(gridData) && gridData.length <= 0 ?\n                        this.beforeOpenArgs.rowData.ganttProperties.endDate : eDate;\n                    var rowData = this.beforeOpenArgs.rowData.ganttProperties;\n                    if (sDate.getTime() === eDate.getTime()) {\n                        duration = 1;\n                    }\n                    else {\n                        duration = this.parent.dataOperation.getDuration(sDate, eDate, rowData.durationUnit, true, false, true);\n                    }\n                    if (!isNullOrUndefined(taskFields['duration'])) {\n                        arg = (_a = {},\n                            _a[taskFields['startDate']] = sDate,\n                            _a[taskFields['endDate']] = eDate,\n                            _a[taskFields['duration']] = duration,\n                            _a);\n                    }\n                    else {\n                        arg = (_b = {},\n                            _b[taskFields['startDate']] = sDate,\n                            _b[taskFields['endDate']] = eDate,\n                            _b);\n                    }\n                    args.rowData = arg;\n                }\n            }\n            if (args.requestType === 'save') {\n                var dataSource = gridModel.dataSource;\n                var taskIdField_1 = this.parent.taskFields.id;\n                var newId_1 = dataSource.length;\n                while (dataSource.some(function (item) { return item[taskIdField_1] === newId_1; })) {\n                    newId_1++;\n                }\n                if (isNullOrUndefined(args.data[taskIdField_1])) {\n                    args.data[taskIdField_1] = newId_1;\n                    args.rowData[taskIdField_1] = newId_1;\n                }\n            }\n            this.selectedSegment = args.rowData;\n            // if (args.requestType === 'save') {\n            //     // let duration: string = 'duration';\n            //     // let tempDuration: Object = this.parent.dataOperation.getDurationValue(args.data[duration]);\n            //     // args.data[duration] = getValue('duration', tempDuration);\n            //     this.selectedSegment = !isNullOrUndefined(this.editedRecord.ganttProperties.segments[args.rowIndex]) ?\n            //         this.editedRecord.ganttProperties.segments[args.rowIndex] : !isNullOrUndefined(gridData[args.rowIndex]) ?\n            //             gridData[args.rowIndex] : gridData;\n            // }\n        }\n    };\n    DialogEdit.prototype.getDialogTabIndex = function (tabName) {\n        var indexValue;\n        if (!this.isEdit) {\n            this.parent.addDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        else {\n            this.parent.editDialogFields.map(function (item, index) {\n                if (item.type === tabName) {\n                    indexValue = index;\n                }\n            });\n        }\n        return indexValue;\n    };\n    /* eslint-disable-next-line */\n    DialogEdit.prototype.setInjected = function (dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection) {\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            Grid.Inject(Filter);\n                            break;\n                        case 'allowSorting':\n                            Grid.Inject(Sort);\n                            break;\n                        case 'allowPaging':\n                            Grid.Inject(Page);\n                            break;\n                        case 'allowGrouping':\n                            Grid.Inject(Group);\n                            break;\n                        case 'editSettings':\n                            Grid.Inject(Edit);\n                            break;\n                        case 'aggregates':\n                            Grid.Inject(Aggregate);\n                            break;\n                        case 'showColumnChooser':\n                            Grid.Inject(ColumnChooser);\n                            break;\n                        case 'showColumnMenu':\n                            Grid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            Grid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            Grid.Inject(Resize);\n                            break;\n                        case 'allowReordering':\n                            Grid.Inject(Reorder);\n                            break;\n                        case 'detailTemplate':\n                            Grid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            Grid.Inject(RowDD);\n                            break;\n                        case 'searchSettings':\n                            Grid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            Grid.Inject(Selection);\n                            break;\n                        case 'enableVirtualization':\n                            Grid.Inject(VirtualScroll);\n                            break;\n                        case 'toolbar':\n                            toolbar = allProperty['toolbar'];\n                            toolbar.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        Grid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        Grid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        Grid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        Grid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            toolbarCollection = gridModel.toolbar;\n                            Grid.Inject(GridToolbar);\n                            break;\n                        case 'columns':\n                            columnCollection = gridModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.renderSegmentsTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        if (this.isEdit) {\n            preData = isNullOrUndefined(ganttData.taskData[this.parent.taskFields['segments']]) ? [] : ganttData.taskData[this.parent.taskFields['segments']];\n        }\n        /* eslint-disable-next-line */\n        preData.map(function (item, index) {\n            if (isNullOrUndefined(item[_this.parent.taskFields['id']])) {\n                item[_this.parent.taskFields['id']] = index;\n            }\n        });\n        gridModel.dataSource = preData;\n        gridModel.actionBegin = this.segmentGridActionBegin.bind(this);\n        var tabIndex = this.getDialogTabIndex('Segments');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        var toolbarCollection = [];\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = toolbarCollection.concat(gridModel.toolbar);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderGeneralTab = function (itemName, isCustomTab) {\n        var ganttObj = this.parent;\n        /* eslint-disable-next-line */\n        var addFields = [];\n        var divElement;\n        var itemModel = this.beforeOpenArgs[itemName];\n        if (isCustomTab) {\n            divElement = this.createDivElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        else {\n            divElement = this.createFormElement('e-edit-form-row', ganttObj.element.id\n                + '' + itemName + 'TabContainer');\n        }\n        var table;\n        var tbody;\n        if (this.parent.enableAdaptiveUI) {\n            divElement.style.height = '100%';\n            table = createElement('table', { className: 'e-table' });\n            table.style.width = '100%';\n            tbody = createElement('tbody');\n        }\n        var getId = divElement.id;\n        var _loop_2 = function (key) {\n            if (this_2.parent.columnByField[key].visible === false) {\n                return \"continue\";\n            }\n            var column = this_2.parent.columnByField[key];\n            var inputModel = itemModel[key];\n            var inputElements = void 0;\n            if (column['editTemplate']) {\n                var childElement_1 = this_2.createDivElement('e-edit-form-column');\n                inputModel.forEach(function (el) { return childElement_1.appendChild(el); });\n                inputElements = childElement_1;\n            }\n            else {\n                inputElements = this_2.renderInputElements(inputModel, column);\n            }\n            if (this_2.parent.enableAdaptiveUI) {\n                tbody.appendChild(inputElements);\n            }\n            else {\n                divElement.appendChild(inputElements);\n            }\n            addFields.push(key);\n        };\n        var this_2 = this;\n        for (var _i = 0, _a = Object.keys(itemModel); _i < _a.length; _i++) {\n            var key = _a[_i];\n            _loop_2(key);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            table.appendChild(tbody);\n            divElement.appendChild(table);\n        }\n        if (getId !== divElement.id) {\n            divElement.id = getId;\n        }\n        var tabIndex = this.getDialogTabIndex('General');\n        var fields = [];\n        if (!this.isEdit && !isNullOrUndefined(this.parent.addDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.addDialogFields[tabIndex].fields)) {\n            fields = this.parent.addDialogFields[tabIndex].fields;\n        }\n        else if (this.isEdit && !isNullOrUndefined(this.parent.editDialogFields[tabIndex]) &&\n            !isNullOrUndefined(this.parent.editDialogFields[tabIndex].fields)) {\n            fields = this.parent.editDialogFields[tabIndex].fields;\n        }\n        if (!isNullOrUndefined(fields)) {\n            var templateFields = fields.filter(function (item) { return !addFields.includes(item); });\n            if (!isNullOrUndefined(templateFields)) {\n                var template = templateFields;\n                for (var i = 0; i <= template.length - 1; i++) {\n                    var scriptElement = document.getElementById(template[i]);\n                    if (!isNullOrUndefined(scriptElement)) {\n                        var templateContent = scriptElement.innerHTML;\n                        var div = createElement('div');\n                        div.innerHTML = templateContent;\n                        divElement.appendChild(div.children[0]);\n                    }\n                }\n            }\n        }\n        return divElement;\n    };\n    DialogEdit.prototype.isCheckIsDisabled = function (column) {\n        var disabled = false;\n        var stringOrNumber;\n        if (column.allowEditing === false || column.isPrimaryKey || this.parent.readOnly) {\n            if (this.parent.customColumns.indexOf(column.field) !== -1) {\n                disabled = true;\n            }\n            else {\n                if (column.field === this.parent.taskFields.baselineStartDate || column.field === this.parent.taskFields.baselineEndDate ||\n                    column.field === this.parent.taskFields.work || column.field === this.parent.taskFields.type ||\n                    column.field === this.parent.taskFields.id || column.field === this.parent.taskFields.name ||\n                    column.field === this.parent.taskFields.duration || column.field === this.parent.taskFields.progress ||\n                    column.field === this.parent.taskFields.startDate || column.field === this.parent.taskFields.endDate) {\n                    for (var i = 0; i < this.parent.currentViewData['length']; i++) {\n                        if (!isNullOrUndefined(this.parent.currentViewData[i].ganttProperties.taskId)) {\n                            stringOrNumber = this.parent.currentViewData[i].ganttProperties.taskId;\n                            break;\n                        }\n                    }\n                    if (typeof (stringOrNumber) === 'string') {\n                        disabled = false;\n                    }\n                    else {\n                        disabled = true;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (column.field === this.parent.taskFields.id) {\n                disabled = true;\n            }\n            if (this.editedRecord.hasChildRecords) {\n                if ((column.field === this.parent.taskFields.endDate &&\n                    ((!isNullOrUndefined(this.editedRecord[this.parent.taskFields.manual]) &&\n                        this.editedRecord[this.parent.taskFields.manual] === false) ||\n                        this.parent.taskMode === 'Auto')) || column.field === this.parent.taskFields.duration ||\n                    column.field === this.parent.taskFields.progress || column.field === this.parent.taskFields.work ||\n                    column.field === this.parent.taskFields.type) {\n                    disabled = true;\n                }\n            }\n        }\n        return disabled;\n    };\n    DialogEdit.prototype.isParentValid = function (data) {\n        if (data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n                if (data[i].uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                    break;\n                }\n                if (data[i].hasChildRecords) {\n                    this.isParentValid(data[i].childRecords);\n                }\n                if (!this.isValidData) {\n                    break;\n                }\n            }\n        }\n        return this.isValidData;\n    };\n    DialogEdit.prototype.renderPredecessorTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var gridModel = this.beforeOpenArgs[itemName];\n        var dependencyColumn = this.parent.columnByField[this.parent.taskFields.dependency];\n        if (dependencyColumn.allowEditing === false || dependencyColumn.isPrimaryKey || this.parent.readOnly) {\n            gridModel.editSettings.allowEditing = false;\n            gridModel.editSettings.allowAdding = false;\n            gridModel.editSettings.allowDeleting = false;\n        }\n        var ganttData = this.beforeOpenArgs.rowData;\n        var preData = [];\n        this.taskNameCollection();\n        if (this.isEdit) {\n            preData = this.predecessorEditCollection(ganttData);\n            this.updatePredecessorDropDownData(ganttData);\n        }\n        var predecessorLength;\n        if (ganttData[this.parent.taskFields.dependency]) {\n            predecessorLength = ganttData[this.parent.taskFields.dependency].split(',').length;\n        }\n        if (this.preTableCollection.length === 0 || this.preTableCollection.length === predecessorLength) {\n            gridModel.editSettings.allowAdding = false;\n        }\n        gridModel.actionComplete = this.gridActionComplete.bind(this);\n        gridModel.dataSource = preData;\n        gridModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        gridModel.actionBegin = this.gridActionBegin.bind(this);\n        var columns = gridModel.columns;\n        columns[1].edit = {\n            write: function (args) {\n                if (getValue('requestType', args) === 'add') {\n                    setValue('rowData.uniqueId', getUid(), args);\n                }\n                var field = 'name';\n                var autoObj = new ComboBox({\n                    dataSource: new DataManager(_this.idCollection),\n                    popupHeight: '180px',\n                    allowCustom: false,\n                    enableRtl: _this.parent.enableRtl,\n                    fields: { value: 'text' },\n                    value: args.rowData[field],\n                    change: function (arg) {\n                        var tr = closest(arg.element, 'tr');\n                        var idInput = tr.querySelector('#' + _this.parent.element.id + 'DependencyTabContainerid');\n                        if (idInput) {\n                            if (!isNullOrUndefined(arg.itemData) && !isNullOrUndefined(arg.item)) {\n                                idInput.value = arg.itemData.id;\n                            }\n                            else {\n                                idInput.value = '';\n                            }\n                        }\n                    },\n                    autofill: true\n                });\n                autoObj.appendTo(args.element);\n            },\n            read: function (args) {\n                var ej2Instance = args.ej2_instances[0];\n                return ej2Instance.value;\n            }\n        };\n        var tabIndex = this.getDialogTabIndex('Dependency');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var toolbarCollection = [];\n        var allProperty;\n        var columnCollection = [];\n        var toolbar;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n        }\n        this.setInjected(dialogField, allProperty, Grid, toolbar, toolbarCollection, gridModel, columnCollection);\n        Grid.Inject(Edit, Page, GridToolbar, ForeignKey);\n        gridModel = __assign({}, gridModel, allProperty);\n        gridModel.toolbar = gridModel.toolbar.concat(toolbarCollection);\n        var columnCollections = this.updateColumns(columnCollection, gridModel.columns);\n        gridModel.columns = columnCollections;\n        var gridObj = new Grid(gridModel);\n        var divElement = this.createDivElement('e-dependent-div', ganttObj.element.id + '' + itemName + 'TabContainer');\n        gridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.updateColumns = function (existingColumns, newColumns) {\n        var columnMap = {};\n        existingColumns.forEach(function (column) {\n            if (typeof column === 'object') {\n                columnMap[column.field] = column;\n            }\n        });\n        newColumns.forEach(function (newColumn) {\n            if (typeof newColumn === 'object') {\n                var field = newColumn.field;\n                if (columnMap[field]) {\n                    Object.assign(columnMap[field], newColumn);\n                }\n                else {\n                    existingColumns.push(newColumn);\n                }\n            }\n        });\n        return existingColumns;\n    };\n    DialogEdit.prototype.gridActionBegin = function (args) {\n        var _this = this;\n        var itemName = 'Dependency';\n        var gridModel = this.beforeOpenArgs[itemName];\n        if (args.requestType === 'add' || args.requestType === 'beginEdit') {\n            var isEdit_1 = args.requestType === 'add' ? false : true;\n            this.idCollection = extend([], [], this.preTableCollection, true);\n            var gridData_1 = gridModel.dataSource;\n            var _loop_3 = function (i) {\n                // eslint-disable-next-line\n                this_3.idCollection.forEach(function (data, index) {\n                    if (data.id === getValue('id', gridData_1[i])) {\n                        var selectedItem = getValue('rowData', args);\n                        if (isEdit_1 && getValue('id', selectedItem) === data.id) {\n                            return;\n                        }\n                        _this.idCollection.splice(_this.idCollection.indexOf(data), 1);\n                    }\n                });\n            };\n            var this_3 = this;\n            for (var i = 0; i <= gridData_1.length; i++) {\n                _loop_3(i);\n            }\n        }\n    };\n    DialogEdit.prototype.gridActionComplete = function (args) {\n        if (args.requestType === 'save') {\n            var dialogElement = this.parent.editModule.dialogModule.dialog.querySelector('#' + this.parent.element.id + 'DependencyTabContainer');\n            if (!isNullOrUndefined(dialogElement)) {\n                if (!isNullOrUndefined(args['rows']) && args['rows'].length === this.preTableCollection.length) {\n                    /* eslint-disable-next-line */\n                    var gridObj = dialogElement['ej2_instances'][0];\n                    if (gridObj) {\n                        gridObj.editSettings.allowAdding = false;\n                    }\n                }\n            }\n        }\n    };\n    DialogEdit.prototype.updateResourceCollection = function (args, resourceTreeGridId) {\n        if (!isNullOrUndefined(args.data) && Object.keys(args.data).length) {\n            var treeGridId = document.querySelector('#' + resourceTreeGridId);\n            var resourceTreeGrid = treeGridId.ej2_instances[0];\n            if (!isNullOrUndefined(resourceTreeGrid) && resourceTreeGrid.getSelectedRecords().length > 0) {\n                var tempRecords = resourceTreeGrid.getSelectedRecords();\n                var index = void 0;\n                var selectedItems = [];\n                for (index = 0; index < tempRecords.length; index++) {\n                    var record = tempRecords[index];\n                    if (!isNullOrUndefined(record.taskData) &&\n                        !isNullOrUndefined(record.taskData[this.parent.resourceFields.unit]) &&\n                        !isNullOrUndefined(args.data[this.parent.resourceFields.unit]) &&\n                        (record.taskData[this.parent.resourceFields.id] === args.data[this.parent.resourceFields.id])) {\n                        record.taskData[this.parent.resourceFields.unit] = args.data[this.parent.resourceFields.unit];\n                    }\n                    selectedItems.push(tempRecords[index].taskData);\n                }\n                this.ganttResources = extend([], selectedItems);\n            }\n            else {\n                this.ganttResources = [];\n            }\n        }\n        else {\n            this.ganttResources = [];\n        }\n    };\n    DialogEdit.prototype.renderResourceTab = function (itemName) {\n        var _this = this;\n        var ganttObj = this.parent;\n        var resourceSettings = ganttObj.resourceFields;\n        var ganttData = this.beforeOpenArgs.rowData;\n        if (((this.beforeOpenArgs.requestType === 'beforeOpenEditDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo])) || (this.beforeOpenArgs.requestType === 'beforeOpenAddDialog' && !isNullOrUndefined(this.editedRecord[this.parent.taskFields.resourceInfo]))) &&\n            (typeof (this.editedRecord[this.parent.taskFields.resourceInfo]) === 'object')) {\n            this.parent.setRecordValue('resourceInfo', this.parent.dataOperation.setResourceInfo(this.editedRecord), ganttData.ganttProperties, true);\n        }\n        var rowResource = ganttData.ganttProperties.resourceInfo;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableAdaptiveUI = this.parent.enableAdaptiveUI;\n        var resourceTreeGridId = ganttObj.element.id + '' + itemName + 'TabContainer';\n        var resourceData = [];\n        resourceData = extend([], [], ganttObj.resources, true);\n        this.parent.dataOperation.updateResourceUnit(resourceData);\n        if (!isNullOrUndefined(rowResource)) {\n            var count = void 0;\n            var rowResourceLength = rowResource.length;\n            var index = void 0;\n            var resourceDataLength = resourceData.length;\n            for (count = 0; count < rowResourceLength; count++) {\n                for (index = 0; index < resourceDataLength; index++) {\n                    if (rowResource[count][resourceSettings.id] === resourceData[index][resourceSettings.id]) {\n                        resourceData[index][resourceSettings.unit] = rowResource[count][resourceSettings.unit];\n                    }\n                }\n            }\n        }\n        inputModel.dataSource = resourceData;\n        var resourceInfo = ganttData.ganttProperties.resourceInfo;\n        if (this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        else if (!this.isEdit && !isNullOrUndefined(resourceInfo)) {\n            for (var i = 0; i < resourceInfo.length; i++) {\n                this.ganttResources.push(resourceInfo[i]);\n            }\n        }\n        /* eslint-disable-next-line */\n        inputModel.actionBegin = function (args) {\n            if (args.rowData && args.columnName === _this.parent.resourceFields.unit && _this.editedRecord.ganttProperties.resourceInfo) {\n                for (var i = 0; i < _this.editedRecord.ganttProperties.resourceInfo.length; i++) {\n                    if (_this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.id] ===\n                        args.rowData[_this.parent.resourceFields.id]) {\n                        _this.editedRecord.ganttProperties.resourceInfo[i][_this.parent.resourceFields.unit] = args.value;\n                    }\n                }\n            }\n        };\n        inputModel.rowSelected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        inputModel.rowDeselected = function (args) {\n            _this.updateResourceCollection(args, resourceTreeGridId);\n            _this.currentResources = _this.ganttResources;\n        };\n        var divElement = this.createDivElement('e-resource-div', resourceTreeGridId);\n        var tabIndex = this.getDialogTabIndex('Resources');\n        var dialogField;\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        /* eslint-disable-next-line */\n        var columnCollection = [];\n        var toolbars;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = (dialogField.additionalParams);\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'allowFiltering':\n                            TreeGrid.Inject(TreeGridFilter);\n                            break;\n                        case 'allowSorting':\n                            TreeGrid.Inject(TreeGridSort);\n                            break;\n                        case 'allowPaging':\n                            TreeGrid.Inject(TreeGridPage);\n                            break;\n                        case 'editSettings':\n                            TreeGrid.Inject(TreeGridEdit);\n                            break;\n                        case 'aggregates':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnChooser':\n                            TreeGrid.Inject(TreeGridAggregate);\n                            break;\n                        case 'showColumnMenu':\n                            TreeGrid.Inject(ColumnMenu);\n                            break;\n                        case 'contextMenuItems':\n                            TreeGrid.Inject(ContextMenu);\n                            break;\n                        case 'allowResizing':\n                            TreeGrid.Inject(TreeGridResize);\n                            break;\n                        case 'allowReordering':\n                            TreeGrid.Inject(TreeGridReorder);\n                            break;\n                        case 'detailTemplate':\n                            TreeGrid.Inject(DetailRow);\n                            break;\n                        case 'allowRowDragAndDrop':\n                            TreeGrid.Inject(TreeGridRowDD);\n                            break;\n                        case 'searchSettings':\n                            TreeGrid.Inject(Search);\n                            break;\n                        case 'selectionSettings':\n                            TreeGrid.Inject(TreeGridSelection);\n                            break;\n                        case 'toolbar':\n                            toolbars = allProperty['toolbar'];\n                            toolbars.map(function (item) {\n                                switch (item) {\n                                    case 'Search':\n                                        TreeGrid.Inject(Search);\n                                        break;\n                                    case 'Print':\n                                        TreeGrid.Inject(Print);\n                                        break;\n                                    case 'PdfExport':\n                                        TreeGrid.Inject(PdfExport);\n                                        break;\n                                    case 'ExcelExport':\n                                        TreeGrid.Inject(ExcelExport);\n                                        break;\n                                    default:\n                                        break;\n                                }\n                            });\n                            if (!isNullOrUndefined(toolbars)) {\n                                inputModel.toolbar = [];\n                                inputModel.toolbar = inputModel.toolbar.concat(toolbars);\n                            }\n                            TreeGrid.Inject(TreeGridToolbar);\n                            break;\n                        case 'enableVirtualization':\n                            TreeGrid.Inject(VirtualScroll);\n                            break;\n                        case 'columns':\n                            columnCollection = inputModel.columns;\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        TreeGrid.Inject(TreeGridSelection, TreeGridFilter, TreeGridEdit, VirtualScroll, TreeGridToolbar);\n        inputModel = __assign({}, inputModel, allProperty);\n        var columnCollections = this.updateColumns(columnCollection, inputModel.columns);\n        inputModel.columns = columnCollections;\n        var isColumnMenu = false;\n        if (inputModel.showColumnMenu) {\n            isColumnMenu = inputModel.showColumnMenu;\n            inputModel.showColumnMenu = false;\n        }\n        var treeGridObj = new TreeGrid(inputModel);\n        var resourceColumn = this.parent.columnByField[this.parent.taskFields.resourceInfo];\n        if (resourceColumn.allowEditing === false || resourceColumn.isPrimaryKey || this.parent.readOnly) {\n            treeGridObj.allowSelection = false;\n            treeGridObj.allowFiltering = false;\n            treeGridObj.editSettings.allowEditing = false;\n        }\n        treeGridObj.dataBound = function () {\n            if (isColumnMenu) {\n                treeGridObj.showColumnMenu = true;\n            }\n            if (_this.parent.editDialogFields.length >= 1 && _this.parent.editDialogFields[0].type === 'Resources') {\n                var id = _this.parent.element.id + 'ResourcesTabContainer';\n                _this.resourceSelection(id);\n            }\n        };\n        treeGridObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.resourceSelection = function (id) {\n        var _this = this;\n        var resourceTreeGrid = document.querySelector('#' + id).ej2_instances[0];\n        this.parent['triggeredColumnName'] = '';\n        var currentViewData = resourceTreeGrid.getCurrentViewRecords();\n        var resources = this.ganttResources;\n        if (resources && resources.length > 0) {\n            currentViewData.forEach(function (data, index) {\n                for (var i = 0; i < resources.length; i++) {\n                    if (data.taskData[_this.parent.resourceFields.id] === resources[i][_this.parent.resourceFields.id] &&\n                        !isNullOrUndefined(resourceTreeGrid.selectionModule) &&\n                        resourceTreeGrid.getSelectedRowIndexes().indexOf(index) === -1) {\n                        resourceTreeGrid.selectRow(index);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.renderCustomTab = function (itemName, isCustomTab) {\n        return this.renderGeneralTab(itemName, isCustomTab);\n    };\n    DialogEdit.prototype.renderNotesTab = function (itemName) {\n        var ganttObj = this.parent;\n        var inputModel = this.beforeOpenArgs[itemName];\n        inputModel.enableHtmlSanitizer = this.parent.enableHtmlSanitizer;\n        var ganttProp = this.editedRecord.ganttProperties;\n        var divElement = this.createDivElement('', ganttObj.element.id + '' + itemName + 'TabContainer');\n        var tabIndex = this.getDialogTabIndex('Notes');\n        var dialogField;\n        var toolbarCollection = [];\n        if (!this.isEdit) {\n            dialogField = this.parent.addDialogFields[tabIndex];\n        }\n        else if (this.isEdit) {\n            dialogField = this.parent.editDialogFields[tabIndex];\n        }\n        var allProperty;\n        if (!isNullOrUndefined(dialogField) && !isNullOrUndefined(dialogField.additionalParams)) {\n            allProperty = dialogField.additionalParams;\n            for (var i in allProperty) {\n                if (Object.prototype.hasOwnProperty.call(allProperty, i)) {\n                    switch (i) {\n                        case 'toolbarSettings':\n                            for (var j = 0; j < allProperty['toolbarSettings'].items.length; j++) {\n                                /* eslint-disable-next-line */\n                                var key = allProperty['toolbarSettings'].items[j];\n                                if (key) {\n                                    switch (key) {\n                                        case 'Image':\n                                            RichTextEditor.Inject(Image);\n                                            break;\n                                        case 'CreateTable':\n                                            RichTextEditor.Inject(Table);\n                                            break;\n                                        case 'EmojiPicker':\n                                            RichTextEditor.Inject(EmojiPicker);\n                                            break;\n                                        case 'FileManager':\n                                            RichTextEditor.Inject(FileManager);\n                                            break;\n                                        case 'FormatPainter':\n                                            RichTextEditor.Inject(FormatPainter);\n                                            break;\n                                        default:\n                                            break;\n                                    }\n                                }\n                            }\n                            if (!isNullOrUndefined(allProperty['toolbarSettings'].items)) {\n                                toolbarCollection = inputModel.toolbarSettings.items;\n                            }\n                            RichTextEditor.Inject(RTEToolbar);\n                            break;\n                        case 'editorMode':\n                            RichTextEditor.Inject(MarkdownEditor);\n                            break;\n                        default:\n                            break;\n                    }\n                }\n            }\n        }\n        RichTextEditor.Inject(RTEToolbar, Link, HtmlEditor, QuickToolbar, Count, Table);\n        inputModel.value = ganttProp.notes;\n        var notesColumn = this.parent.columnByField[this.parent.taskFields.notes];\n        if (notesColumn.allowEditing === false || notesColumn.isPrimaryKey || this.parent.readOnly) {\n            inputModel.enabled = false;\n        }\n        inputModel = __assign({}, inputModel, allProperty);\n        inputModel.toolbarSettings.items = toolbarCollection.concat(inputModel.toolbarSettings.items);\n        var rteObj = new RichTextEditor(inputModel);\n        rteObj.appendTo(divElement);\n        return divElement;\n    };\n    DialogEdit.prototype.renderInputElements = function (inputModel, column) {\n        var _this = this;\n        var ganttId = this.parent.element.id;\n        var ganttData = this.editedRecord;\n        var divElement = this.createDivElement('e-edit-form-column');\n        var inputElement;\n        var tr;\n        var td;\n        if (this.parent.enableAdaptiveUI) {\n            tr = createElement('tr');\n            td = createElement('td');\n            divElement.style.width = '100%';\n        }\n        var editArgs = { column: column, data: ganttData };\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var create = column.edit.create;\n            if (typeof create === 'string') {\n                create = getObject(create, window);\n                inputElement = create(editArgs);\n            }\n            else {\n                inputElement = column.edit.create(editArgs);\n            }\n            inputElement.className = '';\n            inputElement.setAttribute('type', 'text');\n            inputElement.setAttribute('id', ganttId + '' + column.field);\n            inputElement.setAttribute('name', column.field);\n            inputElement.setAttribute('title', column.field);\n            divElement.appendChild(inputElement);\n        }\n        else {\n            inputElement = this.createInputElement('', ganttId + '' + column.field, column.field);\n            divElement.appendChild(inputElement);\n        }\n        inputModel.enabled = !isNullOrUndefined(inputModel.enabled) ? inputModel.enabled : !this.isCheckIsDisabled(column);\n        if (column.field === this.parent.taskFields.duration) {\n            if (!isNullOrUndefined(column.valueAccessor)) {\n                if (typeof column.valueAccessor === 'string') {\n                    var valueAccessor = getObject(column.valueAccessor, window);\n                    inputModel.value = valueAccessor(column.field, ganttData, column);\n                }\n                else {\n                    inputModel.value = column.valueAccessor(column.field, ganttData, column);\n                }\n            }\n            else if (isNullOrUndefined(column.edit)) {\n                var ganttProp = ganttData.ganttProperties;\n                inputModel.value = this.parent.dataOperation.getDurationString(ganttProp.duration, ganttProp.durationUnit);\n            }\n        }\n        else {\n            if (column.editType === 'booleanedit') {\n                if (ganttData[column.field] === true) {\n                    inputModel.checked = true;\n                }\n                else {\n                    inputModel.checked = false;\n                }\n            }\n            else {\n                if (!this.parent.taskFields[column.field] && column.editType === 'numericedit' && (ganttData[column.field] === '' || ganttData[column.field] === 0)) {\n                    inputModel.value = 0;\n                }\n                else {\n                    inputModel.value = ganttData[column.field];\n                }\n            }\n        }\n        if (!isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n            var write = column.edit.write;\n            var inputObj = void 0;\n            if (typeof write === 'string') {\n                write = getObject(write, window);\n                inputObj = write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            else {\n                inputObj = column.edit.write({\n                    column: column, rowData: ganttData, element: inputElement\n                });\n            }\n            if (column.field === this.parent.taskFields.duration) {\n                inputObj.change = function (args) {\n                    _this.validateScheduleFields(args, column, _this.parent);\n                };\n            }\n        }\n        else {\n            var inputObj = new this.inputs[column.editType](inputModel);\n            inputObj.appendTo(inputElement);\n        }\n        if (this.parent.enableAdaptiveUI) {\n            td.appendChild(divElement);\n            tr.appendChild(td);\n            return tr;\n        }\n        else {\n            return divElement;\n        }\n    };\n    DialogEdit.prototype.taskNameCollection = function () {\n        var flatData = this.parent.flatData;\n        this.preTaskIds = [];\n        this.preTableCollection = [];\n        for (var i = 0; i < flatData.length; i++) {\n            var data = flatData[i];\n            if (this.parent.allowParentDependency) {\n                var currentFlatData = data;\n                if (data.parentUniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                    this.isValidData = false;\n                }\n                else {\n                    do {\n                        if (currentFlatData.parentItem) {\n                            currentFlatData = this.parent.flatData[this.parent.ids.indexOf(currentFlatData.parentItem.taskId)];\n                            if (currentFlatData.uniqueID === this.beforeOpenArgs.rowData['uniqueID']) {\n                                this.isValidData = false;\n                                break;\n                            }\n                        }\n                    } while (currentFlatData.parentItem);\n                }\n                if (data.hasChildRecords && this.isValidData) {\n                    this.isValidData = this.isParentValid(data.childRecords);\n                }\n                if (!this.isValidData) {\n                    this.isValidData = true;\n                    continue;\n                }\n            }\n            else {\n                if (data.hasChildRecords) {\n                    continue;\n                }\n            }\n            var taskId = this.parent.viewType === 'ResourceView' ? data.ganttProperties.taskId.toString()\n                : data.ganttProperties.rowUniqueID.toString();\n            var tempObject = {\n                id: taskId,\n                text: (taskId + '-' + data.ganttProperties.taskName),\n                value: taskId\n            };\n            this.preTaskIds.push(tempObject.id);\n            this.preTableCollection.push(tempObject);\n        }\n    };\n    DialogEdit.prototype.predecessorEditCollection = function (ganttData) {\n        var preDataCollection = [];\n        var ganttProp = ganttData.ganttProperties;\n        if (this.isEdit && !isNullOrUndefined(this.parent.taskFields.dependency) && !isNullOrUndefined(ganttData) &&\n            !isNullOrUndefined(ganttProp.predecessor)) {\n            var predecessor = ganttProp.predecessor;\n            var idCollection = this.preTableCollection;\n            for (var i = 0; i < predecessor.length; i++) {\n                var from = predecessor[i].from.toString();\n                var preData = {};\n                var taskID = this.parent.viewType === 'ResourceView' ? ganttProp.taskId : ganttProp.rowUniqueID;\n                if (taskID.toString() !== from) {\n                    preData.id = from;\n                    for (var index = 0; index < idCollection.length; index++) {\n                        if (idCollection[index].value === from) {\n                            preData.name = idCollection[index].text;\n                            break;\n                        }\n                    }\n                    preData.type = predecessor[i].type;\n                    var offset = predecessor[i].offset;\n                    var offsetUnit = predecessor[i].offsetUnit;\n                    preData.offset = this.parent.dataOperation.getDurationString(offset, offsetUnit);\n                    preData.uniqueId = getUid();\n                    preDataCollection.push(preData);\n                }\n            }\n        }\n        return preDataCollection;\n    };\n    DialogEdit.prototype.updatePredecessorDropDownData = function (ganttData) {\n        var index = -1;\n        var id = this.parent.viewType === 'ResourceView' ? ganttData.ganttProperties.taskId.toString()\n            : ganttData.ganttProperties.rowUniqueID.toString();\n        index = this.preTaskIds.indexOf(id);\n        this.preTableCollection.splice(index, 1);\n        this.preTaskIds.splice(index, 1);\n        this.validSuccessorTasks(ganttData, this.preTaskIds, this.preTableCollection);\n    };\n    DialogEdit.prototype.validSuccessorTasks = function (data, ids, idCollection) {\n        var _this = this;\n        var ganttProp = data.ganttProperties;\n        if (ganttProp.predecessor && ganttProp.predecessor.length > 0) {\n            var predecessor = ganttProp.predecessor;\n            var fromId_1 = this.parent.viewType === 'ResourceView' ? ganttProp.taskId.toString() : ganttProp.rowUniqueID.toString();\n            predecessor.forEach(function (item) {\n                if (item.from.toString() === fromId_1) {\n                    var toId = item.to;\n                    var idIndex = -1;\n                    idIndex = ids.indexOf(toId);\n                    if (idIndex > -1) {\n                        ids.splice(idIndex, 1);\n                        idCollection.splice(idIndex, 1);\n                    }\n                    var ganttData = _this.parent.connectorLineModule.getRecordByID(toId);\n                    var isIdInclude = true;\n                    for (var _i = 0, _a = _this.processedId; _i < _a.length; _i++) {\n                        var item_1 = _a[_i];\n                        if (item_1.id === ganttData.ganttProperties.taskId) {\n                            if (Array.isArray(item_1.value) && Array.isArray(ganttData.ganttProperties.predecessor)) {\n                                if (item_1.value.length === ganttData.ganttProperties.predecessor.length) {\n                                    var arraysMatch = true;\n                                    for (var i = 0; i < item_1.value.length; i++) {\n                                        if (item_1.value[i] !== ganttData.ganttProperties.predecessor[i]) {\n                                            arraysMatch = false;\n                                            break;\n                                        }\n                                    }\n                                    if (arraysMatch) {\n                                        isIdInclude = false;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (isIdInclude) {\n                        _this.processedId.push({ id: ganttData.ganttProperties.taskId, value: ganttData.ganttProperties.predecessor });\n                        _this.validSuccessorTasks(ganttData, ids, idCollection);\n                    }\n                }\n            });\n        }\n    };\n    DialogEdit.prototype.getPredecessorType = function () {\n        var typeText = [this.parent.getPredecessorTextValue('SS'), this.parent.getPredecessorTextValue('SF'),\n            this.parent.getPredecessorTextValue('FS'), this.parent.getPredecessorTextValue('FF')];\n        var types = [\n            { id: 'FS', text: typeText[2], value: typeText[2] },\n            { id: 'FF', text: typeText[3], value: typeText[3] },\n            { id: 'SS', text: typeText[0], value: typeText[0] },\n            { id: 'SF', text: typeText[1], value: typeText[1] }\n        ];\n        return types;\n    };\n    DialogEdit.prototype.initiateDialogSave = function () {\n        if (this.isEdit) {\n            this.parent.initiateEditAction(true);\n        }\n        else {\n            this.addedRecord = {};\n        }\n        if (this.currentResources) {\n            this.currentResources = null;\n        }\n        if (this.parent.undoRedoModule && this.parent['isUndoRedoItemPresent']('Edit')) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            if (this.isEdit) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var action = {};\n                action['action'] = 'DialogEdit';\n                action['modifiedRecords'] = [];\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = action;\n                if (this.parent.viewType === 'ResourceView') {\n                    var isValid = false;\n                    if (!this.rowData.ganttProperties.resourceInfo) {\n                        if (this.ganttResources.length > 0) {\n                            isValid = true;\n                        }\n                    }\n                    else if (this.ganttResources.length !== this.rowData.ganttProperties.resourceInfo.length) {\n                        isValid = true;\n                    }\n                    else {\n                        for (var i = 0; i < this.rowData.ganttProperties.resourceInfo.length; i++) {\n                            if (this.ganttResources[i][this.parent.resourceFields.id] !==\n                                this.rowData.ganttProperties.resourceInfo[i][this.parent.resourceFields.id]) {\n                                isValid = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isValid) {\n                        var indexes = {};\n                        indexes['deletedIndexes'] = [];\n                        var id_1 = 'T' + this.rowData.ganttProperties.taskId;\n                        var rowItems_1 = [];\n                        this.parent.taskIds.reduce(function (e, i) {\n                            if (i === id_1) {\n                                if (this.ganttResources.length === 0) {\n                                    rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                }\n                                else {\n                                    var parent_1 = this.parent.getTaskByUniqueID(this.parent.flatData[this.parent.taskIds.indexOf(i)].parentUniqueID);\n                                    for (var j = 0; j < this.ganttResources.length; j++) {\n                                        if (parent_1.ganttProperties.taskId !==\n                                            this.ganttResources[j][this.parent.resourceFields.id] &&\n                                            rowItems_1.indexOf(this.parent.flatData[this.parent.taskIds.indexOf(i)]) === -1) {\n                                            rowItems_1.push(this.parent.flatData[this.parent.taskIds.indexOf(i)]);\n                                        }\n                                    }\n                                }\n                            }\n                        }.bind(this), []);\n                        this.parent.undoRedoModule['findPosition'](extend([], [], rowItems_1, true), indexes, 'deletedIndexes');\n                        if (this['indexes']) {\n                            this['indexes']['deletedIndexes'][this['indexes']['deletedIndexes'].length] = indexes['deletedIndexes'][0];\n                        }\n                        else {\n                            this['indexes'] = indexes;\n                        }\n                    }\n                }\n            }\n        }\n        this.parent['updateDuration'] = true;\n        var ganttObj = this.parent;\n        var tabModel = this.beforeOpenArgs.tabModel;\n        var items = tabModel.items;\n        for (var i = 0; i < items.length; i++) {\n            var element = items[i].content;\n            var id = element.getAttribute('id');\n            if (!isNullOrUndefined(id) || id !== '') {\n                id = id.replace(ganttObj.element.id, '');\n                id = id.replace('TabContainer', '');\n                if (id === 'General') {\n                    this.updateGeneralTab(element, false);\n                }\n                else if (id === 'Dependency') {\n                    this.isFromDialogPredecessor = true;\n                    this.updatePredecessorTab(element);\n                    this.isFromDialogPredecessor = false;\n                }\n                else if (id === 'Notes') {\n                    this.updateNotesTab(element);\n                }\n                else if (id === 'Resources') {\n                    this.updateResourceTab(element);\n                    this.dialogEditValidationFlag = false;\n                }\n                else if (id.indexOf('Custom') !== -1) {\n                    this.updateCustomTab(element);\n                }\n                else if (id === 'Segments') {\n                    this.updateSegmentsData(element);\n                }\n            }\n        }\n        if (!this.disableUndo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule['getUndoCollection'].splice(this.parent.undoRedoModule['getUndoCollection'].length - 1, 1);\n            if (this.parent.toolbarModule && this.parent.undoRedoModule['getUndoCollection'].length === 0) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n            this.parent['totalUndoAction']--;\n        }\n        if (this.isEdit) {\n            /**\n             * If any update on edited task do it here\n             */\n            this.parent.editModule['editedRecord'] = this.rowData;\n            this.parent.dataOperation.updateWidthLeft(this.rowData);\n            var editArgs = {\n                data: this.rowData,\n                action: 'DialogEditing'\n            };\n            this.parent.editModule.initiateUpdateAction(editArgs);\n        }\n        else {\n            this.parent.editModule['editedRecord'] = this.addedRecord;\n            if (this.parent.viewType === 'ResourceView') {\n                var newRecords = extend({}, this.addedRecord, true);\n                if (newRecords[this.parent.taskFields.resourceInfo].length) {\n                    for (var i = 0; i < newRecords[this.parent.taskFields.resourceInfo].length; i++) {\n                        var id = newRecords[this.parent.taskFields.resourceInfo][i].toString();\n                        var parentRecordIndex = this.parent.getTaskIds().indexOf('R' + id.toString());\n                        if (parentRecordIndex !== -1) {\n                            this.parent.editModule.addRecord(this.addedRecord, 'Child', parentRecordIndex);\n                            break;\n                        }\n                    }\n                }\n                else {\n                    this.parent.editModule.addRecord(this.addedRecord, 'Bottom');\n                }\n            }\n            else {\n                this.parent.editModule.addRecord(this.addedRecord, this.parent.editSettings.newRowPosition, this.parent.selectedRowIndex);\n            }\n        }\n        return true;\n    };\n    DialogEdit.prototype.compareObjects = function (prevSegments, currentSegments) {\n        if (!isNullOrUndefined(prevSegments)) {\n            return prevSegments.every(function (obj1, index) {\n                var obj2 = currentSegments[index];\n                var key = Object.keys(obj1);\n                for (var i = 0; i < key.length; i++) {\n                    if (key[i] === 'startDate' || key[i] === 'endDate') {\n                        if (obj1[key[i]].getTime() !== obj2[key[i]].getTime()) {\n                            return true;\n                        }\n                    }\n                    else if (key[i] === 'duration' && obj1[key[i]] !== obj2[key[i]]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n        }\n        return false;\n    };\n    DialogEdit.prototype.updateSegmentTaskData = function (dataSource) {\n        var taskSettings = this.parent.taskFields;\n        if (!this.isEdit) {\n            this.addedRecord[taskSettings.segments] = dataSource;\n        }\n        else {\n            var prevSegments = this.rowData.ganttProperties.segments;\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.segments, dataSource, this.rowData);\n            var currentSegments = this.parent.dataOperation.setSegmentsInfo(this.rowData, true);\n            if (this.parent.enableUndoRedo && (prevSegments && currentSegments && (prevSegments.length !== currentSegments.length)) ||\n                (!prevSegments && currentSegments) || ((prevSegments && !currentSegments)) ||\n                this.compareObjects(prevSegments, currentSegments)) {\n                this.disableUndo = true;\n            }\n            this.parent.setRecordValue('segments', currentSegments, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('segments', this.parent.dataOperation.setSegmentsInfo(this.rowData, false), this.rowData.ganttProperties, true);\n            if (dataSource.length <= 0) {\n                this.validateDuration(this.rowData);\n            }\n        }\n    };\n    DialogEdit.prototype.updateSegmentsData = function (segmentForm) {\n        var gridObj = segmentForm.ej2_instances[0];\n        var isEdit = gridObj.isEdit;\n        var dataSource;\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        if (isEdit && gridObj.currentViewData.length !== gridObj.dataSource['length']) {\n            dataSource = gridObj.dataSource;\n        }\n        else {\n            dataSource = gridObj.currentViewData;\n        }\n        this.updateSegmentTaskData(dataSource);\n    };\n    DialogEdit.prototype.updateGeneralTab = function (generalForm, isCustom) {\n        var ganttObj = this.parent;\n        var childNodes = generalForm.childNodes;\n        var tasksData = {};\n        if (!this.isEdit) {\n            tasksData = this.addedRecord;\n        }\n        for (var i = 0; i < childNodes.length; i++) {\n            var div = childNodes[i];\n            var inputElement = div.querySelector('input[id^=\"' + ganttObj.element.id + '\"]') || div.querySelector('textarea[id^=\"' + ganttObj.element.id + '\"]');\n            var editorChild = Array.from(div.children).find(function (child) { return child.classList.contains('e-richtexteditor'); });\n            if (editorChild) {\n                inputElement = editorChild;\n            }\n            if (inputElement) {\n                var fieldName = inputElement.id.replace(ganttObj.element.id, '');\n                var controlObj = div.querySelector('#' + ganttObj.element.id + fieldName).ej2_instances[0];\n                if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit' && fieldName === this.parent.taskFields.id) {\n                    var valueString = controlObj.value.toString();\n                    controlObj.value = valueString;\n                }\n                var column = ganttObj.columnByField[fieldName];\n                if (fieldName === this.parent.taskFields.duration ?\n                    parseInt(this.rowData[fieldName], 10) !== parseInt(controlObj.value, 10) :\n                    this.rowData[fieldName] !== controlObj.value) {\n                    this.disableUndo = true;\n                }\n                if (!isNullOrUndefined(column) && !isNullOrUndefined(column.edit) && isNullOrUndefined(column.edit.params)) {\n                    var read = column.edit.read;\n                    if (typeof read === 'string') {\n                        read = getObject(read, window);\n                        tasksData[fieldName] = read(inputElement, controlObj.value);\n                    }\n                    else {\n                        tasksData[fieldName] = column.edit.read(inputElement, controlObj.value);\n                    }\n                }\n                else if (!isNullOrUndefined(column) && column.editType === 'booleanedit') {\n                    if (inputElement instanceof HTMLInputElement && inputElement.checked === true) {\n                        tasksData[fieldName] = true;\n                    }\n                    else {\n                        tasksData[fieldName] = false;\n                    }\n                }\n                else {\n                    if (fieldName === this.parent.taskFields.duration) {\n                        var numericValue = parseFloat(String(controlObj.value));\n                        tasksData[fieldName] = numericValue;\n                    }\n                    else {\n                        if (this.parent.weekWorkingTime.length > 0 && controlObj.value && (fieldName === this.parent.taskFields.startDate ||\n                            fieldName === this.parent.taskFields.baselineStartDate)) {\n                            var sDate = fieldName === this.parent.taskFields.startDate ? this.beforeOpenArgs.rowData['ganttProperties'].startDate : this.beforeOpenArgs.rowData['ganttProperties'].baselineStartDate;\n                            var prevDay = this.parent['getStartTime'](sDate);\n                            if (prevDay / 3600 === sDate.getHours()) {\n                                var dayStartTime = this.parent['getStartTime'](controlObj.value);\n                                this.parent.dataOperation.setTime(dayStartTime, controlObj.value);\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                            else {\n                                tasksData[fieldName] = controlObj.value;\n                            }\n                        }\n                        else {\n                            tasksData[fieldName] = controlObj.value;\n                        }\n                    }\n                    if (this.parent.enableHtmlSanitizer && typeof (controlObj.value) === 'string') {\n                        controlObj.value = SanitizeHtmlHelper.sanitize(controlObj.value);\n                        tasksData[fieldName] = controlObj.value;\n                    }\n                }\n            }\n        }\n        if (this.isEdit) {\n            if (!isCustom) {\n                this.updateScheduleProperties(this.editedRecord, this.rowData);\n            }\n            ganttObj.editModule.validateUpdateValues(tasksData, this.rowData, true);\n        }\n    };\n    DialogEdit.prototype.updateScheduleProperties = function (fromRecord, toRecord) {\n        this.parent.setRecordValue('startDate', fromRecord.ganttProperties.startDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('endDate', fromRecord.ganttProperties.endDate, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('duration', fromRecord.ganttProperties.duration, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('work', fromRecord.ganttProperties.work, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('type', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('taskType', fromRecord.ganttProperties.taskType, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceNames', fromRecord.ganttProperties.resourceNames, toRecord.ganttProperties, true);\n        this.parent.setRecordValue('resourceInfo', fromRecord.ganttProperties.resourceInfo, toRecord.ganttProperties, true);\n        if (!isNullOrUndefined(this.parent.taskFields.startDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'startDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.endDate)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'endDate');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.duration)) {\n            this.parent.dataOperation.updateMappingData(toRecord, 'duration');\n            this.parent.setRecordValue('durationUnit', fromRecord.ganttProperties.durationUnit, this.rowData, true);\n            if (this.rowData.ganttProperties.duration === 0) {\n                this.parent.setRecordValue('isMilestone', true, toRecord.ganttProperties, true);\n            }\n            else {\n                this.parent.setRecordValue('isMilestone', false, this.rowData.ganttProperties, true);\n            }\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.work)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'work');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.manual)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'manual');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.type)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'type');\n        }\n        if (!isNullOrUndefined(this.parent.taskFields.resourceInfo)) {\n            this.parent.dataOperation.updateMappingData(this.rowData, 'resourceInfo');\n        }\n    };\n    DialogEdit.prototype.getMatchingPrefix = function (preData, idArray) {\n        var parts = preData.name.split('-');\n        var current = '';\n        for (var i = 0; i < parts.length; i++) {\n            current = current === '' ? parts[i] : current + '-' + parts[i];\n            if (idArray.indexOf(current) !== -1) {\n                return [current];\n            }\n        }\n        return [];\n    };\n    DialogEdit.prototype.updatePredecessorTab = function (preElement) {\n        var gridObj = preElement.ej2_instances[0];\n        if (gridObj.isEdit) {\n            gridObj.endEdit();\n        }\n        var dataSource = gridObj.dataSource;\n        var predecessorName = [];\n        var newValues = [];\n        var predecessorString = '';\n        var ids = [];\n        var parentRecord = [];\n        for (var i = 0; i < dataSource.length; i++) {\n            var preData = dataSource[i];\n            var splitString = this.getMatchingPrefix(preData, this.parent.ids);\n            if (isNullOrUndefined(preData.id) || (preData.id !== splitString[0] && !isNullOrUndefined(splitString[0]))) {\n                preData.id = splitString[0];\n            }\n            if (ids.indexOf(preData.id) === -1) {\n                if (this.parent.viewType === 'ProjectView') {\n                    var currentRecord = this.parent.flatData[(this.parent.ids.indexOf(preData.id))];\n                    if (currentRecord.hasChildRecords && parentRecord.indexOf(currentRecord) === -1) {\n                        parentRecord.push(currentRecord);\n                    }\n                }\n                var name_1 = preData.id + preData.type;\n                if (preData.offset && preData.offset.indexOf('-') !== -1) {\n                    name_1 += preData.offset;\n                }\n                else {\n                    name_1 += ('+' + preData.offset);\n                }\n                predecessorName.push(name_1);\n                ids.push(preData.id);\n            }\n        }\n        if (this.isEdit) {\n            if (predecessorName.length > 0) {\n                newValues = this.parent.predecessorModule.calculatePredecessor(predecessorName.join(','), this.rowData);\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = this.parent.predecessorModule.getPredecessorStringValue(this.rowData);\n            }\n            else {\n                newValues = [];\n                this.parent.setRecordValue('predecessor', newValues, this.rowData.ganttProperties, true);\n                predecessorString = '';\n            }\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1]['connectedRecords'] = parentRecord;\n                if (predecessorString !== '' || (!isNullOrUndefined(this.rowData.ganttProperties.predecessorsName) && this.rowData.ganttProperties.predecessorsName !== predecessorString) && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n            }\n            this.parent.setRecordValue('predecessorsName', predecessorString, this.rowData.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, this.rowData);\n            this.parent.predecessorModule.updateUnscheduledDependency(this.rowData);\n        }\n        else {\n            this.addedRecord[this.parent.taskFields.dependency] = predecessorName.length > 0 ? predecessorName.join(',') : '';\n        }\n    };\n    DialogEdit.prototype.updateResourceTab = function (resourceElement) {\n        var _this = this;\n        var treeGridObj = resourceElement.ej2_instances[0];\n        if (treeGridObj) {\n            treeGridObj.grid.endEdit();\n        }\n        var selectedItems = this.ganttResources;\n        selectedItems.forEach(function (item) {\n            if (item[_this.parent.resourceFields.unit] === null) {\n                item[_this.parent.resourceFields.unit] = 0;\n            }\n        });\n        if (this.parent.viewType === 'ResourceView' && !isNullOrUndefined(this.rowData.ganttProperties)) {\n            if (JSON.stringify(this.ganttResources) !== JSON.stringify(this.rowData.ganttProperties.resourceInfo)) {\n                this.isResourceUpdate = true;\n                this.previousResource = !isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) ? this.rowData.ganttProperties.resourceInfo.slice() : [];\n            }\n            else {\n                this.isResourceUpdate = false;\n            }\n        }\n        var idArray = [];\n        if (this.isEdit) {\n            if ((this.rowData.ganttProperties.resourceInfo && selectedItems.length !== this.rowData.ganttProperties.resourceInfo.length) ||\n                (isNullOrUndefined(this.rowData.ganttProperties.resourceInfo) && selectedItems.length > 0)) {\n                this.disableUndo = true;\n            }\n            if (!this.disableUndo) {\n                for (var i = 0; i < selectedItems.length; i++) {\n                    if (JSON.stringify(selectedItems[i]) !==\n                        JSON.stringify(this.rowData.ganttProperties.resourceInfo[i])) {\n                        this.disableUndo = true;\n                        break;\n                    }\n                }\n            }\n            this.parent.setRecordValue('resourceInfo', selectedItems, this.editedRecord.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(this.editedRecord, 'resourceInfo');\n            this.parent.editModule.updateResourceRelatedFields(this.editedRecord, 'resource');\n            this.validateDuration(this.editedRecord);\n            this.updateScheduleProperties(this.editedRecord, this.rowData);\n        }\n        else {\n            for (var i = 0; i < selectedItems.length; i++) {\n                idArray.push(selectedItems[i][this.parent.resourceFields.id]);\n                this.isAddNewResource = true;\n            }\n            this.addedRecord[this.parent.taskFields.resourceInfo] = idArray;\n        }\n    };\n    DialogEdit.prototype.updateNotesTab = function (notesElement) {\n        var ganttObj = this.parent;\n        var rte = notesElement.ej2_instances[0];\n        if (this.isEdit) {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                if (this.rowData.ganttProperties.notes !== rte.getHtml() && (this.rowData.ganttProperties.notes !== null || rte.getHtml() !== '<p><br></p>') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n            }\n            else {\n                if (this.rowData.ganttProperties.notes !== rte.getText() && (this.rowData.ganttProperties.notes !== null || rte.getText() !== '') && !this.disableUndo) {\n                    this.disableUndo = true;\n                }\n                if (rte.getHtml().includes('href')) {\n                    this.parent.setRecordValue('notes', rte.getHtml(), this.rowData.ganttProperties, true);\n                }\n                else {\n                    this.parent.setRecordValue('notes', rte.getText(), this.rowData.ganttProperties, true);\n                }\n            }\n            ganttObj.dataOperation.updateMappingData(this.rowData, 'notes');\n        }\n        else {\n            if (!ganttObj.columnByField[ganttObj.taskFields.notes].disableHtmlEncode) {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getHtml();\n            }\n            else {\n                this.addedRecord[this.parent.taskFields.notes] = rte.getText();\n            }\n        }\n    };\n    DialogEdit.prototype.updateCustomTab = function (customElement) {\n        this.updateGeneralTab(customElement, true);\n    };\n    return DialogEdit;\n}());\nexport { DialogEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined } from '@syncfusion/ej2-base';\nimport { getValue, createElement, extend } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { parentsUntil, formatString, isScheduledTask, getIndex } from '../base/utils';\nimport { Dialog } from '@syncfusion/ej2-popups';\n/**\n * File for handling connector line edit operation in Gantt.\n *\n */\nvar ConnectorLineEdit = /** @class */ (function () {\n    function ConnectorLineEdit(ganttObj) {\n        /**\n         * @private\n         */\n        this.validationPredecessor = null;\n        /** @private */\n        this.confirmPredecessorDialog = null;\n        /** @private */\n        this.predecessorIndex = null;\n        /** @private */\n        this.childRecord = null;\n        this.validatedId = [];\n        this.validatedOffsetIds = [];\n        this.isPublicDependencyDelete = false;\n        this.parent = ganttObj;\n        this.dateValidateModule = this.parent.dateValidationModule;\n        this.parent.on('initPredessorDialog', this.initPredecessorValidationDialog, this);\n    }\n    /**\n     * To update connector line edit element.\n     *\n     * @param {PointerEvent} e .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updateConnectorLineEditElement = function (e) {\n        var element = this.getConnectorLineHoverElement(e.target);\n        if (!getValue('editModule.taskbarEditModule.taskBarEditAction', this.parent)) {\n            this.highlightConnectorLineElements(element);\n        }\n    };\n    /**\n     * To get hovered connector line element.\n     *\n     * @param {EventTarget} target .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getConnectorLineHoverElement = function (target) {\n        var isOnLine = parentsUntil(target, cls.connectorLineSVG);\n        var isArrow = parentsUntil(target, cls.connectorLineArrow);\n        var isCriticalLine = parentsUntil(target, cls.criticalConnectorLineSVG);\n        var isCriticalArrow = parentsUntil(target, cls.criticalConnectorArrowSVG);\n        if (isOnLine || isArrow || isCriticalLine || isCriticalArrow) {\n            return parentsUntil(target, cls.connectorLineContainer);\n        }\n        else {\n            return null;\n        }\n    };\n    /**\n     * To highlight connector line while hover.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.highlightConnectorLineElements = function (element) {\n        if (element) {\n            if (element !== this.connectorLineElement) {\n                this.removeHighlight();\n                this.addHighlight(element);\n            }\n        }\n        else {\n            this.removeHighlight();\n        }\n    };\n    /**\n     * To add connector line highlight class.\n     *\n     * @param {Element} element .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addHighlight = function (element) {\n        this.connectorLineElement = element;\n        var pathElement = element.querySelector('.' + cls.connectorLineSVG);\n        if (pathElement) {\n            pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke'] + 1).toString());\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removeHighlight = function () {\n        if (this.connectorLineElement) {\n            var pathElement = this.connectorLineElement.querySelector('.' + cls.connectorLineSVG);\n            if (pathElement) {\n                pathElement.setAttribute('stroke-width', (this.parent.connectorLineModule['lineStroke']).toString());\n            }\n            this.connectorLineElement = null;\n        }\n    };\n    /**\n     * To remove connector line highlight class.\n     *\n     * @param {IGanttData[]} records .\n     * @returns {DocumentFragment} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.getEditedConnectorLineString = function (records) {\n        var ganttRecord;\n        var predecessorsCollection;\n        var parentGanttRecord;\n        var childGanttRecord;\n        var connectorObj;\n        var idSet = new Set();\n        var lineFragment = document.createDocumentFragment();\n        for (var count = 0; count < records.length; count++) {\n            ganttRecord = records[count];\n            predecessorsCollection = ganttRecord.ganttProperties.predecessor;\n            if (!predecessorsCollection) {\n                continue;\n            }\n            for (var predecessorCount = 0; predecessorCount < predecessorsCollection.length; predecessorCount++) {\n                var predecessor = predecessorsCollection[predecessorCount];\n                var from = 'from';\n                var to = 'to';\n                var connectorLineId = 'parent' + predecessor[from] + 'child' + predecessor[to];\n                this.parent.connectorLineModule.removeConnectorLineById(connectorLineId);\n                parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[from]);\n                childGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[to]);\n                if ((!this.parent.allowParentDependency && ((parentGanttRecord && parentGanttRecord.expanded) ||\n                    (childGanttRecord && childGanttRecord.expanded))) ||\n                    (this.parent.allowParentDependency && (parentGanttRecord || childGanttRecord))) {\n                    connectorObj = this.parent.predecessorModule.updateConnectorLineObject(parentGanttRecord, childGanttRecord, predecessor);\n                    if (!isNullOrUndefined(connectorObj) && !idSet.has(connectorObj.connectorLineId)) {\n                        var lineElement = this.parent.connectorLineModule.getConnectorLineTemplate(connectorObj);\n                        idSet.add(connectorObj.connectorLineId);\n                        lineFragment.appendChild(lineElement);\n                    }\n                }\n            }\n        }\n        return lineFragment;\n    };\n    /**\n     * Tp refresh connector lines of edited records\n     *\n     * @param {IGanttData[]} editedRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.refreshEditedRecordConnectorLine = function (editedRecord) {\n        this.parent.connectorLineModule.removePreviousConnectorLines(this.parent.previousRecords);\n        this.parent.connectorLineModule.expandedRecords = this.parent.virtualScrollModule && this.parent.enableVirtualization ?\n            this.parent.updatedRecords : this.parent.getExpandedRecords(this.parent.updatedRecords);\n        var editedConnectorElement = this.getEditedConnectorLineString(editedRecord);\n        if (editedConnectorElement) {\n            this.parent.connectorLineModule.svgObject.appendChild(editedConnectorElement);\n        }\n    };\n    ConnectorLineEdit.prototype.idFromPredecessor = function (pre) {\n        var preArray = pre.split(',');\n        var preIdArray = [];\n        var values = [];\n        var match = [];\n        for (var j = 0; j < preArray.length; j++) {\n            var strArray = [];\n            var firstPart = void 0;\n            var isAlpha = false;\n            var predecessorName = void 0;\n            var isGUId = false;\n            var regex = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/;\n            var elSplit = preArray[j].split('-');\n            var id = void 0;\n            if (elSplit.length === 6) {\n                elSplit[4] = elSplit[4] + '-' + elSplit[5];\n                elSplit.pop();\n            }\n            if (elSplit.length === 5 && elSplit[4].length >= 12) {\n                id = preArray[j].substring(0, 36);\n                if (regex.test(id)) {\n                    isGUId = true;\n                }\n            }\n            if (preArray[j].includes('-')) {\n                if (preArray[j].includes('-') && (preArray[j].includes('days') || preArray[j].includes('day'))) {\n                    var splitName = preArray[j].split(/-(?=\\d)/);\n                    if (splitName.length > 0) {\n                        predecessorName = splitName[splitName.length - 1];\n                    }\n                }\n                if (preArray[j].includes('-') && /[A-Za-z]/.test(predecessorName)) {\n                    var indexFS = preArray[j].indexOf(predecessorName);\n                    if (indexFS !== -1) {\n                        firstPart = preArray[j].substring(0, indexFS - 1);\n                        if (firstPart.includes('-')) {\n                            isAlpha = true;\n                        }\n                    }\n                }\n            }\n            if (isGUId) {\n                var split = void 0;\n                split = elSplit[4].split('+');\n                var spliceLength = void 0;\n                if (split.length === 1) {\n                    values[0] = preArray[j];\n                }\n                else {\n                    spliceLength = split[1].length;\n                    values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                    values[1] = split[1];\n                }\n                if (elSplit[4].indexOf('-') >= 0) {\n                    split = elSplit[4].split('-');\n                    if (split.length === 1) {\n                        values[0] = preArray[j];\n                    }\n                    else {\n                        spliceLength = split[1].length;\n                        values[0] = preArray[j].slice(0, -(spliceLength + 1));\n                        values[1] = split[1];\n                    }\n                }\n            }\n            else {\n                if (isAlpha && firstPart.includes('-')) {\n                    values[0] = firstPart;\n                }\n                else {\n                    values = preArray[j].split('+');\n                    if (preArray[j].indexOf('-') >= 0) {\n                        values = preArray[j].split('-');\n                    }\n                }\n            }\n            if (!isNullOrUndefined(values[0])) {\n                var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n                if (ids.indexOf(values[0]) === -1) {\n                    if (values[0].indexOf(' ') !== -1) {\n                        match = values[0].split(' ');\n                        if (match.length === 1) {\n                            match = values[0].match(/(\\d+|[A-z]+)/g);\n                        }\n                        strArray.push(match[0]);\n                    }\n                    else {\n                        if (values[0].length === 1 || values[0].length === 2) {\n                            strArray.push(values[0]);\n                        }\n                        else {\n                            strArray.push(values[0].slice(0, -2));\n                        }\n                    }\n                }\n                else {\n                    strArray.push(values[0]);\n                }\n            }\n            preIdArray.push((strArray.join('')));\n        }\n        return preIdArray;\n    };\n    ConnectorLineEdit.prototype.predecessorValidation = function (predecessor, record) {\n        var recordId = record.rowUniqueID;\n        var currentId;\n        var currentRecord;\n        for (var count = 0; count < predecessor.length; count++) {\n            currentId = predecessor[count];\n            var visitedIdArray = [];\n            var predecessorCollection = predecessor.slice(0);\n            predecessorCollection.splice(count, 1);\n            var _loop_1 = function () {\n                var currentIdArray = [];\n                if (visitedIdArray.indexOf(currentId) === -1) {\n                    //Predecessor id not in records collection\n                    if (isNullOrUndefined(this_1.parent.connectorLineModule.getRecordByID(currentId))) {\n                        return { value: false };\n                    }\n                    currentRecord = this_1.parent.connectorLineModule.getRecordByID(currentId).ganttProperties;\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentRecord.predecessor.forEach(function (value) {\n                            if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                currentIdArray.push(value.from.toString());\n                            }\n                        });\n                    }\n                    /* eslint-disable-next-line */\n                    if (recordId.toString() === currentRecord.rowUniqueID.toString() || currentIdArray.indexOf(recordId.toString()) !== -1) {\n                        return { value: false };\n                    }\n                    visitedIdArray.push(currentId);\n                    if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                        currentId = currentRecord.predecessor[0].from;\n                    }\n                    else {\n                        return \"break\";\n                    }\n                }\n                else {\n                    return \"break\";\n                }\n            };\n            var this_1 = this;\n            while (currentId !== null) {\n                var state_1 = _loop_1();\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n                if (state_1 === \"break\")\n                    break;\n            }\n        }\n        return true;\n    };\n    /**\n     * To validate predecessor relations\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validatePredecessorRelation = function (ganttRecord, predecessorString) {\n        var flag = true;\n        var recordId = this.parent.viewType === 'ResourceView' ? ganttRecord.ganttProperties.taskId\n            : ganttRecord.ganttProperties.rowUniqueID;\n        var predecessorIdArray;\n        var currentId;\n        if (!isNullOrUndefined(predecessorString) && predecessorString.length > 0) {\n            predecessorIdArray = this.idFromPredecessor(predecessorString);\n            var _loop_2 = function (count) {\n                //Check edited item has parent item in predecessor collection\n                if (!this_2.parent.allowParentDependency) {\n                    var checkParent = this_2.checkParentRelation(ganttRecord, predecessorIdArray);\n                    if (!checkParent) {\n                        return { value: false };\n                    }\n                }\n                else {\n                    if (parseInt(predecessorIdArray[predecessorIdArray.length - 1], 10) !== ganttRecord[this_2.parent.taskFields.id]) {\n                        var num = this_2.parent.ids.indexOf(predecessorIdArray[predecessorIdArray.length - 1]);\n                        var fromRecord = this_2.parent.currentViewData[num];\n                        if (fromRecord && ganttRecord) {\n                            flag = this_2.parent.predecessorModule.validateParentPredecessor(fromRecord, ganttRecord);\n                        }\n                    }\n                }\n                // Check if predecessor exist more then one\n                var tempIdArray = predecessorIdArray.slice(0);\n                var checkArray = [];\n                var countFlag = true;\n                tempIdArray.forEach(function (value) {\n                    if (checkArray.indexOf(value) === -1) {\n                        checkArray.push(value);\n                    }\n                    else {\n                        countFlag = false;\n                    }\n                });\n                if (!countFlag) {\n                    return { value: false };\n                }\n                //Cyclick check\n                currentId = predecessorIdArray[count];\n                var visitedIdArray = [];\n                var predecessorCollection = predecessorIdArray.slice(0);\n                predecessorCollection.splice(count, 1);\n                var _loop_3 = function () {\n                    var currentIdArray = [];\n                    var currentIdIndex;\n                    var currentRecord;\n                    if (visitedIdArray.indexOf(currentId) === -1) {\n                        //Predecessor id not in records collection\n                        if (isNullOrUndefined(this_2.parent.connectorLineModule.getRecordByID(currentId.toString()))) {\n                            return { value: false };\n                        }\n                        currentRecord = this_2.parent.connectorLineModule.getRecordByID(currentId.toString()).ganttProperties;\n                        //  let currentPredecessor='';\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            currentRecord.predecessor.forEach(function (value, index) {\n                                if (currentRecord.rowUniqueID.toString() !== value.from) {\n                                    currentIdArray.push(value.from.toString());\n                                    currentIdIndex = index;\n                                }\n                            });\n                            //    currentPredecessor=currentRecord.predecessor[0].from\n                        }\n                        if (recordId.toString() === currentRecord.rowUniqueID.toString() ||\n                            currentIdArray.indexOf(recordId.toString()) !== -1) {\n                            return { value: false };\n                        }\n                        visitedIdArray.push(currentId);\n                        if (!isNullOrUndefined(currentRecord.predecessor) && currentRecord.predecessor.length > 0) {\n                            var result = void 0;\n                            if (currentIdArray.length > 1) {\n                                result = this_2.predecessorValidation(currentIdArray, ganttRecord.ganttProperties);\n                            }\n                            else if (currentIdArray.length === 1) {\n                                currentId = currentRecord.predecessor[currentIdIndex].from;\n                            }\n                            if (result === false) {\n                                return { value: false };\n                            }\n                        }\n                        else {\n                            return \"break\";\n                        }\n                    }\n                    else {\n                        return \"break\";\n                    }\n                };\n                while (currentId !== null) {\n                    var state_3 = _loop_3();\n                    if (typeof state_3 === \"object\")\n                        return state_3;\n                    if (state_3 === \"break\")\n                        break;\n                }\n            };\n            var this_2 = this;\n            for (var count = 0; count < predecessorIdArray.length; count++) {\n                var state_2 = _loop_2(count);\n                if (typeof state_2 === \"object\")\n                    return state_2.value;\n            }\n        }\n        return flag;\n    };\n    /**\n     * To add dependency for Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addPredecessor = function (ganttRecord, predecessorString) {\n        var tempPredecessorString = isNullOrUndefined(ganttRecord.ganttProperties.predecessorsName) ||\n            ganttRecord.ganttProperties.predecessorsName === '' ?\n            predecessorString : (ganttRecord.ganttProperties.predecessorsName + ',' + predecessorString);\n        this.updatePredecessorHelper(ganttRecord, tempPredecessorString);\n    };\n    /**\n     * To remove dependency from task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessor = function (ganttRecord) {\n        this.isPublicDependencyDelete = true;\n        this.updatePredecessorHelper(ganttRecord, null);\n    };\n    /**\n     * To modify current dependency values of Task\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {string} predecessorString .\n     * @param {ITaskbarEditedEventArgs} editedArgs .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.updatePredecessor = function (ganttRecord, predecessorString, editedArgs) {\n        return this.updatePredecessorHelper(ganttRecord, predecessorString, editedArgs);\n    };\n    ConnectorLineEdit.prototype.updatePredecessorHelper = function (ganttRecord, predecessorString, editedArgs) {\n        if (isUndefined(predecessorString) || this.validatePredecessorRelation(ganttRecord, predecessorString)) {\n            this.parent.isOnEdit = true;\n            var predecessorCollection = [];\n            if (!isNullOrUndefined(predecessorString) && predecessorString !== '') {\n                predecessorCollection = this.parent.predecessorModule.calculatePredecessor(predecessorString, ganttRecord);\n            }\n            this.parent.setRecordValue('predecessor', predecessorCollection, ganttRecord.ganttProperties, true);\n            var stringValue = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', stringValue, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, stringValue, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, stringValue, ganttRecord);\n            var args = {};\n            args.action = editedArgs && editedArgs.action && editedArgs.action === 'CellEditing' ? editedArgs.action : ((this.parent.contextMenuModule && this.parent.contextMenuModule['isCntxtMenuDependencyDelete']) ||\n                this.isPublicDependencyDelete) ? 'DeleteConnectorLine' : 'DrawConnectorLine';\n            args.data = ganttRecord;\n            this.parent.editModule.initiateUpdateAction(args);\n            return true;\n        }\n        else {\n            if (ganttRecord.taskData[this.parent.taskFields.dependency]) {\n                ganttRecord.taskData[this.parent.taskFields.dependency] = null;\n            }\n            var err = predecessorString + \" is an invalid relation for task \" + this.parent.taskFields.id + \". Kindly ensure the \" + this.parent.taskFields.dependency + \" field contains only valid predecessor relations.\";\n            this.parent.trigger('actionFailure', { error: err });\n            return false;\n        }\n    };\n    ConnectorLineEdit.prototype.checkParentRelation = function (ganttRecord, predecessorIdArray) {\n        var editingData = ganttRecord;\n        var checkParent = true;\n        if (editingData && editingData.parentItem) {\n            if (predecessorIdArray.indexOf(editingData.parentItem.taskId.toString()) !== -1) {\n                return false;\n            }\n        }\n        var _loop_4 = function (p) {\n            var record = this_3.parent.currentViewData.filter(function (item) {\n                return item && item.ganttProperties.rowUniqueID.toString() === predecessorIdArray[p].toString();\n            });\n            if (record[0] && record[0].hasChildRecords) {\n                return { value: false };\n            }\n        };\n        var this_3 = this;\n        for (var p = 0; p < predecessorIdArray.length; p++) {\n            var state_4 = _loop_4(p);\n            if (typeof state_4 === \"object\")\n                return state_4.value;\n        }\n        return checkParent;\n    };\n    ConnectorLineEdit.prototype.initPredecessorValidationDialog = function () {\n        if (this.parent.taskFields.dependency && this.parent.isInPredecessorValidation) {\n            var dialogElement = createElement('div', {\n                id: this.parent.element.id + '_dialogValidationRule'\n            });\n            this.parent.element.appendChild(dialogElement);\n            this.renderValidationDialog();\n        }\n    };\n    /**\n     * To render validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderValidationDialog = function () {\n        var validationDialog = new Dialog({\n            header: 'Validate Editing',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            visible: false,\n            width: '50%',\n            showCloseIcon: true,\n            close: this.validationDialogClose.bind(this),\n            content: '',\n            buttons: [\n                {\n                    click: this.validationDialogOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.validationDialogCancelButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        document.getElementById(this.parent.element.id + '_dialogValidationRule').innerHTML = '';\n        validationDialog.isStringTemplate = true;\n        validationDialog.appendTo('#' + this.parent.element.id + '_dialogValidationRule');\n        this.parent.validationDialogElement = validationDialog;\n    };\n    ConnectorLineEdit.prototype.validationDialogOkButton = function () {\n        var currentArgs = this.parent.currentEditedArgs;\n        currentArgs.validateMode.preserveLinkWithEditing =\n            document.getElementById(this.parent.element.id + '_ValidationAddlineOffset').checked;\n        currentArgs.validateMode.removeLink =\n            document.getElementById(this.parent.element.id + '_ValidationRemoveline').checked;\n        currentArgs.validateMode.respectLink =\n            document.getElementById(this.parent.element.id + '_ValidationCancel').checked;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogCancelButton = function () {\n        this.parent.currentEditedArgs.validateMode.respectLink = true;\n        this.applyPredecessorOption();\n        this.parent.validationDialogElement.hide();\n    };\n    ConnectorLineEdit.prototype.validationDialogClose = function (e) {\n        if (getValue('isInteraction', e)) {\n            this.parent.currentEditedArgs.validateMode.respectLink = true;\n            this.applyPredecessorOption();\n        }\n    };\n    /**\n     * Validate and apply the predecessor option from validation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.applyPredecessorOption = function () {\n        var args = this.parent.currentEditedArgs;\n        var ganttRecord = args.data;\n        if (args.validateMode.respectLink) {\n            this.parent.editModule.reUpdatePreviousRecords();\n            this.parent.chartRowsModule.refreshRecords([args.data]);\n        }\n        else if (args.validateMode.removeLink) {\n            this.checkChildRecords(ganttRecord);\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n        }\n        else if (args.validateMode.preserveLinkWithEditing) {\n            var connectedTaskId_1;\n            if (this.parent.updateOffsetOnTaskbarEdit) {\n                var taskId_1 = ganttRecord.ganttProperties.taskId;\n                if (ganttRecord.ganttProperties.predecessor) {\n                    ganttRecord.ganttProperties.predecessor.forEach(function (predecessor) {\n                        if (taskId_1 === predecessor.from) {\n                            connectedTaskId_1 = predecessor.to;\n                            return;\n                        }\n                    });\n                }\n            }\n            this.parent.editModule.updateEditedTask(args.editEventArgs);\n            this.processPredecessors(connectedTaskId_1);\n        }\n    };\n    ConnectorLineEdit.prototype.compareArrays = function (arr1, arr2) {\n        if (arr1.length !== arr2.length) {\n            return false;\n        }\n        var str1 = JSON.stringify(arr1);\n        var str2 = JSON.stringify(arr2);\n        return str1 === str2;\n    };\n    ConnectorLineEdit.prototype.processPredecessors = function (parentId) {\n        var _this = this;\n        if (parentId) {\n            var record_1 = this.parent.getRecordByID(parentId);\n            if (record_1 && record_1.ganttProperties && record_1.ganttProperties.predecessor) {\n                this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n                this.calculateOffset(record_1);\n                var isIdInclude_1 = true;\n                /* eslint-disable-next-line */\n                var matchedObject = this.validatedId.find(function (item) {\n                    return item.id === record_1.ganttProperties.taskId;\n                });\n                if (matchedObject) {\n                    var predecessorArray = matchedObject.value;\n                    var areArraysEqual = this.compareArrays(predecessorArray, record_1.ganttProperties.predecessor);\n                    if (areArraysEqual) {\n                        isIdInclude_1 = false;\n                    }\n                }\n                var predecessors = record_1.ganttProperties.predecessor;\n                predecessors.forEach(function (predecessor) {\n                    if (record_1.ganttProperties.taskId === predecessor.from && isIdInclude_1) {\n                        _this.processPredecessors(predecessor.to);\n                    }\n                });\n            }\n        }\n    };\n    ConnectorLineEdit.prototype.checkChildRecords = function (ganttRecord) {\n        this.validationPredecessor = ganttRecord.ganttProperties.predecessor;\n        if (!isNullOrUndefined(this.validationPredecessor)) {\n            this.removePredecessors(ganttRecord, this.validationPredecessor);\n        }\n        if (ganttRecord.childRecords.length > 0) {\n            for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                var childRecord = ganttRecord.childRecords[i];\n                this.validationPredecessor = childRecord.ganttProperties.predecessor;\n                if (!isNullOrUndefined(this.validationPredecessor)) {\n                    this.removePredecessors(childRecord, this.validationPredecessor);\n                }\n                if (childRecord.childRecords.length > 0) {\n                    this.checkChildRecords(childRecord);\n                }\n            }\n        }\n        else if (!isNullOrUndefined(ganttRecord.parentItem)) {\n            var parentRecord = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            this.validationPredecessor = parentRecord.ganttProperties.predecessor;\n            this.removePredecessors(parentRecord, this.validationPredecessor);\n        }\n    };\n    ConnectorLineEdit.prototype.compareObjects = function (obj1, obj2) {\n        var keys1 = Object.keys(obj1).filter(function (key) { return key !== 'offset'; });\n        var keys2 = Object.keys(obj2).filter(function (key) { return key !== 'offset'; });\n        if (keys1.length !== keys2.length) {\n            return false;\n        }\n        return keys1.every(function (key) { return obj1[key] === obj2[key]; });\n    };\n    ConnectorLineEdit.prototype.calculateOffset = function (record, isRecursive) {\n        var _this = this;\n        if (!this.parent.autoCalculateDateScheduling || (this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand\n            && this.parent.taskFields.hasChildMapping)) {\n            return;\n        }\n        if (record && isScheduledTask(record.ganttProperties) !== null) {\n            var prevPredecessor = extend([], record.ganttProperties.predecessor, [], true);\n            var validPredecessor_1 = this.parent.predecessorModule.getValidPredecessor(record);\n            if (validPredecessor_1.length > 0) {\n                this.cumulativePredecessorChanges = prevPredecessor;\n                var _loop_5 = function (i) {\n                    var predecessor = validPredecessor_1[parseInt(i.toString(), 10)];\n                    var parentTask = this_4.parent.connectorLineModule.getRecordByID(predecessor.from);\n                    if (this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && this_4.parent.viewType === 'ProjectView') {\n                        var isPresent = parentTask.ganttProperties.predecessor.filter(function (pred) {\n                            return pred.from === validPredecessor_1[i].from && pred.to === validPredecessor_1[i].to;\n                        });\n                        if (isPresent.length === 0) {\n                            parentTask.ganttProperties.predecessor.push(validPredecessor_1[i]);\n                        }\n                    }\n                    var offset = void 0;\n                    if ((parentTask.ganttProperties.startDate || parentTask.ganttProperties.endDate) &&\n                        (record.ganttProperties.startDate || record.ganttProperties.endDate)) {\n                        var tempStartDate = void 0;\n                        var tempEndDate = void 0;\n                        var tempDuration = void 0;\n                        var isNegativeOffset = void 0;\n                        switch (predecessor.type) {\n                            case 'FS':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SS':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.startDate || record.ganttProperties.endDate).getTime());\n                                break;\n                            case 'SF':\n                                tempStartDate = new Date((parentTask.ganttProperties.startDate ||\n                                    parentTask.ganttProperties.endDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                            case 'FF':\n                                tempStartDate = new Date((parentTask.ganttProperties.endDate ||\n                                    parentTask.ganttProperties.startDate).getTime());\n                                tempEndDate = new Date((record.ganttProperties.endDate || record.ganttProperties.startDate).getTime());\n                                break;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempStartDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempEndDate, null);\n                            isNegativeOffset = false;\n                        }\n                        else {\n                            var tempDate = new Date(tempStartDate.getTime());\n                            tempStartDate = this_4.dateValidateModule.checkStartDate(tempEndDate);\n                            tempEndDate = this_4.dateValidateModule.checkEndDate(tempDate, null);\n                            isNegativeOffset = true;\n                        }\n                        if (tempStartDate.getTime() < tempEndDate.getTime()) {\n                            tempDuration = this_4.dateValidateModule.getDuration(tempStartDate, tempEndDate, predecessor.offsetUnit, true, false);\n                            if (this_4.parent.durationUnit === predecessor.offsetUnit &&\n                                ((parentTask.ganttProperties.startDate && isNullOrUndefined(parentTask.ganttProperties.endDate)) ||\n                                    (isNullOrUndefined(parentTask.ganttProperties.startDate) && parentTask.ganttProperties.endDate))) {\n                                tempDuration = tempDuration - 1;\n                            }\n                            offset = isNegativeOffset ? (tempDuration * -1) : tempDuration;\n                        }\n                        else {\n                            offset = 0;\n                        }\n                    }\n                    else {\n                        offset = 0;\n                    }\n                    var preIndex = getIndex(predecessor, 'from', prevPredecessor, 'to');\n                    if (preIndex !== -1) {\n                        prevPredecessor[preIndex].offset = offset;\n                    }\n                    // Update predecessor in predecessor task\n                    var parentPredecessors = extend([], parentTask.ganttProperties.predecessor, [], true);\n                    var parentPreIndex = getIndex(predecessor, 'from', parentPredecessors, 'to');\n                    if (parentPreIndex !== -1) {\n                        parentPredecessors[parentPreIndex].offset = offset;\n                    }\n                    this_4.parent.setRecordValue('predecessor', parentPredecessors, parentTask.ganttProperties, true);\n                };\n                var this_4 = this;\n                for (var i = 0; i < validPredecessor_1.length; i++) {\n                    _loop_5(i);\n                }\n            }\n            else {\n                var validPredecessor_2 = record.ganttProperties.predecessor;\n                if (validPredecessor_2) {\n                    if (validPredecessor_2.length > 0) {\n                        validPredecessor_2.forEach(function (element) {\n                            if (_this.validatedOffsetIds.indexOf(element.to) === -1) {\n                                if (_this.parent.viewType === 'ResourceView') {\n                                    _this.validatedOffsetIds.push(element.to);\n                                    _this.calculateOffset(_this.parent.getRecordByID((_this.parent.taskIds.indexOf('T' + element.to)).toString()), true);\n                                }\n                                else {\n                                    _this.calculateOffset(_this.parent.getRecordByID(element.to), true);\n                                }\n                            }\n                        });\n                    }\n                }\n            }\n            if (!isRecursive) {\n                if (validPredecessor_1.length === 0) {\n                    this.cumulativePredecessorChanges = [];\n                }\n                if (prevPredecessor && prevPredecessor.length > 0 && this.cumulativePredecessorChanges &&\n                    this.cumulativePredecessorChanges.length > 0) {\n                    var matchingObjects = prevPredecessor.map(function (objectToCompare) {\n                        var matchedObject = _this.cumulativePredecessorChanges.find(function (obj) { return _this.compareObjects(obj, objectToCompare); });\n                        return matchedObject ? __assign({}, matchedObject) : null;\n                    }).filter(function (matchedObject) { return matchedObject !== null; });\n                    this.parent.setRecordValue('predecessor', matchingObjects, record.ganttProperties, true);\n                }\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevPredecessor, record.ganttProperties, true);\n            }\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n            this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n            if (this.validatedOffsetIds.indexOf(record.ganttProperties.taskId.toString()) === -1) {\n                this.validatedOffsetIds.push(record.ganttProperties.taskId.toString());\n            }\n            if (record.hasChildRecords) {\n                for (var i = 0; i < record.childRecords.length; i++) {\n                    if (this.validatedOffsetIds.indexOf(record.childRecords[i].ganttProperties.taskId.toString()) === -1 &&\n                        record.childRecords[i].ganttProperties.predecessor &&\n                        record.childRecords[i].ganttProperties.predecessor.length > 0) {\n                        this.calculateOffset(record.childRecords[i]);\n                    }\n                }\n            }\n            else if (record.parentItem) {\n                var parentItem = this.parent.getRecordByID(record.parentItem.taskId);\n                if (this.validatedOffsetIds.indexOf(parentItem.ganttProperties.taskId.toString()) === -1 &&\n                    parentItem.ganttProperties.predecessor && parentItem.ganttProperties.predecessor.length > 0) {\n                    this.calculateOffset(parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Update predecessor value with user selection option in predecessor validation dialog\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {IPredecessor[]} predecessor .\n     * @returns {void} .\n     */\n    ConnectorLineEdit.prototype.removePredecessors = function (ganttRecord, predecessor) {\n        var prevPredecessor = extend([], [], ganttRecord.ganttProperties.predecessor, true);\n        if (isNullOrUndefined(predecessor)) {\n            return;\n        }\n        var preLength = predecessor.length;\n        for (var i = 0; i < preLength; i++) {\n            var parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n            var index = getIndex(predecessor[i], 'from', prevPredecessor, 'to');\n            prevPredecessor.splice(index, 1);\n            var parentIndex = getIndex(predecessor[parseInt(i.toString(), 10)], 'from', parentPredecessor, 'to');\n            parentPredecessor.splice(parentIndex, 1);\n            this.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n        }\n        if (prevPredecessor.length !== ganttRecord.ganttProperties.predecessor.length) {\n            this.parent.setRecordValue('predecessor', prevPredecessor, ganttRecord.ganttProperties, true);\n            var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(ganttRecord);\n            this.parent.setRecordValue('predecessorsName', predecessorString, ganttRecord.ganttProperties, true);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, ganttRecord);\n            this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, ganttRecord);\n        }\n    };\n    /**\n     * To open predecessor validation dialog\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.openValidationDialog = function (args) {\n        var contentTemplate = this.validationDialogTemplate(args);\n        this.parent.validationDialogElement.setProperties({ content: contentTemplate });\n        this.parent.validationDialogElement.show();\n    };\n    /**\n     * Predecessor link validation dialog template\n     *\n     * @param {object} args .\n     * @returns {HTMLElement} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validationDialogTemplate = function (args) {\n        var ganttId = this.parent.element.id;\n        var contentdiv = createElement('div', {\n            className: 'e-ValidationContent'\n        });\n        var taskData = getValue('task', args);\n        var parenttaskData = getValue('parentTask', args);\n        var violationType = getValue('violationType', args);\n        var recordName = taskData.ganttProperties.taskName;\n        var recordNewStartDate = this.parent.getFormatedDate(taskData.ganttProperties.startDate, this.parent.dateFormat);\n        var parentName = parenttaskData.ganttProperties.taskName;\n        var recordArgs = [recordName, parentName];\n        var topContentText;\n        if (violationType === 'taskBeforePredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FS');\n        }\n        else if (violationType === 'taskAfterPredecessor_FS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FS');\n        }\n        else if (violationType === 'taskBeforePredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SS');\n        }\n        else if (violationType === 'taskAfterPredecessor_SS') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SS');\n        }\n        else if (violationType === 'taskBeforePredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_FF');\n        }\n        else if (violationType === 'taskAfterPredecessor_FF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_FF');\n        }\n        else if (violationType === 'taskBeforePredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskBeforePredecessor_SF');\n        }\n        else if (violationType === 'taskAfterPredecessor_SF') {\n            topContentText = this.parent.localeObj.getConstant('taskAfterPredecessor_SF');\n        }\n        topContentText = formatString(topContentText, recordArgs);\n        var topContent = '<div id=\"' + ganttId + '_ValidationText\">' + topContentText + '<div>';\n        var innerTable = '<table>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationCancel\" name=\"ValidationRule\" checked/><label for=\"'\n            + ganttId + '_ValidationCancel\" id= \"' + ganttId + '_cancelLink\">Cancel, keep the existing link</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationRemoveline\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationRemoveline\" id=\"' + ganttId + '_removeLink\">Remove the link and move <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b>.</label></td></tr>' +\n            '<tr><td><input type=\"radio\" id=\"' + ganttId + '_ValidationAddlineOffset\" name=\"ValidationRule\"/><label for=\"'\n            + ganttId + '_ValidationAddlineOffset\" id=\"' + ganttId + '_preserveLink\">Move the <b>'\n            + recordName + '</b> to start on <b>' + recordNewStartDate + '</b> and keep the link.</label></td></tr></table>';\n        contentdiv.innerHTML = topContent + innerTable;\n        return contentdiv;\n    };\n    /**\n     * To validate the types while editing the taskbar\n     *\n     * @param {IGanttData} ganttRecord .\n     * @param {any} data .\n     * @returns {boolean} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.validateTypes = function (ganttRecord, data) {\n        var predecessor = this.parent.predecessorModule.getValidPredecessor(ganttRecord);\n        var parentGanttRecord;\n        this.validationPredecessor = [];\n        var violatedParent;\n        var ganttTaskData;\n        var violateType;\n        var startDate = this.parent.predecessorModule.getPredecessorDate(ganttRecord, predecessor);\n        if (data) {\n            ganttTaskData = data.ganttProperties;\n        }\n        else {\n            ganttTaskData = ganttRecord.ganttProperties;\n        }\n        var endDate = this.parent.allowUnscheduledTasks && isNullOrUndefined(startDate) ?\n            ganttTaskData.endDate :\n            this.dateValidateModule.getEndDate(startDate, ganttTaskData.duration, ganttTaskData.durationUnit, ganttTaskData, false);\n        for (var i = 0; i < predecessor.length; i++) {\n            parentGanttRecord = this.parent.connectorLineModule.getRecordByID(predecessor[i].from);\n            var violationType = null;\n            if (predecessor[i].type === 'FS') {\n                if (this.parent.dateValidationModule.getDuration(startDate, ganttTaskData.startDate, this.parent.durationUnit, ganttTaskData.isAutoSchedule, ganttTaskData.isMilestone, true) !== 0) {\n                    if (ganttTaskData.startDate < startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FS';\n                    }\n                    else if (ganttTaskData.startDate > startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FS';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SS') {\n                var endDateOlny = new Date(ganttTaskData.endDate);\n                var startDateOlny = new Date(startDate);\n                if (ganttTaskData.startDate < startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (ganttTaskData.startDate > startDate) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) < startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskBeforePredecessor_SS';\n                }\n                else if (this.parent.allowUnscheduledTasks &&\n                    isNullOrUndefined(ganttTaskData.startDate) &&\n                    isNullOrUndefined(ganttTaskData.duration) &&\n                    endDateOlny.setHours(0, 0, 0, 0) > startDateOlny.setHours(0, 0, 0, 0)) {\n                    this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                    violationType = 'taskAfterPredecessor_SS';\n                }\n            }\n            else if (predecessor[i].type === 'FF') {\n                if (this.parent.dateValidationModule.getDuration(startDate, parentGanttRecord.ganttProperties.endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate <= parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_FF';\n                    }\n                    else if (endDate > parentGanttRecord.ganttProperties.endDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_FF';\n                    }\n                }\n            }\n            else if (predecessor[i].type === 'SF') {\n                if (this.parent.dateValidationModule.getDuration(parentGanttRecord.ganttProperties.startDate, endDate, this.parent.durationUnit, parentGanttRecord.ganttProperties.isAutoSchedule, parentGanttRecord.ganttProperties.isMilestone, true) !== 0) {\n                    if (endDate < parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskBeforePredecessor_SF';\n                    }\n                    else if (endDate >= parentGanttRecord.ganttProperties.startDate) {\n                        this.validationPredecessor.push(predecessor[parseInt(i.toString(), 10)]);\n                        violationType = 'taskAfterPredecessor_SF';\n                    }\n                }\n            }\n            if (!isNullOrUndefined(violationType) && isNullOrUndefined(violateType)) {\n                violatedParent = parentGanttRecord;\n                violateType = violationType;\n            }\n        }\n        var validateArgs = {\n            parentTask: violatedParent,\n            task: ganttRecord,\n            violationType: violateType\n        };\n        return validateArgs;\n    };\n    /**\n     * Method to remove and update new predecessor collection in successor record\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.addRemovePredecessor = function (data) {\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        var newPredecessor = data.ganttProperties.predecessor.slice();\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            var prevPredecessor_1 = prevData.ganttProperties.predecessor;\n            if (!isNullOrUndefined(prevPredecessor_1)) {\n                var _loop_6 = function (p) {\n                    var parentGanttRecord = this_5.parent.connectorLineModule.getRecordByID(prevPredecessor_1[parseInt(p.toString(), 10)].from);\n                    if (parentGanttRecord === data) {\n                        var isValid = data.ganttProperties.predecessor.filter(function (pred) {\n                            return prevPredecessor_1[p].from === pred.from && prevPredecessor_1[p].to === pred.to;\n                        });\n                        if (isValid.length === 0) {\n                            if (data.parentItem && this_5.parent.taskFields.dependency && data.ganttProperties.predecessor &&\n                                this_5.parent.allowParentDependency) {\n                                if (prevPredecessor_1[p].from !== data.parentItem.taskId &&\n                                    prevPredecessor_1[p].to !== data.parentItem.taskId) {\n                                    data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                                }\n                            }\n                            else {\n                                data.ganttProperties.predecessor.push(prevPredecessor_1[parseInt(p.toString(), 10)]);\n                            }\n                        }\n                    }\n                    else {\n                        var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                        var parentIndex = getIndex(prevPredecessor_1[parseInt(p.toString(), 10)], 'from', parentPredecessor, 'to');\n                        if (parentIndex !== -1) {\n                            parentPredecessor.splice(parentIndex, 1);\n                            this_5.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                        }\n                    }\n                };\n                var this_5 = this;\n                for (var p = 0; p < prevPredecessor_1.length; p++) {\n                    _loop_6(p);\n                }\n            }\n            if (!isNullOrUndefined(newPredecessor)) {\n                var _loop_7 = function (n) {\n                    var parentGanttRecord = this_6.parent.connectorLineModule.getRecordByID(newPredecessor[parseInt(n.toString(), 10)].from);\n                    var parentPredecessor = extend([], [], parentGanttRecord.ganttProperties.predecessor, true);\n                    var isValid = parentPredecessor.filter(function (pred) {\n                        return newPredecessor[n].from === pred.from && newPredecessor[n].to === pred.to;\n                    });\n                    if (isValid.length === 0) {\n                        parentPredecessor.push(newPredecessor[parseInt(n.toString(), 10)]);\n                        this_6.parent.setRecordValue('predecessor', parentPredecessor, parentGanttRecord.ganttProperties, true);\n                    }\n                };\n                var this_6 = this;\n                for (var n = 0; n < newPredecessor.length; n++) {\n                    _loop_7(n);\n                }\n            }\n        }\n    };\n    /**\n     * Method to remove a predecessor from a record.\n     *\n     * @param {IGanttData} childRecord .\n     * @param {number} index .\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.removePredecessorByIndex = function (childRecord, index) {\n        if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.undoRedoModule['redoEnabled']) {\n                this.parent.undoRedoModule['disableRedo']();\n            }\n            this.parent.undoRedoModule['createUndoCollection']();\n            var details = {};\n            details['action'] = 'DeleteDependency';\n            details['modifiedRecords'] = extend([], [childRecord], [], true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n        }\n        var childPredecessor = childRecord.ganttProperties.predecessor;\n        var predecessor = childPredecessor.splice(index, 1);\n        var parentRecord = this.parent.connectorLineModule.getRecordByID(predecessor[0].from);\n        var parentPredecessor = parentRecord.ganttProperties.predecessor;\n        var parentIndex = getIndex(predecessor[0], 'from', parentPredecessor, 'to');\n        parentPredecessor.splice(parentIndex, 1);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(childRecord);\n        childPredecessor.push(predecessor[0]);\n        this.parent.connectorLineEditModule.updatePredecessor(childRecord, predecessorString);\n    };\n    /**\n     * To render predecessor delete confirmation dialog\n     *\n     * @returns {void} .\n     * @private\n     */\n    ConnectorLineEdit.prototype.renderPredecessorDeleteConfirmDialog = function () {\n        this.confirmPredecessorDialog = new Dialog({\n            width: '320px',\n            isModal: true,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmPredecessorDelete'),\n            buttons: [\n                {\n                    click: this.confirmOkDeleteButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.confirmCloseDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        var confirmDialog = createElement('div', {\n            id: this.parent.element.id + '_deletePredecessorConfirmDialog'\n        });\n        this.parent.element.appendChild(confirmDialog);\n        this.confirmPredecessorDialog.isStringTemplate = true;\n        this.confirmPredecessorDialog.appendTo(confirmDialog);\n    };\n    ConnectorLineEdit.prototype.confirmCloseDialog = function () {\n        this.confirmPredecessorDialog.destroy();\n    };\n    ConnectorLineEdit.prototype.confirmOkDeleteButton = function () {\n        this.removePredecessorByIndex(this.childRecord, this.predecessorIndex);\n        this.confirmPredecessorDialog.destroy();\n    };\n    return ConnectorLineEdit;\n}());\nexport { ConnectorLineEdit };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { isNullOrUndefined, isUndefined, extend, setValue, getValue, deleteObject, createElement } from '@syncfusion/ej2-base';\nimport { DataManager, Query, ODataAdaptor, WebApiAdaptor, ODataV4Adaptor } from '@syncfusion/ej2-data';\nimport { getSwapKey, isScheduledTask, getTaskData, isRemoteData, getIndex, isCountRequired, updateDates } from '../base/utils';\nimport { CellEdit } from './cell-edit';\nimport { TaskbarEdit } from './taskbar-edit';\nimport { DialogEdit } from './dialog-edit';\nimport { Dialog } from '@syncfusion/ej2-popups';\nimport { MultiSelect, CheckBoxSelection, DropDownList } from '@syncfusion/ej2-dropdowns';\nimport { ConnectorLineEdit } from './connector-line-edit';\nimport { TreeGrid, Edit as TreeGridEdit } from '@syncfusion/ej2-treegrid';\n/**\n * The Edit Module is used to handle editing actions.\n *\n */\nvar Edit = /** @class */ (function () {\n    function Edit(parent) {\n        this.isFromDeleteMethod = false;\n        this.targetedRecords = [];\n        this.isNewRecordAdded = false;\n        this.isValidatedEditedRecord = false;\n        this.createArray = true;\n        this.deletedRecord = [];\n        this.canReset = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.confirmDialog = null;\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        this.isBreakLoop = false;\n        this.isDialogEditing = false;\n        /**\n         * @private\n         */\n        this.deletedTaskDetails = [];\n        this.parent = parent;\n        this.parent.predecessorModule.validatedChildItems = [];\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Auto') {\n            this.cellEditModule = new CellEdit(this.parent);\n        }\n        if (this.parent.taskFields.dependency) {\n            this.parent.connectorLineEditModule = new ConnectorLineEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowAdding || (this.parent.editSettings.allowEditing &&\n            (this.parent.editSettings.mode === 'Dialog' || this.parent.editSettings.mode === 'Auto'))) {\n            this.dialogModule = new DialogEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowTaskbarEditing) {\n            this.taskbarEditModule = new TaskbarEdit(this.parent);\n        }\n        if (this.parent.editSettings.allowDeleting) {\n            var confirmDialog = createElement('div', {\n                id: this.parent.element.id + '_deleteConfirmDialog'\n            });\n            this.parent.element.appendChild(confirmDialog);\n            this.renderDeleteConfirmDialog();\n        }\n        this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n        this.parent.treeGrid.editSettings.allowAdding = this.parent.editSettings.allowAdding;\n        this.parent.treeGrid.editSettings.allowDeleting = this.parent.editSettings.allowDeleting;\n        this.parent.treeGrid.editSettings.showDeleteConfirmDialog = this.parent.editSettings.showDeleteConfirmDialog;\n        this.parent.treeGrid.editSettings.allowNextRowEdit = this.parent.editSettings.allowNextRowEdit;\n        if (this.parent.editSettings.mode === 'Dialog') {\n            TreeGrid.Inject(TreeGridEdit);\n        }\n        this.updateDefaultColumnEditors();\n    }\n    Edit.prototype.getModuleName = function () {\n        return 'edit';\n    };\n    /**\n     * Method to update default edit params and editors for Gantt\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.updateDefaultColumnEditors = function () {\n        var customEditorColumns = [this.parent.taskFields.id, this.parent.taskFields.progress, this.parent.taskFields.resourceInfo,\n            this.parent.taskFields.type, 'taskType'];\n        for (var i = 0; i < customEditorColumns.length; i++) {\n            if (!isNullOrUndefined(customEditorColumns[i]) && customEditorColumns[i].length > 0) {\n                var column = this.parent.getColumnByField(customEditorColumns[parseInt(i.toString(), 10)], this.parent.treeGridModule.treeGridColumns);\n                if (column) {\n                    if (column.field === this.parent.taskFields.id) {\n                        this.updateIDColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.progress && isNullOrUndefined(column.edit)) {\n                        this.updateProgessColumnEditParams(column);\n                    }\n                    else if (column.field === this.parent.taskFields.resourceInfo) {\n                        this.updateResourceColumnEditor(column);\n                    }\n                    else if (column.field === this.parent.taskFields.type || column.field === 'taskType') {\n                        this.updateTaskTypeColumnEditor(column);\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Method to update editors for id column in Gantt\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateIDColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            decimals: 0,\n            enableRtl: this.parent.enableRtl,\n            validateDecimalOnType: true,\n            format: 'n0',\n            showSpinButton: false\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Method to update edit params of default progress column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateProgessColumnEditParams = function (column) {\n        var editParam = {\n            min: 0,\n            enableRtl: this.parent.enableRtl,\n            decimals: 0,\n            validateDecimalOnType: true,\n            max: 100,\n            format: 'n0'\n        };\n        this.updateEditParams(column, editParam);\n    };\n    /**\n     * Assign edit params for id and progress columns\n     *\n     * @param {ColumnModel} column .\n     * @param {object} editParam .\n     * @returns {void} .\n     */\n    Edit.prototype.updateEditParams = function (column, editParam) {\n        if (isNullOrUndefined(column.edit)) {\n            column.edit = {};\n            column.edit.params = {};\n        }\n        else if (isNullOrUndefined(column.edit.params)) {\n            column.edit.params = {};\n        }\n        extend(editParam, column.edit.params);\n        column.edit.params = editParam;\n        var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n        ganttColumn.edit = column.edit;\n    };\n    /**\n     * Method to update resource column editor for default resource column\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceColumnEditor = function (column) {\n        this.parent.treeGridModule.currentEditRow = {};\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getResourceEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create resource custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getResourceEditor = function () {\n        var _this = this;\n        var resourceSettings = this.parent.resourceFields;\n        var editObject = {};\n        var editor;\n        MultiSelect.Inject(CheckBoxSelection);\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new MultiSelect({\n                dataSource: new DataManager(_this.parent.resources),\n                fields: { text: resourceSettings.name, value: resourceSettings.id },\n                enableRtl: _this.parent.enableRtl,\n                mode: 'CheckBox',\n                showDropDownIcon: true,\n                popupHeight: '350px',\n                delimiterChar: ',',\n                value: _this.parent.treeGridModule.getResourceIds(args.rowData)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var resourcesName = [];\n            if (isNullOrUndefined(value)) {\n                value = [];\n            }\n            for (var i = 0; i < value.length; i++) {\n                for (var j = 0; j < _this.parent.resources.length; j++) {\n                    if (_this.parent.resources[j][resourceSettings.id] === value[i]) {\n                        resourcesName.push(_this.parent.resources[j][resourceSettings.name]);\n                        break;\n                    }\n                }\n            }\n            _this.parent.treeGridModule.currentEditRow[_this.parent.taskFields.resourceInfo] = value;\n            return resourcesName.join(',');\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * Method to update task type column editor for task type\n     *\n     * @param {ColumnModel} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskTypeColumnEditor = function (column) {\n        if (this.parent.editSettings.allowEditing && isNullOrUndefined(column.edit) && this.parent.editSettings.mode === 'Auto') {\n            column.editType = 'dropdownedit';\n            column.edit = this.getTaskTypeEditor();\n            var ganttColumn = this.parent.getColumnByField(column.field, this.parent.ganttColumns);\n            ganttColumn.editType = 'dropdownedit';\n            ganttColumn.edit = column.edit;\n        }\n    };\n    /**\n     * Method to create task type custom editor\n     *\n     * @returns {IEditCell} .\n     */\n    Edit.prototype.getTaskTypeEditor = function () {\n        var _this = this;\n        var editObject = {};\n        var editor;\n        var types = [{ 'ID': 1, 'Value': 'FixedUnit' }, { 'ID': 2, 'Value': 'FixedWork' }, { 'ID': 3, 'Value': 'FixedDuration' }];\n        editObject.write = function (args) {\n            _this.parent.treeGridModule.currentEditRow = {};\n            editor = new DropDownList({\n                dataSource: new DataManager(types),\n                enableRtl: _this.parent.enableRtl,\n                fields: { value: 'Value' },\n                popupHeight: '350px',\n                value: getValue('taskType', args.rowData.ganttProperties)\n            });\n            editor.appendTo(args.element);\n        };\n        editObject.read = function (element) {\n            var value = element.ej2_instances[0].value;\n            var key = _this.parent.taskFields.type || 'taskType';\n            _this.parent.treeGridModule.currentEditRow[key] = value;\n            return value;\n        };\n        editObject.destroy = function () {\n            if (editor) {\n                editor.destroy();\n            }\n        };\n        return editObject;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdateEditModules = function () {\n        var editSettings = this.parent.editSettings;\n        if (editSettings.allowEditing) {\n            if (this.parent.editModule.cellEditModule && editSettings.mode === 'Dialog') {\n                this.cellEditModule.destroy();\n                this.parent.treeGrid.recordDoubleClick = this.recordDoubleClick.bind(this);\n            }\n            else if (isNullOrUndefined(this.parent.editModule.cellEditModule) && editSettings.mode === 'Auto') {\n                this.cellEditModule = new CellEdit(this.parent);\n            }\n            if (this.parent.editModule.dialogModule && editSettings.mode === 'Auto') {\n                this.parent.treeGrid.recordDoubleClick = undefined;\n            }\n            else if (isNullOrUndefined(this.parent.editModule.dialogModule)) {\n                this.dialogModule = new DialogEdit(this.parent);\n            }\n        }\n        else {\n            if (this.cellEditModule) {\n                this.cellEditModule.destroy();\n            }\n            if (this.dialogModule) {\n                this.dialogModule.destroy();\n            }\n        }\n        if (editSettings.allowDeleting && editSettings.showDeleteConfirmDialog) {\n            if (isNullOrUndefined(this.confirmDialog)) {\n                var confirmDialog = createElement('div', {\n                    id: this.parent.element.id + '_deleteConfirmDialog'\n                });\n                this.parent.element.appendChild(confirmDialog);\n                this.renderDeleteConfirmDialog();\n            }\n        }\n        else if (!editSettings.allowDeleting || !editSettings.showDeleteConfirmDialog) {\n            if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n                this.confirmDialog.destroy();\n            }\n        }\n        if (editSettings.allowTaskbarEditing) {\n            if (isNullOrUndefined(this.parent.editModule.taskbarEditModule)) {\n                this.taskbarEditModule = new TaskbarEdit(this.parent);\n            }\n        }\n        else {\n            if (this.taskbarEditModule) {\n                this.taskbarEditModule.destroy();\n            }\n        }\n    };\n    Edit.prototype.recordDoubleClick = function (args) {\n        if (this.parent.editSettings.allowEditing && this.parent.editSettings.mode === 'Dialog') {\n            var ganttData = void 0;\n            if (args.row) {\n                var rowIndex = getValue('rowIndex', args.row);\n                ganttData = this.parent.currentViewData[rowIndex];\n            }\n            if (!isNullOrUndefined(ganttData)) {\n                this.dialogModule.openEditDialog(ganttData);\n            }\n        }\n        this.parent.ganttChartModule.recordDoubleClick(args);\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.destroy = function () {\n        if (this.cellEditModule) {\n            this.cellEditModule.destroy();\n        }\n        if (this.taskbarEditModule) {\n            this.taskbarEditModule.destroy();\n        }\n        if (this.dialogModule) {\n            this.dialogModule.destroy();\n        }\n        if (this.confirmDialog && !this.confirmDialog.isDestroyed) {\n            this.confirmDialog.destroy();\n        }\n    };\n    /**\n     * Method to update record with new values.\n     *\n     * @param {Object} data - Defines new data to update.\n     * @returns {void} .\n     */\n    Edit.prototype.updateRecordByID = function (data) {\n        var _this = this;\n        if (this.parent.enableImmutableMode && this.parent.editSettings.allowEditing &&\n            this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!this.parent.readOnly) {\n            var tasks = this.parent.taskFields;\n            if (isNullOrUndefined(data) || isNullOrUndefined(data[tasks.id])) {\n                return;\n            }\n            var ganttData = this.parent.viewType === 'ResourceView' ?\n                this.parent.flatData[this.parent.getTaskIds().indexOf('T' + data[tasks.id])] : this.parent.getRecordByID(data[tasks.id]);\n            if (!isNullOrUndefined(ganttData[tasks.milestone])) {\n                if (ganttData[tasks.milestone] === true) {\n                    ganttData[tasks.milestone] = false;\n                }\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Edit') && ganttData) {\n                this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['requestType'] = ((this.parent.contextMenuModule && this.parent.contextMenuModule.item) ? this.parent.contextMenuModule.item : 'methodUpdate');\n                details['modifiedRecords'] = extend([], [ganttData], [], true);\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            if (!isNullOrUndefined(this.parent.editModule) && ganttData) {\n                this.parent.isOnEdit = true;\n                this.validateUpdateValues(data, ganttData, true);\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    if (this.parent.viewType === 'ProjectView' && data['ganttProperties'].predecessor) {\n                        var _loop_1 = function (i) {\n                            var isValid = ganttData.ganttProperties.predecessor.filter(function (pred) {\n                                if ((pred.from === data['ganttProperties'].predecessor[i].from &&\n                                    pred.to === data['ganttProperties'].predecessor[i].to\n                                    && data['ganttProperties'].predecessor[i].offset !== pred.offset)) {\n                                    var record = _this.parent.flatData[_this.parent.ids.indexOf(pred.to)];\n                                    var changeValue = record.ganttProperties.predecessor.filter(function (pred) {\n                                        return (pred.from === data['ganttProperties'].predecessor[i].from && pred.to === data['ganttProperties'].predecessor[i].to);\n                                    });\n                                    changeValue[0].offset = data['ganttProperties'].predecessor[i].offset;\n                                }\n                                return pred.from !== data['ganttProperties'].predecessor[i].from && pred.from !== data['ganttProperties'].predecessor[i].to;\n                            });\n                            if (isValid.length > 0) {\n                                for (var j = 0; j < isValid.length; j++) {\n                                    var record = this_1.parent.flatData[this_1.parent.ids.indexOf(isValid[j].from)];\n                                    for (var k = 0; k < record.ganttProperties.predecessor.length; k++) {\n                                        if (record.ganttProperties.predecessor[k].from === isValid[j].from &&\n                                            record.ganttProperties.predecessor[k].to === isValid[j].to) {\n                                            record.ganttProperties.predecessor.splice(k, 1);\n                                            break;\n                                        }\n                                    }\n                                }\n                                return \"break\";\n                            }\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < data['ganttProperties'].predecessor.length; i++) {\n                            var state_1 = _loop_1(i);\n                            if (state_1 === \"break\")\n                                break;\n                        }\n                    }\n                    else if (!data['ganttProperties'].predecessor && ganttData.ganttProperties.predecessor) {\n                        for (var i = 0; i < ganttData.ganttProperties.predecessor.length; i++) {\n                            var id = void 0;\n                            if (ganttData.ganttProperties.taskId.toString() === ganttData.ganttProperties.predecessor[i].from) {\n                                id = ganttData.ganttProperties.predecessor[i].to;\n                            }\n                            else {\n                                id = ganttData.ganttProperties.predecessor[i].from;\n                            }\n                            var parentRec = this.parent.flatData[this.parent.ids.indexOf(id)];\n                            for (var j = 0; j < parentRec.ganttProperties.predecessor.length; j++) {\n                                if (parentRec.ganttProperties.predecessor[j].from ===\n                                    ganttData.ganttProperties.predecessor[i].from &&\n                                    parentRec.ganttProperties.predecessor[j].to ===\n                                        ganttData.ganttProperties.predecessor[i].to) {\n                                    parentRec.ganttProperties.predecessor.splice(j, 1);\n                                }\n                            }\n                        }\n                    }\n                    ganttData.ganttProperties.resourceInfo = data['ganttProperties'].resourceInfo;\n                }\n                if (data[this.parent.taskFields.resourceInfo]) {\n                    if (ganttData.ganttProperties.duration === 0 &&\n                        (ganttData.ganttProperties.taskType !== 'FixedWork' || this.parent['isConvertedMilestone'])) {\n                        this.parent.dataOperation.updateWorkWithDuration(ganttData);\n                    }\n                    if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        this.updateResourceRelatedFields(ganttData, 'resource');\n                    }\n                    this.parent.dateValidationModule.calculateEndDate(ganttData);\n                }\n                var keys = Object.keys(data);\n                if (keys.indexOf(tasks.startDate) !== -1 || keys.indexOf(tasks.endDate) !== -1 ||\n                    keys.indexOf(tasks.duration) !== -1) {\n                    this.parent.dataOperation.calculateScheduledValues(ganttData, ganttData.taskData, false);\n                }\n                this.parent.dataOperation.updateWidthLeft(ganttData);\n                if (!isUndefined(data[this.parent.taskFields.dependency]) &&\n                    data[this.parent.taskFields.dependency] !== ganttData.ganttProperties.predecessorsName) {\n                    this.parent.connectorLineEditModule.updatePredecessor(ganttData, data[this.parent.taskFields.dependency]);\n                }\n                else {\n                    var args = {};\n                    args.data = ganttData;\n                    if (this.parent.viewType === 'ResourceView') {\n                        args.action = 'methodUpdate';\n                    }\n                    this.parent.editModule.initiateUpdateAction(args);\n                }\n            }\n        }\n    };\n    /**\n     *\n     * @param {object} data .\n     * @param {IGanttData} ganttData .\n     * @param {boolean} isFromDialog .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateUpdateValues = function (data, ganttData, isFromDialog) {\n        var ganttObj = this.parent;\n        var tasks = ganttObj.taskFields;\n        var ganttPropByMapping = getSwapKey(ganttObj.columnMapping);\n        var scheduleFieldNames = [];\n        var isScheduleValueUpdated = false;\n        for (var _i = 0, _b = Object.keys(data); _i < _b.length; _i++) {\n            var key = _b[_i];\n            if (tasks.startDate === key || tasks.endDate === key || tasks.duration === key) {\n                if (isNullOrUndefined(data[\"\" + key]) && !ganttObj.allowUnscheduledTasks) {\n                    continue;\n                }\n                var ganttProps = ganttData.ganttProperties;\n                var isDurationKey = tasks.duration === key;\n                if (isFromDialog) {\n                    if (isDurationKey) {\n                        ganttObj.dataOperation.updateDurationValue(data[key], ganttProps);\n                        if (ganttProps.duration > 0 && ganttProps.isMilestone) {\n                            this.parent.setRecordValue('isMilestone', false, ganttProps, true);\n                        }\n                    }\n                    else {\n                        var tempDate = typeof data[key] === 'string' ? new Date(data[key]) : data[key];\n                        if (key === tasks.endDate && isNullOrUndefined(ganttProps.startDate) && (isNullOrUndefined(data[tasks.duration]) || data[tasks.duration] === '' || Number.isNaN(data[tasks.duration]))) {\n                            tempDate = this.parent.editModule.dialogModule['isFromEditDialog'] ? ganttData.ganttProperties.endDate : data[tasks.endDate];\n                        }\n                        ganttObj.setRecordValue(ganttPropByMapping[key], tempDate, ganttProps, true);\n                        if (ganttData[tasks.startDate] && !(ganttData[tasks.startDate] instanceof Date)) {\n                            ganttData[tasks.startDate] = new Date(ganttData[tasks.startDate]);\n                        }\n                        if (ganttData[tasks.endDate] && !(ganttData[tasks.endDate] instanceof Date)) {\n                            ganttData[tasks.endDate] = new Date(ganttData[tasks.endDate]);\n                        }\n                    }\n                    ganttObj.dataOperation.updateMappingData(ganttData, ganttPropByMapping[key]);\n                }\n                else {\n                    scheduleFieldNames.push(key);\n                    isScheduleValueUpdated = true;\n                }\n            }\n            else if (tasks.resourceInfo === key) {\n                var resourceData = ganttObj.dataOperation.setResourceInfo(data);\n                if (this.parent.viewType === 'ResourceView') {\n                    if (JSON.stringify(resourceData) !== JSON.stringify(ganttData.ganttProperties.resourceInfo)) {\n                        this.parent.editModule.dialogModule.isResourceUpdate = true;\n                        this.parent.editModule.dialogModule.previousResource = !isNullOrUndefined(ganttData.ganttProperties.resourceInfo) ? ganttData.ganttProperties.resourceInfo.slice() : [];\n                    }\n                    else {\n                        this.parent.editModule.dialogModule.isResourceUpdate = false;\n                    }\n                }\n                if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    ganttData.ganttProperties.resourceInfo = resourceData;\n                }\n                ganttObj.dataOperation.updateMappingData(ganttData, 'resourceInfo');\n            }\n            else if (tasks.dependency === key) {\n                //..\n            }\n            else if ([tasks.progress, tasks.notes, tasks.durationUnit, tasks.expandState,\n                tasks.milestone, tasks.name, tasks.baselineStartDate,\n                tasks.baselineEndDate, tasks.id, tasks.segments, tasks.cssClass].indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (!isNullOrUndefined(column) && (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit')) {\n                    value = ganttObj.dataOperation.getDateFromFormat(value);\n                }\n                var ganttPropKey = ganttPropByMapping[key];\n                switch (key) {\n                    case tasks.id:\n                        ganttPropKey = 'taskId';\n                        break;\n                    case tasks.name:\n                        ganttPropKey = 'taskName';\n                        break;\n                    case tasks.cssClass:\n                        ganttPropKey = 'cssClass';\n                        break;\n                    case tasks.milestone:\n                        ganttPropKey = 'isMilestone';\n                        if (!isNullOrUndefined(tasks.duration)) {\n                            var ganttProp = ganttData.ganttProperties;\n                            var durationValue = data[tasks.duration];\n                            if (value) {\n                                durationValue = 0;\n                            }\n                            else {\n                                durationValue = durationValue <= 0 ? 1 : durationValue;\n                            }\n                            ganttObj.setRecordValue(tasks.duration, durationValue, ganttData, true);\n                            ganttObj.setRecordValue('duration', durationValue, ganttProp, true);\n                            ganttObj.setRecordValue('taskData.' + tasks.duration, durationValue, ganttData);\n                        }\n                        break;\n                    case tasks.segments:\n                        if (ganttData.ganttProperties.segments) {\n                            ganttPropKey = 'segments';\n                            /* eslint-disable-next-line */\n                            if (data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0\n                                && data['ganttProperties'] && data['ganttProperties'].segments) {\n                                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                                    ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                                }\n                                var totDuration = ganttData.ganttProperties.segments.reduce(function (acc, segment) { return acc + segment.duration; }, 0);\n                                var sdate = ganttData.ganttProperties.startDate;\n                                /* eslint-disable-next-line */\n                                var edate = this.parent.dataOperation.getEndDate(sdate, totDuration, ganttData.ganttProperties.durationUnit, ganttData.ganttProperties, false);\n                                ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(edate), ganttData.ganttProperties, true);\n                            }\n                        }\n                        break;\n                }\n                if (!isNullOrUndefined(ganttPropKey)) {\n                    var seg = [];\n                    if (ganttPropKey === 'segments' && value && value.length > 0 && !isNullOrUndefined(ganttData.ganttProperties.segments)) {\n                        for (var i = 0; i < value.length; i++) {\n                            var segment = {};\n                            if (value[i][tasks.startDate]) {\n                                segment['startDate'] = value[i][tasks.startDate];\n                            }\n                            if (value[i][tasks.endDate]) {\n                                segment['endDate'] = value[i][tasks.endDate];\n                            }\n                            if (value[i][tasks.duration]) {\n                                segment['duration'] = parseFloat(value[i][tasks.duration]);\n                            }\n                            if (value[i][tasks.id]) {\n                                segment['id'] = value[i][tasks.id];\n                            }\n                            seg.push(segment);\n                        }\n                        ganttObj.setRecordValue(ganttPropKey, seg, ganttData.ganttProperties, true);\n                    }\n                    else {\n                        if (ganttPropKey !== 'segments' || (ganttPropKey === 'segments' && isNullOrUndefined(value))) {\n                            ganttObj.setRecordValue(ganttPropKey, value, ganttData.ganttProperties, true);\n                        }\n                    }\n                }\n                if ((key === tasks.baselineStartDate || key === tasks.baselineEndDate) &&\n                    (ganttData.ganttProperties.baselineStartDate && ganttData.ganttProperties.baselineEndDate)) {\n                    var ganttProps = ganttData.ganttProperties;\n                    ganttObj.setRecordValue('baselineStartDate', ganttObj.dataOperation.checkBaselineStartDate(ganttProps.baselineStartDate, ganttProps), ganttProps, true);\n                    var dayEndTime = this.parent['getCurrentDayEndTime'](ganttProps.baselineEndDate);\n                    if (ganttProps.baselineEndDate && ganttProps.baselineEndDate.getHours() === 0 &&\n                        dayEndTime !== 86400) {\n                        ganttObj.dataOperation.setTime(dayEndTime, ganttProps.baselineEndDate);\n                    }\n                    if ((ganttProps.baselineStartDate && ganttProps.baselineEndDate &&\n                        (ganttProps.baselineStartDate.getTime() > ganttProps.baselineEndDate.getTime())) ||\n                        ((!isNullOrUndefined(ganttProps.baselineStartDate) &&\n                            !isNullOrUndefined(ganttProps.startDate) &&\n                            (ganttProps.baselineStartDate.getTime() === ganttProps.startDate.getTime()))\n                            && (!isNullOrUndefined(ganttProps.baselineEndDate) &&\n                                !isNullOrUndefined(ganttProps.endDate) &&\n                                (ganttProps.baselineEndDate.toLocaleDateString() ===\n                                    ganttProps.endDate.toLocaleDateString())) &&\n                            ganttProps.isMilestone)) {\n                        ganttProps.baselineEndDate = ganttProps.baselineStartDate;\n                    }\n                    ganttObj.setRecordValue('baselineEndDate', ganttObj.dataOperation.checkBaselineEndDate(ganttProps.baselineEndDate), ganttProps, true);\n                    ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(ganttProps), ganttProps, true);\n                    ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(ganttProps), ganttProps, true);\n                    if (ganttData[tasks.baselineStartDate] && !(ganttData[tasks.baselineStartDate] instanceof Date)) {\n                        ganttData[tasks.baselineStartDate] = new Date(ganttData[tasks.baselineStartDate]);\n                    }\n                    if (ganttData[tasks.baselineEndDate] && !(ganttData[tasks.baselineEndDate] instanceof Date)) {\n                        ganttData[tasks.baselineEndDate] = new Date(ganttData[tasks.baselineEndDate]);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                /* eslint-disable-next-line */\n                if (key === tasks.segments && data && !isNullOrUndefined(data[tasks.segments]) && data[tasks.segments].length > 0) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && data['ganttProperties']\n                        && data['ganttProperties'].segments) {\n                        ganttData.ganttProperties.segments = data['ganttProperties'].segments;\n                    }\n                    ganttObj.dataOperation.setSegmentsInfo(ganttData, true);\n                }\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.indicators === key) {\n                var value = data[key];\n                ganttObj.setRecordValue('indicators', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.work === key) {\n                ganttObj.setRecordValue('work', data[key], ganttData.ganttProperties, true);\n                this.parent.dataOperation.updateMappingData(ganttData, 'work');\n                this.parent.dataOperation.updateMappingData(ganttData, 'duration');\n                this.parent.dataOperation.updateMappingData(ganttData, 'endDate');\n            }\n            else if (key === tasks.type) {\n                var value = data[key];\n                ganttObj.setRecordValue('taskType', value, ganttData.ganttProperties, true);\n                ganttObj.setRecordValue(key, value, ganttData);\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n            }\n            else if (ganttObj.customColumns.indexOf(key) !== -1) {\n                var column = ganttObj.columnByField[key];\n                /* eslint-disable-next-line */\n                var value = data[key];\n                if (isNullOrUndefined(column.edit)) {\n                    if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n                        value = ganttObj.dataOperation.getDateFromFormat(value);\n                    }\n                }\n                ganttObj.setRecordValue('taskData.' + key, value, ganttData);\n                ganttObj.setRecordValue(key, value, ganttData);\n            }\n            else if (tasks.manual === key) {\n                ganttObj.setRecordValue('isAutoSchedule', !data[key], ganttData.ganttProperties, true);\n                this.parent.setRecordValue(key, data[key], ganttData);\n                this.updateTaskScheduleModes(ganttData);\n            }\n        }\n        if (isScheduleValueUpdated) {\n            this.validateScheduleValues(scheduleFieldNames, ganttData, data);\n        }\n    };\n    /**\n     * To update duration, work, resource unit\n     *\n     * @param {IGanttData} currentData .\n     * @param {string} column .\n     * @returns {void} .\n     */\n    Edit.prototype.updateResourceRelatedFields = function (currentData, column) {\n        var ganttProp = currentData.ganttProperties;\n        var previousdata = this.parent.previousRecords;\n        var taskType = ganttProp.taskType ? ganttProp.taskType : this.parent.taskType;\n        var isEffectDriven;\n        var isAutoSchedule = ganttProp.isAutoSchedule;\n        var resources = (this.parent.editModule.dialogModule &&\n            this.parent.editModule.dialogModule['currentResources']) ? this.parent.editModule.dialogModule['currentResources']\n            : currentData.ganttProperties.resourceInfo;\n        if (!isNullOrUndefined(resources)) {\n            switch (taskType) {\n                case 'FixedUnit':\n                    if (!isNullOrUndefined(previousdata[ganttProp.uniqueID]) &&\n                        !isNullOrUndefined(previousdata[ganttProp.uniqueID].ganttProperties) &&\n                        (previousdata[ganttProp.uniqueID].ganttProperties.resourceNames\n                            === null ||\n                            previousdata[ganttProp.uniqueID].ganttProperties.resourceNames === '')) {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule && resources.length) {\n                        if (column === 'resource' || column === 'work') {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                        else if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                    }\n                    else if (!isAutoSchedule && column === 'work') {\n                        this.parent.dataOperation.updateUnitWithWork(currentData);\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n                case 'FixedWork':\n                    if (resources.length === 0) {\n                        return;\n                    }\n                    else if (isAutoSchedule) {\n                        if (column === 'duration' || column === 'endDate') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                            if (ganttProp.duration === 0) {\n                                this.parent.setRecordValue('isMilestone', true, ganttProp, true);\n                            }\n                        }\n                        else {\n                            this.parent.dataOperation.updateDurationWithWork(currentData);\n                        }\n                    }\n                    else {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    break;\n                case 'FixedDuration':\n                    if (resources.length === 0) {\n                        // To validate the work column, if set duration as 0 via celledit action, where resource colection is 0\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        return;\n                    }\n                    if (resources.length && (column === 'work' || (isAutoSchedule &&\n                        isEffectDriven && (column === 'resource')))) {\n                        if (column === 'work') {\n                            this.parent.dataOperation.updateUnitWithWork(currentData);\n                        }\n                        else {\n                            this.parent.dataOperation.updateWorkWithDuration(currentData);\n                        }\n                    }\n                    else {\n                        this.parent.dataOperation.updateWorkWithDuration(currentData);\n                    }\n                    break;\n            }\n        }\n        // To validate the work colum if set duration as 0, while resource is null/undefined\n        else if (isNullOrUndefined(resources) && taskType === 'FixedDuration' && ganttProp.duration === 0) {\n            this.parent.dataOperation.updateWorkWithDuration(currentData);\n        }\n    };\n    Edit.prototype.validateScheduleValues = function (fieldNames, ganttData, data) {\n        var ganttObj = this.parent;\n        if (fieldNames.length > 2) {\n            ganttObj.dataOperation.calculateScheduledValues(ganttData, data, false);\n        }\n        else if (fieldNames.length > 1) {\n            this.validateScheduleByTwoValues(data, fieldNames, ganttData);\n        }\n        else {\n            this.dialogModule.validateScheduleValuesByCurrentField(fieldNames[0], data[fieldNames[0]], ganttData);\n        }\n    };\n    Edit.prototype.validateScheduleByTwoValues = function (data, fieldNames, ganttData) {\n        var ganttObj = this.parent;\n        var startDate;\n        var endDate;\n        var duration;\n        var tasks = ganttObj.taskFields;\n        var ganttProp = ganttData.ganttProperties;\n        var isUnscheduledTask = ganttObj.allowUnscheduledTasks;\n        if (fieldNames.indexOf(tasks.startDate) !== -1) {\n            startDate = data[tasks.startDate];\n        }\n        if (fieldNames.indexOf(tasks.endDate) !== -1) {\n            endDate = data[tasks.endDate];\n        }\n        if (fieldNames.indexOf(tasks.duration) !== -1) {\n            duration = data[tasks.duration];\n        }\n        if (startDate && endDate || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1) &&\n            (fieldNames.indexOf(tasks.endDate) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.calculateDuration(ganttData);\n        }\n        else if (endDate && duration || (isUnscheduledTask &&\n            (fieldNames.indexOf(tasks.endDate) !== -1) && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('endDate', ganttObj.dataOperation.getDateFromFormat(endDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n        else if (startDate && duration || (isUnscheduledTask && (fieldNames.indexOf(tasks.startDate) !== -1)\n            && (fieldNames.indexOf(tasks.duration) !== -1))) {\n            ganttObj.setRecordValue('startDate', ganttObj.dataOperation.getDateFromFormat(startDate), ganttProp, true);\n            ganttObj.dataOperation.updateDurationValue(duration, ganttProp);\n        }\n    };\n    Edit.prototype.isTaskbarMoved = function (data) {\n        var isMoved = false;\n        var taskData = data.ganttProperties;\n        var prevData = this.parent.previousRecords &&\n            this.parent.previousRecords[data.uniqueID];\n        if (prevData && prevData.ganttProperties) {\n            var prevStart = getValue('ganttProperties.startDate', prevData);\n            var prevEnd = getValue('ganttProperties.endDate', prevData);\n            var prevDuration = getValue('ganttProperties.duration', prevData);\n            var prevDurationUnit = getValue('ganttProperties.durationUnit', prevData);\n            var keys = Object.keys(prevData.ganttProperties);\n            if (keys.indexOf('startDate') !== -1 || keys.indexOf('endDate') !== -1 ||\n                keys.indexOf('duration') !== -1 || keys.indexOf('durationUnit') !== -1) {\n                if ((isNullOrUndefined(prevStart) && !isNullOrUndefined(taskData.startDate)) ||\n                    (isNullOrUndefined(prevEnd) && !isNullOrUndefined(taskData.endDate)) ||\n                    (isNullOrUndefined(taskData.startDate) && !isNullOrUndefined(prevStart)) ||\n                    (isNullOrUndefined(taskData.endDate) && !isNullOrUndefined(prevEnd)) ||\n                    (prevStart && prevStart.getTime() !== taskData.startDate.getTime())\n                    || (prevEnd && prevEnd.getTime() !== taskData.endDate.getTime())\n                    || (!isNullOrUndefined(prevDuration) && prevDuration !== taskData.duration)\n                    || (!isNullOrUndefined(prevDuration) && prevDuration === taskData.duration &&\n                        prevDurationUnit !== taskData.durationUnit)) {\n                    isMoved = true;\n                }\n            }\n        }\n        return isMoved;\n    };\n    Edit.prototype.isPredecessorUpdated = function (data) {\n        var isPredecessorUpdated = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        // eslint-disable-next-line\n        if (prevData && prevData.ganttProperties && prevData.ganttProperties.hasOwnProperty('predecessor')) {\n            if (data.ganttProperties.predecessorsName !== prevData.ganttProperties.predecessorsName &&\n                !(data.ganttProperties.predecessorsName === '' &&\n                    isNullOrUndefined(prevData.ganttProperties.predecessorsName))) {\n                isPredecessorUpdated = true;\n            }\n            else {\n                this.parent.setRecordValue('predecessor', prevData.ganttProperties.predecessor, data.ganttProperties, true);\n            }\n        }\n        return isPredecessorUpdated;\n    };\n    /**\n     * Method to check need to open predecessor validate dialog\n     *\n     * @param {IGanttData} data .\n     * @returns {boolean} .\n     */\n    Edit.prototype.isCheckPredecessor = function (data) {\n        var isValidatePredecessor = false;\n        var prevData = this.parent.previousRecords[data.uniqueID];\n        if (prevData && this.parent.taskFields.dependency && this.parent.isInPredecessorValidation &&\n            this.parent.predecessorModule.getValidPredecessor(data).length > 0) {\n            if (this.isTaskbarMoved(data)) {\n                isValidatePredecessor = true;\n            }\n        }\n        return isValidatePredecessor;\n    };\n    /**\n     * Method to copy the ganttProperties values\n     *\n     * @param {IGanttData} data .\n     * @param {IGanttData} updateData .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateGanttProperties = function (data, updateData) {\n        var skipProperty = ['taskId', 'uniqueID', 'rowUniqueID', 'parentId', 'predecessor'];\n        Object.keys(data.ganttProperties).forEach(function (property) {\n            if (skipProperty.indexOf(property) === -1) {\n                updateData.ganttProperties[property] = data.ganttProperties[property];\n            }\n        });\n    };\n    /**\n     * Method to update all dependent record on edit action\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateUpdateAction = function (args) {\n        var isValidatePredecessor = this.isCheckPredecessor(args.data);\n        var parentData;\n        var childRecordIndex;\n        if (!isNullOrUndefined(args.data.parentItem) && !isValidatePredecessor) {\n            parentData = this.parent.getRecordByID(args.data.parentItem.taskId);\n            if (this.isTaskbarMoved(args.data) && this.parent.predecessorModule.getValidPredecessor(parentData).length > 0\n                && this.parent.isInPredecessorValidation) {\n                isValidatePredecessor = true;\n            }\n            else {\n                isValidatePredecessor = false;\n            }\n        }\n        else if (args.data.childRecords.length > 0 && !isValidatePredecessor) {\n            isValidatePredecessor = this.isCheckPredecessor(args.data);\n            if (!isValidatePredecessor && this.isTaskbarMoved(args.data)) {\n                for (var i = 0; i < args.data.childRecords.length; i++) {\n                    if (this.parent.predecessorModule.getValidPredecessor(args.data.childRecords[i]).length > 0) {\n                        childRecordIndex = i;\n                        isValidatePredecessor = true;\n                    }\n                }\n            }\n        }\n        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !this.parent.undoRedoModule['currentAction'] ||\n            (this.parent.undoRedoModule['currentAction'] && this.parent.undoRedoModule['currentAction']['action'] !== 'indent' &&\n                this.parent.undoRedoModule['currentAction']['action'] !== 'outdent'))) {\n            this.taskbarMoved = this.isTaskbarMoved(args.data);\n        }\n        this.predecessorUpdated = this.isPredecessorUpdated(args.data);\n        if (this.predecessorUpdated) {\n            this.parent.isConnectorLineUpdate = true;\n            this.parent.connectorLineEditModule.addRemovePredecessor(args.data);\n        }\n        var validateObject = {};\n        if (isValidatePredecessor && this.parent.autoCalculateDateScheduling && !(this.parent.isLoad &&\n            this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            if (!isNullOrUndefined(parentData)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(parentData, args.data);\n            }\n            else if (!isNullOrUndefined(childRecordIndex)) {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data.childRecords[childRecordIndex], args.data);\n            }\n            else {\n                validateObject = this.parent.connectorLineEditModule.validateTypes(args.data);\n            }\n            this.parent.isConnectorLineUpdate = true;\n            if (!isNullOrUndefined(getValue('violationType', validateObject))) {\n                var newArgs = this.validateTaskEvent(args);\n                var dependencyValidationResult = null;\n                if (this.parent &&\n                    this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule &&\n                    typeof this.parent.editModule.taskbarEditModule['isValidDependency'] === 'function') {\n                    dependencyValidationResult = this.parent.editModule.taskbarEditModule['isValidDependency'](args.data);\n                }\n                if (dependencyValidationResult) {\n                    var isValid = dependencyValidationResult.isValid;\n                    if (this.parent.updateOffsetOnTaskbarEdit === false &&\n                        isValid === false &&\n                        newArgs.validateMode.respectLink === false) {\n                        newArgs.validateMode.respectLink = true;\n                    }\n                }\n                if (newArgs.validateMode.preserveLinkWithEditing === false &&\n                    newArgs.validateMode.removeLink === false &&\n                    newArgs.validateMode.respectLink === false) {\n                    this.parent.connectorLineEditModule.openValidationDialog(validateObject);\n                }\n                else {\n                    if (this.parent.editModule && this.parent.editModule.dialogModule &&\n                        this.parent.editModule.dialogModule['isEdit'] && this.predecessorUpdated) {\n                        this.isValidatedEditedRecord = true;\n                        this.parent.predecessorModule.validatePredecessor(args.data, [], '');\n                    }\n                    this.parent.connectorLineEditModule.applyPredecessorOption();\n                }\n            }\n            else {\n                this.updateEditedTask(args);\n            }\n        }\n        else {\n            if (this.taskbarMoved) {\n                this.parent.isConnectorLineUpdate = true;\n            }\n            this.updateEditedTask(args);\n        }\n    };\n    /**\n     *\n     * @param {ITaskbarEditedEventArgs} editedEventArgs method to trigger validate predecessor link by dialog\n     * @returns {IValidateArgs} .\n     */\n    Edit.prototype.validateTaskEvent = function (editedEventArgs) {\n        var newArgs = {};\n        this.resetValidateArgs();\n        this.parent.currentEditedArgs = newArgs;\n        newArgs.cancel = false;\n        newArgs.data = editedEventArgs.data;\n        newArgs.requestType = 'validateLinkedTask';\n        newArgs.validateMode = this.parent.dialogValidateMode;\n        newArgs.editEventArgs = editedEventArgs;\n        this.parent.actionBeginTask(newArgs);\n        return newArgs;\n    };\n    Edit.prototype.resetValidateArgs = function () {\n        this.parent.dialogValidateMode.preserveLinkWithEditing = true;\n        this.parent.dialogValidateMode.removeLink = false;\n        this.parent.dialogValidateMode.respectLink = false;\n    };\n    Edit.prototype.validateChildPredecessors = function () {\n        var _this = this;\n        var _loop_2 = function (i) {\n            var child = this_2.parent.predecessorModule.validatedChildItems[i];\n            if (child.ganttProperties.predecessor && child.ganttProperties.predecessor.length > 0) {\n                if (!this_2.parent.editedPredecessorRecords.some(function (item) {\n                    return item[_this.parent.taskFields.id] === child[_this.parent.taskFields.id];\n                })) {\n                    this_2.parent.editedPredecessorRecords.push(child);\n                }\n                if (!this_2.isValidatedEditedRecord) {\n                    this_2.isFirstCall = true;\n                }\n                this_2.parent.predecessorModule.validatePredecessor(child, [], '');\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < this.parent.predecessorModule.validatedChildItems.length; i++) {\n            _loop_2(i);\n        }\n    };\n    /**\n     *\n     * @param {ITaskAddedEventArgs} args - Edited event args like taskbar editing, dialog editing, cell editing\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateEditedTask = function (args) {\n        var ganttRecord = args.data;\n        this.editedRecord = ganttRecord;\n        if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n            this.parent.taskFields.hasChildMapping)) {\n            this.updateParentChildRecord(ganttRecord);\n        }\n        if (this.parent.predecessorModule) {\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n        }\n        if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) && this.parent.autoCalculateDateScheduling &&\n            !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand && this.parent.taskFields.hasChildMapping)) {\n            /* validating predecessor for updated child items */\n            this.validateChildPredecessors();\n            /** validating predecessor for current edited records */\n            if (ganttRecord.ganttProperties.predecessor) {\n                this.parent.isMileStoneEdited = ganttRecord.ganttProperties.isMilestone;\n                if (this.taskbarMoved) {\n                    this.parent.editedPredecessorRecords.push(ganttRecord);\n                }\n                if (!this.isValidatedEditedRecord) {\n                    this.isFirstCall = true;\n                    if (args.action === 'DialogEditing') {\n                        this.isDialogEditing = true;\n                    }\n                    this.parent.predecessorModule.validatePredecessor(ganttRecord, [], '');\n                    this.parent.predecessorModule.isChildRecordValidated = [];\n                }\n                this.isValidatedEditedRecord = false;\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.allowParentDependency && this.parent.predecessorModule.isValidatedParentTaskID !==\n                ganttRecord.ganttProperties.taskId && ganttRecord.hasChildRecords &&\n                (this.parent.previousRecords[ganttRecord.uniqueID].ganttProperties.startDate) && (args.action !== 'TaskbarEditing') &&\n                (!ganttRecord.hasChildRecords || (ganttRecord.hasChildRecords && ganttRecord.ganttProperties.isAutoSchedule))) {\n                this.parent.predecessorModule['updateChildItems'](ganttRecord);\n                this.validateChildPredecessors();\n            }\n            this.parent.predecessorModule.isValidatedParentTaskID = '';\n            if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                for (var i = 0; i < ganttRecord.childRecords.length; i++) {\n                    if (ganttRecord.childRecords[i].ganttProperties.predecessor) {\n                        this.parent.predecessorModule.validatePredecessor(ganttRecord.childRecords[i], [], '');\n                    }\n                }\n            }\n            this.updateParentItemOnEditing();\n            this.parent.dataOperation.updateParentItems(ganttRecord, true);\n        }\n        /** Update parent up-to zeroth level */\n        if (ganttRecord.parentItem) {\n            if (this.parent.autoCalculateDateScheduling && !(this.parent.isLoad && this.parent.treeGrid.loadChildOnDemand &&\n                this.parent.taskFields.hasChildMapping)) {\n                this.parent.dataOperation.updateParentItems(ganttRecord, true);\n            }\n            var parentData = this.parent.getRecordByID(ganttRecord.parentItem.taskId);\n            if (!isNullOrUndefined(parentData)) {\n                if (!parentData.ganttProperties.predecessorsName) {\n                    this.isFirstCall = true;\n                    this.parent.predecessorModule.validatePredecessor(parentData, [], '');\n                    this.updateParentItemOnEditing();\n                }\n            }\n        }\n        if (this.parent.updateOffsetOnTaskbarEdit && this.parent.connectorLineEditModule && args.data) {\n            this.parent.connectorLineEditModule['validatedOffsetIds'] = [];\n            this.parent.connectorLineEditModule['calculateOffset'](args.data);\n        }\n        this.parent.predecessorModule['validatedParentIds'] = [];\n        if (isNullOrUndefined(this.dialogModule) || (this.dialogModule && !this.dialogModule['isFromDialogPredecessor'])) {\n            this.initiateSaveAction(args);\n        }\n    };\n    Edit.prototype.updateParentItemOnEditing = function () {\n        var _this = this;\n        var childRecord = getValue('parentRecord', this.parent.predecessorModule);\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        if (this.parent.editModule['updateParentRecords'] && this.parent.editModule['updateParentRecords'].length > 0) {\n            this.parent.editModule['updateParentRecords'].forEach(function (record) {\n                if (record.ganttProperties.predecessor && record.ganttProperties.predecessor.length > 0) {\n                    _this.parent.predecessorModule.validatePredecessor(record, [], '');\n                }\n            });\n        }\n        for (var i = 0; i < childRecord.length; i++) {\n            this.parent.dataOperation.updateParentItems(childRecord[i]);\n        }\n        setValue('parentRecord', [], this.parent.predecessorModule);\n        setValue('parentIds', [], this.parent.predecessorModule);\n    };\n    /**\n     * To update parent records while perform drag action.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentChildRecord = function (data) {\n        var ganttRecord = data;\n        if (ganttRecord.hasChildRecords && this.taskbarMoved && (ganttRecord[this.parent.taskFields.manual] === false ||\n            this.parent.taskMode === 'Auto') && (!isNullOrUndefined(this.parent.editModule.cellEditModule) &&\n            !this.parent.editModule.cellEditModule.isResourceCellEdited)) {\n            this.parent.predecessorModule['updateChildItems'](ganttRecord);\n        }\n        if (!isNullOrUndefined(this.parent.editModule.cellEditModule)) {\n            this.parent.editModule.cellEditModule.isResourceCellEdited = false;\n        }\n    };\n    /**\n     * To update records while changing schedule mode.\n     *\n     * @param {IGanttData} data .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateTaskScheduleModes = function (data) {\n        var currentValue = data[this.parent.taskFields.startDate];\n        var ganttProp = data.ganttProperties;\n        if (this.parent.taskFields.manual) {\n            this.parent.setRecordValue(this.parent.taskFields.manual, !data.ganttProperties.isAutoSchedule, data);\n        }\n        if (data.hasChildRecords && ganttProp.isAutoSchedule) {\n            this.parent.setRecordValue('startDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('endDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('taskData.StartDate', ganttProp.autoStartDate, data, true);\n            this.parent.setRecordValue('taskData.EndDate', ganttProp.autoEndDate, data, true);\n            this.parent.setRecordValue('width', this.parent.dataOperation.calculateWidth(data, true), ganttProp, true);\n            this.parent.setRecordValue('left', this.parent.dataOperation.calculateLeft(ganttProp, data, true), ganttProp, true);\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(ganttProp.width, ganttProp.progress), ganttProp, true);\n            this.parent.dataOperation.calculateDuration(data);\n        }\n        else if (data.hasChildRecords && !ganttProp.isAutoSchedule) {\n            this.parent.dataOperation.updateWidthLeft(data);\n            this.parent.dataOperation.calculateDuration(data);\n            this.parent.setRecordValue('autoStartDate', ganttProp.autoStartDate, ganttProp, true);\n            this.parent.setRecordValue('autoEndDate', ganttProp.autoEndDate, ganttProp, true);\n            this.parent.setRecordValue('autoDuration', this.parent.dataOperation.calculateAutoDuration(data), ganttProp, true);\n            this.parent.dataOperation.updateAutoWidthLeft(data);\n        }\n        else {\n            var startDate = this.parent.dateValidationModule.checkStartDate(currentValue, data.ganttProperties);\n            this.parent.setRecordValue('startDate', startDate, data.ganttProperties, true);\n            this.parent.dataOperation.updateMappingData(data, 'startDate');\n            this.parent.dateValidationModule.calculateEndDate(data);\n            this.parent.setRecordValue('taskData.' + this.parent.taskFields.manual, data[this.parent.taskFields.manual], data);\n            this.parent.dataOperation.updateWidthLeft(data);\n        }\n    };\n    /**\n     * To update progress value of parent tasks\n     *\n     * @param {IParent} cloneParent .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateParentProgress = function (cloneParent) {\n        var parentProgress = 0;\n        var parent = this.parent.getParentTask(cloneParent);\n        var childRecords = parent.childRecords;\n        var childCount = childRecords ? childRecords.length : 0;\n        var totalProgress = 0;\n        var milesStoneCount = 0;\n        var taskCount = 0;\n        var totalDuration = 0;\n        var progressValues = {};\n        if (childRecords) {\n            for (var i = 0; i < childCount; i++) {\n                if ((!childRecords[i].ganttProperties.isMilestone || childRecords[i].hasChildRecords) &&\n                    isScheduledTask(childRecords[i].ganttProperties)) {\n                    progressValues = this.parent.dataOperation.getParentProgress(childRecords[i]);\n                    totalProgress += getValue('totalProgress', progressValues);\n                    totalDuration += getValue('totalDuration', progressValues);\n                }\n                else {\n                    milesStoneCount += 1;\n                }\n            }\n            taskCount = childCount - milesStoneCount;\n            parentProgress = taskCount > 0 ? Math.round(totalProgress / totalDuration) : 0;\n            if (isNaN(parentProgress)) {\n                parentProgress = 0;\n            }\n            this.parent.setRecordValue('progressWidth', this.parent.dataOperation.getProgressWidth(parent.ganttProperties.isAutoSchedule ? parent.ganttProperties.width : parent.ganttProperties.autoWidth, parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('progress', Math.floor(parentProgress), parent.ganttProperties, true);\n            this.parent.setRecordValue('totalProgress', totalProgress, parent.ganttProperties, true);\n            this.parent.setRecordValue('totalDuration', totalDuration, parent.ganttProperties, true);\n        }\n        this.parent.dataOperation.updateTaskData(parent);\n        if (parent.parentItem) {\n            this.updateParentProgress(parent.parentItem);\n        }\n    };\n    /**\n     * Method to revert cell edit action\n     *\n     * @param {object} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.revertCellEdit = function (args) {\n        this.parent.editModule.reUpdatePreviousRecords(false, true);\n        this.resetEditProperties();\n    };\n    /**\n     * @param {boolean} isRefreshChart .\n     * @param {boolean} isRefreshGrid .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.reUpdatePreviousRecords = function (isRefreshChart, isRefreshGrid) {\n        var collection = this.parent.previousRecords;\n        var keys = Object.keys(collection);\n        for (var i = 0; i < keys.length; i++) {\n            var uniqueId = keys[i];\n            var prevTask = collection[uniqueId];\n            var originalData = this.parent.getTaskByUniqueID(uniqueId);\n            this.copyTaskData(originalData.taskData, prevTask.taskData);\n            delete prevTask.taskData;\n            this.copyTaskData(originalData.ganttProperties, prevTask.ganttProperties);\n            delete prevTask.ganttProperties;\n            this.copyTaskData(originalData, prevTask);\n            var rowIndex = this.parent.currentViewData.indexOf(originalData);\n            if (isRefreshChart) {\n                this.parent.chartRowsModule.refreshRow(rowIndex);\n            }\n            if (isRefreshGrid) {\n                var dataId = this.parent.viewType === 'ProjectView' ? originalData.ganttProperties.taskId : originalData.ganttProperties.rowUniqueID;\n                this.parent.treeGrid.grid.setRowData(dataId, originalData);\n                var row = this.parent.treeGrid.grid.getRowObjectFromUID(this.parent.treeGrid.grid.getDataRows()[rowIndex].getAttribute('data-uid'));\n                row.data = originalData;\n            }\n        }\n    };\n    /**\n     * Copy previous task data value to edited task data\n     *\n     * @param {object} existing .\n     * @param {object} newValue .\n     * @returns {void} .\n     */\n    Edit.prototype.copyTaskData = function (existing, newValue) {\n        if (!isNullOrUndefined(newValue)) {\n            extend(existing, newValue);\n        }\n    };\n    /**\n     * To update schedule date on editing.\n     *\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.updateScheduleDatesOnEditing = function (args) {\n        //..\n    };\n    /**\n     * @param {ITaskbarEditedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.initiateSaveAction = function (args) {\n        var _this = this;\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeSave';\n        eventArgs.data = args.data;\n        eventArgs.cancel = false;\n        this.createArray = true;\n        if (this.parent.toolbarModule && this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['getUndoCollection'].length > 0) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true); // enable toolbar items.\n        }\n        eventArgs.modifiedRecords = this.parent.editedRecords;\n        if (!isNullOrUndefined(args.target)) {\n            eventArgs.target = args.target;\n        }\n        eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, true);\n        if (args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n            eventArgs.action = args.action;\n            if (args.action === 'DeleteConnectorLine') {\n                this.parent.connectorLineEditModule['isPublicDependencyDelete'] = false;\n                if (this.parent.contextMenuModule) {\n                    this.parent.contextMenuModule['isCntxtMenuDependencyDelete'] = false;\n                }\n            }\n        }\n        var ganttObj = this.parent;\n        var currentBaselineStart = __assign({}, eventArgs.data.ganttProperties.baselineStartDate);\n        var currentBaselineEnd = __assign({}, eventArgs.data.ganttProperties.baselineEndDate);\n        var currentProgress = eventArgs.data.ganttProperties.progress;\n        /* eslint-disable-next-line */\n        var unModifiedData = JSON.parse(JSON.stringify(eventArgs.data.ganttProperties));\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            _this.parent.treeGridModule.setCancelArgs = eventArg.cancel;\n            if (currentBaselineStart !== eventArg.data['ganttProperties'].baselineStartDate\n                || currentBaselineEnd !== eventArg.data['ganttProperties'].baselineEndDate) {\n                ganttObj.setRecordValue('baselineLeft', ganttObj.dataOperation.calculateBaselineLeft(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n                ganttObj.setRecordValue('baselineWidth', ganttObj.dataOperation.calculateBaselineWidth(eventArg.data['ganttProperties']), eventArg.data['ganttProperties'], true);\n            }\n            if (_this.parent.autoCalculateDateScheduling && unModifiedData !== eventArg.data['ganttProperties'] &&\n                !isNullOrUndefined(eventArg.data['parentItem'])) {\n                _this.updateParentItemOnEditing();\n                _this.parent.dataOperation.updateParentItems(eventArg.data, true);\n            }\n            var ganttProps = eventArg.data['ganttProperties'];\n            var startDate = ganttProps.startDate, endDate = ganttProps.endDate, segments = ganttProps.segments, durationUnit = ganttProps.durationUnit, isAutoSchedule = ganttProps.isAutoSchedule, isMilestone = ganttProps.isMilestone;\n            if (startDate && endDate && !segments && !_this.parent.dataOperation['isDurationValueUpdated']) {\n                var duration = _this.parent.dateValidationModule.getDuration(startDate, endDate, durationUnit, isAutoSchedule, isMilestone, true);\n                if (duration !== 0) {\n                    ganttProps.isMilestone = false;\n                    _this.parent.dateValidationModule.calculateDuration(eventArg.data);\n                }\n            }\n            _this.parent.dataOperation.updateWidthLeft(eventArg.data);\n            if (!isNullOrUndefined(_this.parent.taskFields.progress) && currentProgress !== eventArg.data['ganttProperties'].progress) {\n                var width = eventArg.data['ganttProperties'].isAutoSchedule ? eventArg.data['ganttProperties'].width :\n                    eventArg.data['ganttProperties'].autoWidth;\n                _this.parent.setRecordValue('progressWidth', _this.parent.dataOperation.getProgressWidth(width, eventArg.data['ganttProperties'].progress), eventArg.data['ganttProperties'], true);\n            }\n            _this.parent.chartRowsModule.updateSegment(eventArg.data['ganttProperties'].segments, eventArg.data['ganttProperties'].taskId);\n            if (eventArg.cancel) {\n                _this.reUpdatePreviousRecords();\n                _this.parent.chartRowsModule.refreshRecords([args.data]);\n                _this.resetEditProperties(eventArgs);\n                // Trigger action complete event with save canceled request type\n            }\n            else {\n                // To update task data for modified records.\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (eventArg.modifiedRecords) {\n                    for (var i = 0; i < eventArg.modifiedRecords.length; i++) {\n                        _this.parent.dataOperation.updateTaskData(eventArg.modifiedRecords[i]);\n                    }\n                }\n                eventArg.modifiedTaskData = getTaskData(eventArg.modifiedRecords, null, null, _this.parent);\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data = _this.parent.dataSource;\n                    var updatedData = {\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    var crud = null;\n                    var dataAdaptor = data.adaptor;\n                    if (!(dataAdaptor instanceof WebApiAdaptor && dataAdaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                        crud = data.saveChanges(updatedData, _this.parent.taskFields.id, null, query);\n                    }\n                    else {\n                        var changedRecords = 'changedRecords';\n                        crud = data.update(_this.parent.taskFields.id, updatedData[changedRecords], null, query);\n                    }\n                    crud.then(function (e) { return _this.dmSuccess(e, args); })\n                        .catch(function (e) { return _this.dmFailure(e, args); });\n                }\n                else {\n                    _this.saveSuccess(args);\n                }\n                if (_this.parent.enableVirtualization && _this.parent.enableTimelineVirtualization) {\n                    _this.parent.ganttChartModule['setVirtualHeight']();\n                }\n                if (_this.parent.undoRedoModule) {\n                    _this.parent.previousFlatData = extend([], _this.parent.flatData, [], true);\n                }\n            }\n        });\n        this.parent.ganttChartModule.reRenderConnectorLines();\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateEditedFields = function (e) {\n        var eLength;\n        var rec;\n        if (e.changedRecords) {\n            eLength = e.changedRecords['length'];\n        }\n        else {\n            eLength = e['length'];\n        }\n        for (var i = 0; i < eLength; i++) {\n            if (e.changedRecords) {\n                rec = e.changedRecords[parseInt(i.toString(), 10)];\n            }\n            else {\n                rec = e[parseInt(i.toString(), 10)];\n            }\n            var _aLength = Object.keys(rec).length;\n            for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n                var key = _a[parseInt(j.toString(), 10)];\n                this.parent.editedRecords[parseInt(i.toString(), 10)][\"\" + key] = rec[\"\" + key];\n                this.parent.editedRecords[parseInt(i.toString(), 10)].taskData[\"\" + key] = rec[\"\" + key];\n            }\n            this.updateEditedRecordFields(rec, this.parent.editedRecords[parseInt(i.toString(), 10)]);\n        }\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.dmSuccess = function (e, args) {\n        this.updateEditedFields(e);\n        this.saveSuccess(args);\n    };\n    Edit.prototype.updateEditedRecordFields = function (rec, editedRecord) {\n        var fields = this.parent.taskFields;\n        var _aLength = Object.keys(rec).length;\n        for (var j = 0, _a = Object.keys(rec); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            editedRecord[\"\" + key] = rec[\"\" + key];\n        }\n        if (fields.id !== null) {\n            editedRecord.ganttProperties['taskId'] = rec[fields.id];\n        }\n        if (fields.name !== null) {\n            editedRecord.ganttProperties['taskName'] = rec[fields.name];\n        }\n        if (fields.startDate !== null) {\n            editedRecord.ganttProperties['startDate'] = rec[fields.startDate];\n        }\n        if (fields.endDate !== null) {\n            editedRecord.ganttProperties['endDate'] = rec[fields.endDate];\n        }\n        if (fields.duration !== null) {\n            editedRecord.ganttProperties['duration'] = parseFloat(rec[fields.duration]);\n        }\n        if (fields.durationUnit !== null) {\n            editedRecord.ganttProperties['durationUnit'] = rec[fields.durationUnit];\n        }\n        if (fields.progress !== null) {\n            editedRecord.ganttProperties['progress'] = rec[fields.progress];\n        }\n        if (fields.dependency !== null) {\n            editedRecord.ganttProperties['dependency'] = rec[fields.dependency];\n        }\n        if (fields.parentID !== null) {\n            editedRecord.ganttProperties['parentID'] = rec[fields.parentID];\n        }\n        if (fields.baselineEndDate !== null) {\n            editedRecord.ganttProperties['baselineEndDate'] = rec[fields.baselineEndDate];\n        }\n        if (fields.baselineStartDate !== null) {\n            editedRecord.ganttProperties['baselineStartDate'] = rec[fields.baselineStartDate];\n        }\n        if (fields.resourceInfo !== null) {\n            editedRecord.ganttProperties['resources'] = rec[fields.resourceInfo];\n        }\n    };\n    Edit.prototype.dmFailure = function (e, args) {\n        if (this.deletedTaskDetails.length) {\n            var deleteRecords = this.deletedTaskDetails;\n            for (var d = 0; d < deleteRecords.length; d++) {\n                deleteRecords[d].isDelete = false;\n            }\n            this.deletedTaskDetails = [];\n        }\n        this.reUpdatePreviousRecords(true, true);\n        this.resetEditProperties();\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.updateSharedTask = function (data) {\n        var ids = data.ganttProperties.sharedTaskUniqueIds;\n        for (var i = 0; i < ids.length; i++) {\n            var editRecord = this.parent.flatData[this.parent.ids.indexOf(ids[i].toString())];\n            if (editRecord && editRecord.uniqueID !== data.uniqueID) {\n                this.updateGanttProperties(data, editRecord);\n                this.parent.setRecordValue('taskData', data.taskData, editRecord, true);\n                this.parent.dataOperation.updateTaskData(editRecord);\n                this.parent.dataOperation.updateResourceName(editRecord);\n                if (!isNullOrUndefined(editRecord.parentItem)) {\n                    this.parent.dataOperation.updateParentItems(editRecord.parentItem);\n                }\n            }\n        }\n    };\n    /**\n     * Method for save action success for local and remote data\n     *\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     */\n    Edit.prototype.saveSuccess = function (args) {\n        var eventArgs = {};\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = this.parent.editedRecords;\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.action === 'TaskbarEditing' || args.action === 'DrawConnectorLine' || args.action === 'DeleteConnectorLine') {\n                this.updateSharedTask(args.data);\n            }\n            else if (args.action === 'DialogEditing' || args.action === 'CellEditing' || args.action === 'methodUpdate') {\n                if (this.parent.editModule.dialogModule.isResourceUpdate) {\n                    /* eslint-disable-next-line */\n                    this.updateResoures(this.parent.editModule.dialogModule.previousResource, args.data.ganttProperties.resourceInfo, args.data);\n                    this.updateSharedTask(args.data);\n                    this.isTreeGridRefresh = true;\n                }\n                else {\n                    this.updateSharedTask(args.data);\n                }\n            }\n            // method to update the edited parent records\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.editModule.dialogModule.isResourceUpdate = false;\n            this.parent.editModule.dialogModule.previousResource = [];\n        }\n        var criticalModule = this.parent.criticalPathModule;\n        if (this.parent.enableCriticalPath && criticalModule && criticalModule.criticalPathCollection) {\n            criticalModule.showCriticalPath(true);\n            criticalModule.criticalConnectorLine(criticalModule.criticalPathCollection, criticalModule.detailPredecessorCollection, true, criticalModule.predecessorCollectionTaskIds);\n        }\n        if (!this.isTreeGridRefresh) {\n            if (this.parent.editSettings.allowEditing && this.parent.treeGrid.element.getElementsByClassName('e-editedbatchcell').length > 0) {\n                if (!this.parent.treeGrid.grid.element.querySelector('form').ej2_instances[0].validate()) {\n                    setValue('isEdit', false, this.parent.treeGrid.grid);\n                    this.parent.editModule.cellEditModule.isCellEdit = false;\n                }\n                this.parent.treeGrid.endEdit();\n            }\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n            if (!this.parent.allowTaskbarOverlap && this.parent.showOverAllocation) {\n                this.parent.contentHeight = this.parent['element'].getElementsByClassName('e-content')[0].children[0]['offsetHeight'];\n                this.parent.ganttChartModule.chartBodyContent.style.height = this.parent.contentHeight + 'px';\n                this.parent.ganttChartModule.renderRangeContainer(this.parent.currentViewData);\n                if (this.parent.taskFields.dependency) {\n                    this.parent.ganttChartModule.reRenderConnectorLines();\n                }\n            }\n            if ((this.parent.isConnectorLineUpdate || (this.parent.undoRedoModule && this.parent.undoRedoModule['currentAction'] &&\n                this.parent.undoRedoModule['currentAction']['connectedRecords'])) && !isNullOrUndefined(this.parent.connectorLineEditModule)) {\n                this.parent.updatedConnectorLineCollection = [];\n                this.parent.connectorLineIds = [];\n                this.parent.connectorLineEditModule.refreshEditedRecordConnectorLine(this.parent.editedRecords);\n                this.updateScheduleDatesOnEditing(args);\n            }\n        }\n        if (!this.parent.editSettings.allowTaskbarEditing || (this.parent.editSettings.allowTaskbarEditing &&\n            !this.taskbarEditModule.dependencyCancel)) {\n            eventArgs.requestType = 'save';\n            eventArgs.data = args.data;\n            eventArgs.modifiedRecords = this.parent.editedRecords;\n            eventArgs.modifiedTaskData = getTaskData(this.parent.editedRecords, null, null, this.parent);\n            // Prevent currentviewdata index update action while allowTaskbarDragAndDrop is enabled- issue-942005\n            if (!this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule &&\n                this.parent.rowDragAndDropModule['dropPosition'] !== 'middleSegment') {\n                this.updateRowIndex();\n            }\n            if (!isNullOrUndefined(args.action)) {\n                setValue('action', args.action, eventArgs);\n            }\n            if (args.action === 'TaskbarEditing') {\n                eventArgs.taskBarEditAction = args.taskBarEditAction;\n            }\n            this.endEditAction(args);\n            this.parent.trigger('actionComplete', eventArgs);\n            if (this.parent.allowTaskbarDragAndDrop && this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['draggedRecord']) {\n                this.parent.rowDragAndDropModule['draggedRecord'] = null;\n            }\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.hideMaskRow();\n            }\n            else {\n                this.parent.hideSpinner();\n            }\n        }\n        else {\n            this.taskbarEditModule.dependencyCancel = false;\n            this.resetEditProperties();\n        }\n        if (this.parent.viewType === 'ResourceView' && this.isTreeGridRefresh) {\n            this.parent.treeGrid.parentData = [];\n            this.parent.updatedConnectorLineCollection = [];\n            this.parent.connectorLineIds = [];\n            this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n            this.parent.treeGrid.refresh();\n            this.isTreeGridRefresh = false;\n        }\n        this.parent.editedRecords = [];\n    };\n    Edit.prototype.updateResoures = function (prevResource, currentResource, updateRecord) {\n        var flatRecords = this.parent.flatData;\n        var currentLength = currentResource ? currentResource.length : 0;\n        var previousLength = prevResource ? prevResource.length : 0;\n        if (currentLength === 0 && previousLength === 0) {\n            return;\n        }\n        for (var index = 0; index < currentLength; index++) {\n            var recordIndex = [];\n            var resourceID = parseInt(currentResource[index][this.parent.resourceFields.id], 10).toString();\n            if (resourceID === 'NaN') {\n                resourceID = currentResource[index][this.parent.resourceFields.id];\n            }\n            if (!isNullOrUndefined(prevResource)) {\n                for (var i = 0; i < prevResource.length; i++) {\n                    var prevResourceID = parseInt(prevResource[i][this.parent.resourceFields.id], 10).toString();\n                    if (prevResourceID === 'NaN') {\n                        prevResourceID = prevResource[i][this.parent.resourceFields.id];\n                    }\n                    if (prevResourceID === resourceID) {\n                        recordIndex.push(i);\n                        break;\n                    }\n                }\n            }\n            if (recordIndex.length === 0) {\n                var parentRecord = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n                if (parentRecord) {\n                    this.addNewRecord(updateRecord, parentRecord);\n                }\n            }\n            else {\n                var record1 = parseInt(recordIndex[0].toString(), 10);\n                if (record1.toString() === 'NaN') {\n                    record1 = recordIndex[0].toString();\n                }\n                prevResource.splice(record1, 1);\n            }\n        }\n        var prevLength = prevResource ? prevResource.length : 0;\n        for (var index = 0; index < prevLength; index++) {\n            var taskID = updateRecord.ganttProperties.taskId;\n            var resourceID = prevResource[index][this.parent.resourceFields.id];\n            var record = flatRecords[this.parent.getTaskIds().indexOf('R' + resourceID)];\n            if (!isNullOrUndefined(record)) {\n                for (var j = 0; j < record.childRecords.length; j++) {\n                    if (record.childRecords[j].ganttProperties.taskId === taskID) {\n                        this.removeChildRecord(record.childRecords[j]);\n                    }\n                }\n            }\n        }\n        if (currentLength > 0) {\n            var parentTask = this.parent.getParentTask(updateRecord.parentItem);\n            if (parentTask) {\n                if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                    this.removeChildRecord(updateRecord);\n                }\n            }\n        }\n        //Assign resource to unassigned task\n        if (currentLength === 0) {\n            this.checkWithUnassignedTask(updateRecord);\n        }\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.flatData[this.parent.flatData.length - 1].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n            this.parent.flatData.splice(this.parent.flatData.length - 1, 1);\n            this.parent.currentViewData.splice(this.parent.currentViewData.length - 1, 1);\n            this.parent.taskIds.splice(this.parent.flatData.length - 1, 1);\n            this.parent.ids.splice(this.parent.flatData.length - 1, 1);\n        }\n    };\n    /**\n     * @param {IGanttData} updateRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.checkWithUnassignedTask = function (updateRecord) {\n        var unassignedTasks = null;\n        // Block for check the unassigned task.\n        for (var i = 0; i < this.parent.flatData.length; i++) {\n            if (this.parent.flatData[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                unassignedTasks = this.parent.flatData[i];\n            }\n        }\n        if (!isNullOrUndefined(unassignedTasks)) {\n            this.addNewRecord(updateRecord, unassignedTasks);\n        }\n        else {\n            // Block for create the unassigned task.\n            var unassignTaskObj = {};\n            unassignTaskObj[this.parent.taskFields.id] = 0;\n            unassignTaskObj[this.parent.taskFields.name] = this.parent.localeObj.getConstant('unassignedTask');\n            var beforeEditStatus = this.parent.isOnEdit;\n            this.parent.isOnEdit = false;\n            var cAddedRecord = this.parent.dataOperation.createRecord(unassignTaskObj, 0);\n            this.parent.isOnEdit = beforeEditStatus;\n            this.addRecordAsBottom(cAddedRecord);\n            var parentRecord = this.parent.flatData[this.parent.flatData.length - 1];\n            var index = this.parent.flatData.indexOf(parentRecord);\n            var childIndex = (index + 1) + parentRecord.childRecords.length;\n            updateRecord.index = childIndex;\n            updateRecord.level = parentRecord.level + 1;\n            this.addNewRecord(updateRecord, parentRecord);\n            /* eslint-disable-next-line */\n            var source = this.parent.dataSource;\n            source.push(updateRecord.taskData);\n        }\n        var updatedData = this.parent.currentViewData.filter(function (data) {\n            return (data.ganttProperties.taskId === updateRecord.ganttProperties.taskId &&\n                (data.hasChildRecords === updateRecord.hasChildRecords));\n        })[0];\n        updateRecord.parentItem = updatedData.parentItem;\n        updateRecord.parentUniqueID = updatedData.parentUniqueID;\n    };\n    Edit.prototype.addRecordAsBottom = function (cAddedRecord) {\n        var recordIndex1 = this.parent.flatData.length;\n        this.parent.currentViewData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.flatData.splice(recordIndex1 + 1, 0, cAddedRecord);\n        this.parent.ids.splice(recordIndex1 + 1, 0, cAddedRecord.ganttProperties.rowUniqueID.toString());\n        var taskId = cAddedRecord.level === 0 ? 'R' + cAddedRecord.ganttProperties.taskId : 'T' + cAddedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n    };\n    Edit.prototype.addNewRecord = function (updateRecord, parentRecord) {\n        var cAddedRecord = null;\n        cAddedRecord = extend({}, {}, updateRecord, true);\n        this.parent.setRecordValue('uniqueID', this.parent.dataOperation['getGanttUid'](this.parent.element.id + '_data_'), cAddedRecord);\n        this.parent.setRecordValue('uniqueID', cAddedRecord.uniqueID, cAddedRecord.ganttProperties, true);\n        var uniqueId = cAddedRecord.uniqueID.replace(this.parent.element.id + '_data_', '');\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord);\n        this.parent.setRecordValue('rowUniqueID', uniqueId, cAddedRecord.ganttProperties, true);\n        this.parent.setRecordValue('level', 1, cAddedRecord);\n        if (this.parent.taskFields.parentID) {\n            this.parent.setRecordValue('parentId', parentRecord.ganttProperties.taskId, cAddedRecord.ganttProperties, true);\n        }\n        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentRecord), cAddedRecord);\n        var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n        this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n        updateRecord.ganttProperties.sharedTaskUniqueIds.push(uniqueId);\n        cAddedRecord.ganttProperties.sharedTaskUniqueIds = updateRecord.ganttProperties.sharedTaskUniqueIds;\n        this.addRecordAsChild(parentRecord, cAddedRecord);\n    };\n    Edit.prototype.removeChildRecord = function (record) {\n        var gObj = this.parent;\n        var data = [];\n        if (this.parent.dataSource instanceof DataManager && this.parent.dataSource.dataSource.json.length > 0) {\n            data = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            data = this.parent.currentViewData;\n        }\n        var dataSource = this.parent.dataSource;\n        var deletedRow = record;\n        var flatParentData = this.parent.getParentTask(deletedRow.parentItem);\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var deleteChildRecords = flatParentData ? flatParentData.childRecords : [];\n                var childIndex = 0;\n                if (deleteChildRecords && deleteChildRecords.length > 0) {\n                    if (deleteChildRecords.length === 1) {\n                        //For updating the parent record which has no child reords.\n                        this.parent.isOnDelete = true;\n                        deleteChildRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        deleteChildRecords[0].isDelete = false;\n                    }\n                    childIndex = deleteChildRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            if (deletedRow.ganttProperties.sharedTaskUniqueIds.length) {\n                var uniqueIDIndex = deletedRow.ganttProperties.sharedTaskUniqueIds.indexOf(deletedRow.ganttProperties.rowUniqueID);\n                deletedRow.ganttProperties.sharedTaskUniqueIds.splice(uniqueIDIndex, 1);\n            }\n            this.updateTreeGridUniqueID(deletedRow, 'delete');\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.rowUniqueID.toString());\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            var flatRecordIndex = this.parent.flatData.indexOf(deletedRow);\n            if (gObj.taskFields.parentID) {\n                var idx = void 0;\n                var ganttData = this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                        idx = i;\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    data.splice(idx, 1);\n                    this.parent.flatData.splice(flatRecordIndex, 1);\n                    this.parent.ids.splice(flatRecordIndex, 1);\n                    this.parent.getTaskIds().splice(flatRecordIndex, 1);\n                }\n            }\n            var recordIndex = data.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                data.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.flatData.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(flatRecordIndex, deletedRecordCount + 1);\n                this.parent.getTaskIds().splice(flatRecordIndex, deletedRecordCount + 1);\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParentData);\n                this.parent.setRecordValue('hasChildRecords', false, flatParentData);\n            }\n        }\n    };\n    // Method to add new record after resource edit\n    Edit.prototype.addRecordAsChild = function (droppedRecord, draggedRecord) {\n        var gObj = this.parent;\n        var recordIndex1 = this.parent.flatData.indexOf(droppedRecord);\n        var childRecords = this.parent.editModule.getChildCount(droppedRecord, 0);\n        var childRecordsLength;\n        var spliceIndex;\n        var parentTask = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.dialogModule['indexes'] && this.dialogModule['indexes'].deletedIndexes && this.dialogModule['indexes'].deletedIndexes.length > 0) {\n            if (parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask')) {\n                childRecordsLength = this.parent.taskIds.length + 1;\n            }\n            else {\n                for (var j = 0; j < this.dialogModule['indexes'].deletedIndexes.length; j++) {\n                    if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID === draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var toIndex = this.dialogModule['indexes'].deletedIndexes[j].index;\n                        if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                            (childRecordsLength = toIndex);\n                        }\n                        else {\n                            (childRecordsLength = toIndex + 1);\n                        }\n                        for (var i = 0; i < droppedRecord.childRecords.length; i++) {\n                            if ('T' + droppedRecord.childRecords[i].ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].id) {\n                                if (this.dialogModule['indexes'].deletedIndexes[j].position === 'above') {\n                                    spliceIndex = i;\n                                }\n                                else {\n                                    spliceIndex = i + 1;\n                                }\n                                break;\n                            }\n                        }\n                        break;\n                    }\n                    else if (this.dialogModule['indexes'].deletedIndexes[j].data.parentUniqueID !== draggedRecord.parentUniqueID && draggedRecord.ganttProperties.taskId === this.dialogModule['indexes'].deletedIndexes[j].data.ganttProperties.taskId) {\n                        var draggedParent = this.parent.getTaskByUniqueID(draggedRecord.parentItem.uniqueID);\n                        childRecordsLength = draggedParent.index + draggedParent.childRecords.length + 1;\n                        break;\n                    }\n                }\n            }\n        }\n        else if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && parentTask.ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask') && this.parent.undoRedoModule['currentAction']['deletedRecordsDetails']) {\n            for (var i = 0; i < this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'].length; i++) {\n                if (this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.ganttProperties.taskId === draggedRecord.ganttProperties.taskId) {\n                    if (parentTask.index) {\n                        childRecordsLength = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'][i].data.index;\n                        spliceIndex = childRecordsLength - parentTask.index - 1;\n                    }\n                    else {\n                        childRecordsLength = (isNullOrUndefined(childRecords) ||\n                            childRecords === 0) ? recordIndex1 + 1 :\n                            childRecords + recordIndex1 + 1;\n                        spliceIndex = 0;\n                    }\n                    break;\n                }\n            }\n        }\n        else if (!isNullOrUndefined(this.addRowIndex) && this.addRowPosition && droppedRecord.childRecords && this.addRowPosition !== 'Child') {\n            var dropChildRecord = droppedRecord.childRecords[this.addRowIndex];\n            var position = this.addRowPosition === 'Above' || this.addRowPosition === 'Below' ? this.addRowPosition :\n                'Child';\n            childRecordsLength = dropChildRecord ? this.addRowIndex + recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n            childRecordsLength = position === 'Above' ? childRecordsLength : childRecordsLength + 1;\n        }\n        else {\n            childRecordsLength = (isNullOrUndefined(childRecords) ||\n                childRecords === 0) ? recordIndex1 + 1 :\n                childRecords + recordIndex1 + 1;\n        }\n        //this.ganttData.splice(childRecordsLength, 0, this.draggedRecord);\n        this.parent.currentViewData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.flatData.splice(childRecordsLength, 0, draggedRecord);\n        this.parent.ids.splice(childRecordsLength, 0, draggedRecord.ganttProperties.rowUniqueID.toString());\n        this.updateTreeGridUniqueID(draggedRecord, 'add');\n        var recordId = draggedRecord.level === 0 ? 'R' + draggedRecord.ganttProperties.taskId : 'T' + draggedRecord.ganttProperties.taskId;\n        this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n        if (!droppedRecord.hasChildRecords) {\n            this.parent.setRecordValue('hasChildRecords', true, droppedRecord);\n            this.parent.setRecordValue('expanded', true, droppedRecord);\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n                    droppedRecord.taskData[this.parent.taskFields.child] = [];\n                }\n            }\n        }\n        if (spliceIndex >= 0) {\n            droppedRecord.childRecords.splice(spliceIndex, 0, draggedRecord);\n        }\n        else {\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n        }\n        if (!isNullOrUndefined(draggedRecord) && !this.parent.taskFields.parentID\n            && !isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.child])) {\n            droppedRecord.taskData[this.parent.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n        }\n        if (!isNullOrUndefined(draggedRecord.parentItem)) {\n            //collection to update the parent records\n            this.updateParentRecords.push(droppedRecord);\n        }\n    };\n    Edit.prototype.resetEditProperties = function (args) {\n        this.parent.currentEditedArgs = {};\n        this.resetValidateArgs();\n        this.parent.isOnEdit = false;\n        this.parent.predecessorModule.validatedChildItems = [];\n        this.parent.isConnectorLineUpdate = false;\n        this.parent.editedPredecessorRecords = [];\n        this.taskbarMoved = false;\n        this.predecessorUpdated = false;\n        if (!isNullOrUndefined(this.dialogModule) && (isNullOrUndefined(args) ||\n            (!isNullOrUndefined(args) && args['requestType'] === 'beforeSave' && !args['cancel']))) {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n        this.parent.hideSpinner();\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.endEditAction = function (args) {\n        this.resetEditProperties();\n        if (args.action === 'TaskbarEditing') {\n            args.target = this.taskbarEditModule['editElement'];\n            this.parent.trigger('taskbarEdited', args);\n        }\n        else if (args.action === 'CellEditing') {\n            this.parent.trigger('endEdit', args);\n        }\n        else if (args.action === 'DialogEditing') {\n            if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n                this.dialogModule.dialogObj.hide();\n            }\n            this.dialogModule.dialogClose();\n        }\n    };\n    // eslint-disable-next-line\n    Edit.prototype.saveFailed = function (args) {\n        this.reUpdatePreviousRecords();\n        this.parent.hideSpinner();\n        //action failure event trigger\n    };\n    /**\n     * To render delete confirmation dialog\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.renderDeleteConfirmDialog = function () {\n        var dialogObj = new Dialog({\n            width: '320px',\n            isModal: true,\n            visible: false,\n            enableRtl: this.parent.enableRtl,\n            content: this.parent.localeObj.getConstant('confirmDelete'),\n            buttons: [\n                {\n                    click: this.confirmDeleteOkButton.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('okText'), isPrimary: true }\n                },\n                {\n                    click: this.closeConfirmDialog.bind(this),\n                    buttonModel: { content: this.parent.localeObj.getConstant('cancel') }\n                }\n            ],\n            target: this.parent.element,\n            animationSettings: { effect: 'None' }\n        });\n        dialogObj.appendTo('#' + this.parent.element.id + '_deleteConfirmDialog');\n        this.confirmDialog = dialogObj;\n    };\n    Edit.prototype.closeConfirmDialog = function () {\n        this.confirmDialog.hide();\n    };\n    Edit.prototype.confirmDeleteOkButton = function () {\n        this.deleteSelectedItems();\n        this.confirmDialog.hide();\n        var focussedElement = this.parent.element.querySelector('.e-treegrid');\n        focussedElement.focus();\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.startDeleteAction = function () {\n        if (this.parent.editSettings.allowDeleting && !this.parent.readOnly) {\n            if (this.parent.editSettings.showDeleteConfirmDialog) {\n                this.confirmDialog.show();\n            }\n            else {\n                this.deleteSelectedItems();\n                var focusingElement = this.parent.element.querySelector('.e-treegrid');\n                focusingElement.focus();\n            }\n        }\n    };\n    /**\n     *\n     * @param {IGanttData[]} selectedRecords - Defines the deleted records\n     * @returns {void} .\n     * Method to delete the records from resource view Gantt.\n     */\n    Edit.prototype.deleteResourceRecords = function (selectedRecords) {\n        var _this = this;\n        var deleteRecords = [];\n        var _loop_3 = function (i) {\n            if (selectedRecords[i].parentItem) {\n                if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length === 1) {\n                    var data = selectedRecords[i];\n                    var ids = data.ganttProperties.sharedTaskUniqueIds;\n                    for (var j = 0; j < ids.length; j++) {\n                        if (this_3.parent.ids.indexOf(ids[j].toString()) !== -1) {\n                            deleteRecords.push(this_3.parent.flatData[this_3.parent.ids.indexOf(ids[j].toString())]);\n                        }\n                        else if (this_3.parent.undoRedoModule && this_3.parent.undoRedoModule['isUndoRedoPerformed'] && this_3.parent.undoRedoModule['currentAction'] && this_3.parent.undoRedoModule['currentAction']['action'] === 'Delete') {\n                            deleteRecords.push(this_3.parent.flatData[this_3.parent.taskIds.indexOf('T' + selectedRecords[i].ganttProperties.taskId)]);\n                        }\n                    }\n                    if (this_3.parent.ids.indexOf(data.ganttProperties.rowUniqueID) !== -1 &&\n                        deleteRecords.indexOf(this_3.parent.flatData[this_3.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]) === -1) {\n                        deleteRecords.push(this_3.parent.flatData[this_3.parent.ids.indexOf(data.ganttProperties.rowUniqueID)]);\n                    }\n                }\n                else if (selectedRecords[i].ganttProperties.sharedTaskUniqueIds.length > 1) {\n                    selectedRecords.forEach(function (record) {\n                        record.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                            deleteRecords.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                        });\n                    });\n                }\n            }\n            else {\n                var resourceParent = this_3.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId === selectedRecords[i].ganttProperties.taskId &&\n                        data.hasChildRecords);\n                })[0];\n                if (!isNullOrUndefined(resourceParent)) {\n                    deleteRecords.push(resourceParent);\n                }\n            }\n        };\n        var this_3 = this;\n        for (var i = 0; i < selectedRecords.length; i++) {\n            _loop_3(i);\n        }\n        this.deleteRow(deleteRecords);\n    };\n    Edit.prototype.add = function (record, totalRecords) {\n        totalRecords.push(record);\n        if (record.hasChildRecords) {\n            var child = record.childRecords;\n            for (var i = 0; i < child.length; i++) {\n                this.add(child[i], totalRecords);\n            }\n        }\n        else {\n            if (totalRecords.indexOf(record) === -1) {\n                totalRecords.push(record);\n            }\n        }\n    };\n    Edit.prototype.deleteSelectedItems = function () {\n        if (!this.isFromDeleteMethod) {\n            var selectedRecords = [];\n            if (this.parent.selectionSettings.mode !== 'Cell') {\n                selectedRecords = this.parent.selectionModule.getSelectedRecords();\n            }\n            else if (this.parent.selectionSettings.mode === 'Cell') {\n                selectedRecords = this.parent.selectionModule.getCellSelectedRecords();\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                this.deleteResourceRecords(selectedRecords);\n            }\n            else {\n                this.deleteRow(selectedRecords);\n            }\n        }\n        else {\n            if (this.targetedRecords.length) {\n                if (this.parent.viewType === 'ResourceView') {\n                    this.deleteResourceRecords(this.targetedRecords);\n                }\n                else {\n                    this.deleteRow(this.targetedRecords);\n                }\n            }\n            this.isFromDeleteMethod = false;\n        }\n    };\n    /**\n     * Method to delete record.\n     *\n     * @param {number | string | number[] | string[] | IGanttData | IGanttData[]} taskDetail - Defines the details of data to delete.\n     * @returns {void} .\n     * @public\n     */\n    Edit.prototype.deleteRecord = function (taskDetail) {\n        this.isFromDeleteMethod = true;\n        var variableType = typeof (taskDetail);\n        this.targetedRecords = [];\n        switch (variableType) {\n            case 'number':\n            case 'string':\n                {\n                    var taskId = taskDetail.toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(taskId) && this.parent.getTaskIds().indexOf('T' + taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + taskId)]);\n                        }\n                    }\n                    else {\n                        if (!isNullOrUndefined(taskId) && this.parent.ids.indexOf(taskId) !== -1) {\n                            this.targetedRecords.push(this.parent.getRecordByID(taskId));\n                        }\n                    }\n                    break;\n                }\n            case 'object':\n                if (!Array.isArray(taskDetail)) {\n                    this.targetedRecords.push(taskDetail.valueOf());\n                }\n                else {\n                    this.updateTargetedRecords(taskDetail);\n                }\n                break;\n            default:\n        }\n        this.startDeleteAction();\n    };\n    /**\n     * To update 'targetedRecords collection' from given array collection\n     *\n     * @param {object[]} taskDetailArray .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTargetedRecords = function (taskDetailArray) {\n        if (taskDetailArray.length) {\n            var variableType = typeof (taskDetailArray[0]);\n            if (variableType === 'object') {\n                this.targetedRecords = taskDetailArray;\n            }\n            else {\n                // Get record from array of task ids\n                for (var i = 0; i < taskDetailArray.length; i++) {\n                    var id = taskDetailArray[i].toString();\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (!isNullOrUndefined(id) && this.parent.getTaskIds().indexOf('T' + id) !== -1) {\n                            this.targetedRecords.push(this.parent.flatData[this.parent.getTaskIds().indexOf('T' + id)]);\n                        }\n                    }\n                    else if (!isNullOrUndefined(id) && this.parent.ids.indexOf(id) !== -1) {\n                        this.targetedRecords.push(this.parent.getRecordByID(id));\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.deleteRow = function (tasks) {\n        var _this = this;\n        var rowItems = tasks && tasks.length ? tasks :\n            this.parent.selectionModule.getSelectedRecords();\n        this.parent.addDeleteRecord = true;\n        if (rowItems.length) {\n            this.parent.isOnDelete = true;\n            rowItems.forEach(function (item) {\n                if (_this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var rec = void 0;\n                    if (_this.parent.viewType === 'ProjectView') {\n                        rec = _this.parent.getRecordByID(item.ganttProperties.taskId);\n                    }\n                    else {\n                        rec = _this.parent.flatData[_this.parent.taskIds.indexOf((item.hasChildRecords ? 'R' : 'T') + item.ganttProperties.taskId)];\n                    }\n                    rec.isDelete = true;\n                }\n                item.isDelete = true;\n            });\n            if (this.parent.viewType === 'ResourceView' && !tasks.length) {\n                rowItems = [];\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Delete')) {\n                if (this.parent.undoRedoModule['redoEnabled'] && !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    this.parent.undoRedoModule['createUndoCollection']();\n                }\n                var records = {};\n                records['action'] = 'Delete';\n                records['deletedRecordsDetails'] = [];\n                this.parent.undoRedoModule['findPosition'](extend([], [], rowItems, true), records, 'deletedRecordsDetails');\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n            }\n            var _loop_4 = function (i) {\n                var deleteRecord = rowItems[i];\n                if (this_4.deletedTaskDetails.indexOf(deleteRecord) !== -1) {\n                    return \"continue\";\n                }\n                var deleteItems = [deleteRecord];\n                if (this_4.parent.viewType === 'ResourceView' && this_4.parent.undoRedoModule && this_4.parent.undoRedoModule['isUndoRedoPerformed'] && rowItems[i].ganttProperties.resourceInfo && rowItems[i].ganttProperties.resourceInfo.length > 1) {\n                    deleteItems = [];\n                    if (!rowItems[i].hasChildRecords) {\n                        var id_1 = 'T' + rowItems[i].ganttProperties.taskId;\n                        this_4.parent.taskIds.reduce(function (e, j) {\n                            if (e === id_1) {\n                                deleteItems.push(this.parent.flatData[j]);\n                            }\n                        }.bind(this_4), []);\n                    }\n                }\n                for (var j = 0; j < deleteItems.length; j++) {\n                    var parentTask = this_4.parent.getParentTask(deleteItems[j].parentItem);\n                    if (deleteItems[j].parentItem) {\n                        var childRecord = void 0;\n                        if (!isNullOrUndefined(parentTask)) {\n                            childRecord = parentTask.childRecords;\n                            var filteredRecord = childRecord.length === 1 ?\n                                childRecord : childRecord.filter(function (data) {\n                                return !data.isDelete;\n                            });\n                            if (filteredRecord.length > 0) {\n                                this_4.parent.dataOperation.updateParentItems(deleteItems[j].parentItem);\n                            }\n                        }\n                    }\n                    var predecessor = deleteItems[j].ganttProperties.predecessor;\n                    var canDeletePredecessor = true;\n                    if (this_4.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                        this_4.parent.localeObj.getConstant('unassignedTask')) {\n                        canDeletePredecessor = false;\n                    }\n                    if (predecessor && predecessor.length && canDeletePredecessor) {\n                        this_4.removePredecessorOnDelete(deleteItems[j]);\n                    }\n                    this_4.deletedTaskDetails.push(deleteItems[j]);\n                    if (deleteItems[j].hasChildRecords) {\n                        this_4.deleteChildRecords(deleteItems[j]);\n                    }\n                }\n            };\n            var this_4 = this;\n            for (var i = 0; i < rowItems.length; i++) {\n                _loop_4(i);\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection) {\n                // clear selection\n                this.parent.selectionModule.clearSelection();\n            }\n            var delereArgs = {};\n            delereArgs.deletedRecordCollection = this.deletedTaskDetails;\n            delereArgs.updatedRecordCollection = this.parent.editedRecords;\n            delereArgs.cancel = false;\n            delereArgs.action = 'delete';\n            this.initiateDeleteAction(delereArgs);\n            this.parent.isOnDelete = false;\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Edit.prototype.removePredecessorOnDelete = function (record) {\n        var predecessors = record.ganttProperties.predecessor;\n        for (var i = 0; i < predecessors.length; i++) {\n            var predecessor = predecessors[i];\n            var recordId = this.parent.viewType === 'ResourceView' ? record.ganttProperties.taskId :\n                record.ganttProperties.rowUniqueID;\n            if (predecessor.from.toString() === recordId.toString()) {\n                var toRecord = this.parent.connectorLineModule.getRecordByID(predecessor.to.toString());\n                if (!isNullOrUndefined(toRecord)) {\n                    var toRecordPredcessor = extend([], [], toRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < toRecordPredcessor.length; t++) {\n                        var toId = this.parent.viewType === 'ResourceView' ? toRecord.ganttProperties.taskId :\n                            toRecord.ganttProperties.rowUniqueID;\n                        if (toRecordPredcessor[t].to.toString() === toId.toString()\n                            && toRecordPredcessor[t].from.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    toRecordPredcessor.splice(index, 1);\n                    this.updatePredecessorValues(toRecord, toRecordPredcessor);\n                }\n            }\n            else if (predecessor.to.toString() === recordId.toString()) {\n                var fromRecord = this.parent.connectorLineModule.getRecordByID(predecessor.from.toString());\n                if (!isNullOrUndefined(fromRecord)) {\n                    var fromRecordPredcessor = extend([], [], fromRecord.ganttProperties.predecessor, true);\n                    var index = void 0;\n                    for (var t = 0; t < fromRecordPredcessor.length; t++) {\n                        var fromId = this.parent.viewType === 'ResourceView' ? fromRecord.ganttProperties.taskId :\n                            fromRecord.ganttProperties.rowUniqueID;\n                        if (fromRecordPredcessor[t].from.toString() === fromId.toString()\n                            && fromRecordPredcessor[t].to.toString() === recordId.toString()) {\n                            index = t;\n                            break;\n                        }\n                    }\n                    if (record.uniqueID === fromRecord.parentUniqueID ||\n                        record.parentUniqueID === fromRecord.uniqueID || this.parent.isOnDelete) {\n                        fromRecordPredcessor.splice(index, 1);\n                        this.updatePredecessorValues(fromRecord, fromRecordPredcessor);\n                    }\n                }\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorValues = function (record, predcessorArray) {\n        this.parent.setRecordValue('predecessor', predcessorArray, record.ganttProperties, true);\n        var predecessorString = this.parent.predecessorModule.getPredecessorStringValue(record);\n        this.parent.setRecordValue('predecessorsName', predecessorString, record.ganttProperties, true);\n        this.parent.setRecordValue('taskData.' + this.parent.taskFields.dependency, predecessorString, record);\n        this.parent.setRecordValue(this.parent.taskFields.dependency, predecessorString, record);\n    };\n    /**\n     * Method to update TaskID of a gantt record\n     *\n     * @param {string | number} currentId .\n     * @param {number | string} newId .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTaskId = function (currentId, newId) {\n        if (!this.parent.readOnly) {\n            var cId = typeof currentId === 'number' ? currentId.toString() : currentId;\n            var nId = typeof newId === 'number' ? newId.toString() : newId;\n            var ids = this.parent.ids;\n            if (!isNullOrUndefined(cId) && !isNullOrUndefined(nId)) {\n                var cIndex = ids.indexOf(cId);\n                var nIndex = ids.indexOf(nId);\n                // return false for invalid taskID\n                if (cIndex === -1 || nIndex > -1) {\n                    return;\n                }\n                var thisRecord = this.parent.flatData[cIndex];\n                if (!isNullOrUndefined(thisRecord)) {\n                    this.parent.setRecordValue('taskId', newId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue('rowUniqueID', nId, thisRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord, true);\n                    this.parent.setRecordValue(this.parent.taskFields.id, newId, thisRecord.taskData, true);\n                }\n                ids[cIndex] = nId;\n                if (thisRecord.hasChildRecords && this.parent.taskFields.parentID) {\n                    var childRecords = thisRecord.childRecords;\n                    for (var count = 0; count < childRecords.length; count++) {\n                        var childRecord = childRecords[count];\n                        childRecord[this.parent.taskFields.parentID] = newId;\n                        this.parent.chartRowsModule.refreshRecords([childRecord]);\n                    }\n                }\n                if (this.parent.taskFields.dependency && !isNullOrUndefined(thisRecord.ganttProperties.predecessor)) {\n                    var predecessors = thisRecord.ganttProperties.predecessor;\n                    var currentGanttRecord = void 0;\n                    for (var i = 0; i < predecessors.length; i++) {\n                        var predecessor = predecessors[i];\n                        if (predecessor.to === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.from)];\n                        }\n                        else if (predecessor.from === cId) {\n                            currentGanttRecord = this.parent.flatData[ids.indexOf(predecessor.to)];\n                        }\n                        this.updatePredecessorOnUpdateId(currentGanttRecord, cId, nId);\n                    }\n                }\n                this.parent.treeGrid.parentData = [];\n                this.parent.treeGrid.refresh();\n            }\n        }\n    };\n    Edit.prototype.updatePredecessorOnUpdateId = function (currentGanttRecord, cId, nId) {\n        if (this.parent.flatData.indexOf(currentGanttRecord) > -1) {\n            var pred = currentGanttRecord.ganttProperties.predecessor;\n            for (var j = 0; j < pred.length; j++) {\n                var pre = pred[j];\n                if (pre.to === cId) {\n                    pre.to = nId;\n                }\n                else if (pre.from === cId) {\n                    pre.from = nId;\n                }\n            }\n        }\n        this.updatePredecessorValues(currentGanttRecord, currentGanttRecord.ganttProperties.predecessor);\n    };\n    Edit.prototype.deleteChildRecords = function (record) {\n        var _this = this;\n        var childRecords = record.childRecords;\n        for (var c = 0; c < childRecords.length; c++) {\n            var childRecord = childRecords[c];\n            if (this.deletedTaskDetails.indexOf(childRecord) !== -1) {\n                continue;\n            }\n            var predecessor = childRecord.ganttProperties.predecessor;\n            var canDeletePredecessor = true;\n            var parentTask = this.parent.getParentTask(childRecord.parentItem);\n            if (this.parent.viewType === 'ResourceView' && parentTask && parentTask.ganttProperties.taskName !==\n                this.parent.localeObj.getConstant('unassignedTask')) {\n                canDeletePredecessor = false;\n            }\n            if (predecessor && predecessor.length && canDeletePredecessor) {\n                this.removePredecessorOnDelete(childRecord);\n            }\n            if (!isNullOrUndefined(childRecord.ganttProperties.sharedTaskUniqueIds) &&\n                childRecord.ganttProperties.sharedTaskUniqueIds.length > 1) {\n                childRecord.ganttProperties.sharedTaskUniqueIds.forEach(function (uniqueId) {\n                    _this.deletedTaskDetails.push(_this.parent.getTaskByUniqueID(_this.parent.element.id + '_data_' + uniqueId));\n                });\n            }\n            else {\n                this.deletedTaskDetails.push(childRecord);\n            }\n            if (childRecord.hasChildRecords) {\n                this.deleteChildRecords(childRecord);\n            }\n        }\n    };\n    Edit.prototype.removeFromDataSource = function (deleteRecordIDs) {\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        this.removeData(dataSource, deleteRecordIDs);\n        this.isBreakLoop = false;\n    };\n    Edit.prototype.removeData = function (dataCollection, record) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()) !== -1) {\n                if (dataCollection[i][this.parent.taskFields.child]) {\n                    var childRecords = dataCollection[i][this.parent.taskFields.child];\n                    this.removeData(childRecords, record);\n                }\n                record.splice(record.indexOf(getValue(this.parent.taskFields.id, dataCollection[i]).toString()), 1);\n                dataCollection.splice(i, 1);\n                if (record.length === 0) {\n                    this.isBreakLoop = true;\n                    break;\n                }\n            }\n            else if (dataCollection[i][this.parent.taskFields.child]) {\n                var childRecords = dataCollection[i][this.parent.taskFields.child];\n                this.removeData(childRecords, record);\n            }\n        }\n    };\n    Edit.prototype.initiateDeleteAction = function (args) {\n        var _this = this;\n        this.parent.showSpinner();\n        var eventArgs = {};\n        eventArgs.requestType = 'beforeDelete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        this.parent.trigger('actionBegin', eventArgs, function (eventArg) {\n            if (eventArg.cancel) {\n                var deleteRecords = _this.deletedTaskDetails;\n                for (var d = 0; d < deleteRecords.length; d++) {\n                    deleteRecords[d].isDelete = false;\n                }\n                _this.deletedTaskDetails = [];\n                _this.reUpdatePreviousRecords();\n                _this.parent.initiateEditAction(false);\n                _this.parent.hideSpinner();\n            }\n            else {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                if (isRemoteData(_this.parent.dataSource)) {\n                    var data_1 = _this.parent.dataSource;\n                    if (_this.parent.timezone) {\n                        eventArg.modifiedRecords.forEach(function (modifiedRecord) {\n                            updateDates(modifiedRecord, _this.parent);\n                        });\n                    }\n                    var updatedData_1 = {\n                        deletedRecords: getTaskData(eventArg.data, null, null, _this.parent),\n                        changedRecords: eventArg.modifiedTaskData\n                    };\n                    var adaptor = data_1.adaptor;\n                    var query_1 = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                    if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data_1.dataSource.batchUrl) {\n                        var crud = data_1.saveChanges(updatedData_1, _this.parent.taskFields.id, null, query_1);\n                        crud.then(function () { return _this.deleteSuccess(args); })\n                            .catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                    else {\n                        var deletedRecords = 'deletedRecords';\n                        var deleteCrud = null;\n                        for (var i = 0; i < updatedData_1[deletedRecords].length; i++) {\n                            deleteCrud = data_1.remove(_this.parent.taskFields.id, updatedData_1[deletedRecords][i], null, query_1);\n                        }\n                        deleteCrud.then(function () {\n                            var changedRecords = 'changedRecords';\n                            var _loop_5 = function (i) {\n                                if (updatedData_1['deletedRecords'].some(function (record) { return record[_this.parent.taskFields.id] === updatedData_1[changedRecords][i].taskId; })) {\n                                    updatedData_1[changedRecords].splice(i, 1);\n                                }\n                            };\n                            for (var i = updatedData_1[changedRecords].length - 1; i >= 0; i--) {\n                                _loop_5(i);\n                            }\n                            var updateCrud = data_1.update(_this.parent.taskFields.id, updatedData_1[changedRecords], null, query_1);\n                            updateCrud.then(function () { return _this.deleteSuccess(args); })\n                                .catch(function (e) { return _this.dmFailure(e, args); });\n                        }).catch(function (e) { return _this.dmFailure(e, args); });\n                    }\n                }\n                else {\n                    _this.deleteSuccess(args);\n                }\n            }\n        });\n    };\n    Edit.prototype.deleteSuccess = function (args) {\n        var _this = this;\n        var flatData = this.parent.flatData;\n        var currentData = this.parent.currentViewData;\n        var deletedRecords = [];\n        for (var i = 0; i < args.deletedRecordCollection.length; i++) {\n            if (this.parent.viewType === 'ProjectView') {\n                var record = this.parent.getRecordByID(args.deletedRecordCollection[i].ganttProperties.taskId);\n                if (!isNullOrUndefined(record)) {\n                    deletedRecords.push(record);\n                }\n            }\n            else {\n                var id = void 0;\n                var hasChildRecords = args.deletedRecordCollection[i].hasChildRecords;\n                var isUnassignedTask = args.deletedRecordCollection[i].ganttProperties.taskName === this.parent.localeObj.getConstant('unassignedTask');\n                var isCollapsed = !args.deletedRecordCollection[i].expanded;\n                if (hasChildRecords && isUnassignedTask && isCollapsed) {\n                    if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        this.parent.hideMaskRow();\n                    }\n                    else {\n                        this.parent.hideSpinner();\n                    }\n                    this.deletedTaskDetails = [];\n                    this.parent.initiateEditAction(false);\n                    return;\n                }\n                if (args.deletedRecordCollection[i].hasChildRecords) {\n                    id = 'R' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                else {\n                    id = 'T' + args.deletedRecordCollection[i].ganttProperties.taskId;\n                }\n                deletedRecords.push(this.parent.getTaskByUniqueID(args.deletedRecordCollection[i].uniqueID));\n            }\n        }\n        var deleteRecordIDs = [];\n        if (deletedRecords.length > 0) {\n            var recordIndex = void 0;\n            var record = void 0;\n            if (this.parent.enableVirtualization) {\n                recordIndex = this.parent.flatData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.flatData[this.parent.selectedRowIndex + 1];\n                // perform toolbar CollapseAll later delete action issue handle\n                if (!this.parent.isCollapseAll) {\n                    // Random parent record delete action, maintaining proper record selection\n                    this.parent.staticSelectedRowIndex = (recordIndex - (deletedRecords.length - 1));\n                }\n            }\n            else {\n                recordIndex = this.parent.currentViewData.indexOf(deletedRecords[deletedRecords.length - 1]);\n                this.parent.staticSelectedRowIndex = this.parent.selectedRowIndex = recordIndex;\n                record = this.parent.currentViewData[this.parent.selectedRowIndex + 1];\n            }\n            if (!isNullOrUndefined(record)) {\n                this.parent.currentSelection = record;\n            }\n            else {\n                var prevRecordIndex = this.parent.selectedRowIndex - 1;\n                if (prevRecordIndex >= 0) {\n                    this.parent.currentSelection = this.parent.enableVirtualization ?\n                        this.parent.flatData[prevRecordIndex] : this.parent.currentViewData[prevRecordIndex];\n                }\n            }\n        }\n        this.deletedRecord = deletedRecords;\n        for (var i = 0; i < deletedRecords.length; i++) {\n            var deleteRecord = deletedRecords[i];\n            var currentIndex = void 0;\n            var flatIndex = void 0;\n            if (this.parent.viewType === 'ResourceView') {\n                if (deleteRecord.hasChildRecords) {\n                    currentIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('R' + deleteRecord.ganttProperties.taskId.toString());\n                }\n                else {\n                    currentIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                    flatIndex = this.parent.taskIds.indexOf('T' + deleteRecord.ganttProperties.taskId.toString());\n                }\n            }\n            else {\n                currentIndex = currentData.indexOf(deleteRecord);\n                flatIndex = flatData.indexOf(deleteRecord);\n            }\n            var treeGridParentIndex = this.parent.treeGrid.parentData.indexOf(deleteRecord);\n            var tempData = getValue('dataOperation.dataArray', this.parent);\n            var dataIndex = tempData.indexOf(deleteRecord.taskData);\n            var childIndex = void 0;\n            if (currentIndex !== -1) {\n                currentData.splice(currentIndex, 1);\n            }\n            if (flatIndex !== -1) {\n                flatData.splice(flatIndex, 1);\n            }\n            if (dataIndex !== -1) {\n                tempData.splice(dataIndex, 1);\n            }\n            if (!isNullOrUndefined(deleteRecord)) {\n                deleteRecordIDs.push(deleteRecord.ganttProperties.taskId.toString());\n                if (flatIndex !== -1) {\n                    this.parent.ids.splice(flatIndex, 1);\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(flatIndex, 1);\n                        if (!deleteRecord.hasChildRecords) {\n                            deleteRecord.ganttProperties.resourceInfo = null;\n                            delete deleteRecord.ganttProperties.resourceNames;\n                            deleteRecord[this.parent.taskFields.resourceInfo] = null;\n                            deleteRecord.ganttProperties.sharedTaskUniqueIds = [];\n                            delete deleteRecord.taskData[this.parent.taskFields.resourceInfo];\n                        }\n                    }\n                }\n                if (deleteRecord.level === 0 && treeGridParentIndex !== -1) {\n                    this.parent.treeGrid.parentData.splice(treeGridParentIndex, 1);\n                }\n                if (deleteRecord.parentItem) {\n                    var parentItem = this.parent.getParentTask(deleteRecord.parentItem);\n                    if (parentItem) {\n                        var childRecords = parentItem.childRecords;\n                        childIndex = childRecords.indexOf(deleteRecord);\n                        if (childIndex !== -1) {\n                            childRecords.splice(childIndex, 1);\n                        }\n                        if (!childRecords.length) {\n                            this.parent.setRecordValue('hasChildRecords', false, parentItem);\n                        }\n                    }\n                }\n                this.updateTreeGridUniqueID(deleteRecord, 'delete');\n            }\n        }\n        if (deleteRecordIDs.length > 0) {\n            this.removeFromDataSource(deleteRecordIDs);\n        }\n        this.updateRowIndex();\n        var eventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.isAdded = false;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode();\n        }\n        // Trigger actioncomplete event for delete action\n        eventArgs.requestType = 'delete';\n        eventArgs.data = args.deletedRecordCollection;\n        eventArgs.modifiedRecords = args.updatedRecordCollection;\n        eventArgs.modifiedTaskData = getTaskData(args.updatedRecordCollection, null, null, this.parent);\n        setValue('action', args.action, eventArgs);\n        this.parent.isOnDelete = false;\n        if (this.parent.viewType === 'ResourceView' && (!this.parent.undoRedoModule || (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Delete'))))) {\n            var updateUnAssignedResources_1 = eventArgs.data.filter(function (data) {\n                return !data.hasChildRecords;\n            });\n            var _loop_6 = function (i) {\n                var unassignedTask = this_5.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var isDuplicate = [];\n                if (unassignedTask) {\n                    isDuplicate = unassignedTask.childRecords.filter(function (data) {\n                        return data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId;\n                    });\n                }\n                var parentTask = this_5.parent.getParentTask(updateUnAssignedResources_1[i].parentItem);\n                if (parentTask && parentTask.ganttProperties.taskName !==\n                    this_5.parent.localeObj.getConstant('unassignedTask') && isDuplicate.length === 0) {\n                    this_5.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                else if (!parentTask && (!isDuplicate || isDuplicate.length === 0)) {\n                    this_5.checkWithUnassignedTask(updateUnAssignedResources_1[i]);\n                }\n                unassignedTask = this_5.parent.flatData.filter(function (data) {\n                    return data.ganttProperties.taskName === _this.parent.localeObj.getConstant('unassignedTask');\n                })[0];\n                var parentItem = this_5.parent.currentViewData.filter(function (data) {\n                    if (data.ganttProperties.taskId === updateUnAssignedResources_1[i].ganttProperties.taskId &&\n                        (!data.hasChildRecords && data.parentItem)\n                        && unassignedTask.uniqueID === data.parentItem.uniqueID) {\n                        return data;\n                    }\n                    else {\n                        return null;\n                    }\n                });\n                if (parentItem[0]) {\n                    this_5.parent.dataOperation.updateParentItems(parentItem[0]);\n                }\n            };\n            var this_5 = this;\n            for (var i = 0; i < updateUnAssignedResources_1.length; i++) {\n                _loop_6(i);\n            }\n        }\n        this.parent.trigger('actionComplete', eventArgs);\n        this.deletedTaskDetails = [];\n        this.parent.initiateEditAction(false);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    /**\n     * Generates a new task ID for a Gantt chart component, ensuring it's unique within the current context.\n     * @returns {number | string} - The new unique task ID.\n     * @private\n     */\n    Edit.prototype.getNewTaskId = function () {\n        var newTaskId;\n        var ids = this.parent.viewType === 'ResourceView' ? this.parent.getTaskIds() : this.parent.ids;\n        var maxId = ids.length;\n        if (this.parent.dataOperation['isTaskIDInteger'] && this.parent.ids.length > 0) {\n            newTaskId = Math.max.apply(Math, this.parent.ids.map(function (id) { return Number(id); }));\n        }\n        else {\n            newTaskId = maxId + 1;\n        }\n        if (this.parent.viewType === 'ResourceView') {\n            if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf('T' + newTaskId) !== -1 || ids.indexOf('R' + newTaskId) !== -1);\n                }\n            }\n        }\n        else {\n            if (ids.indexOf(newTaskId.toString()) !== -1) {\n                newTaskId = newTaskId + 1;\n                if (ids.indexOf(newTaskId.toString()) !== -1) {\n                    do {\n                        newTaskId = newTaskId + 1;\n                    } while (ids.indexOf(newTaskId.toString()) !== -1);\n                }\n            }\n        }\n        if (this.parent.columnByField[this.parent.taskFields.id].editType === 'stringedit') {\n            return newTaskId = newTaskId.toString();\n        }\n        else {\n            return newTaskId;\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    // eslint-disable-next-line\n    Edit.prototype.prepareNewlyAddedData = function (obj, rowPosition) {\n        var taskModel = this.parent.taskFields;\n        var id;\n        var newTaskIDmd;\n        var ids = this.parent.ids;\n        /*Validate Task Id of data*/\n        if (obj[taskModel.id]) {\n            if (ids.indexOf(obj[taskModel.id].toString()) !== -1) {\n                obj[taskModel.id] = null;\n            }\n            else {\n                if (typeof (obj[taskModel.id]) === 'string') {\n                    newTaskIDmd = obj[taskModel.id];\n                }\n                else {\n                    newTaskIDmd = parseInt(obj[taskModel.id], 10);\n                }\n                obj[taskModel.id] = isNullOrUndefined(newTaskIDmd) ? null : newTaskIDmd;\n            }\n        }\n        if (!obj[taskModel.id]) {\n            id = this.getNewTaskId();\n            obj[taskModel.id] = id;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.startDate]) {\n            obj[taskModel.startDate] = this.parent.projectStartDate;\n        }\n        if (!this.parent.allowUnscheduledTasks && taskModel.duration && isNullOrUndefined(obj[taskModel.duration])) {\n            if (!obj[taskModel.endDate]) {\n                obj[taskModel.duration] = '5';\n            }\n        }\n        if (taskModel.progress) {\n            obj[taskModel.progress] = obj[taskModel.progress] ? (obj[taskModel.progress] > 100 ? 100 : obj[taskModel.progress]) : 0;\n        }\n        if (!this.parent.allowUnscheduledTasks && !obj[taskModel.endDate] && taskModel.endDate) {\n            if (!obj[taskModel.duration]) {\n                var startDate = this.parent.dataOperation.getDateFromFormat(this.parent.projectStartDate);\n                if (!isNullOrUndefined(startDate)) {\n                    startDate.setDate(startDate.getDate() + 4);\n                    obj[taskModel.endDate] = this.parent.getFormatedDate(startDate, this.parent.getDateFormat());\n                }\n            }\n        }\n    };\n    /**\n     * @param {object} obj .\n     * @param {number} level .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @param {number} rowIndex .\n     * @returns {IGanttData} .\n     * @private\n     */\n    Edit.prototype.updateNewlyAddedDataBeforeAjax = function (obj, level, rowPosition, parentItem, rowIndex) {\n        var cAddedRecord = this.parent.dataOperation.createRecord(obj, level);\n        switch (rowPosition) {\n            case 'Above':\n                cAddedRecord.index = rowIndex;\n                break;\n            case 'Below':\n            case 'Child':\n                cAddedRecord.index = rowIndex + 1;\n                break;\n            case 'Bottom':\n                cAddedRecord.index = this.parent.enableVirtualization ? this.parent.flatData.length : this.parent.currentViewData.length;\n                break;\n            case 'Top':\n                cAddedRecord.index = 0;\n                break;\n            default:\n                break;\n        }\n        if (!isNullOrUndefined(parentItem)) {\n            this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), cAddedRecord);\n            var pIndex = cAddedRecord.parentItem ? cAddedRecord.parentItem.index : null;\n            this.parent.setRecordValue('parentIndex', pIndex, cAddedRecord);\n            var parentUniqId = cAddedRecord.parentItem ? cAddedRecord.parentItem.uniqueID : null;\n            this.parent.setRecordValue('parentUniqueID', parentUniqId, cAddedRecord);\n            if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                !isNullOrUndefined(this.parent.taskFields.parentID) && cAddedRecord.parentItem) {\n                if (this.parent.viewType === 'ProjectView') {\n                    this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord.taskData, true);\n                }\n                this.parent.setRecordValue('parentId', cAddedRecord.parentItem.taskId, cAddedRecord.ganttProperties, true);\n                this.parent.setRecordValue(this.parent.taskFields.parentID, cAddedRecord.parentItem.taskId, cAddedRecord, true);\n            }\n        }\n        this.parent.isOnEdit = true;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (obj['hasChildRecords']) {\n                var totalRecords = [];\n                var currentAction = this.parent.undoRedoModule['currentAction']['deletedRecordsDetails'];\n                for (var i = 0; i < obj['childRecords'].length; i++) {\n                    this.add(obj['childRecords'][i], totalRecords);\n                }\n                for (var j = 0; j < currentAction.length; j++) {\n                    if (obj['ganttProperties'].taskId === currentAction[j]['data'].ganttProperties.taskId) {\n                        if (currentAction[j]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        else if (currentAction[j]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (currentAction[j]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n                        for (var i = 0; i < totalRecords.length; i++) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                if (totalRecords[i].parentItem.taskId === cAddedRecord.ganttProperties.taskId) {\n                                    totalRecords[i].parentItem.index = cAddedRecord.index;\n                                    totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.taskId;\n                                    totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                    totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                }\n                            }\n                            else {\n                                totalRecords[i].parentItem.index = cAddedRecord.index;\n                                totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                                totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        break;\n                    }\n                }\n                this.addRowSelectedItem = cAddedRecord;\n                cAddedRecord.taskData[this.parent.taskFields.child] = [];\n                for (var k = 0; k < totalRecords.length; k++) {\n                    this.parent.isOnEdit = false;\n                    var newRecord = this.parent.dataOperation.createRecord(totalRecords[k], totalRecords[k].level);\n                    if (newRecord.childRecords.length === 0 && newRecord.taskData[this.parent.taskFields.child]) {\n                        newRecord.taskData[this.parent.taskFields.child] = [];\n                    }\n                    parentItem = this.parent.getRecordByID(totalRecords[k].parentItem.taskId);\n                    if (!isNullOrUndefined(parentItem)) {\n                        this.parent.setRecordValue('parentItem', this.parent.dataOperation.getCloneParent(parentItem), newRecord);\n                        var pIndex = newRecord.parentItem ? newRecord.parentItem.index : null;\n                        this.parent.setRecordValue('parentIndex', pIndex, newRecord);\n                        var parentUniqId = newRecord.parentItem ? newRecord.parentItem.uniqueID : null;\n                        this.parent.setRecordValue('parentUniqueID', parentUniqId, newRecord);\n                        if (!isNullOrUndefined(this.parent.taskFields.id) &&\n                            !isNullOrUndefined(this.parent.taskFields.parentID) && newRecord.parentItem) {\n                            if (this.parent.viewType === 'ProjectView') {\n                                this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord.taskData, true);\n                            }\n                            this.parent.setRecordValue('parentId', newRecord.parentItem.taskId, newRecord.ganttProperties, true);\n                            this.parent.setRecordValue(this.parent.taskFields.parentID, newRecord.parentItem.taskId, newRecord, true);\n                        }\n                    }\n                    this.parent.isOnEdit = true;\n                    if (newRecord.parentItem) {\n                        if (parentItem.childRecords.length === 0) {\n                            rowPosition = 'Child';\n                        }\n                        else {\n                            rowPosition = 'Below';\n                        }\n                    }\n                    if (this.parent.getParentTask(newRecord.parentItem).childRecords.length > 0) {\n                        this.addRowSelectedItem = this.parent.getParentTask(newRecord.parentItem).childRecords[this.parent.getParentTask(newRecord.parentItem).childRecords.length - 1];\n                    }\n                    this.backUpAndPushNewlyAddedRecord(newRecord, rowPosition, parentItem);\n                    for (var i = 0; i < totalRecords.length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            if (totalRecords[i].parentItem.taskId === newRecord.ganttProperties.taskId) {\n                                totalRecords[i].parentItem.index = newRecord.index;\n                                totalRecords[i].parentItem.taskId = newRecord.ganttProperties.taskId;\n                                totalRecords[i].parentItem.uniqueID = newRecord.ganttProperties.uniqueID;\n                                totalRecords[i].parentUniqueID = newRecord.ganttProperties.uniqueID;\n                            }\n                        }\n                        else {\n                            totalRecords[i].parentItem.index = cAddedRecord.index;\n                            totalRecords[i].parentItem.taskId = cAddedRecord.ganttProperties.rowUniqueID;\n                            totalRecords[i].parentItem.uniqueID = cAddedRecord.ganttProperties.uniqueID;\n                            totalRecords[i].parentUniqueID = cAddedRecord.ganttProperties.uniqueID;\n                        }\n                    }\n                }\n            }\n            else {\n                this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n            }\n        }\n        else {\n            this.backUpAndPushNewlyAddedRecord(cAddedRecord, rowPosition, parentItem);\n        }\n        // need to push in dataSource also.\n        if (this.parent.taskFields.dependency && cAddedRecord.ganttProperties.predecessorsName) {\n            if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                this.parent.predecessorModule.ensurePredecessorCollectionHelper(cAddedRecord, cAddedRecord.ganttProperties);\n            }\n            this.parent.predecessorModule.updatePredecessorHelper(cAddedRecord);\n            this.parent.predecessorModule.validatePredecessorDates(cAddedRecord);\n        }\n        if (cAddedRecord.parentItem && this.parent.getParentTask(cAddedRecord.parentItem).ganttProperties.isAutoSchedule) {\n            this.parent.dataOperation.updateParentItems(cAddedRecord.parentItem);\n        }\n        this.parent.isOnEdit = false;\n        return cAddedRecord;\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {number} count .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getChildCount = function (record, count) {\n        var currentRecord;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            if (currentRecord.hasChildRecords) {\n                count = this.getChildCount(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} data .\n     * @param {number} count .\n     * @param {IGanttData[]} collection .\n     * @returns {number} .\n     * @private\n     */\n    Edit.prototype.getVisibleChildRecordCount = function (data, count, collection) {\n        var childRecords;\n        var length;\n        if (data.hasChildRecords) {\n            childRecords = data.childRecords;\n            length = childRecords.length;\n            for (var i = 0; i < length; i++) {\n                if (collection.indexOf(childRecords[i]) !== -1) {\n                    count++;\n                }\n                if (childRecords[i].hasChildRecords) {\n                    count = this.getVisibleChildRecordCount(childRecords[i], count, collection);\n                }\n            }\n        }\n        else {\n            if (collection.indexOf(data) !== -1) {\n                count++;\n            }\n        }\n        return count;\n    };\n    /**\n     * @param {IGanttData} parentRecord .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updatePredecessorOnIndentOutdent = function (parentRecord) {\n        var len = parentRecord.ganttProperties.predecessor.length;\n        var parentRecordTaskData = parentRecord.ganttProperties;\n        var predecessorCollection = parentRecordTaskData.predecessor;\n        var childRecord;\n        var predecessorIndex;\n        var updatedPredecessor = [];\n        var validPredecessor;\n        for (var count = 0; count < len; count++) {\n            var fromRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n            var toRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n            validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n            if (!validPredecessor || !this.parent.allowParentDependency) {\n                if (predecessorCollection[count].to === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].from);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var predecessorCollections = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    predecessorCollections.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', predecessorCollections, childRecord.ganttProperties, true);\n                }\n                else if (predecessorCollection[count].from === parentRecordTaskData.rowUniqueID.toString()) {\n                    childRecord = this.parent.getRecordByID(predecessorCollection[count].to);\n                    var prdcList = (childRecord.ganttProperties.predecessorsName.toString()).split(',');\n                    var str = predecessorCollection[count].from + predecessorCollection[count].type;\n                    var ind = prdcList.indexOf(str);\n                    prdcList.splice(ind, 1);\n                    this.parent.setRecordValue('predecessorsName', prdcList.join(','), childRecord.ganttProperties, true);\n                    this.parent.setRecordValue(this.parent.taskFields.dependency, prdcList.join(','), childRecord);\n                    predecessorIndex = getIndex(predecessorCollection[count], 'from', childRecord.ganttProperties.predecessor, 'to');\n                    // eslint-disable-next-line\n                    var temppredecessorCollection = (extend([], childRecord.ganttProperties.predecessor, [], true));\n                    temppredecessorCollection.splice(predecessorIndex, 1);\n                    this.parent.setRecordValue('predecessor', temppredecessorCollection, childRecord.ganttProperties, true);\n                    this.parent.predecessorModule.validatePredecessorDates(childRecord);\n                }\n            }\n        }\n        if (!validPredecessor || !this.parent.allowParentDependency) {\n            this.parent.setRecordValue('predecessor', updatedPredecessor, parentRecord.ganttProperties, true);\n            this.parent.setRecordValue('predecessorsName', '', parentRecord.ganttProperties, true);\n        }\n    };\n    /**\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @param {IGanttData} parentItem .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.backUpAndPushNewlyAddedRecord = function (record, rowPosition, parentItem) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var currentItemIndex;\n        var recordIndex;\n        var updatedCollectionIndex;\n        var childIndex;\n        switch (rowPosition) {\n            case 'Top':\n                flatRecords.splice(0, 0, record);\n                currentViewData.splice(0, 0, record);\n                ids.splice(0, 0, record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                break;\n            case 'Bottom':\n                flatRecords.push(record);\n                currentViewData.push(record);\n                ids.push(record.ganttProperties.rowUniqueID.toString()); // need to check NAN\n                if (this.parent.viewType === 'ResourceView') {\n                    var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n                    this.parent.getTaskIds().push(taskId);\n                }\n                break;\n            case 'Above':\n                /*Record Updates*/\n                recordIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem);\n                this.recordCollectionUpdate(childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Below':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n            case 'Child':\n                currentItemIndex = flatRecords.indexOf(this.addRowSelectedItem);\n                if (this.addRowSelectedItem.hasChildRecords) {\n                    var dataChildCount = this.getChildCount(this.addRowSelectedItem, 0);\n                    recordIndex = currentItemIndex + dataChildCount + 1;\n                    //Expand Add record's parent item for project view\n                    if (!this.addRowSelectedItem.expanded && !this.parent.enableMultiTaskbar) {\n                        this.parent.expandByID(this.addRowSelectedItem.ganttProperties.rowUniqueID);\n                    }\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) +\n                        this.getVisibleChildRecordCount(this.addRowSelectedItem, 0, currentViewData) + 1;\n                }\n                else {\n                    this.parent.setRecordValue('hasChildRecords', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('isMilestone', false, this.addRowSelectedItem.ganttProperties, true);\n                    this.parent.setRecordValue('expanded', true, this.addRowSelectedItem);\n                    this.parent.setRecordValue('childRecords', [], this.addRowSelectedItem);\n                    recordIndex = currentItemIndex + 1;\n                    updatedCollectionIndex = currentViewData.indexOf(this.addRowSelectedItem) + 1;\n                    if (this.addRowSelectedItem.ganttProperties.predecessor) {\n                        this.updatePredecessorOnIndentOutdent(this.addRowSelectedItem);\n                    }\n                    if (!isNullOrUndefined(this.addRowSelectedItem.ganttProperties.segments)) {\n                        this.addRowSelectedItem.ganttProperties.segments = null;\n                    }\n                }\n                this.recordCollectionUpdate(childIndex + 1, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition);\n                break;\n        }\n        this.newlyAddedRecordBackup = record;\n    };\n    /**\n     * @param {number} childIndex .\n     * @param {number} recordIndex .\n     * @param {number} updatedCollectionIndex .\n     * @param {IGanttData} record .\n     * @param {IGanttData} parentItem .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.recordCollectionUpdate = function (childIndex, recordIndex, updatedCollectionIndex, record, parentItem, rowPosition) {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        /* Record collection update */\n        flatRecords.splice(recordIndex, 0, record);\n        currentViewData.splice(updatedCollectionIndex, 0, record);\n        ids.splice(recordIndex, 0, record.ganttProperties.rowUniqueID.toString());\n        if (this.parent.viewType === 'ResourceView') {\n            var taskId = record.level === 0 ? 'R' + record.ganttProperties.taskId : 'T' + record.ganttProperties.taskId;\n            this.parent.getTaskIds().splice(recordIndex, 0, taskId);\n        }\n        /* data Source update */\n        if (!isNullOrUndefined(parentItem)) {\n            if (rowPosition === 'Above') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem);\n            }\n            else if (rowPosition === 'Below') {\n                childIndex = parentItem.childRecords.indexOf(this.addRowSelectedItem) + 1;\n            }\n            else {\n                childIndex = parentItem.childRecords.length;\n            }\n            /*Child collection update*/\n            parentItem.childRecords.splice(childIndex, 0, record);\n            if (!this.parent.taskFields.child) {\n                this.parent.taskFields.child = 'Children';\n            }\n            if ((this.parent.dataSource instanceof DataManager &&\n                isNullOrUndefined(parentItem.taskData[this.parent.taskFields.parentID])) ||\n                !isNullOrUndefined(this.parent.dataSource)) {\n                var child = this.parent.taskFields.child;\n                if (parentItem.taskData[child] && parentItem.taskData[child].length > 0) {\n                    if (rowPosition === 'Above' || rowPosition === 'Below') {\n                        parentItem.taskData[child].splice(childIndex, 0, record.taskData);\n                    }\n                    else {\n                        parentItem.taskData[child].push(record.taskData);\n                    }\n                }\n                else {\n                    parentItem.taskData[child] = [];\n                    parentItem.taskData[child].push(record.taskData);\n                }\n                this.isNewRecordAdded = true;\n            }\n        }\n    };\n    /**\n     * @param {IGanttData} cAddedRecord .\n     * @param {IGanttData} modifiedRecords .\n     * @param {string} event .\n     * @returns {ITaskAddedEventArgs} .\n     * @private\n     */\n    Edit.prototype.constructTaskAddedEventArgs = function (cAddedRecord, modifiedRecords, event) {\n        var eventArgs = {};\n        eventArgs.action = eventArgs.requestType = event;\n        if (cAddedRecord.length > 1) {\n            eventArgs.data = [];\n            eventArgs.newTaskData = [];\n            eventArgs.recordIndex = [];\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                eventArgs.data[i] = cAddedRecord[i];\n                (eventArgs.newTaskData[i]) = (getTaskData([cAddedRecord[i]], eventArgs.data[i], eventArgs, this.parent));\n                eventArgs.recordIndex[i] = cAddedRecord[i].index;\n            }\n        }\n        else if (cAddedRecord.length === 1) {\n            for (var i = 0; i < cAddedRecord.length; i++) {\n                (eventArgs.data) = (cAddedRecord[i]);\n                (eventArgs.newTaskData) = (getTaskData([cAddedRecord[i]], eventArgs.data, eventArgs, this.parent));\n                eventArgs.recordIndex = cAddedRecord[i].index;\n            }\n        }\n        eventArgs.modifiedRecords = modifiedRecords;\n        eventArgs.modifiedTaskData = getTaskData(modifiedRecords, null, null, this.parent);\n        return eventArgs;\n    };\n    /**\n     * @param {ITaskAddedEventArgs} args .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addSuccess = function (args) {\n        // let addedRecords: IGanttData = args.addedRecord;\n        // let eventArgs: IActionBeginEventArgs = {};\n        this.parent.updatedConnectorLineCollection = [];\n        this.parent.connectorLineIds = [];\n        this.parent.predecessorModule.createConnectorLinesCollection(this.parent.flatData);\n        this.parent.treeGrid.parentData = [];\n        this.parent.addDeleteRecord = true;\n        this.parent.treeGrid['isAddedFromGantt'] = true;\n        this.isAdded = true;\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.parent.modifiedRecords = args.modifiedRecords;\n            this.parent.modifiedRecords.push(args.data);\n            this.refreshRecordInImmutableMode();\n        }\n        this.parent.treeGrid.closeEdit();\n    };\n    Edit.prototype.refreshRecordInImmutableMode = function (data, dragged) {\n        if (!dragged && !isNullOrUndefined(data)) {\n            for (var i = data[0].index + 1; i < this.parent.currentViewData.length; i++) {\n                if (data[0].level < this.parent.currentViewData[i].level) {\n                    this.parent.modifiedRecords.push(this.parent.currentViewData[i]);\n                }\n                else {\n                    break;\n                }\n            }\n        }\n        var _loop_7 = function (i) {\n            var originalData = this_6.parent.modifiedRecords[i];\n            var treeIndex = this_6.parent.rowDragAndDropModule && this_6.parent.allowRowDragAndDrop ? 1 : 0;\n            var uniqueTaskID = this_6.parent.taskFields.id;\n            var originalIndex = this_6.parent.currentViewData.findIndex(function (data) {\n                return (data[uniqueTaskID] === originalData[uniqueTaskID]);\n            });\n            if (this_6.parent.treeGrid.getRows()[originalIndex]) {\n                var row = this_6.parent.treeGrid.grid.getRowObjectFromUID(this_6.parent.treeGrid.grid.getDataRows()[originalIndex].getAttribute('data-uid'));\n                this_6.parent.treeGrid.renderModule.cellRender({\n                    data: row.data,\n                    cell: this_6.parent.treeGrid.getRows()[originalIndex].cells[this_6.parent.treeColumnIndex + treeIndex],\n                    column: this_6.parent.treeGrid.grid.getColumns()[this_6.parent.treeColumnIndex],\n                    requestType: 'rowDragAndDrop'\n                });\n                this_6.parent.treeGrid.renderModule.RowModifier({\n                    data: originalData, row: this_6.parent.treeGrid.getRows()[originalIndex], rowHeight: this_6.parent.rowHeight\n                });\n            }\n        };\n        var this_6 = this;\n        for (var i = 0; i < this.parent.modifiedRecords.length; i++) {\n            _loop_7(i);\n        }\n    };\n    /**\n     * @param {IGanttData} addedRecord .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.updateRealDataSource = function (addedRecord, rowPosition) {\n        var taskFields = this.parent.taskFields;\n        var dataSource = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n            this.parent.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = this.parent.dataSource.dataSource.json;\n        }\n        for (var i = 0; i < addedRecord.length; i++) {\n            if (isNullOrUndefined(rowPosition) || isNullOrUndefined(this.addRowSelectedItem)) {\n                rowPosition = rowPosition === 'Bottom' ? 'Bottom' : 'Top';\n            }\n            if (rowPosition === 'Top') {\n                dataSource.splice(0, 0, addedRecord[i].taskData);\n            }\n            else if (rowPosition === 'Bottom') {\n                dataSource.push(addedRecord[i].taskData);\n            }\n            else {\n                if (!isNullOrUndefined(taskFields.id) && !isNullOrUndefined(taskFields.parentID) && rowPosition === 'Child') {\n                    dataSource.push(addedRecord[i].taskData);\n                }\n                else {\n                    if (!this.isNewRecordAdded) {\n                        this.addDataInRealDataSource(dataSource, addedRecord[i].taskData, rowPosition);\n                    }\n                    this.isNewRecordAdded = false;\n                }\n            }\n            this.isBreakLoop = false;\n        }\n    };\n    /**\n     * @param {object[]} dataCollection .\n     * @param {IGanttData} record .\n     * @param {RowPosition} rowPosition .\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addDataInRealDataSource = function (dataCollection, record, rowPosition) {\n        for (var i = 0; i < dataCollection.length; i++) {\n            var child = this.parent.taskFields.child;\n            if (this.isBreakLoop) {\n                break;\n            }\n            if (getValue(this.parent.taskFields.id, dataCollection[i]).toString() ===\n                this.addRowSelectedItem.ganttProperties.rowUniqueID.toString()) {\n                var index = void 0;\n                if (this.parent.rowDragAndDropModule && this.parent.rowDragAndDropModule['droppedRecord'] && this.parent.viewType === 'ResourceView') {\n                    for (var i_1 = 0; i_1 < dataCollection.length; i_1++) {\n                        if (dataCollection[i_1][this.parent.taskFields.id] === this.parent.rowDragAndDropModule['droppedRecord'].ganttProperties.taskId) {\n                            index = i_1;\n                            break;\n                        }\n                    }\n                }\n                if (rowPosition === 'Above') {\n                    if (index) {\n                        dataCollection.splice(index, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Below') {\n                    if (index) {\n                        dataCollection.splice(index + 1, 0, record);\n                    }\n                    else {\n                        dataCollection.splice(i + 1, 0, record);\n                    }\n                }\n                else if (rowPosition === 'Child') {\n                    if (dataCollection[i][child] && dataCollection[i][child].length > 0) {\n                        dataCollection[i][child].push(record);\n                    }\n                    else {\n                        dataCollection[i][child] = [];\n                        dataCollection[i][child].push(record);\n                    }\n                }\n                this.isBreakLoop = true;\n                break;\n            }\n            else if (dataCollection[i][child]) {\n                var childRecords = dataCollection[i][child];\n                this.addDataInRealDataSource(childRecords, record, rowPosition);\n            }\n        }\n    };\n    /**\n     * Method to update the values to client side from server side.\n     *\n     * @param {Object} e - Defines the new modified data from the server.\n     * @param {Object[]} e.addedRecords .\n     * @param {Object[]} e.changedRecords .\n     * @param {ITaskAddedEventArgs} args - Defines the client side data.\n     * @returns {void} .\n     */\n    Edit.prototype.updateClientDataFromServer = function (e, args) {\n        var serverReturnedValue = e.addedRecords[0];\n        var _aLength = Object.keys(serverReturnedValue).length;\n        for (var j = 0, _a = Object.keys(serverReturnedValue); j < _aLength; j++) {\n            var key = _a[parseInt(j.toString(), 10)];\n            args.data[\"\" + key] = serverReturnedValue[\"\" + key];\n        }\n        if (this.parent.taskFields.id !== null) {\n            args.data.ganttProperties['taskId'] = serverReturnedValue[this.parent.taskFields.id];\n        }\n        if (this.parent.taskFields.name !== null) {\n            args.data.ganttProperties['taskName'] = serverReturnedValue[this.parent.taskFields.name];\n        }\n        if (this.parent.taskFields.startDate !== null) {\n            args.data.ganttProperties['startDate'] = serverReturnedValue[this.parent.taskFields.startDate];\n        }\n        if (this.parent.taskFields.endDate !== null) {\n            args.data.ganttProperties['endDate'] = serverReturnedValue[this.parent.taskFields.endDate];\n        }\n        if (this.parent.taskFields.duration !== null) {\n            args.data.ganttProperties['duration'] = parseFloat(serverReturnedValue[this.parent.taskFields.duration]);\n        }\n        if (this.parent.taskFields.durationUnit !== null) {\n            args.data.ganttProperties['durationUnit'] = serverReturnedValue[this.parent.taskFields.durationUnit];\n        }\n        if (this.parent.taskFields.progress !== null) {\n            args.data.ganttProperties['progress'] = serverReturnedValue[this.parent.taskFields.progress];\n        }\n        if (this.parent.taskFields.dependency !== null) {\n            args.data.ganttProperties['dependency'] = serverReturnedValue[this.parent.taskFields.dependency];\n        }\n        if (this.parent.taskFields.parentID !== null) {\n            args.data.ganttProperties['parentID'] = serverReturnedValue[this.parent.taskFields.parentID];\n        }\n        if (this.parent.taskFields.baselineEndDate !== null) {\n            args.data.ganttProperties['baselineEndDate'] = serverReturnedValue[this.parent.taskFields.baselineEndDate];\n        }\n        if (this.parent.taskFields.baselineStartDate !== null) {\n            args.data.ganttProperties['baselineStartDate'] = serverReturnedValue[this.parent.taskFields.baselineStartDate];\n        }\n        if (this.parent.taskFields.resourceInfo !== null) {\n            args.data.ganttProperties['resources'] = serverReturnedValue[this.parent.taskFields.resourceInfo];\n        }\n    };\n    Edit.prototype.addNewUndoCollection = function (record, args) {\n        if (this.parent.undoRedoModule && (!this.parent.undoRedoModule['isUndoRedoPerformed'] || (this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['action'] === 'Add' && this.parent.viewType === 'ResourceView'))\n            && this.parent['isUndoRedoItemPresent']('Add')) {\n            record['action'] = 'Add';\n            var tempArray_1 = args.data.length > 0 ?\n                extend([], [], args.data, true) : [args.data];\n            var addedRec = [];\n            var _loop_8 = function (i) {\n                addedRec = (this_7.parent.flatData.filter(function (data) {\n                    return (tempArray_1[i].index === data.index && tempArray_1[i]['ganttProperties'].taskId === data.ganttProperties.taskId);\n                }));\n            };\n            var this_7 = this;\n            for (var i = 0; i < tempArray_1.length; i++) {\n                _loop_8(i);\n            }\n            record['addedRecords'] = extend([], [], addedRec, true);\n            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n        }\n    };\n    /**\n     * Method to add new record.\n     *\n     * @param {Object[] | Object} data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.addRecord = function (data, rowPosition, rowIndex) {\n        var _this = this;\n        var tempTaskID = this.parent.taskFields.id;\n        if (this.parent.editModule && this.parent.editSettings.allowAdding) {\n            this.parent.isDynamicData = true;\n            this.parent.treeGrid['isAddedFromGantt'] = true;\n            this.parent.isOnAdded = true;\n            var cAddedRecord_1 = [];\n            if (isNullOrUndefined(data)) {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else if (data instanceof Array) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                    var addData = data;\n                    var addIndex = rowIndex;\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (data[0]['position'] === 'below') {\n                            rowPosition = 'Below';\n                        }\n                        else if (data[0]['position'] === 'above') {\n                            rowPosition = 'Above';\n                        }\n                        else if (data[0]['position'] === 'child') {\n                            rowPosition = 'Child';\n                        }\n                        addIndex = this.parent.taskIds.indexOf(data[0]['id'].toString());\n                        addData = data[0]['data'];\n                    }\n                    this.validateTaskPosition(addData, rowPosition, addIndex, cAddedRecord_1);\n                }\n                else {\n                    for (var i = 0; i < data.length; i++) {\n                        this.validateTaskPosition(data[i], rowPosition, rowIndex, cAddedRecord_1);\n                    }\n                }\n            }\n            else if (typeof (data) === 'object') {\n                this.validateTaskPosition(data, rowPosition, rowIndex, cAddedRecord_1);\n            }\n            else {\n                return;\n            }\n            var args = {};\n            args = this.constructTaskAddedEventArgs(cAddedRecord_1, this.parent.editedRecords, 'beforeAdd');\n            if (!isNullOrUndefined(rowPosition)) {\n                args.rowPosition = rowPosition;\n            }\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent']('Add')) {\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['disableRedo']();\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n            }\n            this.parent.trigger('actionBegin', args, function (args) {\n                _this.parent.previousRecords = {};\n                var tasks = _this.parent.taskFields;\n                var ganttData;\n                if (_this.parent.viewType === 'ResourceView') {\n                    if (args.data['childRecords'].length > 0) {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('R' + args.data[tasks.id])];\n                    }\n                    else {\n                        ganttData = _this.parent.flatData[_this.parent.getTaskIds().indexOf('T' + args.data[tasks.id])];\n                    }\n                }\n                else {\n                    ganttData = _this.parent.getRecordByID(args.data[tasks.id]);\n                }\n                if (!isNullOrUndefined(ganttData)) {\n                    _this.validateUpdateValues(args.newTaskData, ganttData, true);\n                    _this.parent.dateValidationModule.calculateEndDate(ganttData);\n                    _this.parent.dataOperation.updateWidthLeft(ganttData);\n                    _this.parent.dataOperation.updateParentItems(ganttData);\n                }\n                if (!isNullOrUndefined(args.data[\"\" + tempTaskID])) {\n                    if (args.data[tempTaskID] !== args.data['ganttProperties']['taskId']) {\n                        for (var _i = 0, _b = Object.keys(_this.parent.ids); _i < _b.length; _i++) {\n                            var key = _b[_i];\n                            if (_this.parent.ids[key] === args.data['ganttProperties']['taskId'].toString()) {\n                                _this.parent.ids[key] = args.data[tempTaskID].toString();\n                                break;\n                            }\n                        }\n                        args.data['ganttProperties']['taskId'] = args.data[tempTaskID];\n                        args.newTaskData[tempTaskID] = args.data[tempTaskID];\n                        args.data['ganttProperties']['rowUniqueID'] = args.data[tempTaskID].toString();\n                    }\n                }\n                if (!args.cancel) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                    var record = {};\n                    if (isRemoteData(_this.parent.dataSource)) {\n                        var data_2 = _this.parent.dataSource;\n                        var updatedData_2 = {\n                            addedRecords: [args.newTaskData],\n                            changedRecords: args.modifiedTaskData\n                        };\n                        /* tslint:disable-next-line */\n                        var query = _this.parent.query instanceof Query ? _this.parent.query : new Query();\n                        var adaptor = data_2.adaptor;\n                        if (!(adaptor instanceof WebApiAdaptor || adaptor instanceof ODataAdaptor ||\n                            adaptor instanceof ODataV4Adaptor) || data_2.dataSource.batchUrl) {\n                            var processedID_1 = args.data['ganttProperties']['taskId'];\n                            /* tslint:disable-next-line */\n                            var crud = data_2.saveChanges(updatedData_2, _this.parent.taskFields.id, null, query);\n                            crud.then(function (e) {\n                                if (e.addedRecords[0][_this.parent.taskFields.id].toString() !== args.data['ganttProperties']['taskId']) {\n                                    var previousIDIndex = _this.parent.ids.indexOf(processedID_1);\n                                    args.data['ganttProperties']['taskId'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.newTaskData[tempTaskID] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    args.data['ganttProperties']['rowUniqueID'] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    if (_this.parent.ids.some(function (id) { return id ===\n                                        e.addedRecords[0][_this.parent.taskFields.id].toString(); })) {\n                                        var err = \"The provided ID value \" + e.addedRecords[0][_this.parent.taskFields.id] + \" already exists. Please provide a unique ID value.\";\n                                        _this.parent.trigger('actionFailure', { error: err });\n                                    }\n                                    else {\n                                        if (previousIDIndex !== -1) {\n                                            _this.parent.ids.splice(previousIDIndex, 1, e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                        }\n                                        else {\n                                            _this.parent.ids.push(e.addedRecords[0][_this.parent.taskFields.id].toString());\n                                        }\n                                    }\n                                }\n                                var prevID = args.data.ganttProperties.taskId.toString();\n                                if (_this.parent.taskFields.id && !isNullOrUndefined(e.addedRecords[0][_this.parent.taskFields.id]) &&\n                                    e.addedRecords[0][_this.parent.taskFields.id].toString() === prevID) {\n                                    _this.parent.setRecordValue('taskId', e.addedRecords[0][_this.parent.taskFields.id], args.data.ganttProperties, true);\n                                    _this.parent.setRecordValue('taskData', e.addedRecords[0], args.data);\n                                    _this.parent.setRecordValue(_this.parent.taskFields.id, e.addedRecords[0][_this.parent.taskFields.id], args.data);\n                                    _this.parent.setRecordValue('rowUniqueID', e.addedRecords[0][_this.parent.taskFields.id].toString(), args.data.ganttProperties, true);\n                                    _this.updateClientDataFromServer(e, args);\n                                    var idsIndex = _this.parent.ids.indexOf(prevID);\n                                    if (idsIndex !== -1) {\n                                        _this.parent.ids[idsIndex] = e.addedRecords[0][_this.parent.taskFields.id].toString();\n                                    }\n                                }\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                        else {\n                            var addedRecords = 'addedRecords';\n                            var insertCrud = data_2.insert(updatedData_2[addedRecords], null, query);\n                            insertCrud.then(function (e) {\n                                var addedRecords;\n                                if (!isNullOrUndefined(e[0])) {\n                                    addedRecords = e[0];\n                                }\n                                else {\n                                    addedRecords = updatedData_2['addedRecords'][0];\n                                }\n                                cAddedRecord_1.forEach(function (record) {\n                                    if (!isNullOrUndefined(record)) {\n                                        _this.updateEditedRecordFields(addedRecords, record);\n                                        _this.parent.dataOperation.updateTaskData(record);\n                                    }\n                                });\n                                _this.updateNewRecord(cAddedRecord_1, args);\n                            }).catch(function (e) {\n                                _this.removeAddedRecord();\n                                _this.dmFailure(e, args);\n                                _this._resetProperties();\n                            });\n                        }\n                    }\n                    else {\n                        if (_this.parent.viewType === 'ProjectView') {\n                            if ((rowPosition === 'Top' || rowPosition === 'Bottom') ||\n                                ((rowPosition === 'Above' || rowPosition === 'Below' || rowPosition === 'Child') || isNullOrUndefined(rowPosition) && !args.data.parentItem)) {\n                                if (args.data instanceof Array) {\n                                    _this.updateRealDataSource(args.data, rowPosition);\n                                }\n                                else {\n                                    var data_3 = [];\n                                    data_3.push(args.data);\n                                    _this.updateRealDataSource(data_3, rowPosition);\n                                    _this.parent.currentSelection = cAddedRecord_1[0];\n                                }\n                            }\n                        }\n                        else {\n                            var dataSource = isCountRequired(_this.parent) ? getValue('result', _this.parent.dataSource) :\n                                _this.parent.dataSource; // eslint-disable-line\n                            dataSource.push(args.data.taskData);\n                        }\n                        if (cAddedRecord_1.level === 0) {\n                            _this.parent.treeGrid.parentData.splice(0, 0, cAddedRecord_1);\n                        }\n                        _this.updateTreeGridUniqueID(cAddedRecord_1, 'add');\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.undoRedoModule && _this.parent.undoRedoModule['currentAction']) {\n                            var canDelete = false;\n                            if (args.data['hasChildRecords']) {\n                                canDelete = true;\n                            }\n                            else {\n                                if (args.data['parentItem']) {\n                                    var parentTask = _this.parent.getTaskByUniqueID(args.data['parentItem'].uniqueID);\n                                    if (parentTask.ganttProperties.taskName !== _this.parent.localeObj.getConstant('unassignedTask')) {\n                                        canDelete = true;\n                                    }\n                                }\n                            }\n                            if (_this.parent.taskIds.indexOf('R0') !== -1 && _this.parent.undoRedoModule && _this.parent.undoRedoModule['isUndoRedoPerformed'] && _this.parent.undoRedoModule['currentAction']['action'] === 'Delete'\n                                && canDelete) {\n                                var unassignedTask = _this.parent.flatData[_this.parent.taskIds.indexOf('R0')];\n                                var isPresent = unassignedTask.childRecords.filter(function (data) { return data.ganttProperties.taskId === args.data['ganttProperties'].taskId; });\n                                if (args.data['hasChildRecords']) {\n                                    isPresent = args.data['childRecords'];\n                                }\n                                var _loop_9 = function (j) {\n                                    if (unassignedTask.childRecords.length === 1) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 2);\n                                    }\n                                    else {\n                                        var index = _this.parent.taskIds.indexOf('T' + isPresent[j].ganttProperties.taskId);\n                                        var id_2 = 'T' + isPresent[j].ganttProperties.taskId;\n                                        var indexes = _this.parent.taskIds.reduce(function (a, e, i) {\n                                            if (e === id_2) {\n                                                a.push(i);\n                                            }\n                                            return a;\n                                        }, []);\n                                        index = indexes[indexes.length - 1];\n                                        _this.parent.taskIds.splice(index, 1);\n                                        _this.parent.flatData.splice(index, 1);\n                                        _this.parent.ids.splice(index, 1);\n                                    }\n                                };\n                                for (var j = 0; j < isPresent.length; j++) {\n                                    _loop_9(j);\n                                }\n                                if (unassignedTask && _this.parent.viewType === 'ResourceView') {\n                                    var isValid = _this.parent.flatData[_this.parent.taskIds.indexOf('R0') + 1];\n                                    if (!isValid) {\n                                        _this.parent.flatData.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.ids.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                        _this.parent.taskIds.splice(_this.parent.taskIds.indexOf('R0'), 1);\n                                    }\n                                }\n                            }\n                        }\n                        _this.refreshNewlyAddedRecord(args, cAddedRecord_1);\n                        if (_this.parent.viewType === 'ResourceView' && _this.parent.taskFields.work && ganttData) {\n                            _this.parent.dataOperation.updateParentItems(ganttData, true);\n                        }\n                        _this.addNewUndoCollection(record, args);\n                        _this._resetProperties();\n                    }\n                    _this.parent.isOnAdded = false;\n                }\n                else {\n                    _this.removeAddedRecord();\n                    _this.reUpdatePreviousRecords();\n                    _this._resetProperties();\n                }\n            });\n        }\n    };\n    Edit.prototype.createNewRecord = function () {\n        var tempRecord = {};\n        var ganttColumns = this.parent.ganttColumns;\n        var taskSettingsFields = this.parent.taskFields;\n        var taskId = this.parent.editModule.getNewTaskId();\n        for (var i = 0; i < ganttColumns.length; i++) {\n            var fieldName = ganttColumns[i].field;\n            if (fieldName === taskSettingsFields.id) {\n                tempRecord[fieldName] = taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.startDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.endDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.endDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.endDate) {\n                if (isNullOrUndefined(tempRecord[taskSettingsFields.startDate])) {\n                    tempRecord[fieldName] = this.parent.editModule.dialogModule.getMinimumStartDate();\n                }\n                else {\n                    tempRecord[fieldName] = new Date(tempRecord[taskSettingsFields.startDate]);\n                }\n                if (this.parent.timezone) {\n                    tempRecord[fieldName] = this.parent.dateValidationModule.remove(tempRecord[fieldName], this.parent.timezone);\n                }\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.duration) {\n                tempRecord[fieldName] = 1;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.name) {\n                tempRecord[fieldName] = this.parent.editModule.dialogModule['localeObj'].getConstant('addDialogTitle') + ' ' + taskId;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.progress) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.work) {\n                tempRecord[fieldName] = 0;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.type || ganttColumns[i].field === 'taskType') {\n                tempRecord[fieldName] = this.parent.taskType;\n            }\n            else if (ganttColumns[i].field === taskSettingsFields.milestone) {\n                tempRecord[fieldName] = null;\n            }\n            else {\n                tempRecord[this.parent.ganttColumns[i].field] = '';\n            }\n        }\n        return tempRecord;\n    };\n    /**\n     * Method to validateTaskPosition.\n     *\n     * @param {Object | object[] } data - Defines the new data to add.\n     * @param {RowPosition} rowPosition - Defines the position of row.\n     * @param {number} rowIndex - Defines the row index.\n     * @param {IGanttData} cAddedRecord - Defines the single data to validate.\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.validateTaskPosition = function (data, rowPosition, rowIndex, cAddedRecord) {\n        var selectedRowIndex = isNullOrUndefined(rowIndex) || isNaN(parseInt(rowIndex.toString(), 10)) ?\n            this.parent.selectionModule ?\n                (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both') &&\n                    this.parent.selectionModule.selectedRowIndexes.length === 1 ?\n                    this.parent.selectionModule.selectedRowIndexes[0] :\n                    this.parent.selectionSettings.mode === 'Cell' &&\n                        this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ?\n                        this.parent.selectionModule.getSelectedRowCellIndexes()[0].rowIndex : null : null : rowIndex;\n        this.addRowSelectedItem = isNullOrUndefined(selectedRowIndex) ? null : this.parent.updatedRecords[selectedRowIndex];\n        rowPosition = isNullOrUndefined(rowPosition) ? this.parent.editSettings.newRowPosition : rowPosition;\n        data = isNullOrUndefined(data) ? this.createNewRecord() : data;\n        if (((isNullOrUndefined(selectedRowIndex) || selectedRowIndex < 0 ||\n            isNullOrUndefined(this.addRowSelectedItem)) && (rowPosition === 'Above'\n            || rowPosition === 'Below'\n            || rowPosition === 'Child')) || !rowPosition || (rowPosition !== 'Above'\n            && rowPosition !== 'Below'\n            && rowPosition !== 'Child' && rowPosition !== 'Top' &&\n            rowPosition !== 'Bottom')) {\n            rowPosition = 'Top';\n        }\n        var level = 0;\n        var parentItem;\n        switch (rowPosition) {\n            case 'Top':\n            case 'Bottom':\n                if (this.parent.viewType === 'ResourceView') {\n                    level = 1;\n                }\n                else {\n                    level = 0;\n                }\n                break;\n            case 'Above':\n            case 'Below':\n                level = this.addRowSelectedItem.level;\n                parentItem = this.parent.getParentTask(this.addRowSelectedItem.parentItem);\n                break;\n            case 'Child':\n                level = this.addRowSelectedItem.level + 1;\n                parentItem = this.addRowSelectedItem;\n                break;\n        }\n        if (!this.parent.undoRedoModule || !this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            this.prepareNewlyAddedData(data, rowPosition);\n        }\n        var AddRecord = (this.updateNewlyAddedDataBeforeAjax(data, level, rowPosition, parentItem, rowIndex));\n        cAddedRecord.push(AddRecord);\n    };\n    Edit.prototype.updateRowIndex = function () {\n        var currentViewData = this.parent.currentViewData;\n        var rowCount = currentViewData.length;\n        for (var index = 0; index < rowCount; index++) {\n            var rowIndex = index;\n            currentViewData[index].index = rowIndex;\n            if (currentViewData[index].parentItem && currentViewData[index].parentItem.taskId) {\n                var parentRecord = this.parent.getRecordByID(currentViewData[index].parentItem.taskId);\n                if (!isNullOrUndefined(parentRecord) && !isNullOrUndefined(parentRecord.index) &&\n                    !isNullOrUndefined(parentRecord.level)) {\n                    currentViewData[index].parentItem.index = parentRecord.index;\n                    currentViewData[index].parentItem.level = parentRecord.level;\n                }\n            }\n        }\n    };\n    Edit.prototype.updateNewRecord = function (cAddedRecord, args) {\n        var _this = this;\n        cAddedRecord.forEach(function (record) {\n            if (record.level === 0) {\n                _this.parent.treeGrid.parentData.splice(0, 0, record);\n                var tempData = getValue('dataOperation.dataArray', _this.parent);\n                tempData.splice(0, 0, record.taskData);\n            }\n            _this.updateTreeGridUniqueID(record, 'add');\n        });\n        this.updateTreeGridUniqueID(cAddedRecord, 'add');\n        this.refreshNewlyAddedRecord(args, cAddedRecord);\n        var objCollection = {};\n        this.addNewUndoCollection(objCollection, args);\n        this._resetProperties();\n    };\n    /**\n     * Method to reset the flag after adding new record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype._resetProperties = function () {\n        this.parent.isOnEdit = false;\n        this.parent.hideSpinner();\n        this.addRowSelectedItem = null;\n        this.newlyAddedRecordBackup = null;\n        this.isBreakLoop = false;\n        this.parent.element.tabIndex = 0;\n        this.parent.initiateEditAction(false);\n    };\n    /**\n     * Method to update unique id collection in TreeGrid\n     *\n     * @param {IGanttData} data .\n     * @param {string} action .\n     * @returns {void} .\n     */\n    Edit.prototype.updateTreeGridUniqueID = function (data, action) {\n        if (action === 'add') {\n            setValue('uniqueIDCollection.' + data.uniqueID, data, this.parent.treeGrid);\n        }\n        else if (action === 'delete') {\n            deleteObject(getValue('uniqueIDCollection', this.parent.treeGrid), data.uniqueID);\n        }\n    };\n    Edit.prototype.refreshNewlyAddedRecord = function (args, cAddedRecord) {\n        var _this = this;\n        if (this.parent.selectionModule && this.parent.allowSelection &&\n            (this.parent.selectionSettings.mode === 'Row' || this.parent.selectionSettings.mode === 'Both')) {\n            this.parent.staticSelectedRowIndex = this.parent.currentViewData.indexOf(args.data);\n        }\n        if (this.parent.timelineSettings.updateTimescaleView) {\n            var tempArray = [];\n            if (args.modifiedRecords.length > 0) {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data]; // eslint-disable-next-line\n                tempArray.push.apply(tempArray, args.modifiedRecords);\n            }\n            else {\n                tempArray = args.data.length > 0 ?\n                    extend([], [], args.data, true) : [args.data];\n            }\n            this.parent.timelineModule.updateTimeLineOnEditing([tempArray], args.action);\n        }\n        this.addSuccess(args);\n        args = this.constructTaskAddedEventArgs(cAddedRecord, args.modifiedRecords, 'add');\n        this.updateRowIndex();\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.dialogModule.dialog && !this.dialogModule.dialogObj.isDestroyed) {\n            this.dialogModule.dialogObj.hide();\n        }\n        this.dialogModule.dialogClose();\n        if (this.parent.viewType === 'ResourceView') {\n            if (cAddedRecord.length > 1) {\n                for (var i = 0; i < cAddedRecord.length; i++) {\n                    args.data[i].ganttProperties.sharedTaskUniqueIds.push(args.data[i]\n                        .ganttProperties.rowUniqueID);\n                    if (args.data[i].ganttProperties.resourceInfo) {\n                        // if ((args.data[i] as IGanttData).ganttProperties.resourceInfo.length > 1) {\n                        var resources = extend([], [], args.data[i].ganttProperties.resourceInfo, true);\n                        resources.splice(0, 1);\n                        this.updateResoures([], resources, args.data[i]);\n                        // }\n                    }\n                    else {\n                        if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data[i]['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                            this.removeChildRecord(args.data[i]);\n                            this.parent.editModule.checkWithUnassignedTask(args.data[i]);\n                        }\n                    }\n                    for (var k = 0; k < this.updateParentRecords.length; k++) {\n                        this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                    }\n                    this.updateParentRecords = [];\n                }\n            }\n            else {\n                args.data.ganttProperties.sharedTaskUniqueIds.push(args.data.ganttProperties.rowUniqueID);\n                // eslint-disable-next-line\n                var ganttData = args.data;\n                var ganttProperties = ganttData.ganttProperties;\n                var childRecords = ganttData.childRecords;\n                var undoRedoModule_1 = this.parent.undoRedoModule;\n                var handleResourceUpdate = function (resourceInfo, targetData) {\n                    if (resourceInfo && resourceInfo.length > 1) {\n                        var resources = extend([], [], resourceInfo, true);\n                        resources.splice(0, 1);\n                        if (undoRedoModule_1 && undoRedoModule_1['isUndoRedoPerformed']) {\n                            _this.parent.editModule.addRowIndex = undefined;\n                        }\n                        _this.updateResoures([], resources, targetData);\n                    }\n                };\n                // eslint-disable-next-line\n                if (ganttProperties.resourceInfo && ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(ganttProperties.resourceInfo, ganttData);\n                }\n                else if (childRecords.length > 0 && childRecords[0].ganttProperties.resourceInfo &&\n                    childRecords[0].ganttProperties.resourceInfo.length) {\n                    handleResourceUpdate(childRecords[0].ganttProperties.resourceInfo, args.data.childRecords[0]);\n                }\n                else {\n                    if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && !args.data['hasChildRecords'] && this.parent.undoRedoModule['isUndoRedoPerformed'] || !this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                        this.removeChildRecord(args.data);\n                        this.parent.editModule.checkWithUnassignedTask(args.data);\n                    }\n                }\n                for (var k = 0; k < this.updateParentRecords.length; k++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n                }\n                this.updateParentRecords = [];\n            }\n        }\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Edit.prototype.removeAddedRecord = function () {\n        var flatRecords = this.parent.flatData;\n        var currentViewData = this.parent.currentViewData;\n        var ids = this.parent.ids;\n        var flatRecordsIndex = flatRecords.indexOf(this.newlyAddedRecordBackup);\n        var currentViewDataIndex = currentViewData.indexOf(this.newlyAddedRecordBackup);\n        var idsIndex = ids.indexOf(this.newlyAddedRecordBackup.ganttProperties.rowUniqueID.toString());\n        deleteObject(this.parent.previousRecords, flatRecords[flatRecordsIndex].uniqueID);\n        if (this.newlyAddedRecordBackup.parentItem) {\n            var parentItem = this.parent.getParentTask(this.newlyAddedRecordBackup.parentItem);\n            var parentIndex = parentItem.childRecords.indexOf(this.newlyAddedRecordBackup);\n            parentItem.childRecords.splice(parentIndex, 1);\n            if (parentItem.childRecords.length === 0 && parentItem.hasChildRecords) {\n                parentItem.hasChildRecords = false;\n            }\n        }\n        flatRecords.splice(flatRecordsIndex, 1);\n        currentViewData.splice(currentViewDataIndex, 1);\n        ids.splice(idsIndex, 1);\n    };\n    Edit.prototype.getPrevRecordIndex = function () {\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        var parent = this.parent.getRootParent(prevRecord, selectedRecord.level);\n        var prevIndex = this.parent.updatedRecords.indexOf(parent);\n        return prevIndex;\n    };\n    /**\n     * indent a selected record\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.indent = function () {\n        var index = this.parent.selectedRowIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        var dropIndex;\n        var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n        var selectedRecord = this.parent.selectionModule.getSelectedRecords()[0];\n        if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || !isNullOrUndefined(this.parent.updatedRecords[index]) && this.parent.updatedRecords[index].level - prevRecord.level === 1) {\n            return;\n        }\n        else {\n            if (prevRecord.level - selectedRecord.level === 0) {\n                dropIndex = this.parent.selectionModule.getSelectedRowIndexes()[0] - 1;\n            }\n            else {\n                dropIndex = this.getPrevRecordIndex();\n            }\n            this.indentOutdentRow([this.parent.selectionModule.getSelectedRowIndexes()[0]], dropIndex, 'child');\n        }\n    };\n    /**\n     * To perform outdent operation for selected row\n     *\n     * @returns {void} .\n     */\n    Edit.prototype.outdent = function () {\n        var index = this.parent.selectionModule.getSelectedRowIndexes()[0];\n        var dropIndex;\n        var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n            this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n        if (!this.parent.editSettings.allowEditing || index === -1 || index === 0 || !isSelected ||\n            this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[index].level === 0) {\n            return;\n        }\n        else {\n            var thisParent = this.parent.getTaskByUniqueID(this.parent.selectionModule.getSelectedRecords()[0].parentItem.uniqueID);\n            dropIndex = this.parent.updatedRecords.indexOf(thisParent);\n            this.indentOutdentRow([index], dropIndex, 'below');\n        }\n    };\n    Edit.prototype.indentOutdentRow = function (fromIndexes, toIndex, pos) {\n        var _this = this;\n        // eslint-disable-next-line\n        if (fromIndexes[0] !== toIndex && pos === 'above' || 'below' || 'child') {\n            if (pos === 'above') {\n                this.dropPosition = 'topSegment';\n            }\n            if (pos === 'below') {\n                this.dropPosition = 'bottomSegment';\n            }\n            if (pos === 'child') {\n                this.dropPosition = 'middleSegment';\n            }\n            var action = void 0;\n            var record = [];\n            for (var i = 0; i < fromIndexes.length; i++) {\n                if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']) {\n                    if (this.parent.undoRedoModule['currentAction']['modifiedRecord']) {\n                        record[i] = this.parent.undoRedoModule['currentAction']['modifiedRecord'][i].data;\n                    }\n                    else {\n                        record[i] = this.parent.undoRedoModule['currentAction']['data'][i];\n                    }\n                }\n                else {\n                    record[i] = this.parent.updatedRecords[fromIndexes[i]];\n                }\n            }\n            var isByMethod_1 = true;\n            var args_1 = {\n                data: record,\n                dropIndex: toIndex,\n                dropPosition: this.dropPosition\n            };\n            if (this.dropPosition === 'middleSegment') {\n                action = 'indenting';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                action = 'outdenting';\n            }\n            var actionArgs = {\n                action: action,\n                data: record[0],\n                cancel: false\n            };\n            this.parent.trigger('actionBegin', actionArgs, function (actionArg) {\n                if (!actionArg.cancel) {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                    _this.reArrangeRows(args_1, isByMethod_1);\n                }\n                else {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.hideMaskRow();\n                    }\n                    else {\n                        _this.parent.hideSpinner();\n                    }\n                    return;\n                }\n            });\n        }\n        else {\n            return;\n        }\n    };\n    Edit.prototype.reArrangeRows = function (args, isByMethod) {\n        var _this = this;\n        this.dropPosition = args.dropPosition;\n        this.parent['oldRecords'] = [];\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n            var obj = this.parent;\n            var draggedRec = void 0;\n            this.droppedRecord = obj.updatedRecords[args.dropIndex];\n            var action = args.dropPosition === 'middleSegment' ? 'Indent' : 'Outdent';\n            if (this.parent.undoRedoModule && !this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent['isUndoRedoItemPresent'](action)) {\n                var record = {};\n                record['action'] = action;\n                record['modifiedRecord'] = [];\n                record['selectedRowIndexes'] = extend([], [], this.parent.selectionModule.selectedRowIndexes, true);\n                this.parent.undoRedoModule['findPosition'](extend([], [], [args.data], true)[0], record, 'modifiedRecord');\n                record['droppedRecord'] = extend([], [], this.droppedRecord, true);\n                if (this.parent.undoRedoModule['redoEnabled']) {\n                    this.parent.undoRedoModule['redoEnabled'] = false;\n                    this.parent.undoRedoModule['getUndoCollection'] = [];\n                    this.parent.undoRedoModule['getRedoCollection'] = [];\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n                    }\n                    this.parent.undoRedoModule['getUndoCollection'][0] = [];\n                }\n                this.parent.undoRedoModule['createUndoCollection']();\n                this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = record;\n            }\n            var dragRecords = [];\n            var droppedRec = this.droppedRecord;\n            if (!args.data[0]) {\n                dragRecords.push(args.data);\n            }\n            else {\n                dragRecords = args.data;\n            }\n            var c = 0;\n            var dLength = dragRecords.length;\n            for (var i = 0; i < dLength; i++) {\n                this.parent.isOnEdit = true;\n                draggedRec = dragRecords[i];\n                this.draggedRecord = draggedRec;\n                if (this.dropPosition !== 'Invalid') {\n                    if (isByMethod) {\n                        this.deleteDragRow();\n                    }\n                    var recordIndex1 = this.treeGridData.indexOf(droppedRec);\n                    this.parent.editModule.updateResourceRelatedFields(droppedRec, '');\n                    if (this.dropPosition === 'bottomSegment') {\n                        if (!droppedRec.hasChildRecords) {\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                        }\n                        else {\n                            c = this.parent.editModule.getChildCount(droppedRec, 0);\n                            if (this.parent.taskFields.parentID && this.ganttData.length > 0) {\n                                this.ganttData.splice(recordIndex1 + c + 1, 0, this.draggedRecord.taskData);\n                            }\n                            this.treeGridData.splice(recordIndex1 + c + 1, 0, this.draggedRecord);\n                            this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n                            var idIndex = this.parent.ids.indexOf(this.draggedRecord[this.parent.taskFields.id].toString());\n                            if (idIndex !== recordIndex1 + c + 1) {\n                                this.parent.ids.splice(idIndex, 1);\n                                this.parent.ids.splice(recordIndex1 + c + 1, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n                            }\n                        }\n                        this.parent.setRecordValue('parentItem', this.treeGridData[recordIndex1].parentItem, draggedRec);\n                        this.parent.setRecordValue('parentUniqueID', this.treeGridData[recordIndex1].parentUniqueID, draggedRec);\n                        this.parent.setRecordValue('level', this.treeGridData[recordIndex1].level, draggedRec);\n                        if (draggedRec.hasChildRecords) {\n                            var level = 1;\n                            this.updateChildRecordLevel(draggedRec, level);\n                            this.updateChildRecord(draggedRec, recordIndex1 + c + 1);\n                        }\n                        if (droppedRec.parentItem) {\n                            var record = this.parent.getParentTask(droppedRec.parentItem).childRecords;\n                            var childRecords = record;\n                            var droppedRecordIndex = childRecords.indexOf(droppedRec) + 1;\n                            childRecords.splice(droppedRecordIndex, 0, draggedRec);\n                        }\n                    }\n                    if (this.dropPosition === 'middleSegment') {\n                        this.dropMiddle(recordIndex1);\n                    }\n                    if (!isNullOrUndefined(draggedRec.parentItem && this.updateParentRecords.indexOf(draggedRec.parentItem) !== -1)) {\n                        this.updateParentRecords.push(this.parent.getTaskByUniqueID(draggedRec.parentItem.uniqueID));\n                    }\n                }\n                if (isNullOrUndefined(draggedRec.parentItem)) {\n                    var parentRecords = this.parent.treeGrid.parentData;\n                    var newParentIndex = parentRecords.indexOf(this.droppedRecord);\n                    if (this.dropPosition === 'bottomSegment') {\n                        parentRecords.splice(newParentIndex + 1, 0, draggedRec);\n                    }\n                }\n                this.refreshDataSource();\n            }\n            if (this.dropPosition === 'middleSegment') {\n                if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                    var len = droppedRec.ganttProperties.predecessor.length;\n                    for (var count = len - 1; count >= 0; count--) {\n                        if (!isNullOrUndefined(droppedRec.ganttProperties.predecessor)) {\n                            var fromRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].from);\n                            var toRecord = this.parent.getRecordByID(droppedRec.ganttProperties.predecessor[count].to);\n                            var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                            if (droppedRec.ganttProperties.predecessor && (!validPredecessor || !this.parent.allowParentDependency)) {\n                                this.parent.editModule.removePredecessorOnDelete(droppedRec);\n                                droppedRec.ganttProperties.predecessor.splice(count, 1);\n                                droppedRec.ganttProperties.predecessorsName = null;\n                                droppedRec[this.parent.taskFields.dependency] = null;\n                                droppedRec.taskData[this.parent.taskFields.dependency] = null;\n                            }\n                        }\n                    }\n                }\n                if (droppedRec.ganttProperties.isMilestone) {\n                    this.parent.setRecordValue('isMilestone', false, droppedRec.ganttProperties, true);\n                    if (!isNullOrUndefined(droppedRec.taskData[this.parent.taskFields.milestone])) {\n                        if (droppedRec.taskData[this.parent.taskFields.milestone] === true) {\n                            droppedRec.taskData[this.parent.taskFields.milestone] = false;\n                        }\n                    }\n                }\n            }\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.parent.editedRecords.forEach(function (record) {\n                _this.isFirstCall = true;\n                _this.parent.predecessorModule.validatePredecessor(record, [], '');\n            });\n            for (var k = 0; k < this.updateParentRecords.length; k++) {\n                this.parent.dataOperation.updateParentItems(this.updateParentRecords[k]);\n            }\n            this.updateParentRecords = [];\n            this.parent.isOnEdit = false;\n        }\n        this.canReset = true;\n        this.refreshRecord(args);\n    };\n    /**\n     * @returns {void} .\n     * @param {RowDropEventArgs} args .\n     * @param {boolean} isDrag .\n     * @private\n     */\n    Edit.prototype.refreshRecord = function (args, isDrag) {\n        var _this = this;\n        if (isRemoteData(this.parent.dataSource)) {\n            var data = this.parent.dataSource;\n            var updatedData = {\n                changedRecords: getTaskData(this.parent.editedRecords, null, null, this.parent)\n            };\n            var queryValue = this.parent.query instanceof Query ? this.parent.query : new Query();\n            var crud = null;\n            var adaptor = data.adaptor;\n            if (!(adaptor instanceof WebApiAdaptor && adaptor instanceof ODataAdaptor) || data.dataSource.batchUrl) {\n                crud = data.saveChanges(updatedData, this.parent.taskFields.id, null, queryValue);\n            }\n            else {\n                var changedRecords = 'changedRecords';\n                crud = data.update(this.parent.taskFields.id, updatedData[changedRecords], null, queryValue);\n            }\n            crud.then(function (e) { return _this.indentSuccess(e, args, isDrag); })\n                .catch(function (e) { return _this.indentFailure(e); });\n        }\n        else {\n            this.indentOutdentSuccess(args, isDrag);\n        }\n    };\n    Edit.prototype.indentSuccess = function (e, args, isDrag) {\n        this.updateEditedFields(e);\n        this.indentOutdentSuccess(args, isDrag);\n    };\n    Edit.prototype.indentFailure = function (e) {\n        this.parent.trigger('actionFailure', { error: e });\n    };\n    Edit.prototype.indentOutdentSuccess = function (args, isDrag) {\n        this.parent.treeGrid.parentData = [];\n        if (this.parent.treeGrid.editModule) {\n            this.parent.treeGrid.editModule['isOnBatch'] = false;\n        }\n        this.parent.treeGrid.refresh();\n        if (this.parent.enableImmutableMode) {\n            this.refreshRecordInImmutableMode(args.data, isDrag);\n            this.parent.chartRowsModule.refreshRecords(this.parent.editedRecords);\n        }\n        if (isDrag) {\n            args.requestType = 'rowDropped';\n        }\n        else {\n            if (this.dropPosition === 'middleSegment') {\n                args.requestType = 'indented';\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                args.requestType = 'outdented';\n            }\n        }\n        args.modifiedRecords = this.parent.editedRecords;\n        if (this.parent.timezone) {\n            for (var i = 0; i < args.modifiedRecords.length; i++) {\n                updateDates(args.modifiedRecords[i], this.parent);\n            }\n        }\n        if (this.canReset) {\n            this.parent.previousRecords = {};\n        }\n        this.canReset = false;\n        this.parent.trigger('actionComplete', args);\n        if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n            this.parent.hideMaskRow();\n        }\n        else {\n            this.parent.hideSpinner();\n        }\n        if (this.parent.rowDragAndDropModule) {\n            this.parent.rowDragAndDropModule['draggedRecord'] = null;\n        }\n    };\n    Edit.prototype.refreshDataSource = function () {\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var proxy = this.parent;\n        var tempData;\n        var indx;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempData = proxy.dataSource;\n        }\n        if (tempData.length > 0 && (!isNullOrUndefined(droppedRec) && !droppedRec.parentItem)) {\n            for (var i = 0; i < Object.keys(tempData).length; i++) {\n                if (tempData[i][this.parent.taskFields.child] === droppedRec.taskData[this.parent.taskFields.child]) {\n                    indx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx, 0, draggedRec.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempData.splice(indx + 1, 0, draggedRec.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRec) && droppedRec.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPos = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRec;\n                var dragRecord = [];\n                if (!Array.isArray(draggedRec)) {\n                    dragRecord[0] = draggedRec;\n                }\n                else {\n                    dragRecord = draggedRec;\n                }\n                this.parent.editModule.updateRealDataSource(dragRecord, rowPos);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRec.parentItem) {\n                if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.parentID];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.parentID];\n                }\n                else {\n                    draggedRec[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.taskData[this.parent.taskFields.parentID] = droppedRec[this.parent.taskFields.id];\n                    draggedRec.ganttProperties['parentId'] = droppedRec[this.parent.taskFields.id];\n                }\n            }\n            else {\n                draggedRec[this.parent.taskFields.parentID] = null;\n                draggedRec.taskData[this.parent.taskFields.parentID] = null;\n                draggedRec.ganttProperties['parentId'] = null;\n            }\n        }\n    };\n    Edit.prototype.deleteDragRow = function () {\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        this.treeGridData = isCountRequired(this.parent) ?\n            getValue('result', this.parent.treeGrid.dataSource) : this.parent.treeGrid.dataSource;\n        var delRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        this.removeRecords(delRow);\n    };\n    Edit.prototype.updateIndentedChildRecords = function (indentedRecord) {\n        var createParentItem = {\n            uniqueID: indentedRecord.uniqueID,\n            expanded: indentedRecord.expanded,\n            level: indentedRecord.level,\n            index: indentedRecord.index,\n            taskId: indentedRecord.ganttProperties.rowUniqueID\n        };\n        for (var i = 0; i < indentedRecord.childRecords.length; i++) {\n            this.parent.setRecordValue('parentItem', createParentItem, indentedRecord.childRecords[i]);\n            this.parent.setRecordValue('parentUniqueID', indentedRecord.uniqueID, indentedRecord.childRecords[i]);\n        }\n        if (indentedRecord.hasChildRecords) {\n            indentedRecord = indentedRecord.childRecords;\n            for (var j = 0; j < indentedRecord['length']; j++) {\n                this.updateIndentedChildRecords(indentedRecord[j]);\n            }\n        }\n    };\n    Edit.prototype.dropMiddle = function (recordIndex1) {\n        var obj = this.parent;\n        var childRec;\n        var childRecordsLength;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.undoRedoModule['currentAction']['modifiedRecord']\n            && this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position !== 'child') {\n            if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'above') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString());\n            }\n            else if (this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].position === 'below') {\n                childRecordsLength = this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['modifiedRecord'][0].id.toString()) + 1;\n            }\n        }\n        else {\n            childRec = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n            childRecordsLength = (isNullOrUndefined(childRec) ||\n                childRec === 0) ? recordIndex1 + 1 :\n                childRec + recordIndex1 + 1;\n        }\n        if (this.dropPosition === 'middleSegment') {\n            if (this.droppedRecord.ganttProperties.isAutoSchedule &&\n                !isNullOrUndefined(this.droppedRecord.ganttProperties.predecessorsName) &&\n                this.droppedRecord.ganttProperties.predecessorsName !== '') {\n                var startDate = this.droppedRecord.ganttProperties.startDate;\n                this.parent.setRecordValue('startDate', startDate, this.draggedRecord.ganttProperties, true);\n                this.parent.dateValidationModule.calculateEndDate(this.draggedRecord);\n                this.parent.dataOperation.updateTaskData(this.draggedRecord);\n                this.parent.dataOperation['updateTaskLeftWidth'](this.draggedRecord);\n            }\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord[this.parent.taskFields.id].toString());\n            this.recordLevel();\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n                if (this.parent.enableImmutableMode) {\n                    var indentedRecord = this.draggedRecord;\n                    this.updateIndentedChildRecords(indentedRecord);\n                }\n            }\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    Edit.prototype.updateChildRecordLevel = function (record, levl) {\n        var length = 0;\n        var currentRec;\n        levl++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var j = 0; j < length; j++) {\n            currentRec = record.childRecords[j];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRec.level = record.parentItem ? parentData.level + levl : record.level + 1;\n            if (currentRec.hasChildRecords) {\n                levl--;\n                levl = this.updateChildRecordLevel(currentRec, levl);\n            }\n        }\n        return levl;\n    };\n    /* eslint-disable-next-line */\n    Edit.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRec;\n        var obj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRec = record.childRecords[i];\n            count++;\n            obj.flatData.splice(count, 0, currentRec);\n            this.parent.ids.splice(count, 0, currentRec.ganttProperties.rowUniqueID.toString());\n            if (obj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(count, 0, currentRec.taskData);\n            }\n            if (currentRec.hasChildRecords) {\n                count = this.updateChildRecord(currentRec, count);\n            }\n        }\n        return count;\n    };\n    Edit.prototype.removeRecords = function (record) {\n        var obj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var delRow = record;\n        if (delRow) {\n            var flatParent = this.parent.getParentTask(delRow.parentItem);\n            if (delRow.parentItem) {\n                var childRecords = flatParent ? flatParent.childRecords : [];\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    childIndex = childRecords.indexOf(delRow);\n                    flatParent.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID) {\n                        flatParent.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParent);\n                }\n            }\n            if (obj.taskFields.parentID) {\n                if (delRow.hasChildRecords && delRow.childRecords.length > 0) {\n                    this.removeChildItem(delRow);\n                }\n                var indx = void 0;\n                var ganttData = dataSource.length > 0 ?\n                    dataSource : this.parent.currentViewData;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (ganttData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                        indx = i;\n                    }\n                }\n                if (indx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(indx, 1);\n                    }\n                    var gridIndx = void 0;\n                    for (var i = 0; i < this.treeGridData.length; i++) {\n                        if (this.treeGridData[i][this.parent.taskFields.id] === delRow.taskData[this.parent.taskFields.id]) {\n                            gridIndx = i;\n                        }\n                    }\n                    this.treeGridData.splice(gridIndx, 1);\n                    this.parent.ids.splice(gridIndx, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(delRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(delRow), 1);\n                    }\n                }\n            }\n            var recordIdx = this.treeGridData.indexOf(delRow);\n            if (!obj.taskFields.parentID) {\n                var deletedRecordCount = this.getChildCount(delRow, 0);\n                this.treeGridData.splice(recordIdx, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIdx, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(delRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n            }\n            if (delRow.parentItem && flatParent && flatParent.childRecords && !flatParent.childRecords.length) {\n                this.parent.setRecordValue('expanded', false, flatParent);\n                this.parent.setRecordValue('hasChildRecords', false, flatParent);\n            }\n        }\n    };\n    Edit.prototype.removeChildItem = function (record) {\n        var currentRec;\n        var indx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRec = record.childRecords[i];\n            var data = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                data = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                data = this.parent.dataSource;\n            }\n            for (var j = 0; j < data.length; j++) {\n                if (data[j][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                    indx = j;\n                }\n            }\n            if (indx !== -1) {\n                if (data.length > 0) {\n                    data.splice(indx, 1);\n                }\n                var gridIndx = void 0;\n                for (var i_2 = 0; i_2 < this.treeGridData.length; i_2++) {\n                    if (this.treeGridData[i_2][this.parent.taskFields.id] === currentRec.taskData[this.parent.taskFields.id]) {\n                        gridIndx = i_2;\n                    }\n                }\n                this.treeGridData.splice(gridIndx, 1);\n                this.parent.ids.splice(gridIndx, 1);\n            }\n            if (currentRec.hasChildRecords) {\n                this.removeChildItem(currentRec);\n            }\n        }\n    };\n    Edit.prototype.recordLevel = function () {\n        var obj = this.parent;\n        var draggedRec = this.draggedRecord;\n        var droppedRec = this.droppedRecord;\n        var childItem = obj.taskFields.child;\n        if (!droppedRec.hasChildRecords) {\n            droppedRec.hasChildRecords = true;\n            if (!droppedRec.childRecords.length) {\n                droppedRec.childRecords = [];\n                if (!obj.taskFields.parentID && isNullOrUndefined(droppedRec.taskData[childItem])) {\n                    droppedRec.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRec);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRec);\n            this.parent.setRecordValue('parentUniqueID', droppedRec.uniqueID, draggedRec);\n            droppedRec.childRecords.splice(droppedRec.childRecords.length, 0, draggedRec);\n            if (!isNullOrUndefined(draggedRec) && !obj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRec.taskData[childItem])) {\n                droppedRec.taskData[obj.taskFields.child].splice(droppedRec.childRecords.length, 0, draggedRec.taskData);\n            }\n            if (!isNullOrUndefined(droppedRec.ganttProperties.segments) && droppedRec.ganttProperties.segments.length > 0) {\n                droppedRec.ganttProperties.segments = null;\n                droppedRec.taskData[obj.taskFields.segments] = null;\n            }\n            if (!draggedRec.hasChildRecords) {\n                draggedRec.level = droppedRec.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRec.level = droppedRec.level + 1;\n                this.updateChildRecordLevel(draggedRec, level);\n            }\n            droppedRec.expanded = true;\n        }\n    };\n    return Edit;\n}());\nexport { Edit };\n","import { TreeGrid, Reorder as TreeGridReorder } from '@syncfusion/ej2-treegrid';\n/**\n * To handle column reorder action from TreeGrid\n */\nvar Reorder = /** @class */ (function () {\n    function Reorder(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridReorder);\n        this.parent.treeGrid.allowReordering = this.parent.allowReordering;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {string} .\n     */\n    Reorder.prototype.getModuleName = function () {\n        return 'reorder';\n    };\n    /**\n     * To bind reorder events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.columnDragStart = function (args) {\n            _this.parent.trigger('columnDragStart', args);\n        };\n        this.parent.treeGrid.columnDrag = function (args) {\n            _this.parent.trigger('columnDrag', args);\n        };\n        this.parent.treeGrid.columnDrop = function (args) {\n            _this.parent.trigger('columnDrop', args);\n        };\n    };\n    /**\n     * To destroy the column-reorder.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Reorder.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Reorder;\n}());\nexport { Reorder };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { TreeGrid, Resize as TreeGridResize } from '@syncfusion/ej2-treegrid';\n/**\n * Column resize action related code goes here\n */\nvar Resize = /** @class */ (function () {\n    function Resize(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridResize);\n        this.parent.treeGrid.allowResizing = this.parent.allowResizing;\n        this.bindEvents();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    Resize.prototype.getModuleName = function () {\n        return 'resize';\n    };\n    /**\n     * To bind resize events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.resizeStart = function (args) {\n            if (_this.parent.undoRedoModule && _this.parent['isUndoRedoItemPresent']('ColumnResize')) {\n                _this.parent.undoRedoModule['createUndoCollection']();\n                var details = {};\n                details['action'] = 'ColumnResize';\n                details['resizedColumn'] = __assign({}, args.column);\n                _this.parent.undoRedoModule['getUndoCollection'][_this.parent.undoRedoModule['getUndoCollection'].length - 1] = details;\n            }\n            _this.parent.trigger('resizeStart', args);\n        };\n        this.parent.treeGrid.resizing = function (args) {\n            _this.parent.trigger('resizing', args);\n        };\n        this.parent.treeGrid.resizeStop = function (args) {\n            _this.parent.trigger('resizeStop', args);\n        };\n    };\n    /**\n     * To destroy the column-resizer.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Resize.prototype.destroy = function () {\n        // Destroy Method\n    };\n    return Resize;\n}());\nexport { Resize };\n","import { TreeGrid, Filter as TreeGridFilter } from '@syncfusion/ej2-treegrid';\nimport { filterAfterOpen, getFilterMenuPostion } from '@syncfusion/ej2-grids';\nimport { getActualProperties, getCustomDateFormat } from '@syncfusion/ej2-grids';\nimport { getValue, isNullOrUndefined, remove, createElement, addClass, closest, EventHandler } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DatePicker, DateTimePicker } from '@syncfusion/ej2-calendars';\n/**\n * The Filter module is used to handle filter action.\n */\nvar Filter = /** @class */ (function () {\n    function Filter(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridFilter);\n        this.parent.treeGrid.allowFiltering = this.parent.allowFiltering;\n        this.updateCustomFilters();\n        this.parent.treeGrid.filterSettings = getActualProperties(this.parent.filterSettings);\n        this.addEventListener();\n    }\n    Filter.prototype.getModuleName = function () {\n        return 'filter';\n    };\n    /**\n     * Update custom filter for default Gantt columns\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.updateCustomFilters = function () {\n        var settings = this.parent.taskFields;\n        for (var i = 0; i < this.parent.ganttColumns.length; i++) {\n            var column = this.parent.ganttColumns[i];\n            if (((column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') &&\n                (column.field === settings.startDate || column.field === settings.endDate\n                    || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) ||\n                (column.field === settings.duration && column.editType === 'stringedit')) {\n                this.initiateFiltering(this.parent.ganttColumns[i]);\n            }\n        }\n    };\n    Filter.prototype.updateModel = function () {\n        this.parent.filterSettings = this.parent.treeGrid.filterSettings;\n    };\n    Filter.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n        this.parent.on('actionBegin', this.actionBegin, this);\n        this.parent.on('actionComplete', this.actionComplete, this);\n        this.parent.on('columnMenuOpen', this.columnMenuOpen, this);\n    };\n    Filter.prototype.wireEvents = function (a) {\n        EventHandler.add(document.getElementById(a), 'click', this.mouseClickHandler, this);\n    };\n    Filter.prototype.initiateFiltering = function (column) {\n        var treeColumn = this.parent.getColumnByField(column.field, this.parent.treeGridModule.treeGridColumns);\n        column.allowFiltering = column.allowFiltering === false ? false : true;\n        if (column.allowFiltering && (this.parent.filterSettings.type === 'Menu' || this.parent.filterSettings.type === 'Excel') && !column.filter) {\n            column.filter = { ui: this.getCustomFilterUi(column) };\n        }\n        if (treeColumn) {\n            treeColumn.allowFiltering = column.allowFiltering;\n            treeColumn.filter = column.allowFiltering ? column.filter : {};\n        }\n    };\n    /**\n     * To get filter menu UI\n     *\n     * @param {ColumnModel} column .\n     * @returns {IFilterMUI} .\n     */\n    Filter.prototype.getCustomFilterUi = function (column) {\n        var settings = this.parent.taskFields;\n        var filterUI = {};\n        if (column.editType === 'datepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDatePickerFilter(column.field);\n        }\n        else if (column.editType === 'datetimepickeredit' && (column.field === settings.startDate || column.field === settings.endDate\n            || column.field === settings.baselineStartDate || column.field === settings.baselineEndDate)) {\n            filterUI = this.getDateTimePickerFilter();\n        }\n        else if (column.field === settings.duration && column.editType === 'stringedit') {\n            filterUI = this.getDurationFilter();\n        }\n        return filterUI;\n    };\n    Filter.prototype.mouseClickHandler = function (e) {\n        if (closest(e.target, '.e-excelfilter')) {\n            this.parent.treeGrid.grid.notify('click', e);\n        }\n    };\n    Filter.prototype.unWireEvents = function () {\n        EventHandler.remove(this.parent.element, 'click', this.mouseClickHandler);\n    };\n    Filter.prototype.getDatePickerFilter = function (columnName) {\n        var _this = this;\n        var parent = this.parent;\n        var timeValue = (columnName === parent.taskFields.startDate) || (columnName === parent.taskFields.baselineStartDate)\n            ? parent.defaultStartTime : parent.defaultEndTime;\n        var dropDateInstance;\n        var filterDateUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropDateInstance = new DatePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropDateInstance.enableRtl = _this.parent.enableRtl;\n                dropDateInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropDateInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                if (dropDateInstance.value) {\n                    dropDateInstance.value.setSeconds(timeValue);\n                }\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropDateInstance.value);\n            }\n        };\n        return filterDateUI;\n    };\n    Filter.prototype.getDateTimePickerFilter = function () {\n        var _this = this;\n        var dropInstance;\n        var filterDateTimeUI = {\n            create: function (args) {\n                var format = getCustomDateFormat(args.column.format, args.column.type);\n                var flValInput = createElement('input', { className: 'flm-input' });\n                args.target.appendChild(flValInput);\n                dropInstance = new DateTimePicker({ placeholder: _this.parent.localeObj.getConstant('enterValue'), format: format });\n                dropInstance.enableRtl = _this.parent.enableRtl;\n                dropInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                dropInstance.value = args.filteredValue;\n            },\n            read: function (args) {\n                args.fltrObj.filterByColumn(args.column.field, args.operator, dropInstance.value);\n            }\n        };\n        return filterDateTimeUI;\n    };\n    Filter.prototype.getDurationFilter = function () {\n        var _this = this;\n        var parent = this.parent;\n        var textBoxInstance;\n        var textValue = '';\n        var filterDurationUI = {\n            create: function (args) {\n                var flValInput = createElement('input', { className: 'e-input' });\n                flValInput.setAttribute('placeholder', _this.parent.localeObj.getConstant('enterValue'));\n                args.target.appendChild(flValInput);\n                textBoxInstance = new TextBox();\n                textBoxInstance.enableRtl = _this.parent.enableRtl;\n                textBoxInstance.appendTo(flValInput);\n            },\n            write: function (args) {\n                textBoxInstance.value = args.filteredValue ? textValue : '';\n            },\n            read: function (args) {\n                var durationObj = _this.parent.dataOperation.getDurationValue(textBoxInstance.value);\n                var intVal = getValue('duration', durationObj);\n                var unit = getValue('durationUnit', durationObj);\n                if (intVal >= 0) {\n                    var dayVal = void 0;\n                    if (unit === 'minute') {\n                        dayVal = (intVal * 60) / parent.secondsPerDay;\n                    }\n                    else if (unit === 'hour') {\n                        dayVal = (intVal * 60 * 60) / parent.secondsPerDay;\n                    }\n                    else {\n                        //Consider it as day unit\n                        dayVal = intVal;\n                        unit = 'day';\n                    }\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, dayVal);\n                    textValue = _this.parent.dataOperation.getDurationString(intVal, unit);\n                }\n                else {\n                    args.fltrObj.filterByColumn(args.column.field, args.operator, null);\n                    textValue = null;\n                }\n            }\n        };\n        return filterDurationUI;\n    };\n    /**\n     * Remove filter menu while opening column chooser menu\n     *\n     * @param {ColumnMenuOpenEventArgs} args .\n     * @returns {void} .\n     */\n    Filter.prototype.columnMenuOpen = function (args) {\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            remove(this.filterMenuElement);\n        }\n        this.filterMenuElement = null;\n    };\n    // eslint-disable-next-line\n    Filter.prototype.actionBegin = function (args) {\n        // ...\n    };\n    Filter.prototype.closeFilterOnContextClick = function (element) {\n        var datePickerElement = document.querySelector('body > div.e-datepicker');\n        var dateTimePickerElement = document.querySelector('body > div.e-datetimepicker');\n        if (this.filterMenuElement && document.body.contains(this.filterMenuElement)) {\n            var ganttElement = closest(element, '#' + this.parent.element.id)\n                || element.querySelector('#' + this.parent.element.id);\n            if ((!(this.filterMenuElement.contains(element)) && !isNullOrUndefined(ganttElement)) ||\n                ((!(this.filterMenuElement.contains(element)) && !this.parent.enableAdaptiveUI) && (isNullOrUndefined(datePickerElement)) &&\n                    (isNullOrUndefined(dateTimePickerElement)) && ((element.nodeName === 'DIV') || (element.nodeName === 'HTML') ||\n                    (element.nodeName === 'SPAN') || (element.nodeName === 'BUTTON'))) && !element.classList.contains('e-dropdownbase')) {\n                remove(this.filterMenuElement);\n                this.parent.treeGrid.grid.notify('filter-menu-close', { isOpen: false });\n                this.filterMenuElement = null;\n            }\n        }\n    };\n    Filter.prototype.actionComplete = function (args) {\n        if (!isNullOrUndefined(args['filterModel'])) {\n            if (!isNullOrUndefined(args['filterModel']['dialogObj'])) {\n                if (!isNullOrUndefined(args['filterModel']['dialogObj']['element'])) {\n                    if (this.parent.filterSettings.type === 'Excel') {\n                        this.wireEvents(args['filterModel']['dialogObj']['element'].id);\n                    }\n                }\n            }\n        }\n        if (args.requestType === filterAfterOpen) {\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                this.filterMenuElement = getValue('filterModel.dlgObj.element', args);\n            }\n            else {\n                this.filterMenuElement = getValue('filterModel.dialogObj.element', args);\n            }\n            this.updateFilterMenuPosition(this.filterMenuElement, args);\n            // To set default values as 'contains' in filter dialog\n            var taskID = this.parent.taskFields.id;\n            var predecessor = this.parent.taskFields.dependency;\n            var resource = this.parent.taskFields.resourceInfo;\n            var filterObj = this.parent.treeGrid.grid.filterModule;\n            var filterValues = getValue('values', filterObj);\n            if ((args.columnName === predecessor && isNullOrUndefined(getValue(predecessor, filterValues)))\n                || (args.columnName === resource && isNullOrUndefined(getValue(resource, filterValues)))) {\n                var element = this.filterMenuElement.querySelector('.e-dropdownlist');\n                var instanceObj = void 0;\n                if (!isNullOrUndefined(element)) {\n                    instanceObj = getValue('ej2_instances[0]', element);\n                    instanceObj.index = 2;\n                    instanceObj.dataBind();\n                }\n            }\n            else if (args.columnName === taskID && isNullOrUndefined(getValue(taskID, filterValues)) && this.parent.treeGrid.filterSettings.type === 'Menu') {\n                var element = this.filterMenuElement.querySelector('.e-flmenu-input');\n                var instanceObj = getValue('ej2_instances[0]', element);\n                if (!isNullOrUndefined(instanceObj) && isNullOrUndefined(this.parent.columnByField[args.columnName].format)) {\n                    instanceObj.format = 'n';\n                }\n            }\n        }\n    };\n    Filter.prototype.setPosition = function (li, ul) {\n        var gridPos = this.parent.element.getBoundingClientRect();\n        var offsetParentGridPos = this.parent.element.offsetParent.getBoundingClientRect();\n        /* eslint-disable-next-line */\n        var liPos = li.getBoundingClientRect();\n        var ulPos = ul.getBoundingClientRect();\n        var diffOfMargin = gridPos.left - liPos.left;\n        var marginLeft = (!this.parent.enableRtl ? liPos.width - diffOfMargin : (Math.abs(diffOfMargin) - ulPos.width));\n        var reduceTop = offsetParentGridPos.top;\n        if (ul.offsetParent.tagName === 'BODY') {\n            reduceTop = 0;\n        }\n        var topValue = liPos.top - reduceTop + window.scrollY;\n        ul.style.left = '';\n        ul.style.top = topValue + 'px';\n        ul.style.marginLeft = marginLeft + 'px';\n    };\n    Filter.prototype.updateFilterMenuPosition = function (element, args) {\n        addClass([element], 'e-gantt');\n        if (!this.parent.enableAdaptiveUI) {\n            document.querySelector('#' + this.parent.controlId).appendChild(element);\n        }\n        var targetElement;\n        element.style.display = 'block';\n        if (this.parent.showColumnMenu) {\n            targetElement = document.querySelector('#treeGrid' + this.parent.controlId + '_gridcontrol_colmenu_Filter');\n            if (targetElement) {\n                element.style.zIndex = targetElement.parentElement.style.zIndex;\n                if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                    this.setPosition(targetElement, getValue('filterModel.dlgObj.element', args));\n                }\n                else {\n                    var filterElement = getValue('filterModel.dialogObj.element', args);\n                    if (filterElement) {\n                        filterElement.style.visibility = 'hidden';\n                    }\n                    this.setPosition(targetElement, filterElement);\n                }\n            }\n        }\n        else {\n            targetElement = this.parent.treeGrid.grid.getColumnHeaderByField(args.columnName).querySelector('.e-filtermenudiv');\n            if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dlgObj', args));\n            }\n            else {\n                getFilterMenuPostion(targetElement, getValue('filterModel.dialogObj', args));\n            }\n        }\n        element.style.visibility = 'visible';\n        if (this.parent.treeGrid.filterSettings.type === 'Menu') {\n            element.querySelector('.e-valid-input').focus();\n        }\n        if (this.parent.treeGrid.filterSettings.type === 'Excel') {\n            var inputElement = document.querySelector('.e-searchinput');\n            inputElement.focus();\n        }\n    };\n    Filter.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n        this.parent.off('actionBegin', this.actionBegin);\n        this.parent.off('actionComplete', this.actionComplete);\n        this.parent.off('columnMenuOpen', this.columnMenuOpen);\n    };\n    /**\n     * This method is used to destroy the filter module. When called, it performs any necessary cleanup operations related to the filter module.\n     *\n     * @returns {void} .\n     */\n    Filter.prototype.destroy = function () {\n        this.removeEventListener();\n        this.unWireEvents();\n    };\n    return Filter;\n}());\nexport { Filter };\n","import { TreeGrid, Sort as TreeGrdSort } from '@syncfusion/ej2-treegrid';\nimport { getActualProperties } from '@syncfusion/ej2-grids';\n/**\n * The Sort module is used to handle sorting action.\n */\nvar Sort = /** @class */ (function () {\n    function Sort(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGrdSort);\n        this.parent.treeGrid.allowSorting = this.parent.allowSorting;\n        this.parent.treeGrid.sortSettings = getActualProperties(this.parent.sortSettings);\n        this.addEventListener();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    Sort.prototype.getModuleName = function () {\n        return 'sort';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.addEventListener = function () {\n        this.parent.on('updateModel', this.updateModel, this);\n    };\n    /**\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('updateModel', this.updateModel);\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Sort.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * Sort a column with given options.\n     *\n     * @param {string} columnName - Defines the column name to sort.\n     * @param {SortDirection} direction - Defines the direction of sort.\n     * @param {boolean} isMultiSort - Defines whether the previously sorted columns are to be maintained.\n     * @returns {void} .\n     */\n    Sort.prototype.sortColumn = function (columnName, direction, isMultiSort) {\n        this.parent.treeGrid.sortByColumn(columnName, direction, isMultiSort);\n    };\n    /**\n     * Method to clear all sorted columns.\n     *\n     * @returns {void} .\n     */\n    Sort.prototype.clearSorting = function () {\n        this.parent.treeGrid.clearSorting();\n    };\n    /**\n     * The function used to update sortSettings of TreeGrid.\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Sort.prototype.updateModel = function () {\n        this.parent.sortSettings = this.parent.treeGrid.sortSettings;\n    };\n    /**\n     * To clear sorting for specific column.\n     *\n     * @param {string} columnName - Defines the sorted column name to remove.\n     * @returns {void} .\n     */\n    Sort.prototype.removeSortColumn = function (columnName) {\n        this.parent.treeGrid.grid.removeSortColumn(columnName);\n    };\n    return Sort;\n}());\nexport { Sort };\n","import { parentsUntil, getActualProperties } from '@syncfusion/ej2-grids';\nimport { setCssInGridPopUp } from '@syncfusion/ej2-grids';\nimport { isNullOrUndefined, removeClass, getValue, addClass, closest, setValue, extend } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\n/**\n * The Selection module is used to handle cell and row selection.\n */\nvar Selection = /** @class */ (function () {\n    function Selection(gantt) {\n        this.isSelectionFromChart = false;\n        this.isFromChart = false;\n        this.multipleIndexes = [];\n        this.selectedRowIndexes = [];\n        this.enableSelectMultiTouch = false;\n        this.openPopup = false;\n        this.parent = gantt;\n        this.bindEvents();\n        this.parent.treeGrid.selectedRowIndex = this.parent.selectedRowIndex;\n        this.parent.treeGrid.allowSelection = this.parent.allowSelection;\n        this.parent.treeGrid.grid.selectionSettings.enableToggle = this.parent.selectionSettings.enableToggle;\n        this.parent.treeGrid.selectionSettings = getActualProperties(this.parent.selectionSettings);\n        this.wireEvents();\n    }\n    /**\n     * Get module\n     *\n     * @returns {string} .\n     */\n    Selection.prototype.getModuleName = function () {\n        return 'selection';\n    };\n    Selection.prototype.wireEvents = function () {\n        this.parent.on('selectRowByIndex', this.selectRowByIndex, this);\n        if (this.parent.isAdaptive) {\n            this.parent.on('chartMouseClick', this.mouseUpHandler, this);\n            this.parent.on('treeGridClick', this.popUpClickHandler, this);\n        }\n        else {\n            this.parent.on('chartMouseUp', this.mouseUpHandler, this);\n        }\n    };\n    /**\n     * To update selected index.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.selectRowByIndex = function () {\n        if ((this.parent.selectedRowIndex !== -1 || this.parent.staticSelectedRowIndex !== -1)) {\n            this.selectRow(this.parent.staticSelectedRowIndex !== -1 ? this.parent.staticSelectedRowIndex : this.parent.selectedRowIndex);\n            this.parent.staticSelectedRowIndex = -1;\n        }\n    };\n    /**\n     * To bind selection events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowSelecting = this.rowSelecting.bind(this);\n        this.parent.treeGrid.rowSelected = this.rowSelected.bind(this);\n        this.parent.treeGrid.rowDeselecting = this.rowDeselecting.bind(this);\n        this.parent.treeGrid.rowDeselected = this.rowDeselected.bind(this);\n        this.parent.treeGrid.cellSelecting = this.cellSelecting.bind(this);\n        this.parent.treeGrid.cellSelected = this.cellSelected.bind(this);\n        this.parent.treeGrid.cellDeselecting = this.cellDeselecting.bind(this);\n        this.parent.treeGrid.cellDeselected = this.cellDeselected.bind(this);\n    };\n    Selection.prototype.rowSelecting = function (args) {\n        if (!this.parent.isGanttChartRendered) {\n            args.cancel = true;\n            return;\n        }\n        args.isCtrlPressed = this.isMultiCtrlRequest || args.isCtrlPressed;\n        args.isShiftPressed = this.isMultiShiftRequest || args.isShiftPressed;\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        if (this.parent.selectionSettings && this.parent.selectionSettings.persistSelection) {\n            this.parent.treeGrid.grid.selectionModule['checkSelectAllClicked'] = true;\n        }\n        this.parent.trigger('rowSelecting', args);\n        if (this.isMultiShiftRequest || this.isMultiCtrlRequest) {\n            this.isMultiShiftRequest = this.isMultiCtrlRequest = false;\n        }\n    };\n    Selection.prototype.rowSelected = function (args) {\n        var rowIndexes = 'rowIndexes';\n        var index = (this.parent.selectionSettings.type === 'Multiple' && !isNullOrUndefined(args[rowIndexes])) ?\n            args[rowIndexes] : [args.rowIndex];\n        this.addRemoveClass(index, args['name']);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: this.parent.treeGrid.grid.selectedRowIndex }, true);\n        if (this.isMultiShiftRequest) {\n            this.selectedRowIndexes = index;\n        }\n        if (this.parent.autoFocusTasks) {\n            if (this.parent.enableTimelineVirtualization) {\n                this.parent['isRowSelected'] = true;\n            }\n            if (args.data && !isNullOrUndefined(args.data['length'])) {\n                for (var i = 0; i < args.data['length']; i++) {\n                    this.parent.ganttChartModule.updateScrollLeft(args.data[i].ganttProperties.left);\n                }\n            }\n            else {\n                if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping &&\n                    isNullOrUndefined(getValue('data.ganttProperties.left', args))) {\n                    args.data = this.parent.getRecordByID(args.data.taskId);\n                }\n                this.parent.ganttChartModule.updateScrollLeft(getValue('data.ganttProperties.left', args));\n            }\n        }\n        args.target = this.actualTarget;\n        if (!isNullOrUndefined(args.foreignKeyData) && Object.keys(args.foreignKeyData).length === 0) {\n            delete args.foreignKeyData;\n        }\n        this.prevRowIndex = args.rowIndex;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems(args);\n        }\n        if (!isNullOrUndefined(this.parent.focusModule['previousActiveElement'])) {\n            var previousSelection = this.parent.focusModule['previousActiveElement'];\n            removeClass([previousSelection], 'e-focused');\n            removeClass([previousSelection], 'e-focus');\n        }\n        this.parent.trigger('rowSelected', args);\n    };\n    Selection.prototype.rowDeselecting = function (args) {\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselecting', args);\n    };\n    Selection.prototype.rowDeselected = function (args) {\n        var index;\n        var isContains;\n        if (this.multipleIndexes.length !== 0) {\n            index = this.multipleIndexes;\n        }\n        else {\n            if (!isNullOrUndefined(args.rowIndexes)) {\n                for (var i = 0; i < args.rowIndexes.length; i++) {\n                    if (args.rowIndexes[i] === args.rowIndex) {\n                        isContains = true;\n                    }\n                }\n                if (isContains) {\n                    index = args.rowIndexes;\n                }\n                else {\n                    index = [args.rowIndex];\n                }\n            }\n            else {\n                index = [args.rowIndex];\n            }\n        }\n        this.addRemoveClass(index);\n        this.selectedRowIndexes = extend([], this.getSelectedRowIndexes(), [], true);\n        this.parent.setProperties({ selectedRowIndex: -1 }, true);\n        if (this.selectedRowIndexes.length === 1) {\n            this.parent.setProperties({ selectedRowIndex: this.selectedRowIndexes[0] }, true);\n        }\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive\n            && this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n        args.target = this.actualTarget;\n        args.isInteracted = this.isInteracted;\n        this.parent.trigger('rowDeselected', args);\n        this.isInteracted = false;\n        this.multipleIndexes = [];\n    };\n    Selection.prototype.cellSelecting = function (args) {\n        var callBackPromise = new Deferred();\n        this.parent.trigger('cellSelecting', args, function (cellselectingArgs) {\n            callBackPromise.resolve(cellselectingArgs);\n        });\n        return callBackPromise;\n    };\n    Selection.prototype.cellSelected = function (args) {\n        this.parent.trigger('cellSelected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    Selection.prototype.cellDeselecting = function (args) {\n        this.parent.trigger('cellDeselecting', args);\n    };\n    Selection.prototype.cellDeselected = function (args) {\n        this.parent.trigger('cellDeselected', args);\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n    };\n    /**\n     * Selects a cell by given index.\n     *\n     * @param  {IIndex} cellIndex - Defines the row and column indexes.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCell = function (cellIndex, isToggle) {\n        this.parent.treeGrid.selectCell(cellIndex, isToggle);\n    };\n    /**\n     * Selects a collection of cells by row and column indexes.\n     *\n     * @param  {ISelectedCell[]} rowCellIndexes - Specifies the row and column indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectCells = function (rowCellIndexes) {\n        this.parent.treeGrid.grid.selectCells(rowCellIndexes);\n    };\n    /**\n     * Selects a row by given index.\n     *\n     * @param  {number} index - Defines the row index.\n     * @param  {boolean} isToggle - If set to true, then it toggles the selection.\n     * @param {boolean} isPreventFocus .\n     * @returns {void} .\n     */\n    Selection.prototype.selectRow = function (index, isToggle, isPreventFocus) {\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        if (this.parent.enableVirtualization && (this.parent.treeGridModule.addedRecord ||\n            (this.parent.editModule && this.parent.editModule.isAdded))) {\n            index = this.parent.getExpandedRecords(this.parent.flatData).indexOf(this.parent.flatData[index]);\n            this.parent.treeGridModule.addedRecord = false;\n            if (this.parent.editModule) {\n                this.parent.editModule.isAdded = false;\n            }\n        }\n        var selectedRow = ganttRow.filter(function (e) { return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === index; })[0];\n        var condition;\n        if (index === -1 || (isNullOrUndefined(selectedRow) && !this.parent.enableVirtualization) || this.parent.selectionSettings.mode === 'Cell') {\n            return;\n        }\n        if (this.parent.showActiveElement && !isNullOrUndefined(isPreventFocus) && !isPreventFocus || this.isFromChart) {\n            if (this.isFromChart) {\n                this.isFromChart = false;\n            }\n            this.parent.treeGrid.grid.selectionModule.preventFocus = true;\n        }\n        else {\n            this.parent.treeGrid.grid.selectionModule.preventFocus = false;\n        }\n        if ((!isNullOrUndefined(this.selectedClass) && (this.selectedClass === selectedRow) && (!isToggle))) {\n            condition = true;\n        }\n        if (condition !== true) {\n            this.parent.treeGrid.selectRow(index, isToggle);\n        }\n        this.parent.treeGrid.grid.selectionModule.preventFocus = this.parent.treeGrid.grid.selectionModule.preventFocus === true ?\n            false : this.parent.treeGrid.grid.selectionModule.preventFocus;\n        this.prevRowIndex = index;\n        this.selectedClass = selectedRow;\n    };\n    /**\n     * Selects a collection of rows by indexes.\n     *\n     * @param  {number[]} records - Defines the collection of row indexes.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRows = function (records) {\n        if (!isNullOrUndefined(records) && records.length > 0) {\n            this.parent.treeGrid.selectRows(records);\n        }\n    };\n    /**\n     * Gets the collection of selected row indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowIndexes();\n    };\n    /**\n     * Gets the collection of selected row and cell indexes.\n     *\n     * @returns {number[]} .\n     */\n    Selection.prototype.getSelectedRowCellIndexes = function () {\n        return this.parent.treeGrid.getSelectedRowCellIndexes();\n    };\n    /**\n     * Gets the collection of selected records.\n     *\n     * @returns {Object[]} .\n     */\n    Selection.prototype.getSelectedRecords = function () {\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            var selectedRows = [];\n            var selectedIndexes_1 = this.parent.selectionModule.getSelectedRowIndexes();\n            var _loop_1 = function (i) {\n                var rec = this_1.parent.currentViewData.filter(function (data) {\n                    return data.index === selectedIndexes_1[i];\n                })[0];\n                selectedRows.push(rec);\n            };\n            var this_1 = this;\n            for (var i = 0; i < selectedIndexes_1.length; i++) {\n                _loop_1(i);\n            }\n            return selectedRows;\n        }\n        else {\n            return this.parent.treeGrid.getSelectedRecords();\n        }\n    };\n    /**\n     * Get the selected records for cell selection.\n     *\n     * @returns {IGanttData[]} .\n     */\n    Selection.prototype.getCellSelectedRecords = function () {\n        var cellDetails = this.parent.selectionModule.getSelectedRowCellIndexes();\n        var cellSelectedRecords = [];\n        for (var i = 0; i < cellDetails.length; i++) {\n            cellSelectedRecords.push(this.parent.currentViewData[cellDetails[i].rowIndex]);\n        }\n        return cellSelectedRecords;\n    };\n    /**\n     * Gets the collection of selected rows.\n     *\n     * @returns {Element[]} .\n     */\n    Selection.prototype.getSelectedRows = function () {\n        return this.parent.treeGrid.getSelectedRows();\n    };\n    /**\n     * Deselects the current selected rows and cells.\n     *\n     * @returns {void} .\n     */\n    Selection.prototype.clearSelection = function () {\n        this.addRemoveClass(this.selectedRowIndexes);\n        this.parent.treeGrid.clearSelection();\n        this.parent.selectedRowIndex = -1;\n        this.selectedRowIndexes = [];\n        this.selectedClass = null;\n        if (!isNullOrUndefined(this.parent.toolbarModule)) {\n            this.parent.toolbarModule.refreshToolbarItems();\n        }\n        this.isInteracted = false;\n    };\n    Selection.prototype.highlightSelectedRows = function (e, fromChart) {\n        this.isMultiCtrlRequest = e.ctrlKey || this.enableSelectMultiTouch;\n        this.isMultiShiftRequest = e.shiftKey;\n        this.actualTarget = e.target;\n        this.isInteracted = true;\n        this.isSelectionFromChart = fromChart;\n        if (fromChart) {\n            var selectedRow = closest(e.target, 'tr.e-chart-row');\n            var rIndex = parseInt(selectedRow.getAttribute('aria-rowindex'), 10) - 1;\n            var isToggle = this.parent.selectionSettings.enableToggle;\n            if (this.parent.selectionSettings.type === 'Single' || (!this.isMultiCtrlRequest && !this.isMultiShiftRequest)) {\n                if (this.parent.selectionSettings.persistSelection) {\n                    this.addRemoveClass(this.selectedRowIndexes, e['name']);\n                }\n                if (!this.parent.allowTaskbarDragAndDrop || (this.parent.allowTaskbarDragAndDrop && (this.parent.rowDragAndDropModule &&\n                    !this.parent.rowDragAndDropModule['draggedRecord']))) {\n                    this.isFromChart = true;\n                    this.selectRow(rIndex, isToggle);\n                }\n            }\n            else {\n                if (this.isMultiShiftRequest) {\n                    this.selectRowsByRange(isNullOrUndefined(this.prevRowIndex) ? rIndex : this.prevRowIndex, rIndex);\n                }\n                else {\n                    setValue('isMultiCtrlRequest', true, this.parent.treeGrid.grid.selectionModule);\n                    this.parent.treeGrid.grid.selectionModule.addRowsToSelection([rIndex]);\n                    var isUnSelected = this.selectedRowIndexes.indexOf(rIndex) > -1;\n                    if (isUnSelected) {\n                        this.addRemoveClass([rIndex], e['name']);\n                    }\n                }\n            }\n        }\n    };\n    Selection.prototype.getselectedrowsIndex = function (startIndex, endIndex) {\n        var indexes = [];\n        // eslint-disable-next-line\n        var _a = (startIndex < endIndex) ?\n            { i: startIndex, max: endIndex } : { i: endIndex, max: startIndex }, i = _a.i, max = _a.max;\n        for (; i <= max; i++) {\n            indexes.push(i);\n        }\n        if (startIndex > endIndex) {\n            indexes.reverse();\n        }\n        this.selectedRowIndexes = indexes;\n    };\n    /**\n     * Selects a range of rows from start and end row indexes.\n     *\n     * @param  {number} startIndex - Defines the start row index.\n     * @param  {number} endIndex - Defines the end row index.\n     * @returns {void} .\n     */\n    Selection.prototype.selectRowsByRange = function (startIndex, endIndex) {\n        this.isSelectionFromChart = true;\n        this.getselectedrowsIndex(startIndex, endIndex);\n        this.selectRows(this.selectedRowIndexes);\n    };\n    Selection.prototype.addRemoveClass = function (records, request) {\n        if (typeof (records) == 'number') {\n            records = [records];\n        }\n        var ganttRow = [].slice.call(this.parent.ganttChartModule.chartBodyContent.querySelector('tbody').children);\n        var _loop_2 = function (i) {\n            var selectedRow = ganttRow.filter(function (e) {\n                return parseInt(e.getAttribute('aria-rowindex'), 10) - 1 === records[parseInt(i.toString(), 10)];\n            })[0];\n            if (!isNullOrUndefined(selectedRow)) {\n                var persist = false;\n                var index = this_2.getSelectedRowIndexes().indexOf(records[parseInt(i.toString(), 10)]);\n                var selectedRecordLen = this_2.getSelectedRecords().length;\n                if (this_2.parent.selectionSettings.persistSelection && this_2.parent.selectionSettings.enableToggle &&\n                    !isNullOrUndefined(request) && this_2.parent.selectionSettings.type !== 'Multiple' &&\n                    selectedRecordLen > 0) {\n                    persist = true;\n                }\n                if (this_2.parent.selectionSettings.enableToggle && this_2.parent.selectionSettings.persistSelection &&\n                    (index > -1 && this_2.parent.selectionSettings.type === 'Single' && persist) ||\n                    (index > -1 && ((!isNullOrUndefined(request) && this_2.parent.selectionSettings.type === 'Multiple')))) {\n                    this_2.addClass(selectedRow);\n                }\n                else if (isNullOrUndefined(request)) {\n                    this_2.removeClass(selectedRow);\n                }\n                else if (index > -1) {\n                    this_2.addClass(selectedRow);\n                }\n                if (this_2.parent.selectionSettings.enableToggle && index > -1 && (this_2.parent.selectionSettings.type === 'Single' ||\n                    (!this_2.isMultiCtrlRequest && !this_2.isMultiShiftRequest)) && this_2.parent.selectionSettings.persistSelection &&\n                    request === 'chartMouseUp' && this_2.isSelectionFromChart) {\n                    this_2.removeClass(selectedRow);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < records.length; i++) {\n            _loop_2(i);\n        }\n    };\n    Selection.prototype.addClass = function (selectedRow) {\n        addClass([selectedRow], 'e-active');\n        selectedRow.setAttribute('aria-selected', 'true');\n    };\n    Selection.prototype.removeClass = function (selectedRow) {\n        removeClass([selectedRow], 'e-active');\n        selectedRow.removeAttribute('aria-selected');\n    };\n    Selection.prototype.showPopup = function (e) {\n        if (this.isSelectionFromChart) {\n            setCssInGridPopUp(this.parent.element.querySelector('.e-ganttpopup'), e, 'e-rowselect e-icons e-icon-rowselect' +\n                ((this.enableSelectMultiTouch &&\n                    (this.getSelectedRecords().length > 1 || this.getSelectedRowCellIndexes().length > 1)) ? ' e-spanclicked' : ''));\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n            this.openPopup = true;\n        }\n        else if (this.selectedRowIndexes.length === 0) {\n            this.hidePopUp();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.hidePopUp = function () {\n        if (this.openPopup) {\n            document.getElementsByClassName('e-ganttpopup')[0].style.display = 'none';\n            this.openPopup = false;\n        }\n        else {\n            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n        }\n    };\n    Selection.prototype.popUpClickHandler = function (e) {\n        var target = e.target;\n        var grid = this.parent.treeGrid.grid;\n        var $popUpElemet = closest(target, '.e-ganttpopup') ?\n            closest(target, '.e-ganttpopup') : closest(target, '.e-gridpopup');\n        if ($popUpElemet) {\n            var spanElement = $popUpElemet.querySelector('.' + 'e-rowselect');\n            if (closest(target, '.e-ganttpopup') &&\n                !spanElement.classList.contains('e-spanclicked')) {\n                this.enableSelectMultiTouch = true;\n                spanElement.classList.add('e-spanclicked');\n            }\n            else if (closest(target, '.e-gridpopup') &&\n                spanElement.classList.contains('e-spanclicked')) {\n                this.openPopup = true;\n                this.enableSelectMultiTouch = true;\n            }\n            else {\n                this.hidePopUp();\n                this.enableSelectMultiTouch = false;\n                if (closest(target, '.e-ganttpopup')) {\n                    spanElement.classList.remove('e-spanclicked');\n                }\n            }\n        }\n        else if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n            var $tr = closest(target, '.e-rowcell');\n            if ($tr && ((this.selectedRowIndexes.length === 0 && this.parent.selectionSettings.mode === 'Row') ||\n                (this.getCellSelectedRecords().length === 0 && this.parent.selectionSettings.mode === 'Cell'))) {\n                this.hidePopUp();\n            }\n        }\n        if (grid) {\n            setValue('enableSelectMultiTouch', this.enableSelectMultiTouch, grid.selectionModule);\n        }\n    };\n    /**\n     * Handles the mouse up event on taskbar or row elements in the Gantt chart.\n     * @param {PointerEvent} e - The pointer event from the mouseup action.\n     * @returns {void}\n     * @private\n     */\n    Selection.prototype.mouseUpHandler = function (e) {\n        var isTaskbarEdited = false;\n        var elements = document.querySelectorAll('.e-drag-item');\n        var targetElement = null;\n        if (e.target.closest('.e-rowcell')) {\n            targetElement = e.target;\n        }\n        else if (e.target.closest('.e-chart-row')) {\n            targetElement = e.target.closest('.e-left-label-container') ||\n                e.target.closest('.e-taskbar-main-container') || e.target.closest('.e-right-label-container');\n        }\n        // Set focus to the target element if focus module is available\n        if (this.parent.focusModule) {\n            this.parent.focusModule.setActiveElement(targetElement);\n        }\n        // Check if taskbar editing is allowed and if it has been dragged or tapped\n        if (this.parent.editModule && this.parent.editSettings.allowTaskbarEditing && this.parent.editModule.taskbarEditModule) {\n            var taskbarEdit = this.parent.editModule.taskbarEditModule;\n            if (taskbarEdit.isMouseDragged || taskbarEdit.tapPointOnFocus) {\n                isTaskbarEdited = true;\n            }\n        }\n        // Proceed with selection or popup logic only if the taskbar is not edited\n        if (!isTaskbarEdited && this.parent.element.contains(e.target) && !(elements.length === 1)) {\n            var parent_1 = parentsUntil(e.target, 'e-chart-row');\n            var targetEl = e.target;\n            var isSelected = e.target.classList.contains('e-rowcell') ||\n                targetEl.classList.contains('e-rowcell') ||\n                (targetEl.closest('td.e-rowcell') &&\n                    targetEl.closest('td.e-rowcell').classList.contains('e-rowcell')) ||\n                targetEl.classList.contains('e-row') ||\n                (targetEl.parentElement &&\n                    targetEl.parentElement.classList.contains('e-checkbox-wrapper')) || // Checkbox class\n                targetEl.classList.contains('e-treegridexpand') ||\n                targetEl.classList.contains('e-treegridcollapse') || !isNullOrUndefined(parent_1);\n            this.popUpClickHandler(e);\n            if (this.parent.selectionSettings.mode !== 'Cell' && isSelected) {\n                if (closest(e.target, 'tr.e-chart-row')) {\n                    if (this.parent.enableVirtualization) {\n                        this.parent.treeGrid.grid.selectionModule.isInteracted = true;\n                    }\n                    this.parent.treeGrid['isFromChartSide'] = true;\n                    this.highlightSelectedRows(e, true);\n                }\n                else {\n                    this.parent.treeGrid['isFromChartSide'] = false;\n                    this.highlightSelectedRows(e, false);\n                }\n                if (this.parent.selectionSettings.type === 'Multiple' && this.parent.isAdaptive) {\n                    if (this.selectedRowIndexes.length > 0) {\n                        this.showPopup(e);\n                    }\n                    else {\n                        this.hidePopUp();\n                    }\n                }\n            }\n            else {\n                this.isSelectionFromChart = false;\n            }\n        }\n    };\n    /**\n     * To add class for selected records in virtualization mode.\n     *\n     * @param {number} i .\n     * @returns {void} .\n     * @hidden\n     */\n    Selection.prototype.maintainSelectedRecords = function (i) {\n        var index = this.parent.selectionModule.getSelectedRowIndexes().indexOf(i);\n        if (index > -1) {\n            this.addRemoveClass([i]);\n        }\n    };\n    /**\n     * To destroy the selection module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    Selection.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('selectRowByIndex', this.selectRowByIndex);\n        if (this.parent.isAdaptive) {\n            this.parent.off('chartMouseClick', this.mouseUpHandler);\n            this.parent.off('treeGridClick', this.popUpClickHandler);\n        }\n        else {\n            this.parent.off('chartMouseUp', this.mouseUpHandler);\n        }\n    };\n    return Selection;\n}());\nexport { Selection };\n","import { Toolbar as NavToolbar } from '@syncfusion/ej2-navigations';\nimport { createElement, extend, isNullOrUndefined, remove, getValue, EventHandler, addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport * as events from '../base/constant';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(parent) {\n        this.predefinedItems = {};\n        this.items = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll', 'Search',\n            'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport',\n            'CsvExport', 'PdfExport', 'Indent', 'Outdent', 'CriticalPath'];\n        this.parent = parent;\n        this.id = this.parent.element.id;\n        this.parent.on('ui-toolbarupdate', this.propertyChanged, this);\n    }\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.renderToolbar = function () {\n        var toolbarItems = this.parent.toolbar || [];\n        if (toolbarItems.length > 0) {\n            this.element = createElement('div', { id: this.parent.controlId + '_Gantt_Toolbar', className: cls.toolbar });\n            if (this.parent.treeGrid.grid.headerModule) {\n                this.parent.element.insertBefore(this.element, this.parent.treeGridPane.offsetParent);\n            }\n            else {\n                this.parent.element.appendChild(this.element);\n            }\n            var preItems = ['Add', 'Edit', 'Update', 'Delete', 'Cancel', 'ExpandAll', 'CollapseAll',\n                'PrevTimeSpan', 'NextTimeSpan', 'ZoomIn', 'ZoomOut', 'ZoomToFit', 'ExcelExport', 'CsvExport',\n                'PdfExport', 'Indent', 'Outdent', 'CriticalPath', 'Undo', 'Redo'];\n            for (var _i = 0, preItems_1 = preItems; _i < preItems_1.length; _i++) {\n                var item = preItems_1[_i];\n                var itemStr = void 0;\n                var localeName = void 0;\n                if (item === 'CriticalPath') {\n                    itemStr = 'critical-path';\n                    localeName = 'criticalPath';\n                }\n                else {\n                    itemStr = item.toLowerCase();\n                    localeName = item[0].toLowerCase() + item.slice(1);\n                }\n                this.predefinedItems[item] = {\n                    id: this.parent.element.id + '_' + itemStr, prefixIcon: 'e-' + itemStr,\n                    text: this.parent.isAdaptive ? '' : this.parent.localeObj.getConstant(localeName),\n                    tooltipText: this.parent.localeObj.getConstant(localeName) + ((localeName === 'add' ||\n                        localeName === 'edit' || localeName === 'delete') ? this.parent.localeObj.getConstant('task') :\n                        (localeName === 'expandAll' || localeName === 'collapseAll') ?\n                            this.parent.localeObj.getConstant('tasks') : ''),\n                    align: this.parent.isAdaptive ? 'Right' : 'Left'\n                };\n                if (this.parent.enableRtl) {\n                    if (item === 'PrevTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-nexttimespan';\n                    }\n                    if (item === 'NextTimeSpan') {\n                        this.predefinedItems[item].prefixIcon = 'e-prevtimespan';\n                    }\n                }\n            }\n            var searchLocalText = this.parent.localeObj.getConstant('search');\n            if (this.parent.isAdaptive) {\n                this.predefinedItems.Search = {\n                    id: this.id + '_searchbutton',\n                    prefixIcon: 'e-search-icon',\n                    tooltipText: searchLocalText,\n                    align: 'Right'\n                };\n            }\n            else {\n                this.predefinedItems.Search = {\n                    id: this.id + '_search',\n                    template: '<div class=\"e-input-group e-search\" role=\"search\">' +\n                        '<input id=\"' + this.id + '_searchbar\" class=\"e-input\" name=\"input\" type=\"search\"' +\n                        // eslint-disable-next-line\n                        'placeholder= \\\"' + searchLocalText + '\\\"/>' +\n                        '<span id=\"' + this.id + '_searchbutton\" class=\"e-input-group-icon e-search-icon e-icons\"' +\n                        'tabindex=\"-1\" title=\"' + searchLocalText + '\" aria-label= \"search\" role=\"button\"></span>' +\n                        '</div>',\n                    tooltipText: searchLocalText,\n                    align: 'Right', cssClass: 'e-search-wrapper'\n                };\n            }\n            this.createToolbar();\n        }\n    };\n    Toolbar.prototype.addReactToolbarPortals = function (args) {\n        if (this.parent.isReact && args) {\n            this.parent.portals = this.parent.portals.concat(args);\n            this.parent.renderTemplates();\n        }\n    };\n    Toolbar.prototype.createToolbar = function () {\n        var items = this.getItems();\n        this.toolbar = new NavToolbar({\n            items: items,\n            enableRtl: this.parent.enableRtl,\n            clicked: this.toolbarClickHandler.bind(this),\n            height: this.parent.isAdaptive ? 48 : 'auto'\n        });\n        this.toolbar.isStringTemplate = true;\n        this.toolbar.isReact = this.parent.isReact;\n        this.toolbar.on('render-react-toolbar-template', this.addReactToolbarPortals, this);\n        this.toolbar.appendTo(this.element);\n        if (this.parent.treeGrid.grid && this.parent.isReact) {\n            (this.parent.treeGrid.grid).portals = this.parent.portals;\n        }\n        var cancelItem = this.element.querySelector('#' + this.parent.element.id + '_cancel');\n        var updateItem = this.element.querySelector('#' + this.parent.element.id + '_update');\n        if (cancelItem) {\n            addClass([cancelItem], cls.focusCell);\n        }\n        if (updateItem) {\n            addClass([updateItem], cls.focusCell);\n        }\n        var template = false;\n        this.parent.toolbar.map(function (e) {\n            if (e === 'Search') {\n                template = true;\n            }\n        });\n        if (this.parent.isAdaptive && template) {\n            this.element.insertBefore(this.getSearchBarElement(), this.element.childNodes[0]);\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n            var textObj = new TextBox({\n                placeholder: this.parent.localeObj.getConstant('search'),\n                enableRtl: this.parent.enableRtl,\n                floatLabelType: 'Never',\n                showClearButton: true\n            });\n            textObj.appendTo(this.searchElement);\n        }\n        else {\n            this.searchElement = this.element.querySelector('#' + this.parent.element.id + '_searchbar');\n        }\n        if (this.parent.filterModule) {\n            this.wireEvent();\n            if (this.parent.searchSettings) {\n                this.updateSearchTextBox();\n            }\n        }\n        this.enableItems([this.parent.controlId + '_redo', this.parent.controlId + '_undo'], false); // disable toolbar items.\n        if (this.parent.readOnly) {\n            this.enableItems([this.parent.element.id + '_add', this.parent.element.id + '_update', this.parent.element.id + '_delete',\n                this.parent.element.id + '_cancel', this.parent.element.id + '_indent', this.parent.element.id + '_outdent'], false);\n        }\n    };\n    Toolbar.prototype.getSearchBarElement = function () {\n        var _this = this;\n        var div = createElement('div', { className: 'e-adaptive-searchbar', styles: 'display: none' });\n        var textbox = createElement('input', { attrs: { type: 'text' }, id: this.parent.element.id + '_searchbar' });\n        var span = createElement('span', { className: 'e-backarrowspan e-icons' });\n        span.onclick = function () {\n            div.style.display = 'none';\n            _this.element.childNodes[1].style.display = 'block';\n        };\n        div.appendChild(span);\n        div.appendChild(textbox);\n        return div;\n    };\n    Toolbar.prototype.wireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.add(this.searchElement, 'keyup', this.keyUpHandler, this);\n            EventHandler.add(this.searchElement, 'focus', this.focusHandler, this);\n            EventHandler.add(this.searchElement, 'blur', this.blurHandler, this);\n        }\n    };\n    Toolbar.prototype.propertyChanged = function (property) {\n        var module = getValue('module', property);\n        if (module !== this.getModuleName() || !this.parent.toolbar) {\n            return;\n        }\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.renderToolbar();\n        this.refreshToolbarItems();\n    };\n    Toolbar.prototype.unWireEvent = function () {\n        if (this.searchElement) {\n            EventHandler.remove(this.searchElement, 'keyup', this.keyUpHandler);\n            EventHandler.remove(this.searchElement, 'focus', this.focusHandler);\n            EventHandler.remove(this.searchElement, 'blur', this.blurHandler);\n            this.searchElement = null;\n        }\n        if (!this.parent.isDestroyed) {\n            this.parent.off('ui-toolbarupdate', this.propertyChanged);\n        }\n    };\n    Toolbar.prototype.keyUpHandler = function (e) {\n        if (e.keyCode === 13 && this.parent.searchSettings.key !== this.searchElement.value) {\n            this.parent.searchSettings.key = this.searchElement.value;\n            this.parent.dataBind();\n        }\n    };\n    Toolbar.prototype.focusHandler = function (e) {\n        e.target.parentElement.classList.add('e-input-focus');\n    };\n    Toolbar.prototype.blurHandler = function (e) {\n        e.target.parentElement.classList.remove('e-input-focus');\n    };\n    /**\n     * Method to set value for search input box\n     *\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.updateSearchTextBox = function () {\n        if (this.searchElement && this.searchElement.value !== this.parent.searchSettings.key) {\n            this.searchElement.value = this.parent.searchSettings.key;\n        }\n    };\n    Toolbar.prototype.getItems = function () {\n        var items = [];\n        var toolbarItems = this.parent.toolbar;\n        var searchIndex = -1;\n        toolbarItems.forEach(function (item, index) {\n            if ((typeof (item) === 'string' && item === 'Search') ||\n                ((typeof (item) === 'object') && item.text === 'Search')) {\n                searchIndex = index;\n            }\n        });\n        if (searchIndex > -1) {\n            var searchItem = toolbarItems.splice(searchIndex, 1);\n            toolbarItems.push(searchItem[0]);\n        }\n        for (var _i = 0, toolbarItems_1 = toolbarItems; _i < toolbarItems_1.length; _i++) {\n            var item = toolbarItems_1[_i];\n            if (typeof item === 'string') {\n                items.push(this.getItemObject(item));\n            }\n            else {\n                items.push(this.getItem(item));\n            }\n        }\n        return items;\n    };\n    Toolbar.prototype.getItem = function (itemObject) {\n        var item = this.predefinedItems[itemObject.text];\n        var currentItem = item ? extend(item, item, itemObject) : itemObject;\n        if (!currentItem.align) {\n            currentItem.align = this.parent.isAdaptive ? 'Right' : 'Left';\n        }\n        return currentItem;\n    };\n    Toolbar.prototype.getItemObject = function (itemName) {\n        return this.predefinedItems[itemName] || { text: itemName, id: this.id + '_' + itemName };\n    };\n    Toolbar.prototype.toolbarClickHandler = function (arg) {\n        var _this = this;\n        var gObj = this.parent;\n        var gID = this.id;\n        this.parent.isToolBarClick = false;\n        extend(arg, { cancel: false });\n        gObj.trigger(events.toolbarClick, arg, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            else {\n                if (arg.item['properties'].id === _this.parent.element.id + '_pdfexport' || arg.item['properties'].id === _this.parent.element.id + '_critical-path') {\n                    if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                        _this.parent.showMaskRow();\n                    }\n                    else {\n                        _this.parent.showSpinner();\n                    }\n                }\n                if (_this.parent.isAdaptive === true) {\n                    if (args.item.id === gID + '_edit' || args.item.id === gID + '_add' || args.item.id === gID + '_delete'\n                        || args.item.id === gID + '_searchbutton' || args.item.id === gID + '_expandall'\n                        || args.item.id === gID + '_collapseall') {\n                        if (_this.parent.selectionModule && _this.parent.selectionSettings.type === 'Multiple') {\n                            _this.parent.selectionModule.hidePopUp();\n                            document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                        }\n                    }\n                }\n                switch (!isNullOrUndefined(args.item) && args.item.id) {\n                    case gID + '_edit':\n                        if (gObj.editModule && gObj.editSettings.allowEditing) {\n                            gObj.editModule.dialogModule.openToolbarEditDialog();\n                        }\n                        break;\n                    case gID + '_indent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.indent();\n                        }\n                        break;\n                    case gID + '_critical-path':\n                        if (gObj.enableCriticalPath) {\n                            gObj.enableCriticalPath = false;\n                        }\n                        else {\n                            gObj.enableCriticalPath = true;\n                        }\n                        break;\n                    case gID + '_outdent':\n                        if (gObj.editModule && gObj.selectionModule.getSelectedRecords().length) {\n                            gObj.outdent();\n                        }\n                        break;\n                    case gID + '_update':\n                        gObj.editModule.cellEditModule.isCellEdit = false;\n                        gObj.treeGrid.grid.saveCell();\n                        break;\n                    case gID + '_cancel':\n                        gObj.cancelEdit();\n                        break;\n                    case gID + '_add':\n                        if (gObj.editModule && gObj.editSettings.allowAdding) {\n                            gObj.editModule.dialogModule.openAddDialog();\n                        }\n                        break;\n                    case gID + '_delete':\n                        if (_this.parent.selectionModule && _this.parent.editModule) {\n                            if ((_this.parent.selectionSettings.mode !== 'Cell' && _this.parent.selectionModule.selectedRowIndexes.length)\n                                || (_this.parent.selectionSettings.mode === 'Cell' &&\n                                    _this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                                _this.parent.editModule.startDeleteAction();\n                            }\n                        }\n                        break;\n                    case gID + '_search':\n                        {\n                            var searchButtonId = getValue('originalEvent.target.id', args);\n                            if (searchButtonId === _this.parent.element.id + '_searchbutton' && _this.parent.filterModule) {\n                                var keyVal = _this.element.querySelector('#' + _this.parent.element.id + '_searchbar').value;\n                                if (_this.parent.searchSettings.key !== keyVal) {\n                                    _this.parent.searchSettings.key = keyVal;\n                                    _this.parent.dataBind();\n                                }\n                            }\n                            break;\n                        }\n                    case gID + '_searchbutton':\n                        {\n                            var adaptiveSearchbar = _this.element.querySelector('.e-adaptive-searchbar');\n                            adaptiveSearchbar.parentElement.childNodes[1].style.display = 'none';\n                            adaptiveSearchbar.style.display = 'block';\n                            break;\n                        }\n                    case gID + '_expandall':\n                        _this.parent.ganttChartModule.expandCollapseAll('expand');\n                        _this.parent.isCollapseAll = false;\n                        break;\n                    case gID + '_collapseall':\n                        _this.parent.ganttChartModule.expandCollapseAll('collapse');\n                        _this.parent.isCollapseAll = true;\n                        break;\n                    case gID + '_prevtimespan':\n                        _this.parent.previousTimeSpan();\n                        break;\n                    case gID + '_nexttimespan':\n                        _this.parent.nextTimeSpan();\n                        break;\n                    case gID + '_zoomin':\n                        _this.zoomIn();\n                        break;\n                    case gID + '_zoomout':\n                        _this.zoomOut();\n                        break;\n                    case gID + '_zoomtofit':\n                        _this.zoomToFit();\n                        break;\n                    case gID + '_undo':\n                        _this.parent.undo();\n                        break;\n                    case gID + '_redo':\n                        _this.parent.redo();\n                        break;\n                }\n            }\n        });\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomIn = function () {\n        this.parent.timelineModule.processZooming(true);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomToFit = function () {\n        if (this.parent.timelineModule.isZoomIn) {\n            this.parent.timelineModule.isZoomIn = false;\n        }\n        this.parent.timelineModule.processZoomToFit();\n        this.parent.ganttChartModule.updateScrollLeft(0);\n        this.parent.timelineModule.isZoomToFit = false;\n    };\n    /**\n     *\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.zoomOut = function () {\n        this.parent.timelineModule.processZooming(false);\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * To refresh toolbar items bases current state of tasks\n     *\n     * @param {RowSelectEventArgs} args .\n     * @returns {void} .\n     */\n    Toolbar.prototype.refreshToolbarItems = function (args) {\n        var gObj = this.parent;\n        var enableItems = [];\n        var disableItems = [];\n        var edit = gObj.editSettings;\n        var gID = this.id;\n        var ind = gObj.selectedRowIndex;\n        if (this.parent.loadChildOnDemand && this.parent.taskFields.hasChildMapping) {\n            for (var i = 0; i < gObj.updatedRecords.length; i++) {\n                if (gObj.updatedRecords[i].index === ind) {\n                    ind = i;\n                    break;\n                }\n            }\n        }\n        var previousGanttRecord;\n        var isSelected = false;\n        if (gObj.selectionModule) {\n            if (gObj.selectionModule.getSelectedRecords().length === 1 || gObj.selectionModule.getSelectedRowCellIndexes().length === 1) {\n                isSelected = true;\n            }\n        }\n        if (gObj.selectionModule && gObj.selectionSettings.type === 'Multiple' && gObj.selectionModule.selectedRowIndexes.length > 1) {\n            isSelected = false;\n        }\n        var isPersist = false;\n        if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n            var selectedRecords = gObj.selectionModule.getSelectedRecords().length;\n            if (gObj.selectionSettings.persistSelection && selectedRecords === 1) {\n                for (var i = 0; i < selectedRecords; i++) {\n                    var index = gObj.currentViewData.indexOf(gObj.selectionModule.getSelectedRecords()[i]);\n                    if (index === -1) {\n                        isPersist = true;\n                    }\n                }\n            }\n            if (isPersist) {\n                isSelected = false;\n            }\n        }\n        var toolbarItems = this.toolbar ? this.toolbar.items : [];\n        var toolbarDefaultItems = [gID + '_add', gID + '_edit', gID + '_delete',\n            gID + '_update', gID + '_cancel', gID + '_indent', gID + '_outdent'];\n        var isResouceParent = (this.parent.viewType === 'ResourceView' && getValue('data.level', args) !== 0\n            || this.parent.viewType === 'ProjectView');\n        if (!isNullOrUndefined(this.parent.editModule)) {\n            var touchEdit = gObj.editModule.taskbarEditModule ?\n                gObj.editModule.taskbarEditModule.touchEdit : false;\n            var hasData = gObj.flatData && gObj.flatData.length;\n            // eslint-disable-next-line\n            edit.allowAdding && !touchEdit ? enableItems.push(gID + '_add') : disableItems.push(gID + '_add');\n            // eslint-disable-next-line\n            edit.allowEditing && isResouceParent && hasData && isSelected && !touchEdit ?\n                enableItems.push(gID + '_edit') : disableItems.push(gID + '_edit');\n            if (!edit.allowEditing || ind === 0 || ind === -1 || !hasData || !isSelected || this.parent.viewType === 'ResourceView') {\n                disableItems.push(gID + '_indent');\n                disableItems.push(gID + '_outdent');\n            }\n            else {\n                if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                    gObj.updatedRecords[ind].level === 0 && hasData && !touchEdit) {\n                    enableItems.push(gID + '_indent');\n                    disableItems.push(gID + '_outdent');\n                }\n                else {\n                    previousGanttRecord = gObj.updatedRecords[ind - 1];\n                    if (!isNullOrUndefined(gObj.updatedRecords[ind]) &&\n                        (gObj.updatedRecords[ind].level - previousGanttRecord.level === 1) && ind !== -1) {\n                        disableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                    else if (ind !== -1) {\n                        enableItems.push(gID + '_indent');\n                        enableItems.push(gID + '_outdent');\n                    }\n                }\n            }\n            var isDeleteSelected = gObj.selectionModule ? gObj.selectionModule.getSelectedRecords().length > 0 ||\n                gObj.selectionModule.getSelectedRowCellIndexes().length > 0 ? true : false : false;\n            if (gObj.selectionModule && gObj.selectionSettings.persistSelection) {\n                if (isPersist) {\n                    isDeleteSelected = false;\n                }\n                var selectedRecords = gObj.selectionModule.getSelectedRecords();\n                var selectedRecordsCount = selectedRecords.length;\n                if (gObj.selectionSettings.persistSelection && selectedRecordsCount > 1) {\n                    for (var i = 0; i < selectedRecordsCount; i++) {\n                        var index = gObj.currentViewData.indexOf(selectedRecords[i]);\n                        if (index > -1) {\n                            isDeleteSelected = true;\n                            break;\n                        }\n                        else {\n                            isDeleteSelected = false;\n                        }\n                    }\n                }\n            }\n            if (edit.allowDeleting && hasData && isDeleteSelected && !touchEdit) {\n                enableItems.push(gID + '_delete');\n            }\n            else {\n                disableItems.push(gID + '_delete');\n            }\n            if (gObj.editSettings.mode === 'Auto' && !isNullOrUndefined(gObj.editModule.cellEditModule)\n                && gObj.editModule.cellEditModule.isCellEdit) {\n                // New initialization for enableItems and disableItems during isCellEdit\n                enableItems = [];\n                enableItems.push(gID + '_update', gID + '_cancel');\n                disableItems = [];\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (toolbarItems[t].id !== gID + '_update' && toolbarItems[t].id !== gID + '_cancel' &&\n                        toolbarDefaultItems.indexOf(toolbarItems[t].id) !== -1) {\n                        disableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n            else {\n                disableItems.push(gID + '_update', gID + '_cancel');\n                for (var t = 0; t < toolbarItems.length; t++) {\n                    if (enableItems.indexOf(toolbarItems[t].id) === -1 &&\n                        disableItems.indexOf(toolbarItems[t].id) === -1) {\n                        enableItems.push(toolbarItems[t].id);\n                    }\n                }\n            }\n        }\n        else {\n            disableItems.push(gID + '_delete');\n            disableItems.push(gID + '_add');\n            disableItems.push(gID + '_edit');\n            disableItems.push(gID + '_update');\n            disableItems.push(gID + '_cancel');\n            disableItems.push(gID + '_indent');\n            disableItems.push(gID + '_outdent');\n        }\n        for (var e = 0; e < enableItems.length; e++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === enableItems[e]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0 && (!isNullOrUndefined(toolbarItems[index]) && toolbarItems[index]['properties'].visible)) {\n                this.toolbar.hideItem(index, false);\n            }\n        }\n        for (var d = 0; d < disableItems.length; d++) {\n            var index = void 0;\n            for (var t = 0; t < toolbarItems.length; t++) {\n                if (toolbarItems[t].id === disableItems[d]) {\n                    index = t;\n                    break;\n                }\n            }\n            if (toolbarItems.length > 0) {\n                this.toolbar.hideItem(index, true);\n            }\n        }\n    };\n    /**\n     * Enables or disables ToolBar items.\n     *\n     * @param {string[]} items - Defines the collection of itemID of ToolBar items.\n     * @param {boolean} isEnable - Defines the items to be enabled or disabled.\n     * @returns {void} .\n     * @hidden\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            var element = this.element.querySelector('#' + item);\n            if (element) {\n                this.toolbar.enableItems(element.parentElement, isEnable);\n            }\n        }\n    };\n    /**\n     * Destroys the Sorting of TreeGrid.\n     *\n     * @function destroy\n     * @returns {void} .\n     * @private\n     */\n    Toolbar.prototype.destroy = function () {\n        if (this.parent.filterModule) {\n            this.unWireEvent();\n        }\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        if (this.toolbar) {\n            this.toolbar.off('render-react-toolbar-template', this.addReactToolbarPortals);\n        }\n        this.toolbar.destroy();\n        remove(this.element);\n    };\n    return Toolbar;\n}());\nexport { Toolbar };\n","/**\n *  This file was to define all public and internal events\n */\n/** @hidden */\nexport var load = 'load';\n/** @hidden */\nexport var rowDataBound = 'rowDataBound';\n/** @hidden */\nexport var queryCellInfo = 'queryCellInfo';\n/** @hidden */\nexport var toolbarClick = 'toolbarClick';\n/** @hidden */\nexport var keyPressed = 'key-pressed';\n","import { createElement, formatUnit, remove, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar NonWorkingDay = /** @class */ (function () {\n    function NonWorkingDay(gantt) {\n        this.weekendWidthUpdated = false;\n        this.parent = gantt;\n        this.nonworkingContainer = null;\n        this.holidayContainer = null;\n        this.weekendContainer = null;\n    }\n    /**\n     * Method append nonworking container\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.createNonworkingContainer = function () {\n        if (!this.parent.ganttChartModule.chartBodyContent.contains(this.nonworkingContainer)) {\n            this.nonworkingContainer = createElement('div', {\n                className: cls.nonworkingContainer\n            });\n            if (this.parent.enableTimelineVirtualization) {\n                this.nonworkingContainer.style.height = '100%';\n            }\n            this.parent.ganttChartModule.chartBodyContent.insertBefore(this.nonworkingContainer, this.parent.ganttChartModule.chartBodyContent.firstChild);\n        }\n    };\n    /**\n     * calculation for holidays rendering.\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderHolidays = function () {\n        var _this = this;\n        if (this.parent.holidays && this.parent.holidays.length > 0) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.holidayContainer)) {\n                this.holidayContainer = createElement('div', {\n                    className: cls.holidayContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.holidayContainer.style.height = '100%';\n                    this.holidayContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.holidayContainer);\n            }\n            var holidayElements = this.getHolidaysElement().childNodes;\n            this.holidayContainer.innerHTML = '';\n            holidayElements.forEach(function (element) {\n                _this.holidayContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.holidayContainer && this.holidayContainer.parentNode) {\n            remove(this.holidayContainer);\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n            }\n        }\n    };\n    /**\n     * Method to return holidays as html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getHolidaysElement = function () {\n        var fromDate;\n        var toDate;\n        var container = createElement('div');\n        var height = this.parent.contentHeight;\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        for (var i = 0; i < this.parent.holidays.length; i++) {\n            if (this.parent.holidays[i].from && this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                toDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                toDate.setDate(toDate.getDate() + 1);\n                fromDate.setHours(0, 0, 0, 0);\n                toDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].from) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].from);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            else if (this.parent.holidays[i].to) {\n                fromDate = this.parent.dateValidationModule.getDateFromFormat(this.parent.holidays[i].to);\n                fromDate.setHours(0, 0, 0, 0);\n            }\n            var width = (this.parent.holidays[i].from && this.parent.holidays[i].to) ?\n                this.parent.dataOperation.getTaskWidth(fromDate, toDate) : this.parent.perDayWidth;\n            var left = this.parent.dataOperation.getTaskLeft(fromDate, false, true);\n            var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n            var holidayDiv = createElement('div', {\n                className: cls.holidayElement, styles: align + \" width:\" + width + \"px; height:100%;\"\n            });\n            var spanTop = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n            var spanElement = createElement('span', {\n                className: cls.holidayLabel, styles: \"top:\" + spanTop + \"px;left:\" + (width / 2) + \"px;\"\n            });\n            var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n            spanElement[property] = this.parent.holidays[i].label ? this.parent.holidays[i].label : '';\n            if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n            }\n            holidayDiv.appendChild(spanElement);\n            if (this.parent.holidays[i].cssClass) {\n                holidayDiv.classList.add(this.parent.holidays[i].cssClass);\n            }\n            container.appendChild(holidayDiv);\n        }\n        return container;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.renderWeekends = function () {\n        var _this = this;\n        if (this.parent.highlightWeekends && this.parent.timelineSettings.showWeekend) {\n            this.createNonworkingContainer();\n            if (!this.nonworkingContainer.contains(this.weekendContainer)) {\n                this.weekendContainer = createElement('div', {\n                    className: cls.weekendContainer\n                });\n                if (this.parent.enableTimelineVirtualization) {\n                    this.weekendContainer.style.height = '100%';\n                    this.weekendContainer.style.zIndex = '-1';\n                }\n                this.nonworkingContainer.appendChild(this.weekendContainer);\n            }\n            var weekendElements = this.getWeekendElements().childNodes;\n            this.weekendContainer.innerHTML = '';\n            weekendElements.forEach(function (element) {\n                _this.weekendContainer.appendChild(element.cloneNode(true));\n            });\n        }\n        else if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            this.weekendContainer = null;\n            if (this.nonworkingContainer && this.nonworkingContainer.childNodes.length === 0) {\n                remove(this.nonworkingContainer);\n                this.nonworkingContainer = null;\n            }\n        }\n    };\n    /**\n     * Method to get weekend html string\n     *\n     * @returns {HTMLElement} .\n     */\n    NonWorkingDay.prototype.getWeekendElements = function () {\n        var container = createElement('div');\n        var leftValueForStartDate = (this.parent.enableTimelineVirtualization &&\n            this.parent.ganttChartModule.scrollObject.element.scrollLeft !== 0)\n            ? this.parent.ganttChartModule.scrollObject.getTimelineLeft() : null;\n        var startDate = (this.parent.enableTimelineVirtualization && !isNullOrUndefined(leftValueForStartDate))\n            ? new Date((this.parent.timelineModule['dateByLeftValue'](leftValueForStartDate)).getTime()) :\n            new Date(this.parent.timelineModule.timelineStartDate.getTime());\n        var endDate = this.parent.enableTimelineVirtualization ? new Date((this.parent.timelineModule.weekendEndDate).getTime()) :\n            new Date(this.parent.timelineModule.timelineEndDate.getTime());\n        var nonWorkingIndex = this.parent.nonWorkingDayIndex;\n        var isFirstCell = true;\n        var isFirstExecution = true;\n        this.weekendWidthUpdated = false;\n        var hasDST = this.parent.dataOperation.hasDSTTransition(startDate.getFullYear());\n        do {\n            if (nonWorkingIndex.indexOf(startDate.getDay()) !== -1) {\n                var left = this.parent.dataOperation.getTaskLeft(startDate, false, true);\n                var width = this.parent.perDayWidth;\n                if (isFirstCell) {\n                    var start = new Date(startDate.getTime());\n                    var tempEnd = new Date(start.getTime());\n                    tempEnd.setDate(tempEnd.getDate() + 1);\n                    tempEnd.setHours(0, 0, 0, 0);\n                    width = this.parent.dataOperation.getTaskWidth(start, tempEnd);\n                    isFirstCell = false;\n                }\n                if (!hasDST) {\n                    var sDate = new Date(startDate);\n                    var dubDate = new Date(startDate);\n                    sDate.setDate(sDate.getDate() + 1);\n                    var sDateOffset = sDate.getTimezoneOffset();\n                    var dubDateOffset = dubDate.getTimezoneOffset();\n                    if (!isFirstExecution) {\n                        var isHourTimeline = (this.parent.timelineModule.bottomTier === 'Hour' &&\n                            this.parent.timelineModule.customTimelineSettings.bottomTier.count === 1) ||\n                            (this.parent.timelineModule.bottomTier === 'Minutes' &&\n                                this.parent.timelineModule.customTimelineSettings.bottomTier.count === 60) ||\n                            (this.parent.timelineModule.topTier === 'Hour' &&\n                                this.parent.timelineModule.customTimelineSettings.topTier.count === 1 &&\n                                this.parent.timelineModule.bottomTier === 'Minutes' &&\n                                (this.parent.timelineModule.customTimelineSettings.bottomTier.count === 30 ||\n                                    this.parent.timelineModule.customTimelineSettings.bottomTier.count === 15));\n                        if (!this.weekendWidthUpdated) {\n                            if (isHourTimeline && sDateOffset < dubDateOffset) {\n                                width = width - (this.parent.perDayWidth / 24);\n                                this.weekendWidthUpdated = true;\n                            }\n                        }\n                    }\n                    else {\n                        isFirstExecution = false;\n                    }\n                }\n                var align = this.parent.enableRtl ? \"right:\" + left + \"px;\" : \"left:\" + left + \"px;\";\n                var weekendDiv = createElement('div', {\n                    className: cls.weekend, styles: align + \" width:\" + width + \"px;height:100%;\"\n                });\n                container.appendChild(weekendDiv);\n            }\n            startDate.setDate(startDate.getDate() + 1);\n            startDate.setHours(0, 0, 0, 0);\n        } while (startDate < endDate);\n        return container;\n    };\n    NonWorkingDay.prototype.updateHolidayLabelHeight = function () {\n        var height = this.parent.getContentHeight();\n        var gantttable = document.getElementById(this.parent.element.id);\n        var toolbarHeight = 0;\n        if (!isNullOrUndefined(this.parent.toolbarModule) && !isNullOrUndefined(this.parent.toolbarModule.element)) {\n            toolbarHeight = this.parent.toolbarModule.element.offsetHeight;\n        }\n        var viewportHeight = (this.parent.height === 'auto') ? gantttable.offsetHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight :\n            this.parent.ganttHeight - toolbarHeight - this.parent.ganttChartModule.chartTimelineContainer.offsetHeight;\n        var top = (viewportHeight < height) ? viewportHeight / 2 : height / 2;\n        var labels = this.holidayContainer.querySelectorAll('.' + cls.holidayLabel);\n        for (var i = 0; i < labels.length; i++) {\n            labels[i].style.top = formatUnit(top);\n        }\n    };\n    /**\n     * Method to update height for all internal containers\n     *\n     * @returns {void} .\n     * @private\n     */\n    NonWorkingDay.prototype.updateContainerHeight = function () {\n        var height = this.parent.getContentHeight();\n        if (this.holidayContainer) {\n            this.holidayContainer.style.height = formatUnit(height);\n            this.updateHolidayLabelHeight();\n        }\n        if (this.weekendContainer) {\n            this.weekendContainer.style.height = formatUnit(height);\n        }\n    };\n    /**\n     * Method to remove containers of holiday and weekend\n     *\n     * @returns {void} .\n     */\n    NonWorkingDay.prototype.removeContainers = function () {\n        if (this.holidayContainer) {\n            remove(this.holidayContainer);\n        }\n        if (this.weekendContainer) {\n            remove(this.weekendContainer);\n            this.weekendContainer = null;\n        }\n        if (this.nonworkingContainer) {\n            remove(this.nonworkingContainer);\n            this.nonworkingContainer = null;\n        }\n    };\n    return NonWorkingDay;\n}());\nexport { NonWorkingDay };\n","import { createElement, formatUnit, remove, isNullOrUndefined, SanitizeHtmlHelper } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(gantt) {\n        this.parent = gantt;\n        this.eventMarkersContainer = null;\n    }\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.renderEventMarkers = function () {\n        if (this.parent.eventMarkers && this.parent.eventMarkers.length > 0) {\n            if (!this.parent.ganttChartModule.chartBodyContent.contains(this.eventMarkersContainer)) {\n                this.eventMarkersContainer = createElement('div', {\n                    className: cls.eventMarkersContainer\n                });\n                this.eventMarkersContainer.setAttribute('role', 'term');\n                this.parent.ganttChartModule.chartBodyContent.appendChild(this.eventMarkersContainer);\n            }\n            this.eventMarkersContainer.innerHTML = '';\n            this.getEventMarkersElements(this.eventMarkersContainer);\n        }\n        else {\n            this.removeContainer();\n        }\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.removeContainer = function () {\n        if (this.eventMarkersContainer) {\n            remove(this.eventMarkersContainer);\n            this.eventMarkersContainer = null;\n        }\n    };\n    /**\n     * Method to get event markers as html string\n     *\n     * @param {HTMLElement} container .\n     * @returns {void} .\n     */\n    EventMarker.prototype.getEventMarkersElements = function (container) {\n        var left;\n        var eventMarkerElement;\n        var spanElement;\n        var rightArrow;\n        var eventMarkerCollection = [];\n        for (var i = 0; i < this.parent.eventMarkers.length; i++) {\n            if (!isNullOrUndefined(this.parent.eventMarkers[i].day)) {\n                this.parent['isFromEventMarker'] = true;\n                left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true), false, true);\n                this.parent['isFromEventMarker'] = false;\n                eventMarkerCollection.push({ id: i, left: left, label: this.parent.eventMarkers[i].label,\n                    date: this.parent.dateValidationModule.getDateFromFormat(this.parent.eventMarkers[i].day, true) });\n                var align = void 0;\n                if (this.parent.enableRtl) {\n                    align = \"right:\" + left + \"px;\";\n                }\n                else {\n                    align = \"left:\" + left + \"px;\";\n                }\n                eventMarkerElement = createElement('div', {\n                    className: cls.eventMarkersChild, styles: align + \"  height:100%;\",\n                    id: 'stripline' + i\n                });\n                if (this.parent.eventMarkers[i].label) {\n                    spanElement = createElement('div', {\n                        className: cls.eventMarkersSpan\n                    });\n                    var property = this.parent.disableHtmlEncode ? 'textContent' : 'innerHTML';\n                    spanElement[property] = this.parent.eventMarkers[i].label;\n                    if (this.parent.enableHtmlSanitizer && typeof (spanElement[property]) === 'string') {\n                        spanElement[property] = SanitizeHtmlHelper.sanitize(spanElement[property]);\n                    }\n                    if (this.parent.enableRtl) {\n                        spanElement.style.right = '5px';\n                    }\n                    else {\n                        spanElement.style.left = '5px';\n                    }\n                    eventMarkerElement.appendChild(spanElement);\n                    rightArrow = createElement('div', {\n                        className: 'e-gantt-right-arrow'\n                    });\n                    eventMarkerElement.appendChild(rightArrow);\n                }\n                if (this.parent.eventMarkers[i].cssClass) {\n                    eventMarkerElement.classList.add(this.parent.eventMarkers[i].cssClass);\n                }\n                eventMarkerElement.setAttribute('tabindex', '-1');\n                eventMarkerElement.setAttribute('aria-label', this.parent.localeObj.getConstant('eventMarkers') + ' '\n                    + (typeof this.parent.eventMarkers[i].day === 'string' ?\n                        this.parent.eventMarkers[i].day :\n                        this.parent.getFormatedDate(this.parent.eventMarkers[i].day))\n                    + ' ' + this.parent.eventMarkers[i].label);\n                container.appendChild(eventMarkerElement);\n            }\n        }\n        this.parent.eventMarkerColloction = eventMarkerCollection;\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    EventMarker.prototype.updateContainerHeight = function () {\n        if (this.eventMarkersContainer) {\n            this.eventMarkersContainer.style.height = formatUnit(this.parent.getContentHeight());\n        }\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","import { NonWorkingDay } from '../renderer/nonworking-day';\nimport { EventMarker } from '../renderer/event-marker';\nimport { getValue } from '@syncfusion/ej2-base';\n/**\n * DayMarkers module is used to render event markers, holidays and to highlight the weekend days.\n */\nvar DayMarkers = /** @class */ (function () {\n    function DayMarkers(parent) {\n        this.parent = parent;\n        this.nonworkingDayRender = new NonWorkingDay(this.parent);\n        this.eventMarkerRender = new EventMarker(this.parent);\n        this.wireEvents();\n    }\n    DayMarkers.prototype.wireEvents = function () {\n        this.parent.on('refreshDayMarkers', this.refreshMarkers, this);\n        this.parent.on('updateHeight', this.updateHeight, this);\n        this.parent.on('ui-update', this.propertyChanged, this);\n    };\n    DayMarkers.prototype.propertyChanged = function (property) {\n        var keys = Object.keys(getValue('properties', property));\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            switch (key) {\n                case 'eventMarkers':\n                    this.eventMarkerRender.renderEventMarkers();\n                    this.updateHeight();\n                    break;\n                case 'highlightWeekends':\n                    this.nonworkingDayRender.renderWeekends();\n                    this.updateHeight();\n                    break;\n                case 'holidays':\n                    this.nonworkingDayRender.renderHolidays();\n                    this.updateHeight();\n                    break;\n            }\n        }\n    };\n    DayMarkers.prototype.refreshMarkers = function () {\n        this.nonworkingDayRender.renderWeekends();\n        this.nonworkingDayRender.renderHolidays();\n        if (this.parent.gridLines === 'Vertical' || this.parent.gridLines === 'Both') {\n            this.parent['renderChartVerticalLines']();\n        }\n        this.eventMarkerRender.renderEventMarkers();\n    };\n    DayMarkers.prototype.updateHeight = function () {\n        this.nonworkingDayRender.updateContainerHeight();\n        this.eventMarkerRender.updateContainerHeight();\n        this.parent.ganttChartModule.scrollObject.updateTopPosition();\n    };\n    /**\n     * To get module name\n     *\n     * @returns {string} .\n     */\n    DayMarkers.prototype.getModuleName = function () {\n        return 'dayMarkers';\n    };\n    /**\n     * @returns {void} .\n     * @private\n     */\n    DayMarkers.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.nonworkingDayRender.removeContainers();\n        this.eventMarkerRender.removeContainer();\n        this.parent.off('refreshDayMarkers', this.refreshMarkers);\n        this.parent.off('updateHeight', this.updateHeight);\n        this.parent.off('ui-update', this.propertyChanged);\n    };\n    return DayMarkers;\n}());\nexport { DayMarkers };\n","import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { addClass } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constants';\n/** @hidden */\nvar CriticalPath = /** @class */ (function () {\n    function CriticalPath(parent) {\n        this.validatedids = [];\n        this.resourceCollectionIds = [];\n        this.criticalTasks = [];\n        this.parent = parent;\n    }\n    CriticalPath.prototype.getCriticalTasks = function () {\n        return this.criticalTasks;\n    };\n    CriticalPath.prototype.showCriticalPath = function (isCritical) {\n        var modelIds = this.parent.ids;\n        var totalRecords = this.parent.flatData;\n        if (isCritical && this.parent.flatData.length > 0) {\n            this.parent.enableCriticalPath = true;\n            var parentRecords = this.parent.treeGrid.parentData;\n            var checkEndDate = parentRecords[0].ganttProperties.endDate;\n            var dateDifference = 0;\n            /* eslint-disable-next-line */\n            var checkBeyondEnddate_1 = [];\n            var totalPredecessorsCollection = [];\n            var totalPredecessorsCollectionId = [];\n            var predecessorIndex = 0;\n            var taskBeyondEnddate = [];\n            var predecessorTaskBeyondEnddate = [];\n            var collection = [];\n            var collectionTaskId = [];\n            var fromDataObject = [];\n            var criticalPathIds = [];\n            this.criticalTasks = [];\n            /* eslint-disable-next-line */\n            if (parentRecords[0].ganttProperties.autoEndDate > parentRecords[0].ganttProperties.endDate && !parentRecords[0].ganttProperties.isAutoSchedule) {\n                checkEndDate = parentRecords[0].ganttProperties.autoEndDate;\n            }\n            // Find the total project endDate\n            for (var i = 1; i < parentRecords.length; i++) {\n                if (parentRecords[i].ganttProperties.endDate >= checkEndDate) {\n                    checkEndDate = parentRecords[i].ganttProperties.endDate;\n                }\n                if (!parentRecords[i].ganttProperties.isAutoSchedule) {\n                    if (parentRecords[i].ganttProperties.autoEndDate >= checkEndDate) {\n                        checkEndDate = parentRecords[i].ganttProperties.autoEndDate;\n                    }\n                }\n            }\n            this.maxEndDate = checkEndDate;\n            // find the tasks that ends on total project end date that stored in checkBeyondEnddate\n            // find the tasks with predecessor that stored in totalPredecessorsCollectionId.\n            for (var j = 0; j < totalRecords.length; j++) {\n                totalRecords[j].isCritical = false;\n                totalRecords[j].ganttProperties.isCritical = false;\n                /* eslint-disable-next-line */\n                dateDifference = this.parent.dataOperation.getDuration(totalRecords[j].ganttProperties.endDate, checkEndDate, totalRecords[j].ganttProperties.durationUnit, totalRecords[j].ganttProperties.isAutoSchedule, totalRecords[j].ganttProperties.isMilestone);\n                totalRecords[j].slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                totalRecords[j].ganttProperties.slack = dateDifference + ' ' + totalRecords[j].ganttProperties.durationUnit;\n                if (totalRecords[j].ganttProperties.endDate >= checkEndDate) {\n                    checkBeyondEnddate_1.push(totalRecords[j].ganttProperties.taskId);\n                }\n                if (totalRecords[j].ganttProperties.predecessor) {\n                    if (totalRecords[j].ganttProperties.predecessor.length !== 0) {\n                        totalPredecessorsCollection.push(totalRecords[j]);\n                        totalPredecessorsCollectionId.push((totalRecords[j].ganttProperties.taskId));\n                    }\n                }\n            }\n            if (this.parent.viewType === 'ResourceView') {\n                for (var i = 0; i < this.parent.taskIds.length; i++) {\n                    this.resourceCollectionIds[i] = this.parent.taskIds[i].slice(1);\n                }\n            }\n            var _loop_1 = function (k) {\n                if (totalPredecessorsCollectionId.indexOf(checkBeyondEnddate_1[k]) === -1) {\n                    if (this_1.parent.viewType === 'ProjectView') {\n                        predecessorIndex = modelIds.indexOf(checkBeyondEnddate_1[k].toString());\n                    }\n                    else {\n                        var currentRecords = this_1.parent.currentViewData.filter(function (data) {\n                            return parseInt(data.ganttProperties.taskId, 10) === checkBeyondEnddate_1[k];\n                        });\n                        for (var i = 0; i < currentRecords.length; i++) {\n                            if (!currentRecords[i].hasChildRecords &&\n                                currentRecords[i].ganttProperties.endDate >= this_1.maxEndDate) {\n                                predecessorIndex = currentRecords[i].index;\n                            }\n                        }\n                    }\n                    if (totalRecords[predecessorIndex].ganttProperties.progress < 100) {\n                        totalRecords[predecessorIndex].isCritical = true;\n                        totalRecords[predecessorIndex].ganttProperties.isCritical = true;\n                    }\n                    totalRecords[predecessorIndex]['slack'] = 0 + ' ' + totalRecords[predecessorIndex].ganttProperties.durationUnit;\n                    taskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n                else {\n                    predecessorTaskBeyondEnddate.push(checkBeyondEnddate_1[k]);\n                }\n            };\n            var this_1 = this;\n            // seperate the predecessor connected taskes from the individual taskes that ends on total project end date\n            for (var k = 0; k < checkBeyondEnddate_1.length; k++) {\n                _loop_1(k);\n            }\n            var predecessorLength = totalPredecessorsCollection.length;\n            var endTask = [];\n            // find the detail collection of predecessor for each taskes that stored in collection.\n            for (var x = 0; x < predecessorLength; x++) {\n                var to = -1;\n                var from = -1;\n                var toPredecessor = -1;\n                var fromPredecessor = -1;\n                var tempTaskId = void 0;\n                var currentIndex = x;\n                var predecessor = totalPredecessorsCollection[x].ganttProperties.predecessor;\n                var individualPredecessorLength = totalPredecessorsCollection[x].ganttProperties.predecessor.length;\n                /* eslint-disable-next-line */\n                var taskid = ((totalPredecessorsCollection[x].ganttProperties.taskId));\n                for (var y = 0; y < individualPredecessorLength; y++) {\n                    if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].from), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].from)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].from;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (to === -1) {\n                            if (!predecessor[y].offset) {\n                                to = predecessor[y].to;\n                                toPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                to = predecessor[y].to + ':' + predecessor[y].offset + predecessor[y].offsetUnit;\n                                toPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                to = to + ',' + predecessor[y].to;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                to = to + ',' + predecessor[y].to + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                toPredecessor = toPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                    if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) !== 'string') {\n                        tempTaskId = parseInt((predecessor[y].to), 10);\n                    }\n                    else if (!isNaN(Number(predecessor[y].to)) && typeof (taskid) === 'string') {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    else {\n                        tempTaskId = predecessor[y].to;\n                    }\n                    if (tempTaskId === taskid) {\n                        if (from === -1) {\n                            if (!predecessor[y].offset) {\n                                from = predecessor[y].from;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                            else {\n                                from = predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = predecessor[y].type;\n                            }\n                        }\n                        else {\n                            if (!predecessor[y].offset) {\n                                from = from + ',' + predecessor[y].from;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                            else {\n                                from = from + ',' + predecessor[y].from + ':' + predecessor[y].offset +\n                                    predecessor[y].offsetUnit;\n                                fromPredecessor = fromPredecessor + ',' + predecessor[y].type;\n                            }\n                        }\n                    }\n                }\n                if (from === -1) {\n                    from = null;\n                    fromPredecessor = null;\n                }\n                if (to === -1) {\n                    to = null;\n                    toPredecessor = null;\n                }\n                /* eslint-disable-next-line */\n                collection.push({ from: from, fromPredecessor: fromPredecessor, taskid: taskid, to: to, toPredecessor: toPredecessor, currentIndex: currentIndex, slack: null, enddate: null });\n                collectionTaskId.push(taskid);\n            }\n            var collectionLength = collection.length;\n            var indexEnddate = 0;\n            var num = void 0;\n            // find the predecessors connected taskes that does not contains any successor.\n            for (var z = 0; z < collectionLength; z++) {\n                if (!collection[z]['to']) {\n                    num = collection[z]['taskid'];\n                    if (this.parent.viewType === 'ProjectView') {\n                        indexEnddate = modelIds.indexOf(num.toString());\n                    }\n                    else {\n                        indexEnddate = this.resourceCollectionIds.indexOf(num.toString());\n                    }\n                    var flatData = totalRecords[indexEnddate].ganttProperties;\n                    dateDifference = this.parent.dataOperation.getDuration(flatData.endDate, checkEndDate, 'minute', flatData.isAutoSchedule, flatData.isMilestone);\n                    collection[z]['slack'] = dateDifference;\n                    collection[z]['fs'] = -1;\n                    collection[z]['enddate'] = flatData.endDate;\n                    endTask.push({\n                        fromdata: collection[z]['from'], todateID: collection[z]['taskid'],\n                        fromDataPredecessor: collection[z]['fromPredecessor']\n                    });\n                }\n            }\n            for (var k = 0; k < endTask.length; k++) {\n                fromDataObject.push(endTask[k]);\n                this.slackCalculation(fromDataObject, collection, collectionTaskId, checkEndDate, totalRecords, modelIds);\n            }\n            criticalPathIds = this.finalCriticalPath(collection, taskBeyondEnddate, totalRecords, modelIds, checkEndDate);\n            this.validatedids = [];\n            this.criticalPathCollection = criticalPathIds;\n            this.detailPredecessorCollection = collection;\n            this.predecessorCollectionTaskIds = collectionTaskId;\n        }\n        if (isCritical === false && this.parent.flatData.length > 0) {\n            var pathIndex = void 0;\n            this.parent.enableCriticalPath = false;\n            for (var z = 0; z < this.criticalPathCollection.length; z++) {\n                pathIndex = modelIds.indexOf(this.criticalPathCollection[z].toString());\n                totalRecords[pathIndex].isCritical = false;\n            }\n            this.criticalPathCollection = [];\n            this.detailPredecessorCollection = [];\n            this.predecessorCollectionTaskIds = [];\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.slackCalculation = function (fromDataObject, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds) {\n        var fromDateArray = fromDataObject[0]['fromdata'].split(',');\n        var fromDataPredecessor = fromDataObject[0]['fromDataPredecessor'].split(',');\n        collectionTaskId = collectionTaskId.toString();\n        collectionTaskId = collectionTaskId.split(',');\n        var fromDateArray1 = [];\n        var fromTaskIdIndex;\n        var indexFromTaskId;\n        var indexToTaskId;\n        var totaskId;\n        var dateDifference;\n        var prevTaskEnddate;\n        var offsetInMillSec;\n        var ffslack;\n        for (var i = 0; i < fromDateArray.length; i++) {\n            fromDateArray1 = fromDateArray[i].split(':');\n            fromTaskIdIndex = collectionTaskId.indexOf((fromDateArray1[0].toString()));\n            totaskId = collectionTaskId.indexOf((fromDataObject[0]['todateID'].toString()));\n            if (this.parent.viewType === 'ProjectView') {\n                indexFromTaskId = modelRecordIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = modelRecordIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            else {\n                indexFromTaskId = this.resourceCollectionIds.indexOf(fromDateArray1[0].toString());\n                indexToTaskId = this.resourceCollectionIds.indexOf(fromDataObject[0]['todateID'].toString());\n            }\n            var fromIdFlatData = void 0;\n            if (indexFromTaskId !== -1) {\n                fromIdFlatData = flatRecords[indexFromTaskId].ganttProperties;\n            }\n            var toIdFlatData = flatRecords[indexToTaskId].ganttProperties;\n            if (fromDateArray1.length > 1) {\n                if (fromDateArray1[1].indexOf('hour') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * 60;\n                }\n                else if (fromDateArray1[1].indexOf('day') !== -1) {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]) * (this.parent.secondsPerDay / 3600) * 60;\n                }\n                else {\n                    offsetInMillSec = parseFloat(fromDateArray1[1]);\n                }\n            }\n            if (fromIdFlatData && fromTaskIdIndex !== -1) {\n                // calculate slack value for the task contains predecessor connection in \"finish to start\".\n                if (fromDataPredecessor[i] === 'FS') {\n                    if (fromIdFlatData.endDate > toIdFlatData.startDate) {\n                        dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.startDate, fromIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                    }\n                    else {\n                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.endDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                    }\n                    // execute if the slack value is not set initially.\n                    if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the current calculated slack value is less than the previous slack value.\n                    else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                        collection[fromTaskIdIndex]['slack'] !== 0) {\n                        // execute if the offset value is not given.\n                        if (fromDateArray1.length <= 1) {\n                            if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                            else {\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            }\n                        }\n                    }\n                    // execute if the offset value is given.\n                    if (fromDateArray1.length > 1) {\n                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                        collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                        if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                            collection[fromTaskIdIndex]['slack'] = 0;\n                        }\n                    }\n                    collection[fromTaskIdIndex]['fs'] = 1;\n                    collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                    collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    if (fromIdFlatData.endDate >= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to start\".\n                if (fromDataPredecessor[i] === 'SS') {\n                    // It execute if the task is in auto mode.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        if (fromIdFlatData.startDate > toIdFlatData.startDate) {\n                            dateDifference = -(this.parent.dataOperation.getDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                        }\n                        else {\n                            dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.startDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                        }\n                        // It execute while the slack value is not set to the corresponding task.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        //It execute while already the slack value is set and it is higher than the datedifference.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            if (fromDateArray1.length <= 1) {\n                                if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['fs'] = 1;\n                        collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                        collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                    }\n                    // It execute if the task is in not an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference &&\n                            collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"finish to finish\".\n                if (fromDataPredecessor[i] === 'FF') {\n                    // execute if the previous task is from finish to start or finish to finish state.\n                    if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1 ||\n                        collection[totaskId]['fs'] === -1) {\n                        if (collection[totaskId]['fs'] === 1 || collection[totaskId]['ff'] === 1) {\n                            prevTaskEnddate = toIdFlatData.endDate;\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (collection[totaskId]['fs'] === -1) {\n                            prevTaskEnddate = collection[totaskId]['enddate'];\n                            ffslack = collection[totaskId]['slack'];\n                        }\n                        if (prevTaskEnddate > fromIdFlatData.endDate) {\n                            dateDifference = -(this.getSlackDuration(fromIdFlatData.endDate, prevTaskEnddate, 'minute', flatRecords[indexFromTaskId]));\n                        }\n                        else {\n                            dateDifference = this.getSlackDuration(prevTaskEnddate, fromIdFlatData.endDate, 'minute', flatRecords[indexFromTaskId]);\n                        }\n                        // set the slack value if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // overright the slack value if the current calculated slack value is less than the previous slack value.\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                if (ffslack - dateDifference < 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                                else {\n                                    collection[fromTaskIdIndex]['slack'] = ffslack - dateDifference;\n                                }\n                            }\n                        }\n                        // execute if the offset value is given.\n                        if (fromDateArray1.length > 1) {\n                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] - dateDifference;\n                            collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                            if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                collection[fromTaskIdIndex]['slack'] = 0;\n                            }\n                        }\n                        collection[fromTaskIdIndex]['ff'] = 1;\n                        collection[fromTaskIdIndex]['enddate'] = prevTaskEnddate;\n                        collection[fromTaskIdIndex]['fsslack'] = ffslack;\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                //  calculate slack value for the task contains predecessor connection in \"start to finish\".\n                if (fromDataPredecessor[i] === 'SF') {\n                    //It execute if the task is an auto mode task.\n                    if (fromIdFlatData.isAutoSchedule) {\n                        //execute if the slack value is not set initially.\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            // execute if the offset value is not given.\n                            if (fromDateArray1.length <= 1) {\n                                // execute if the previous task does no has sucessor.\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                    collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                }\n                                // execute if the previous task has sucessor.\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                    if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                    else {\n                                        collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    }\n                                }\n                            }\n                            // execute if the offset value is given.\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate >= fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                    collection[fromTaskIdIndex]['slack'] = 0;\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                        else {\n                            if (fromDateArray1.length <= 1) {\n                                if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                    if (toIdFlatData.endDate > fromIdFlatData.startDate) {\n                                        dateDifference = -(this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone));\n                                    }\n                                    else {\n                                        dateDifference = this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]);\n                                    }\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    if (isNullOrUndefined(collection[totaskId]['to'])) {\n                                        collection[fromTaskIdIndex]['slack'] = dateDifference;\n                                    }\n                                    else if (!isNullOrUndefined(collection[totaskId]['to'])) {\n                                        if (collection[totaskId]['slack'] + dateDifference <= 0) {\n                                            collection[fromTaskIdIndex]['slack'] = 0;\n                                        }\n                                        else {\n                                            collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                        }\n                                    }\n                                }\n                            }\n                            else if (fromDateArray1.length > 1) {\n                                if (toIdFlatData.endDate > fromIdFlatData.endDate) {\n                                    if (fromIdFlatData.startDate > toIdFlatData.endDate) {\n                                        dateDifference = -(this.getSlackDuration(toIdFlatData.endDate, fromIdFlatData.startDate, 'minute', flatRecords[indexFromTaskId]));\n                                    }\n                                    else {\n                                        dateDifference = this.parent.dataOperation.getDuration(fromIdFlatData.startDate, toIdFlatData.endDate, 'minute', fromIdFlatData.isAutoSchedule, fromIdFlatData.isMilestone);\n                                    }\n                                }\n                                else {\n                                    dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                                }\n                                // execute if the current calculated slack value is less than the previous slack value.\n                                if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                                    collection[fromTaskIdIndex]['slack'] = collection[totaskId]['slack'] + dateDifference;\n                                    collection[fromTaskIdIndex]['slack'] = collection[fromTaskIdIndex]['slack'] - (offsetInMillSec);\n                                    if (collection[fromTaskIdIndex]['slack'] <= 0) {\n                                        collection[fromTaskIdIndex]['slack'] = 0;\n                                    }\n                                }\n                            }\n                            collection[fromTaskIdIndex]['fs'] = 1;\n                            collection[fromTaskIdIndex]['fsslack'] = collection[fromTaskIdIndex]['slack'];\n                            collection[fromTaskIdIndex]['enddate'] = fromIdFlatData.startDate;\n                        }\n                    }\n                    //It execute if the task is an auto mode task.\n                    else if (!fromIdFlatData.isAutoSchedule) {\n                        dateDifference = this.getSlackDuration(fromIdFlatData.endDate, checkEndDate, 'minute', flatRecords[indexFromTaskId]);\n                        if (isNullOrUndefined(collection[fromTaskIdIndex]['slack'])) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                        else if (collection[fromTaskIdIndex]['slack'] > dateDifference && collection[fromTaskIdIndex]['slack'] !== 0) {\n                            collection[fromTaskIdIndex]['slack'] = dateDifference;\n                        }\n                    }\n                    if (fromIdFlatData.endDate >= checkEndDate && fromIdFlatData.endDate <= checkEndDate) {\n                        collection[fromTaskIdIndex]['slack'] = 0;\n                    }\n                }\n                if (collection[fromTaskIdIndex]['from']) {\n                    var data = [];\n                    data.push({\n                        fromdata: collection[fromTaskIdIndex]['from'], todateID: collection[fromTaskIdIndex]['taskid'],\n                        fromDataPredecessor: collection[fromTaskIdIndex]['fromPredecessor']\n                    });\n                    this.slackCalculation(data, collection, collectionTaskId, checkEndDate, flatRecords, modelRecordIds);\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getSlackDuration = function (sDate, eDate, durationUnit, record) {\n        var startDate = this.parent.dateValidationModule.checkStartDate(new Date(sDate));\n        var endDate = this.parent.dateValidationModule.checkEndDate(new Date(eDate));\n        if (this.parent.dataOperation['getTimeDifference'](startDate, endDate, true) <= 0) {\n            return 0;\n        }\n        else {\n            return this.parent.dataOperation.getDuration(startDate, endDate, durationUnit, record.ganttProperties.isAutoSchedule, true);\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.updateCriticalTasks = function (record, criticalPathIds) {\n        for (var i = 0; i < record.ganttProperties.predecessor.length; i++) {\n            var fromRecord = void 0;\n            if (this.parent.viewType === 'ProjectView') {\n                fromRecord = this.parent.getRecordByID(record.ganttProperties.predecessor[i].from);\n            }\n            else {\n                var resourceIndex = this.resourceCollectionIds.indexOf(record.ganttProperties.predecessor[i].from.toString());\n                fromRecord = this.parent.flatData[resourceIndex];\n            }\n            var durationDiff = void 0;\n            if (record.ganttProperties.endDate && record.ganttProperties.endDate.getTime() >= this.maxEndDate.getTime()) {\n                record.ganttProperties.slack = record.slack = 0 + ' ' + record.ganttProperties.durationUnit;\n                if (record.ganttProperties.progress < 100) {\n                    record.isCritical = true;\n                    record.ganttProperties.isCritical = true;\n                    if (criticalPathIds.indexOf(record.ganttProperties.taskId) === -1) {\n                        criticalPathIds.push(record.ganttProperties.taskId);\n                    }\n                }\n            }\n            if (fromRecord) {\n                if (record.ganttProperties.predecessor[i].type === 'FS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SS') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.startDate, record.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'FF') {\n                    durationDiff = this.parent.dataOperation.getDuration(fromRecord.ganttProperties.endDate, record.ganttProperties.endDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                else if (record.ganttProperties.predecessor[i].type === 'SF') {\n                    durationDiff = this.parent.dataOperation.getDuration(record.ganttProperties.endDate, fromRecord.ganttProperties.startDate, fromRecord.ganttProperties.durationUnit, fromRecord.ganttProperties.isAutoSchedule, true);\n                }\n                if (durationDiff >= 0 && this.validatedids.indexOf(parseInt(fromRecord.ganttProperties.taskId, 10)) === -1 &&\n                    fromRecord.ganttProperties.taskId !== record.ganttProperties.taskId) {\n                    fromRecord.ganttProperties.slack = record.ganttProperties.slack;\n                    fromRecord.slack = record.slack;\n                    fromRecord.isCritical = record.ganttProperties.isCritical;\n                    fromRecord.ganttProperties.isCritical = record.ganttProperties.isCritical;\n                    if (criticalPathIds.indexOf(fromRecord.ganttProperties.taskId) === -1 && fromRecord.ganttProperties.isCritical &&\n                        fromRecord.ganttProperties.progress < 100) {\n                        criticalPathIds.push(fromRecord.ganttProperties.taskId);\n                        this.validatedids.push(parseInt(fromRecord.ganttProperties.taskId, 10));\n                        if (this.criticalTasks.indexOf(fromRecord) === -1) {\n                            this.criticalTasks.push(fromRecord);\n                        }\n                    }\n                    if (fromRecord.ganttProperties.predecessorsName) {\n                        this.updateCriticalTasks(fromRecord, criticalPathIds);\n                    }\n                }\n            }\n        }\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.finalCriticalPath = function (collection, taskBeyondEnddate, flatRecords, modelRecordIds, checkEndDate) {\n        /* eslint-disable-next-line */\n        var criticalPathIds = [];\n        var index;\n        var predecessorFrom;\n        for (var x = collection.length - 1; x >= 0; x--) {\n            if (this.parent.viewType === 'ProjectView') {\n                index = modelRecordIds.indexOf(collection[x]['taskid'].toString());\n            }\n            else {\n                index = this.resourceCollectionIds.indexOf(collection[x]['taskid'].toString());\n            }\n            var predecessorLength = flatRecords[index].ganttProperties.predecessor;\n            var noSlackValue = 0 + ' ' + flatRecords[index].ganttProperties.durationUnit;\n            if (predecessorLength && predecessorLength.length > 0) {\n                for (var i = predecessorLength.length - 1; i >= 0; i--) {\n                    var toID = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        toID = this.parent.ids.indexOf(predecessorLength[i].to);\n                    }\n                    else {\n                        toID = this.resourceCollectionIds.indexOf(predecessorLength[i].to);\n                    }\n                    var dateDifference = void 0;\n                    var currentData = flatRecords[index].ganttProperties;\n                    if (toID !== -1) {\n                        if (predecessorLength[i].type === 'FS') {\n                            if (predecessorLength[i].to !== currentData.taskId.toString()) {\n                                if (predecessorLength[i].to !== currentData.taskId.toString() || this.parent.viewType === 'ResourceView') {\n                                    /* eslint-disable-next-line */\n                                    dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                }\n                                else {\n                                    toID = this.parent.ids.indexOf(predecessorLength[i].from);\n                                    if (toID !== -1) {\n                                        dateDifference = this.parent.dataOperation.getDuration(flatRecords[toID].ganttProperties.endDate, currentData.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                                        if (dateDifference === 0 && index !== toID && flatRecords[index].slack === noSlackValue) {\n                                            flatRecords[toID].slack = flatRecords[index].slack;\n                                            flatRecords[toID].ganttProperties.slack = flatRecords[index].slack;\n                                        }\n                                    }\n                                }\n                                if (toID !== -1) {\n                                    if (dateDifference === 0 && index !== toID && flatRecords[index].slack !== noSlackValue) {\n                                        flatRecords[index].slack = flatRecords[toID].slack;\n                                        flatRecords[index].ganttProperties.slack = flatRecords[toID].slack;\n                                    }\n                                    else if (dateDifference !== 0 && index !== toID && flatRecords[toID].isCritical) {\n                                        flatRecords[index].slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                        flatRecords[index].ganttProperties.slack = dateDifference + ' ' + flatRecords[index].ganttProperties.durationUnit;\n                                    }\n                                }\n                            }\n                        }\n                        else if (predecessorLength[i].type === 'SF') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else if (predecessorLength[i].type === 'SS') {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.startDate, flatRecords[toID].ganttProperties.startDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        else {\n                            /* eslint-disable-next-line */\n                            dateDifference = this.parent.dataOperation.getDuration(currentData.endDate, flatRecords[toID].ganttProperties.endDate, currentData.durationUnit, currentData.isAutoSchedule, currentData.isMilestone);\n                        }\n                        if (typeof (flatRecords[index][this.parent.taskFields.id]) === 'number') {\n                            predecessorFrom = parseInt(predecessorLength[i].from, 10);\n                        }\n                        else {\n                            predecessorFrom = predecessorLength[i].from;\n                        }\n                        if (predecessorFrom === flatRecords[index][this.parent.taskFields.id] &&\n                            flatRecords[toID].slack === noSlackValue && dateDifference <= 0) {\n                            flatRecords[index].slack = noSlackValue;\n                            flatRecords[index].ganttProperties.slack = noSlackValue;\n                        }\n                    }\n                }\n            }\n            if (flatRecords[index].slack === noSlackValue) {\n                if (flatRecords[index].ganttProperties.progress < 100) {\n                    flatRecords[index].isCritical = true;\n                    flatRecords[index].ganttProperties.isCritical = true;\n                    if (this.criticalTasks.indexOf(flatRecords[index]) === -1) {\n                        this.criticalTasks.push(flatRecords[index]);\n                    }\n                    if (criticalPathIds.indexOf(collection[x]['taskid']) === -1) {\n                        criticalPathIds.push(collection[x]['taskid']);\n                    }\n                }\n            }\n            if (flatRecords[index].ganttProperties.predecessor &&\n                flatRecords[index].ganttProperties.predecessor.length > 0) {\n                this.updateCriticalTasks(flatRecords[index], criticalPathIds);\n            }\n        }\n        if (taskBeyondEnddate.length > 0) {\n            for (var i = 0; i < taskBeyondEnddate.length; i++) {\n                if (this.parent.viewType === 'ProjectView') {\n                    index = modelRecordIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                else {\n                    index = this.resourceCollectionIds.indexOf(taskBeyondEnddate[i].toString());\n                }\n                if (index !== -1 && flatRecords[index].ganttProperties.progress < 100) {\n                    this.criticalTasks.push(flatRecords[index]);\n                    if (criticalPathIds.indexOf(taskBeyondEnddate[i]) === -1) {\n                        criticalPathIds = criticalPathIds.concat(taskBeyondEnddate[i]);\n                    }\n                }\n            }\n        }\n        return criticalPathIds;\n    };\n    /* eslint-disable-next-line */\n    CriticalPath.prototype.criticalConnectorLine = function (criticalPathIds, collection, condition, collectionTaskId) {\n        this.parent.removeCriticalPathStyles();\n        var _loop_2 = function (i) {\n            var criticalData;\n            if (this_2.parent.viewType === 'ProjectView') {\n                criticalData = this_2.parent.flatData[this_2.parent.ids.indexOf(criticalPathIds[i].toString())];\n            }\n            else {\n                var currentRecords = this_2.parent.flatData.filter(function (data) {\n                    return (data.ganttProperties.taskId).toString() === criticalPathIds[i].toString();\n                });\n                for (var i_1 = 0; i_1 < currentRecords.length; i_1++) {\n                    if (currentRecords[i_1].ganttProperties.isCritical ||\n                        currentRecords[i_1].ganttProperties.endDate >= this_2.maxEndDate) {\n                        criticalData = currentRecords[i_1];\n                    }\n                }\n            }\n            var index = this_2.parent.currentViewData.indexOf(criticalData);\n            var element = this_2.parent.getRowByIndex(index);\n            var taskClass = void 0;\n            var columnFields = this_2.parent.taskFields;\n            if (criticalData && criticalData.parentItem) {\n                var parentRecord = this_2.parent.currentViewData.filter(function (data) {\n                    return criticalData.parentItem.uniqueID === data.uniqueID;\n                });\n                var parentIndex = this_2.parent.flatData.indexOf(parentRecord[0]);\n                var parentElement = this_2.parent.getRowByIndex(parentIndex);\n                if (parentElement) {\n                    var parentTaskbarElement = parentElement.querySelectorAll('.e-taskbar-main-container');\n                    for (var i_2 = 0; i_2 < parentTaskbarElement.length; i_2++) {\n                        if (parentTaskbarElement[i_2].getAttribute('rowuniqueid') === criticalData['rowUniqueID']) {\n                            addClass(parentTaskbarElement[i_2].querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                        }\n                    }\n                }\n            }\n            /* eslint-disable-next-line */\n            if (this_2.parent.allowUnscheduledTasks && criticalData && !criticalData[columnFields.startDate] && !criticalData[columnFields.endDate] && criticalData[columnFields.duration]) {\n                taskClass = cls.criticalUnscheduledTask;\n            }\n            else {\n                taskClass = cls.criticalChildProgressBarInnerDiv;\n            }\n            if (element && (this_2.parent.viewType === 'ProjectView' || (this_2.parent.viewType === 'ResourceView' &&\n                !criticalData.hasChildRecords))) {\n                if (element.getElementsByClassName('e-gantt-milestone')[0]) {\n                    addClass(element.querySelectorAll('.e-gantt-milestone'), cls.criticalMilestone);\n                }\n                if (element.getElementsByClassName('e-gantt-child-taskbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-taskbar-inner-div'), cls.criticalChildTaskBarInnerDiv);\n                }\n                if (element.getElementsByClassName('e-gantt-child-progressbar-inner-div').length > 0) {\n                    addClass(element.querySelectorAll('.e-gantt-child-progressbar-inner-div'), taskClass);\n                }\n            }\n        };\n        var this_2 = this;\n        for (var i = 0; i < criticalPathIds.length; i++) {\n            _loop_2(i);\n        }\n        if (collection.length !== 0) {\n            var index = 0;\n            var currentdata = void 0;\n            var checking = [];\n            /* eslint-disable-next-line */\n            var checkint = void 0;\n            var values = void 0;\n            for (var i = 0; i < this.criticalPathCollection.length; i++) {\n                index = collectionTaskId.indexOf(this.criticalPathCollection[i]);\n                currentdata = collection[index];\n                if (index !== -1 && currentdata['to']) {\n                    checking = currentdata['to'].split(',');\n                    for (var j = 0; j < checking.length; j++) {\n                        values = checking[j].split('+');\n                        if (checking[j].indexOf('-') >= 0) {\n                            values = checking[j].split('-');\n                        }\n                        checkint = (values[0].replace(':', ''));\n                        if (typeof (criticalPathIds[j]) === 'number') {\n                            checkint = parseInt(values[0], 10);\n                        }\n                        if (criticalPathIds.indexOf(checkint) !== -1) {\n                            var taskIdString = String(currentdata['taskid']);\n                            var checkintString = String(checkint);\n                            var lineElement = this.parent.element.querySelectorAll('#ConnectorLineparent' +\n                                taskIdString.replace(/([.])/g, '\\\\$1') + 'child' + checkintString.replace(/([.])/g, '\\\\$1'));\n                            if (lineElement.length > 0) {\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line'), cls.criticalConnectorLineSVG);\n                                addClass(this.parent.element.querySelectorAll('#ConnectorLineparent' + taskIdString.replace(/([.])/g, '\\\\$1') + 'child' +\n                                    checkintString.replace(/([.])/g, '\\\\$1'))[0].querySelectorAll('.e-connector-line-arrow'), cls.criticalConnectorArrowSVG);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    CriticalPath.prototype.getModuleName = function () {\n        return 'criticalPath';\n    };\n    /**\n     * Destroys the Critical Path of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    CriticalPath.prototype.destroy = function () {\n        if (!this.parent.enableCriticalPath && this.parent.criticalPathModule) {\n            this.parent.criticalPathModule = undefined;\n        }\n    };\n    return CriticalPath;\n}());\nexport { CriticalPath };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar UndoRedo = /** @class */ (function () {\n    function UndoRedo(parent) {\n        this.isUndoRedoPerformed = false;\n        this.changedRecords = [];\n        this.getRedoCollection = [];\n        this.getUndoCollection = [];\n        this.redoEnabled = false;\n        this.previousSortedColumns = [];\n        this.searchString = '';\n        this.isFromUndoRedo = false;\n        this.canUpdateIndex = true;\n        this.sortedColumnsLength = 0;\n        this.parent = parent;\n    }\n    /**\n     *Initiates an undo action to revert the most recent change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.undoAction = function () {\n        var _this = this;\n        if (this.getUndoCollection.length > 0) {\n            var updateAction_1 = this.getUndoCollection[this.getUndoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = this.previousSortedColumns;\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction_1['filteredColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['toColumn'] = updateAction_1['fromColumn'];\n                previousActions['fromColumn'] = updateAction_1['toColumn'];\n                previousActions['fromIndex'] = updateAction_1['toIndex'];\n                previousActions['toIndex'] = updateAction_1['fromIndex'];\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['searchString'] = this.searchString;\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['showhideColumns'] = updateAction_1['showhideColumns'];\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]);\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction_1['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction_1['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction_1['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction_1['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction_1['action'];\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deleteRecords'] = [];\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    previousActions['deleteRecords'].push(updateAction_1['deletedRecordsDetails'][i].data);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['deletedRecordsDetails'] = [];\n                var rowItems = updateAction_1['addedRecords'];\n                this.findPosition(rowItems, previousActions, 'deletedRecordsDetails');\n            }\n            else {\n                previousActions['action'] = updateAction_1['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction_1['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction_1['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction_1['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction_1['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getRedoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.changedRecords = [];\n            this.currentAction = updateAction_1;\n            if (updateAction_1['action'] === 'ZoomIn' || updateAction_1['action'] === 'ZoomOut' || updateAction_1['action'] === 'ZoomToFit') {\n                this.parent.timelineSettings.timelineViewMode = updateAction_1['previousZoomingLevel'].timelineViewMode;\n                this.parent.timelineSettings.timelineUnitSize = updateAction_1['previousZoomingLevel'].timelineUnitSize;\n                this.parent.timelineSettings.updateTimescaleView = updateAction_1['previousZoomingLevel'].updateTimescaleView;\n                this.parent.timelineSettings.topTier.unit = updateAction_1['previousZoomingLevel'].topTier.unit;\n                this.parent.timelineSettings.topTier.count = updateAction_1['previousZoomingLevel'].topTier.count;\n                this.parent.timelineSettings.topTier.format = updateAction_1['previousZoomingLevel'].topTier.format;\n                this.parent.timelineSettings.bottomTier.unit = updateAction_1['previousZoomingLevel'].bottomTier.unit;\n                this.parent.timelineSettings.bottomTier.count = updateAction_1['previousZoomingLevel'].bottomTier.count;\n                this.parent.timelineSettings.bottomTier.format = updateAction_1['previousZoomingLevel'].bottomTier.format;\n                this.parent.timelineSettings.weekStartDay = updateAction_1['previousZoomingLevel'].weekStartDay;\n                this.parent.timelineSettings.weekendBackground = updateAction_1['previousZoomingLevel'].weekendBackground;\n                if (updateAction_1['action'] === 'ZoomToFit') {\n                    this.parent.timelineModule.refreshTimeline();\n                }\n            }\n            else if (updateAction_1['action'] === 'NextTimeSpan' || updateAction_1['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction_1['previousTimelineStartDate'], updateAction_1['previousTimelineEndDate'], false);\n            }\n            else if (updateAction_1['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction_1['sortColumns'].length > 0) {\n                    for (var i = 0; i < updateAction_1['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction_1['sortColumns'][i]['field'], updateAction_1['sortColumns'][i]['direction'], i > 0 ? true : false);\n                    }\n                }\n                else {\n                    this.parent.clearSorting();\n                }\n            }\n            else if (updateAction_1['action'] === 'Filtering') {\n                this.isFromUndoRedo = true;\n                for (var i = this.getUndoCollection.length - 1; i >= 0; i--) {\n                    if (this.getUndoCollection[i]['filteredColumns']) {\n                        var columnsArray = [];\n                        for (var j = 0; j < this.getUndoCollection[i]['filteredColumns'].length; j++) {\n                            columnsArray.push(this.getUndoCollection[i]['filteredColumns'][j].field);\n                        }\n                        this.parent.clearFiltering(columnsArray);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction_1['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction_1['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction_1['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction_1['searchString']);\n            }\n            else if (updateAction_1['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction_1['showhideColumns'].length; i++) {\n                    if (updateAction_1['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction_1['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction_1['resizedColumn'].index]['width'] = updateAction_1['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction_1['action'] === 'RowDragAndDrop' || updateAction_1['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction_1['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction_1['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction_1['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction_1['beforeDrop'][i].position);\n                    this.parent.updateRecordByID(updateAction_1['beforeDrop'][i].data);\n                    if (updateAction_1['afterDrop'].dropPosition === 'child') {\n                        this.parent.updateRecordByID(updateAction_1['afterDrop'].dropRecord);\n                    }\n                }\n            }\n            else if (updateAction_1['action'] === 'Indent' || updateAction_1['action'] === 'Outdent') {\n                this.parent.selectRow(this.parent.ids.indexOf(updateAction_1['modifiedRecord'][0].data.ganttProperties.taskId.toString()));\n                if (updateAction_1['action'] === 'Indent') {\n                    this.parent.outdent();\n                }\n                else {\n                    this.parent.indent();\n                }\n                setTimeout(function () {\n                    _this.isUndoRedoPerformed = true;\n                    _this.parent.updateRecordByID(updateAction_1['droppedRecord']);\n                    _this.isUndoRedoPerformed = false;\n                });\n            }\n            else if (updateAction_1['action'] === 'Delete') {\n                var rowIndex = void 0;\n                for (var i = 0; i < updateAction_1['deletedRecordsDetails'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowIndex = this.parent.ids.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    else {\n                        rowIndex = this.parent.taskIds.indexOf(updateAction_1['deletedRecordsDetails'][i].id.toString());\n                    }\n                    var position = void 0;\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'above') {\n                        position = 'Above';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'below') {\n                        position = 'Below';\n                    }\n                    if (updateAction_1['deletedRecordsDetails'][i].position === 'child') {\n                        position = 'Child';\n                    }\n                    if (isNullOrUndefined(position)) {\n                        position = updateAction_1['deletedRecordsDetails'][i].position.replace(/^./, function (char) { return char.toUpperCase(); });\n                    }\n                    this.parent.addRecord(updateAction_1['deletedRecordsDetails'][i].data, position, rowIndex);\n                }\n            }\n            else if (updateAction_1['action'] === 'Add') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                var deleteRec = updateAction_1['addedRecords'];\n                if (this.parent.viewType === 'ResourceView' && updateAction_1['addedRecords'].length === 1 && updateAction_1['addedRecords'][0].parentItem) {\n                    var parentRec = this.parent.getTaskByUniqueID(updateAction_1['addedRecords'][0].parentItem.uniqueID);\n                    if (parentRec.childRecords.length === 1 && parentRec.ganttProperties.taskName === 'Unassigned Task') {\n                        deleteRec = parentRec;\n                    }\n                }\n                this.parent.deleteRecord(deleteRec);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else {\n                this.parent.updateRecordByID(this.getUndoCollection[this.getUndoCollection.length - 1]['modifiedRecords'][0]);\n                if (updateAction_1['connectedRecords'] && this.parent.viewType === 'ProjectView') {\n                    for (var i = 0; i < updateAction_1['connectedRecords'].length; i++) {\n                        this.parent.updateRecordByID(updateAction_1['connectedRecords'][i]);\n                    }\n                }\n            }\n            var args = {};\n            args = extend([], [], [this.getUndoCollection[this.getUndoCollection.length - 1]], true)[0];\n            args['requestType'] = 'afterUndoAction';\n            this.parent.trigger('onAfterUndo', args);\n            this.isUndoRedoPerformed = false;\n            if (this.getRedoCollection.length > 0) {\n                if (this.parent.toolbarModule) {\n                    this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], true);\n                }\n                this.redoEnabled = true;\n            }\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n        else {\n            this.getUndoCollection.splice(this.getUndoCollection.length - 1, 1);\n            if (this.getUndoCollection.length === 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], false);\n            }\n        }\n    };\n    /**\n     *Initiates an redo action to reapply the most recent undone change performed.\n     *\n     * @returns {void}\n     * @public\n     */\n    UndoRedo.prototype.redoAction = function () {\n        if (this.getRedoCollection.length > 0) {\n            var updateAction = this.getRedoCollection[this.getRedoCollection.length - 1];\n            var previousActions = {};\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousZoomingLevel'] = extend({}, {}, this.parent.currentZoomingLevel, true);\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['previousTimelineStartDate'] = extend([], [this.parent.timelineModule.timelineStartDate], [], true)[0];\n                previousActions['previousTimelineEndDate'] = extend([], [this.parent.timelineModule.timelineEndDate], [], true)[0];\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                previousActions['action'] = 'Sorting';\n                previousActions['sortColumns'] = extend([], this.parent.sortSettings.columns, [], true);\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                previousActions['action'] = 'Filtering';\n                previousActions['filteredColumns'] = updateAction['filteredColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['toColumn'] = updateAction['fromColumn'];\n                previousActions['fromColumn'] = updateAction['toColumn'];\n                previousActions['fromIndex'] = updateAction['toIndex'];\n                previousActions['toIndex'] = updateAction['fromIndex'];\n            }\n            else if (updateAction['action'] === 'Search') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['searchString'] = extend([], [this.parent.searchSettings.key], [], true)[0];\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['showhideColumns'] = updateAction['showhideColumns'];\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                previousActions['action'] = updateAction['action'];\n                previousActions['resizedColumn'] = __assign({}, this.parent.treeGrid.columns[updateAction['resizedColumn'].index]);\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                var rowItems = [];\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        rowItems.push(this.parent.getRecordByID(updateAction['beforeDrop'][i]['data'].ganttProperties.taskId));\n                    }\n                    else {\n                        rowItems.push(this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['beforeDrop'][i]['data'].ganttProperties.taskId.toString())]);\n                    }\n                }\n                previousActions['action'] = updateAction['action'];\n                previousActions['beforeDrop'] = [];\n                var previousDetails = {};\n                var dropRecord = void 0;\n                if (updateAction['afterDrop'].dropRecord) {\n                    dropRecord = extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].dropRecord.ganttProperties.taskId)], true)[0];\n                }\n                previousDetails['data'] = [];\n                for (var i = 0; i < updateAction['afterDrop'].data.length; i++) {\n                    if (this.parent.viewType === 'ProjectView') {\n                        previousDetails['data'].push(extend([], [], [this.parent.getRecordByID(updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                    }\n                    else {\n                        if (updateAction['afterDrop'].data[i] !== undefined) {\n                            previousDetails['data'].push(extend([], [], this.parent.flatData[this.parent.taskIds.indexOf('T' + updateAction['afterDrop'].data[i].ganttProperties.taskId)], true)[0]);\n                        }\n                    }\n                }\n                previousDetails['dropRecord'] = extend([], [], [dropRecord], true)[0];\n                previousDetails['dropPosition'] = updateAction['afterDrop'].dropPosition;\n                previousActions['afterDrop'] = previousDetails;\n                this['findPosition'](rowItems, previousActions, 'beforeDrop');\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                previousActions['selectedRowIndexes'] = updateAction['selectedRowIndexes'];\n                previousActions['droppedRecord'] = extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['droppedRecord'].ganttProperties.taskId.toString())]], true)[0];\n                previousActions['modifiedRecord'] = [];\n                this.findPosition(extend([], [], [this.parent.flatData[this.parent.ids.indexOf(updateAction['modifiedRecord'][0].data.ganttProperties.taskId.toString())]], true), previousActions, 'modifiedRecord');\n                previousActions['action'] = updateAction['action'];\n            }\n            else if (updateAction['action'] === 'Delete') {\n                previousActions['action'] = 'Delete';\n                previousActions['deletedRecordsDetails'] = [];\n                this['findPosition'](extend([], [], updateAction['deleteRecords'], true), previousActions, 'deletedRecordsDetails');\n            }\n            else if (updateAction['action'] === 'Add') {\n                previousActions['action'] = 'Add';\n                previousActions['addedRecords'] = [updateAction['deletedRecordsDetails'][0].data];\n            }\n            else {\n                previousActions['action'] = updateAction['action'];\n                previousActions['modifiedRecords'] = [];\n                for (var i = 0; i < updateAction['modifiedRecords'].length; i++) {\n                    var index = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        index = this.parent.ids.indexOf(updateAction['modifiedRecords'][i].ganttProperties.taskId.toString());\n                    }\n                    else {\n                        if (updateAction['modifiedRecords'][i].hasChildRecords) {\n                            index = this.parent.taskIds.indexOf('R' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                        else {\n                            index = this.parent.taskIds.indexOf('T' + updateAction['modifiedRecords'][i].ganttProperties.taskId);\n                        }\n                    }\n                    previousActions['modifiedRecords'].push(extend([], [this.parent.flatData[index]], [], true)[0]);\n                }\n            }\n            this.getUndoCollection.push(previousActions);\n            this.isUndoRedoPerformed = true;\n            this.currentAction = updateAction;\n            if (updateAction['action'] === 'ZoomIn' || updateAction['action'] === 'ZoomOut' || updateAction['action'] === 'ZoomToFit') {\n                if (updateAction['action'] === 'ZoomToFit') {\n                    this.parent.fitToProject();\n                }\n                else {\n                    this.parent.timelineSettings.timelineViewMode = updateAction['previousZoomingLevel'].timelineViewMode;\n                    this.parent.timelineSettings.timelineUnitSize = updateAction['previousZoomingLevel'].timelineUnitSize;\n                    this.parent.timelineSettings.updateTimescaleView = updateAction['previousZoomingLevel'].updateTimescaleView;\n                    this.parent.timelineSettings.topTier.unit = updateAction['previousZoomingLevel'].topTier.unit;\n                    this.parent.timelineSettings.topTier.count = updateAction['previousZoomingLevel'].topTier.count;\n                    this.parent.timelineSettings.topTier.format = updateAction['previousZoomingLevel'].topTier.format;\n                    this.parent.timelineSettings.bottomTier.unit = updateAction['previousZoomingLevel'].bottomTier.unit;\n                    this.parent.timelineSettings.bottomTier.count = updateAction['previousZoomingLevel'].bottomTier.count;\n                    this.parent.timelineSettings.bottomTier.format = updateAction['previousZoomingLevel'].bottomTier.format;\n                    this.parent.timelineSettings.weekStartDay = updateAction['previousZoomingLevel'].weekStartDay;\n                    this.parent.timelineSettings.weekendBackground = updateAction['previousZoomingLevel'].weekendBackground;\n                }\n            }\n            else if (updateAction['action'] === 'NextTimeSpan' || updateAction['action'] === 'PreviousTimeSpan') {\n                this.parent.updateProjectDates(updateAction['previousTimelineStartDate'], updateAction['previousTimelineEndDate'], false);\n            }\n            else if (updateAction['action'] === 'Sorting') {\n                this.isFromUndoRedo = true;\n                this.sortedColumnsLength = 0;\n                if (updateAction['sortColumns'].length === 0) {\n                    this.parent.clearSorting();\n                }\n                else {\n                    for (var i = 0; i < updateAction['sortColumns'].length; i++) {\n                        this.parent.treeGrid.sortByColumn(updateAction['sortColumns'][i]['field'], updateAction['sortColumns'][i]['direction'], (updateAction['sortColumns'].length > 1 ? true : false));\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'ColumnState') {\n                this.isFromUndoRedo = true;\n                for (var i = 0; i < updateAction['showhideColumns'].length; i++) {\n                    if (updateAction['showhideColumns'][i].visible) {\n                        this.parent.hideColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                    else {\n                        this.parent.showColumn(updateAction['showhideColumns'][i].field, 'field');\n                    }\n                }\n            }\n            else if (updateAction['action'] === 'Filtering') {\n                for (var j = 0; j < updateAction['filteredColumns'].length; j++) {\n                    this.isFromUndoRedo = true;\n                    this.parent.filterByColumn(updateAction['filteredColumns'][j].field, updateAction['filteredColumns'][j].operator, updateAction['filteredColumns'][j].value, updateAction['filteredColumns'][j].predicate, updateAction['filteredColumns'][j].matchCase, updateAction['filteredColumns'][j].ignoreAccent);\n                }\n            }\n            else if (updateAction['action'] === 'ColumnReorder') {\n                this.isFromUndoRedo = true;\n                var fromColumn = this.parent.treeGrid.columns[updateAction['fromIndex']]['field'];\n                var toColumn = this.parent.treeGrid.columns[updateAction['toIndex']]['field'];\n                this.parent.reorderColumns(fromColumn, toColumn);\n            }\n            else if (updateAction['action'] === 'Search') {\n                this.isFromUndoRedo = true;\n                this.parent.search(updateAction['searchString']);\n            }\n            else if (updateAction['action'] === 'ColumnResize') {\n                this.parent.treeGrid.columns[updateAction['resizedColumn'].index]['width'] = updateAction['resizedColumn'].width;\n                this.parent.treeGrid.refreshColumns();\n            }\n            else if (updateAction['action'] === 'RowDragAndDrop' || updateAction['action'] === 'TaskbarDragAndDrop') {\n                for (var i = 0; i < updateAction['beforeDrop'].length; i++) {\n                    var fromIndex = void 0;\n                    var toIndex = void 0;\n                    if (this.parent.viewType === 'ProjectView') {\n                        fromIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.ids.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    else {\n                        fromIndex = this.parent.ids.indexOf('T' + updateAction['beforeDrop'][i].data.ganttProperties.taskId.toString());\n                        toIndex = this.parent.taskIds.indexOf(updateAction['beforeDrop'][i]['id'].toString());\n                    }\n                    this.parent.reorderRows([fromIndex], toIndex, updateAction['beforeDrop'][i].position);\n                }\n            }\n            else if (updateAction['action'] === 'Indent' || updateAction['action'] === 'Outdent') {\n                this.parent.selectRow(updateAction['selectedRowIndexes'][0]);\n                if (updateAction['action'] === 'Indent') {\n                    this.parent.indent();\n                }\n                if (updateAction['action'] === 'Outdent') {\n                    this.parent.outdent();\n                }\n            }\n            else if (updateAction['action'] === 'Delete') {\n                var isShowDeleteConfirmDialog = extend([], [this.parent.editSettings.showDeleteConfirmDialog], [], true)[0];\n                this.parent.editSettings.showDeleteConfirmDialog = false;\n                this.parent.deleteRecord(updateAction['deleteRecords']);\n                this.parent.editSettings.showDeleteConfirmDialog = isShowDeleteConfirmDialog;\n            }\n            else if (updateAction['action'] === 'Add') {\n                if (this.parent.viewType === 'ResourceView' && updateAction['deletedRecordsDetails'].length > 1) {\n                    this.parent.editModule.addRecord(extend([], [], updateAction['deletedRecordsDetails'], true));\n                }\n                else {\n                    var rowIndex = void 0;\n                    for (var i = 0; i < updateAction['deletedRecordsDetails'].length; i++) {\n                        if (this.parent.viewType === 'ProjectView') {\n                            rowIndex = this.parent.ids.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        else {\n                            rowIndex = this.parent.taskIds.indexOf(updateAction['deletedRecordsDetails'][i].id.toString());\n                        }\n                        var position = void 0;\n                        if (updateAction['deletedRecordsDetails'][i].position === 'above') {\n                            position = 'Above';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'below') {\n                            position = 'Below';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'child') {\n                            position = 'Child';\n                        }\n                        if (updateAction['deletedRecordsDetails'][i].position === 'bottom') {\n                            position = 'Bottom';\n                        }\n                        this.parent.editModule.addRecord(updateAction['deletedRecordsDetails'][i].data, position, rowIndex);\n                    }\n                }\n            }\n            else {\n                this.parent.updateRecordByID(updateAction['modifiedRecords'][0]);\n            }\n            this.isUndoRedoPerformed = false;\n            if (this.getUndoCollection.length > 0 && this.parent.toolbarModule) {\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n            }\n            this.getRedoCollection.splice(this.getRedoCollection.length - 1, 1);\n            if (this.getRedoCollection.length === 0 && this.parent.toolbarModule) {\n                this.redoEnabled = false;\n                this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n            }\n        }\n    };\n    UndoRedo.prototype.createUndoCollection = function () {\n        if (this.parent['totalUndoAction'] + 1 > this.parent.undoRedoStepsCount && this.getUndoCollection.length === this.parent['totalUndoAction']) {\n            this.getUndoCollection.splice(0, 1);\n            this.disableRedo();\n        }\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n        }\n        if (this.getUndoCollection.length === 0) {\n            this.getUndoCollection[0] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n        else if (Object.keys(this['getUndoCollection'][this['getUndoCollection'].length - 1])['length'] > 0) {\n            this.getUndoCollection[this.getUndoCollection.length] = [];\n            if (this.parent['totalUndoAction'] + 1 <= this.parent.undoRedoStepsCount) {\n                this.parent['totalUndoAction']++;\n            }\n        }\n    };\n    UndoRedo.prototype.disableRedo = function () {\n        this.redoEnabled = false;\n        this.getRedoCollection = [];\n        if (this.parent.toolbarModule) {\n            this.parent.toolbarModule.enableItems([this.parent.controlId + '_redo'], false);\n        }\n    };\n    UndoRedo.prototype.findPosition = function (rowItems, records, detail) {\n        var _loop_1 = function (i) {\n            var record = {};\n            record['data'] = rowItems[i];\n            if (this_1.parent.viewType === 'ProjectView') {\n                if (!rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length > 1) {\n                        var recIndex = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString());\n                        var previousRecord = this_1.parent.flatData[recIndex - 1];\n                        if (previousRecord.parentItem &&\n                            previousRecord.parentItem.taskId.toString() === parentItem.ganttProperties.taskId.toString()) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                        else {\n                            record['position'] = 'above';\n                            var currentData = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1];\n                            var index = this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) + 1;\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData ||\n                                    (rowData && currentData.ganttProperties.taskId.toString() !==\n                                        rowData.ganttProperties.taskId.toString())) {\n                                    if (currentData && currentData.parentItem) {\n                                        record['id'] = extend([], [currentData.ganttProperties.taskId], [], true)[0];\n                                    }\n                                    else {\n                                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                                        record['position'] = 'child';\n                                    }\n                                }\n                                else {\n                                    rowIndex++;\n                                    index++;\n                                    currentData = this_1.parent.flatData[index];\n                                }\n                            } while (!record['id']);\n                        }\n                    }\n                    else {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [parentItem.ganttProperties.taskId], [], true)[0];\n                    }\n                }\n                else if (!rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    if (this_1.parent.ids.indexOf(rowItems[i].ganttProperties.taskId.toString()) === this_1.parent.ids.length - 1) {\n                        record['position'] = 'below';\n                    }\n                    else {\n                        record['position'] = 'above';\n                    }\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    var rowIndex = i;\n                    do {\n                        var rowData = rowItems[rowIndex + 1];\n                        if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                            if (currentData) {\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                            else {\n                                currentData = this_1.parent.treeGrid.parentData[parentIndex - 1];\n                                if (!currentData) {\n                                    currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                }\n                                record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                            }\n                        }\n                        else {\n                            rowIndex++;\n                            prevInd++;\n                            currentData = this_1.parent.treeGrid.parentData[prevInd];\n                        }\n                    } while (!record['id']);\n                }\n                else if (rowItems[i].hasChildRecords && !rowItems[i].parentItem) {\n                    var parentIndex = void 0;\n                    var currentData = void 0;\n                    var prevInd = void 0;\n                    for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                        if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId.toString() === rowItems[i].ganttProperties.taskId.toString()) {\n                            parentIndex = k;\n                            currentData = this_1.parent.treeGrid.parentData[k + 1];\n                            prevInd = k + 1;\n                            break;\n                        }\n                    }\n                    if (parentIndex !== -1) {\n                        if (parentIndex === 0) {\n                            record['position'] = 'above';\n                            var rowIndex = i;\n                            do {\n                                var rowData = rowItems[rowIndex + 1];\n                                if (!rowData || (rowData && currentData['ganttProperties'].taskId.toString() !== rowData.ganttProperties.taskId.toString())) {\n                                    if (!currentData) {\n                                        currentData = this_1.parent.treeGrid.parentData[parentIndex];\n                                    }\n                                    record['id'] = extend([], [currentData['ganttProperties'].taskId], [], true)[0];\n                                }\n                                else {\n                                    rowIndex++;\n                                    prevInd++;\n                                    currentData = this_1.parent.treeGrid.parentData[prevInd];\n                                }\n                            } while (!record['id']);\n                        }\n                        else {\n                            record['position'] = 'below';\n                            record['id'] = extend([], [this_1.parent.treeGrid.parentData[parentIndex - 1].ganttProperties.taskId], [], true)[0];\n                        }\n                    }\n                }\n                else if (rowItems[i].hasChildRecords && rowItems[i].parentItem) {\n                    var parentItem = this_1.parent.getRecordByID(rowItems[i].parentItem.taskId);\n                    if (parentItem.childRecords.length === 1) {\n                        record['position'] = 'child';\n                        record['id'] = extend([], [rowItems[i].parentItem.taskId], [], true)[0];\n                    }\n                    else {\n                        var childIndex = void 0;\n                        for (var k = 0; k < parentItem.childRecords.length; k++) {\n                            if (parentItem.childRecords[i].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                childIndex = k;\n                                break;\n                            }\n                        }\n                        if (!isNullOrUndefined(childIndex)) {\n                            if (childIndex === 0) {\n                                record['position'] = 'above';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex + 1].ganttProperties.taskId], [], true)[0];\n                            }\n                            else {\n                                record['position'] = 'below';\n                                record['id'] = extend([], [parentItem.childRecords[childIndex - 1].ganttProperties.taskId], [], true)[0];\n                            }\n                        }\n                    }\n                }\n            }\n            else {\n                if (rowItems[i].parentItem) {\n                    var parentRecord = void 0;\n                    if (rowItems[i].parentItem.index) {\n                        parentRecord = this_1.parent.flatData[rowItems[i].parentItem.index];\n                    }\n                    else {\n                        parentRecord = this_1.parent.flatData[this_1.parent.ids.indexOf(rowItems[i].parentItem.taskId)];\n                    }\n                    if (parentRecord.childRecords.length === 1) {\n                        record['position'] = 'bottom';\n                        record['id'] = 'R' + parentRecord.ganttProperties.taskId;\n                        if (detail === 'deletedIndexes') {\n                            record['position'] = 'child';\n                            record['index'] = parentRecord.index;\n                        }\n                    }\n                    else {\n                        var currentIndex = void 0;\n                        for (var j = 0; j < parentRecord.childRecords.length; j++) {\n                            if (parentRecord.childRecords[j].ganttProperties.taskId.toString() ===\n                                rowItems[i].ganttProperties.taskId.toString()) {\n                                currentIndex = j;\n                                break;\n                            }\n                        }\n                        var previousRecord = parentRecord.childRecords[currentIndex - 1];\n                        if (previousRecord && previousRecord.parentItem && previousRecord.parentUniqueID === parentRecord.uniqueID) {\n                            record['position'] = 'below';\n                            record['id'] = extend([], ['T' + this_1.parent.flatData[this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1].ganttProperties.taskId], [], true)[0];\n                            if (detail === 'deletedIndexes') {\n                                record['index'] = this_1.parent.taskIds.indexOf('T' + rowItems[i].ganttProperties.taskId.toString()) - 1;\n                            }\n                        }\n                        else {\n                            var index = void 0;\n                            if (currentIndex !== parentRecord.childRecords.length - 1) {\n                                record['position'] = 'above';\n                                if (currentIndex === 0 && parentRecord.childRecords[1]) {\n                                    index = parentRecord.childRecords[1].index;\n                                }\n                                else if (parentRecord.childRecords[currentIndex - 1]) {\n                                    index = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                                var currentData = this_1.parent.flatData[index];\n                                var recIndex = index;\n                                var rowIndex = i;\n                                do {\n                                    var rowData = rowItems[rowIndex + 1];\n                                    if (!rowData ||\n                                        (rowData && currentData.ganttProperties.taskId.toString() !==\n                                            rowData.ganttProperties.taskId.toString())) {\n                                        if (currentData.parentItem) {\n                                            record['id'] = extend([], ['T' + currentData.ganttProperties.taskId], [], true)[0];\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = extend([], [currentData.index], [], true)[0];\n                                                if (currentIndex === 0 && parentRecord.childRecords[1].ganttProperties.taskId ===\n                                                    currentData.ganttProperties.taskId) {\n                                                    record['index'] = record['index'] - 1;\n                                                }\n                                            }\n                                        }\n                                        else {\n                                            record['id'] = extend([], ['R' + rowItems[i].parentItem.taskId], [], true)[0];\n                                            record['position'] = 'child';\n                                            if (detail === 'deletedIndexes') {\n                                                record['index'] = rowItems[i].parentItem.index;\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        rowIndex++;\n                                        recIndex++;\n                                        currentData = this_1.parent.flatData[recIndex];\n                                    }\n                                } while (!record['id']);\n                            }\n                            else {\n                                if (currentIndex === parentRecord.childRecords.length - 1) {\n                                    record['position'] = 'below';\n                                }\n                                else {\n                                    record['position'] = 'above';\n                                }\n                                record['id'] = 'T' + parentRecord.childRecords[currentIndex - 1].ganttProperties.taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = parentRecord.childRecords[currentIndex - 1].index;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    var parentData = this_1.parent.treeGrid.parentData.filter(function (parentData) {\n                        return parentData.ganttProperties.taskId === rowItems[i].ganttProperties.taskId;\n                    })[0];\n                    var parentDataIndex = this_1.parent.treeGrid.parentData.indexOf(parentData);\n                    if (parentDataIndex === 0) {\n                        record['position'] = 'above';\n                        var currentData = void 0;\n                        var prevInd = void 0;\n                        for (var k = 0; k < this_1.parent.treeGrid.parentData.length; k++) {\n                            if (this_1.parent.treeGrid.parentData[k]['ganttProperties'].taskId === rowItems[i].ganttProperties.taskId) {\n                                currentData = this_1.parent.treeGrid.parentData[k + 1];\n                                prevInd = k + 1;\n                                break;\n                            }\n                        }\n                        var rowIndex = i;\n                        do {\n                            var rowData = rowItems[rowIndex + 1];\n                            if (!rowData || (rowData && currentData['ganttProperties'].taskId !== rowData.ganttProperties.taskId)) {\n                                record['id'] = 'R' + currentData['ganttProperties'].taskId;\n                                if (detail === 'deletedIndexes') {\n                                    record['index'] = currentData['index'];\n                                }\n                            }\n                            else {\n                                rowIndex++;\n                                prevInd++;\n                                currentData = this_1.parent.treeGrid.parentData[prevInd];\n                            }\n                        } while (!record['id']);\n                    }\n                    else {\n                        record['position'] = 'below';\n                        record['id'] = 'R' + this_1.parent.treeGrid.parentData[parentDataIndex - 1]['ganttProperties']['taskId'];\n                        if (detail === 'deletedIndexes') {\n                            record['index'] = this_1.parent.treeGrid.parentData[parentDataIndex - 1]['index'];\n                        }\n                    }\n                }\n            }\n            if (detail === 'deletedIndexes') {\n                var parent_1 = this_1.parent.getTaskByUniqueID(record['data'].parentUniqueID);\n                if (this_1.parent.editModule.dialogModule.ganttResources.length === 0 && records[detail].indexOf(record) === -1) {\n                    records[detail].push(record);\n                }\n                else {\n                    for (var j = 0; j < this_1.parent.editModule.dialogModule.ganttResources.length; j++) {\n                        if (this_1.parent.editModule.dialogModule.ganttResources[j][this_1.parent.resourceFields.id] !==\n                            parent_1.ganttProperties.taskId && records[detail].indexOf(record) === -1) {\n                            records[detail].push(record);\n                        }\n                    }\n                }\n            }\n            else {\n                if (!records[detail].some(function (existingRecord) { return existingRecord.data.ganttProperties.taskId === record['data'].ganttProperties.taskId; })) {\n                    records[detail].push(record);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < rowItems.length; i++) {\n            _loop_1(i);\n        }\n    };\n    UndoRedo.prototype.getModuleName = function () {\n        return 'undoRedo';\n    };\n    /**\n     * Destroys the UndoRedo of Gantt.\n     *\n     * @returns {void} .\n     * @private\n     */\n    UndoRedo.prototype.destroy = function () {\n        if (!this.parent.enableUndoRedo && this.parent.undoRedoModule) {\n            this.parent.undoRedoModule = undefined;\n        }\n    };\n    return UndoRedo;\n}());\nexport { UndoRedo };\n","import * as cons from './../base/css-constants';\nimport { TreeGrid, ContextMenu as TreeGridContextMenu } from '@syncfusion/ej2-treegrid';\nimport { remove, closest, isNullOrUndefined, getValue, extend, addClass } from '@syncfusion/ej2-base';\nimport { Deferred } from '@syncfusion/ej2-data';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\n// eslint-disable-next-line\n/**\n * The ContextMenu module is used to handle the context menu items & sub-menu items.\n *\n * @returns {void} .\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent) {\n        var _this = this;\n        this.segmentIndex = -1;\n        this.isCntxtMenuDependencyDelete = false;\n        this.headerContextMenuClick = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuClick', args);\n            }\n        };\n        this.headerContextMenuOpen = function (args) {\n            var gridRow = closest(args.event.target, '.e-row');\n            var chartRow = closest(args.event.target, '.e-chart-row');\n            if (isNullOrUndefined(gridRow) && isNullOrUndefined(chartRow)) {\n                args.type = 'Header';\n                _this.parent.trigger('contextMenuOpen', args);\n            }\n            else {\n                args.cancel = true;\n            }\n        };\n        this.parent = parent;\n        this.ganttID = parent.element.id;\n        TreeGrid.Inject(TreeGridContextMenu);\n        this.parent.treeGrid.contextMenuClick = this.headerContextMenuClick.bind(this);\n        this.parent.treeGrid.contextMenuOpen = this.headerContextMenuOpen.bind(this);\n        this.addEventListener();\n        this.resetItems();\n    }\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('initiate-contextMenu', this.render, this);\n        this.parent.on('reRender-contextMenu', this.reRenderContextMenu, this);\n        this.parent.on('contextMenuClick', this.contextMenuItemClick, this);\n        this.parent.on('contextMenuOpen', this.contextMenuBeforeOpen, this);\n    };\n    ContextMenu.prototype.reRenderContextMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n            }\n            this.resetItems();\n            this.render();\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.element = this.parent.createElement('ul', {\n            id: this.ganttID + '_contextmenu', className: cons.focusCell\n        });\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.ganttID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            locale: this.parent.locale,\n            enableRtl: this.parent.enableRtl,\n            target: target,\n            animationSettings: { effect: 'None' },\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-gantt'\n        });\n        this.contextMenu.appendTo(this.element);\n        this.parent.treeGrid.contextMenuItems = this.headerMenuItems;\n    };\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        this.item = this.getKeyFromId(args.item.id);\n        var position;\n        var data;\n        var taskfields;\n        var parentItem = getValue('parentObj', args.item);\n        var index = -1;\n        args.type = 'Content';\n        args.rowData = this.rowData;\n        this.parent.trigger('contextMenuClick', args);\n        if (parentItem && !isNullOrUndefined(parentItem.id) && this.getKeyFromId(parentItem.id) === 'DeleteDependency') {\n            index = parentItem.items.indexOf(args.item);\n        }\n        if (this.parent.isAdaptive) {\n            if (this.item === 'TaskInformation' || this.item === 'Above' || this.item === 'Below'\n                || this.item === 'Child' || this.item === 'DeleteTask') {\n                if (this.parent.selectionModule && this.parent.selectionSettings.type === 'Multiple') {\n                    this.parent.selectionModule.hidePopUp();\n                    document.getElementsByClassName('e-gridpopup')[0].style.display = 'none';\n                }\n            }\n        }\n        switch (this.item) {\n            case 'TaskInformation':\n                if (!isNullOrUndefined(this.rowData)) {\n                    if (typeof this.rowData.ganttProperties.taskId === 'string') {\n                        this.parent.openEditDialog(this.rowData.ganttProperties.rowUniqueID);\n                    }\n                    else {\n                        this.parent.openEditDialog(Number(this.rowData.ganttProperties.rowUniqueID));\n                    }\n                }\n                break;\n            case 'Above':\n            case 'Below':\n            case 'Child':\n                if (!isNullOrUndefined(this.rowData)) {\n                    position = this.item;\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    if (data[taskfields.endDate]) {\n                        this.parent.setRecordValue(taskfields.endDate, this.rowData.ganttProperties.endDate, data, true);\n                    }\n                    if (!isNullOrUndefined(taskfields.dependency)) {\n                        data[taskfields.dependency] = null;\n                    }\n                    if (!isNullOrUndefined(taskfields.child) && data[taskfields.child]) {\n                        delete data[taskfields.child];\n                    }\n                    if (!isNullOrUndefined(taskfields.parentID) && data[taskfields.parentID]) {\n                        data[taskfields.parentID] = null;\n                    }\n                    if (this.rowData) {\n                        if (this.parent.viewType === 'ResourceView' && this.rowData.parentItem\n                            && data[this.parent.taskFields.resourceInfo]) {\n                            var parentItem_1 = this.parent.getParentTask(this.rowData.parentItem);\n                            var resourceFieldId_1 = this.parent.resourceFields.id;\n                            var taskResources = this.rowData.taskData[this.parent.taskFields.resourceInfo];\n                            var matchingResource = taskResources.find(function (resource) {\n                                return resource[resourceFieldId_1] === parentItem_1.ganttProperties.taskId;\n                            });\n                            data[this.parent.taskFields.resourceInfo] = matchingResource ? [matchingResource] : [];\n                        }\n                        var rowIndex = this.parent.updatedRecords.indexOf(this.rowData);\n                        this.parent.addRecord(data, position, rowIndex);\n                    }\n                }\n                else if (this.parent.flatData.length === 0) {\n                    this.parent.addRecord();\n                }\n                break;\n            case 'Milestone':\n            case 'ToMilestone':\n                if (!isNullOrUndefined(this.rowData)) {\n                    this.parent.convertToMilestone(this.rowData.ganttProperties.rowUniqueID);\n                }\n                else if (this.parent.flatData.length === 0 && this.item === 'Milestone') {\n                    var data_1 = this.parent.editModule.createNewRecord();\n                    var taskSettings = this.parent.taskFields;\n                    if (this.parent.taskFields['duration']) {\n                        data_1[taskSettings['duration']] = 0;\n                    }\n                    if (this.parent.taskFields['milestone']) {\n                        data_1[taskSettings['milestone']] = true;\n                    }\n                    this.parent.addRecord(data_1);\n                }\n                break;\n            case 'DeleteTask':\n                if ((this.parent.selectionSettings.mode !== 'Cell' && this.parent.selectionModule.selectedRowIndexes.length > 1)\n                    || (this.parent.selectionSettings.mode === 'Cell' && this.parent.selectionModule.getSelectedRowCellIndexes().length)) {\n                    this.parent.editModule.startDeleteAction();\n                }\n                else {\n                    this.parent.editModule.deleteRecord(this.rowData);\n                }\n                break;\n            case 'ToTask':\n                if (!isNullOrUndefined(this.rowData)) {\n                    data = extend({}, {}, this.rowData.taskData, true);\n                    taskfields = this.parent.taskFields;\n                    if (!isNullOrUndefined(taskfields.duration)) {\n                        var duration = parseInt(data[taskfields.duration], 10) <= 0 ? 1 : data[taskfields.duration];\n                        data[taskfields.duration] = duration;\n                        this.parent.setRecordValue('duration', duration, this.rowData.ganttProperties, true);\n                    }\n                    else {\n                        data[taskfields.startDate] = new Date(this.rowData.taskData[taskfields.startDate]);\n                        var endDate = new Date(this.rowData.taskData[taskfields.startDate]);\n                        endDate.setDate(endDate.getDate() + 1);\n                        data[taskfields.endDate] = endDate;\n                    }\n                    if (!isNullOrUndefined(data[taskfields.milestone])) {\n                        if (data[taskfields.milestone] === true) {\n                            data[taskfields.milestone] = false;\n                        }\n                    }\n                    var taskType = !isNullOrUndefined(this.rowData.ganttProperties.taskType) ? this.rowData.ganttProperties.taskType\n                        : this.parent.taskType;\n                    if (taskType === 'FixedWork' || taskType === 'FixedUnit') {\n                        this.parent.dataOperation.updateWorkWithDuration(this.rowData);\n                        if (!isNullOrUndefined(data[taskfields.work])) {\n                            data[taskfields.work] = this.rowData.ganttProperties.work;\n                        }\n                    }\n                    if (data[taskfields.startDate]) {\n                        this.parent.setRecordValue(taskfields.startDate, this.rowData.ganttProperties.startDate, data, true);\n                    }\n                    this.parent.updateRecordByID(data);\n                }\n                break;\n            case 'Cancel':\n                this.parent.cancelEdit();\n                break;\n            case 'Save':\n                this.parent.editModule.cellEditModule.isCellEdit = false;\n                this.parent.treeGrid.grid.saveCell();\n                break;\n            case 'Dependency' + index:\n                this.isCntxtMenuDependencyDelete = true;\n                this.parent.connectorLineEditModule.removePredecessorByIndex(this.rowData, index);\n                break;\n            case 'Auto':\n            case 'Manual':\n                this.parent.changeTaskMode(this.rowData);\n                break;\n            case 'Indent':\n                this.parent.indent();\n                break;\n            case 'Outdent':\n                this.parent.outdent();\n                break;\n            case 'Left':\n            case 'Right':\n                this.mergeCall(this.item);\n                break;\n            case 'SplitTask':\n                this.splitTaskCall(args);\n                break;\n        }\n    };\n    ContextMenu.prototype.splitTaskCall = function (args) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(args.element);\n        if (isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit !== 'Hour') {\n            currentClickedDate.setHours(0, 0, 0, 0);\n        }\n        var eventArgs = {\n            rowData: this.rowData,\n            requestType: 'splitTaskbar',\n            splitDate: currentClickedDate,\n            cancel: false,\n            target: this.targetElement\n        };\n        // eslint-disable-next-line\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (!eventArgs.cancel) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.parent.chartRowsModule.splitTask(_this.rowData[taskSettings.id], currentClickedDate);\n                _this.parent.chartRowsModule.updateSegment(_this.rowData.ganttProperties.segments, _this.rowData.ganttProperties.taskId);\n            }\n        });\n    };\n    ContextMenu.prototype.mergeCall = function (item) {\n        var _this = this;\n        this.isEdit = true;\n        var taskSettings = this.parent.taskFields;\n        var segments = this.rowData.ganttProperties.segments;\n        var firstSegment = item === 'Right' ? this.segmentIndex : segments[this.segmentIndex - 1].segmentIndex;\n        var secondSegment = item === 'Left' ? this.segmentIndex : segments[this.segmentIndex + 1].segmentIndex;\n        var segmentIndexes = [\n            { 'firstSegmentIndex': firstSegment, 'secondSegmentIndex': secondSegment }\n        ];\n        var eventArgs = {\n            rowData: this.rowData,\n            mergeSegmentIndexes: segmentIndexes,\n            requestType: 'mergeSegment',\n            cancel: false,\n            target: this.targetElement\n        };\n        this.parent.trigger('actionBegin', eventArgs, function (eventArgs) {\n            if (eventArgs.cancel === false) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n                _this.parent.chartRowsModule.mergeTask(_this.rowData[taskSettings.id], segmentIndexes);\n            }\n        });\n    };\n    /**\n     * Calculates the date based on the clicked position on the Gantt chart's context menu.\n     *\n     * @param {HTMLElement} element - The HTML element used for determining the click position within the Gantt chart.\n     * @returns {Date} - Returns the calculated date based on the clicked position on the chart.\n     *\n     * The function determines the Gantt element's left position for both RTL and LTR layouts.\n     * It calculates the left position of the task and the click's position difference, adjusts the split task duration,\n     * and computes the final click date.\n     */\n    ContextMenu.prototype.getClickedDate = function (element) {\n        // context menu click position\n        var ganttElementPositionLeft;\n        // task left position\n        if (this.parent.enableRtl) {\n            var box = this.parent.element.getBoundingClientRect();\n            var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft ||\n                document.body.scrollLeft;\n            var clientLeft = document.documentElement.clientLeft || document.body.clientLeft || 0;\n            ganttElementPositionLeft = box.left + scrollLeft - clientLeft;\n        }\n        else {\n            ganttElementPositionLeft = this.parent.getOffsetRect(this.parent.element).left;\n        }\n        var pageLeft;\n        var currentTaskDifference;\n        if (this.parent.enableRtl) {\n            pageLeft = Math.abs(ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetWidth -\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft);\n            currentTaskDifference = Math.abs(this.clickedPosition - pageLeft);\n        }\n        else {\n            pageLeft = ganttElementPositionLeft + this.parent.ganttChartModule.chartElement.offsetLeft +\n                this.rowData.ganttProperties.left - this.parent.ganttChartModule.scrollElement.scrollLeft;\n            currentTaskDifference = this.clickedPosition - pageLeft;\n        }\n        var splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.perDayWidth);\n        if (!this.parent.timelineSettings.showWeekend) {\n            var calculatedDate = new Date(this.rowData.ganttProperties.startDate);\n            var milliSecondsPerPixel = (24 * 60 * 60 * 1000) / this.parent.perDayWidth;\n            var milliSecondsPerDay = (24 * 60 * 60 * 1000);\n            if (!this.parent.timelineSettings.showWeekend) {\n                var totalDays = Math.floor(currentTaskDifference * milliSecondsPerPixel / milliSecondsPerDay);\n                var totalDaysPerWeek = 7;\n                var workingDaysPerWeek = totalDaysPerWeek - this.parent.nonWorkingDayIndex.length;\n                // Calculate the number of complete weeks between two dates\n                var fullWeeks = Math.floor(totalDays / workingDaysPerWeek);\n                var extraDays = totalDays % workingDaysPerWeek;\n                // Adjust calculatedDate by adding the full weeks\n                calculatedDate.setDate(calculatedDate.getDate() + fullWeeks * totalDaysPerWeek);\n                // Add remaining days, skipping non-working days\n                var daysAdded = 0;\n                while (daysAdded < extraDays) {\n                    calculatedDate.setDate(calculatedDate.getDate() + 1);\n                    if (this.parent.nonWorkingDayIndex.indexOf(calculatedDate.getDay()) === -1) {\n                        daysAdded++;\n                    }\n                }\n                var endDate = calculatedDate;\n                var durationBetweendays = this.parent.timelineModule.calculateNonWorkingDaysBetweenDates(new Date(this.rowData.ganttProperties.startDate), endDate);\n                splitTaskDuration += durationBetweendays;\n            }\n        }\n        var startDate = this.rowData.ganttProperties.startDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && this.parent.timelineSettings.bottomTier.unit === 'Hour') {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n        }\n        var contextMenuClickDate;\n        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier) && (this.parent.timelineSettings.bottomTier.unit === 'Minutes' || this.parent.timelineSettings.bottomTier.unit === 'Hour')) {\n            splitTaskDuration = Math.ceil(currentTaskDifference / this.parent.timelineSettings.timelineUnitSize);\n            splitTaskDuration -= 1;\n            contextMenuClickDate = this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        else {\n            contextMenuClickDate =\n                this.parent.dataOperation.getEndDate(startDate, splitTaskDuration, this.rowData.ganttProperties.duration > 1 ?\n                    this.rowData.ganttProperties.durationUnit : (this.parent.timelineSettings.bottomTier.unit !== 'None') ?\n                    this.parent.timelineSettings.bottomTier.unit.toLocaleLowerCase() :\n                    this.parent.timelineSettings.topTier.unit.toLocaleLowerCase(), this.rowData, false);\n        }\n        return contextMenuClickDate;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var _this = this;\n        var target = args.event ? args.event.target :\n            !this.parent.focusModule ? this.parent.focusModule.getActiveElement() :\n                this.parent.ganttChartModule.targetElement;\n        // Closed edited cell before opening context menu\n        if ((!isNullOrUndefined(this.parent.editModule) && this.parent.editModule.cellEditModule && this.parent.editModule.cellEditModule.isCellEdit && target.parentElement.classList.contains('e-row')) || target.parentElement.classList.contains('e-treecolumn-container')) {\n            this.parent.treeGrid.endEdit();\n        }\n        if (!isNullOrUndefined(args.element) && args.element.id === this.parent.element.id + '_contextmenu') {\n            this.clickedPosition = getValue('event', args).clientX;\n        }\n        var targetElement = closest(target, '.e-gantt-child-taskbar');\n        if (targetElement) {\n            this.targetElement = args.target = targetElement;\n        }\n        args.gridRow = closest(target, '.e-row');\n        args.chartRow = closest(target, '.e-chart-row');\n        var menuElement = closest(target, '.e-gantt');\n        var editForm = closest(target, cons.editForm);\n        if (!editForm && this.parent.editModule && this.parent.editModule.cellEditModule\n            && this.parent.editModule.cellEditModule.isCellEdit && this.parent.editModule.dialogModule.dialogObj\n            && !this.parent.editModule.dialogModule.dialogObj.open) {\n            this.parent.treeGrid.grid.saveCell();\n            this.parent.editModule.cellEditModule.isCellEdit = false;\n        }\n        if (this.parent.readOnly) {\n            this.contextMenu.enableItems(['Add', 'Save', 'Convert', 'Delete Dependency', 'Delete Task', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'], false);\n        }\n        if ((isNullOrUndefined(args.gridRow) && isNullOrUndefined(args.chartRow)) || this.contentMenuItems.length === 0) {\n            if (!isNullOrUndefined(args.parentItem) && !isNullOrUndefined(menuElement) || !isNullOrUndefined(closest(target, '.e-content'))) {\n                args.cancel = false;\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        if (!args.cancel) {\n            var rowIndex = -1;\n            if (args.gridRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.gridRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            else if (args.chartRow) {\n                // eslint-disable-next-line\n                rowIndex = parseInt(args.chartRow.getAttribute('aria-rowindex'), 0) - 1;\n            }\n            if (this.parent.selectionModule && this.parent.allowSelection && !args.parentItem && !isNullOrUndefined(args.chartRow)) {\n                this.parent.selectionModule.selectRow(rowIndex);\n            }\n            if (!args.parentItem) {\n                this.rowData = this.parent.ganttChartModule.getRecordByTarget(args['event']);\n            }\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                // let target: EventTarget = target;\n                if (!item.separator) {\n                    if ((target.classList.contains('e-gantt-unscheduled-taskbar')) && ((item.text === this.getLocale('splitTask')) || (item.text === this.getLocale('mergeTask')))) {\n                        this.hideItems.push(item.text);\n                    }\n                    else {\n                        this.updateItemStatus(item, target, rowIndex);\n                    }\n                }\n            }\n            args.rowData = this.rowData;\n            args.type = 'Content';\n            args.disableItems = this.disableItems;\n            args.hideItems = this.hideItems;\n            args.hideChildItems = [];\n            if (!isNullOrUndefined(args.rowData) && args.rowData.level === 0 && this.parent.viewType === 'ResourceView') {\n                args.cancel = true;\n                return;\n            }\n            var callBackPromise_1 = new Deferred();\n            this.parent.trigger('contextMenuOpen', args, function (arg) {\n                callBackPromise_1.resolve(arg);\n                _this.hideItems = arg.hideItems;\n                _this.disableItems = arg.disableItems;\n                if (!arg.parentItem && arg.hideItems.length === arg.items.length) {\n                    _this.revertItemStatus();\n                    arg.cancel = true;\n                }\n                if (_this.hideItems.length > 0) {\n                    _this.contextMenu.hideItems(_this.hideItems);\n                }\n                if (_this.disableItems.length > 0) {\n                    _this.contextMenu.enableItems(_this.disableItems, false);\n                }\n                if (args.hideChildItems.length > 0) {\n                    _this.contextMenu.hideItems(args.hideChildItems);\n                }\n            });\n            return callBackPromise_1;\n        }\n    };\n    ContextMenu.prototype.updateItemStatus = function (item, target, rowIndex) {\n        var key = this.getKeyFromId(item.id);\n        var editForm = closest(target, cons.editForm);\n        var subMenu = [];\n        var taskbarElement = closest(target, '.e-gantt-child-taskbar') ||\n            closest(target, 'e-taskbar-right-resizer') || closest(target, 'e-taskbar-left-resizer');\n        if (editForm) {\n            if (!(key === 'Save' || key === 'Cancel')) {\n                this.hideItems.push(item.text);\n            }\n        }\n        else {\n            switch (key) {\n                case 'TaskInformation':\n                    if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'Add':\n                    if (!this.parent.editSettings.allowAdding || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    break;\n                case 'Save':\n                case 'Cancel':\n                    this.hideItems.push(item.text);\n                    break;\n                case 'Convert':\n                    if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords) {\n                        this.hideItems.push(item.text);\n                    }\n                    else if (!this.parent.editSettings.allowEditing || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.rowData) && !this.rowData.ganttProperties.isMilestone) {\n                            subMenu.push(this.createItemModel(cons.content, 'ToMilestone', this.getLocale('toMilestone')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'ToTask', this.getLocale('toTask')));\n                        }\n                        item.items = subMenu;\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'DeleteDependency':\n                    {\n                        var items = this.getPredecessorsItems();\n                        if (!isNullOrUndefined(this.rowData) && this.rowData.hasChildRecords && !this.parent.allowParentDependency) {\n                            this.hideItems.push(item.text);\n                        }\n                        else if (!this.parent.editSettings.allowDeleting || items.length === 0 || !this.parent.editModule) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        else if (items.length > 0) {\n                            item.items = items;\n                        }\n                        break;\n                    }\n                case 'DeleteTask':\n                    if (!this.parent.editSettings.allowDeleting || !this.parent.editModule) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    if (this.parent.flatData.length === 0) {\n                        this.hideItems.push(item.text);\n                    }\n                    break;\n                case 'TaskMode':\n                    if (this.parent.taskMode !== 'Custom') {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        if (this.rowData.ganttProperties.isAutoSchedule) {\n                            subMenu.push(this.createItemModel(cons.content, 'Manual', this.getLocale('manual')));\n                        }\n                        else {\n                            subMenu.push(this.createItemModel(cons.content, 'Auto', this.getLocale('auto')));\n                        }\n                        item.items = subMenu;\n                    }\n                    break;\n                case 'Indent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var index = this.parent.selectedRowIndex;\n                            var isSelected = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            var prevRecord = this.parent.updatedRecords[this.parent.selectionModule.getSelectedRowIndexes()[0] - 1];\n                            if (!this.parent.editSettings.allowEditing || index === 0 || index === -1 || !isSelected ||\n                                this.parent.viewType === 'ResourceView' ||\n                                this.parent.updatedRecords[parseInt(index.toString(), 10)].level - prevRecord.level === 1) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'Outdent':\n                    {\n                        if (!this.parent.allowSelection || !this.parent.editModule || !this.parent.editSettings) {\n                            this.hideItems.push(item.text);\n                        }\n                        else {\n                            var ind = this.parent.selectionModule.getSelectedRowIndexes()[0];\n                            var isSelect = this.parent.selectionModule ? this.parent.selectionModule.selectedRowIndexes.length === 1 ||\n                                this.parent.selectionModule.getSelectedRowCellIndexes().length === 1 ? true : false : false;\n                            if (!this.parent.editSettings.allowEditing || ind === -1 || ind === 0 || !isSelect ||\n                                this.parent.viewType === 'ResourceView' || this.parent.updatedRecords[parseInt(ind.toString(), 10)].level === 0) {\n                                this.updateItemVisibility(item.text);\n                            }\n                        }\n                        break;\n                    }\n                case 'SplitTask':\n                    {\n                        var isBottomTierMinute = false;\n                        var isBottomTierHour = false;\n                        var taskSettings = this.parent.taskFields;\n                        if (!isNullOrUndefined(this.parent.timelineSettings.bottomTier)) {\n                            isBottomTierMinute = this.parent.timelineSettings.bottomTier.unit === 'Minutes';\n                            isBottomTierHour = this.parent.timelineSettings.bottomTier.unit === 'Hour';\n                        }\n                        if (this.parent.readOnly || !taskbarElement || isNullOrUndefined(taskSettings.segments) ||\n                            this.parent.flatData[Number(rowIndex)].hasChildRecords ||\n                            (this.parent.flatData[Number(rowIndex)].ganttProperties.duration < 2\n                                && !(isBottomTierMinute || isBottomTierHour))) {\n                            this.updateItemVisibility(item.text);\n                        }\n                        break;\n                    }\n                case 'MergeTask':\n                    if (this.parent.readOnly || !taskbarElement) {\n                        this.updateItemVisibility(item.text);\n                    }\n                    else {\n                        this.mergeItemVisiblity(target, item);\n                    }\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.mergeItemVisiblity = function (target, item) {\n        var subMenu = [];\n        var taskfields = this.parent.taskFields;\n        var currentClickedDate = this.getClickedDate(target);\n        this.segmentIndex = this.parent.chartRowsModule.getSegmentIndex(currentClickedDate, this.rowData);\n        var segments = this.rowData.ganttProperties.segments;\n        if (!isNullOrUndefined(segments) && segments.length > 0) {\n            if (isNullOrUndefined(taskfields.segments) && this.segmentIndex === -1) {\n                this.updateItemVisibility(item.text);\n            }\n            else {\n                if (this.segmentIndex === 0) {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                }\n                else if (this.segmentIndex === segments.length - 1) {\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                else {\n                    subMenu.push(this.createItemModel(cons.content, 'Right', this.getLocale('right')));\n                    subMenu.push(this.createItemModel(cons.content, 'Left', this.getLocale('left')));\n                }\n                item.items = subMenu;\n            }\n        }\n        else {\n            this.hideItems.push(item.text);\n        }\n    };\n    ContextMenu.prototype.updateItemVisibility = function (text) {\n        var isDefaultItem = !isNullOrUndefined(this.parent.contextMenuItems) ? false : true;\n        if (isDefaultItem) {\n            this.hideItems.push(text);\n        }\n        else {\n            this.disableItems.push(text);\n        }\n    };\n    ContextMenu.prototype.contextMenuOpen = function (args) {\n        this.isOpen = true;\n        var firstMenuItem = this.parent['args'] = args.element.querySelectorAll('li:not(.e-menu-hide):not(.e-disabled)')[0];\n        if (!isNullOrUndefined(firstMenuItem)) {\n            addClass([firstMenuItem], 'e-focused');\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = !isNullOrUndefined(this.parent.contextMenuItems) ?\n            this.parent.contextMenuItems : this.getDefaultItems();\n        for (var _i = 0, menuItems_1 = menuItems; _i < menuItems_1.length; _i++) {\n            var item = menuItems_1[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                this.buildDefaultItems(item);\n            }\n            else if (typeof item !== 'string') {\n                if (this.getDefaultItems().indexOf(item.text) !== -1) {\n                    this.buildDefaultItems(item.text, item.iconCss);\n                }\n                else if (item.target === cons.columnHeader) {\n                    this.headerMenuItems.push(item);\n                }\n                else {\n                    this.contentMenuItems.push(item);\n                }\n            }\n        }\n        return this.contentMenuItems;\n    };\n    ContextMenu.prototype.createItemModel = function (target, item, text, iconCss) {\n        var itemModel = {\n            text: text,\n            id: this.generateID(item),\n            target: target,\n            iconCss: iconCss ? 'e-icons ' + iconCss : null\n        };\n        return itemModel;\n    };\n    ContextMenu.prototype.getLocale = function (text) {\n        var localeText = this.parent.localeObj.getConstant(text);\n        return localeText;\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item, iconCSS) {\n        var contentMenuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n            case 'SortAscending':\n            case 'SortDescending':\n                this.headerMenuItems.push(item);\n                break;\n            case 'TaskInformation':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('taskInformation'), this.getIconCSS(cons.editIcon, iconCSS));\n                break;\n            case 'Indent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('indent'), this.getIconCSS(cons.indentIcon, iconCSS));\n                break;\n            case 'Outdent':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('outdent'), this.getIconCSS(cons.outdentIcon, iconCSS));\n                break;\n            case 'Save':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('save'), this.getIconCSS(cons.saveIcon, iconCSS));\n                break;\n            case 'Cancel':\n                contentMenuItem = this.createItemModel(cons.editIcon, item, this.getLocale('cancel'), this.getIconCSS(cons.cancelIcon, iconCSS));\n                break;\n            case 'Add':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('add'), this.getIconCSS(cons.addIcon, iconCSS));\n                //Sub item menu\n                contentMenuItem.items = [];\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Above', this.getLocale('above'), this.getIconCSS(cons.addAboveIcon, iconCSS)));\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Below', this.getLocale('below'), this.getIconCSS(cons.addBelowIcon, iconCSS)));\n                if (this.parent.viewType !== 'ResourceView') {\n                    contentMenuItem.items.push(this.createItemModel(cons.content, 'Child', this.getLocale('child')));\n                }\n                contentMenuItem.items.push(this.createItemModel(cons.content, 'Milestone', this.getLocale('milestone')));\n                break;\n            case 'DeleteTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteTask'), this.getIconCSS(cons.deleteIcon, iconCSS));\n                break;\n            case 'DeleteDependency':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('deleteDependency'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'Convert':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('convert'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'TaskMode':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('changeScheduleMode'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n                break;\n            case 'SplitTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('splitTask'));\n                break;\n            case 'MergeTask':\n                contentMenuItem = this.createItemModel(cons.content, item, this.getLocale('mergeTask'));\n                contentMenuItem.items = [];\n                contentMenuItem.items.push({});\n        }\n        if (contentMenuItem) {\n            this.contentMenuItems.push(contentMenuItem);\n        }\n    };\n    ContextMenu.prototype.getIconCSS = function (menuClass, iconString) {\n        return isNullOrUndefined(iconString) ? menuClass : iconString;\n    };\n    ContextMenu.prototype.getPredecessorsItems = function () {\n        this.predecessors = this.parent.predecessorModule.getValidPredecessor(this.rowData);\n        var items = [];\n        var itemModel;\n        var increment = 0;\n        for (var _i = 0, _a = this.predecessors; _i < _a.length; _i++) {\n            var predecessor = _a[_i];\n            var ganttData = this.parent.connectorLineModule.getRecordByID(predecessor.from);\n            var ganttProp = ganttData.ganttProperties;\n            var text = ganttProp.rowUniqueID + ' - ' + ganttProp.taskName;\n            var id = 'Dependency' + increment++;\n            itemModel = this.createItemModel(cons.content, id, text);\n            items.push(itemModel);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'TaskInformation', 'DeleteTask', 'Save', 'Cancel',\n            'SortAscending', 'SortDescending', 'Add',\n            'DeleteDependency', 'Convert', 'TaskMode', 'Indent', 'Outdent', 'SplitTask', 'MergeTask'\n        ];\n    };\n    /**\n     * To get ContextMenu module name.\n     *\n     * @returns {string} .\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('initiate-contextMenu', this.render);\n        this.parent.off('reRender-contextMenu', this.reRenderContextMenu);\n        this.parent.off('contextMenuClick', this.contextMenuItemClick);\n        this.parent.off('contextMenuOpen', this.contextMenuOpen);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][\"\" + parent] instanceof Menu) {\n            this.revertItemStatus();\n        }\n    };\n    ContextMenu.prototype.revertItemStatus = function () {\n        this.contextMenu.showItems(this.hideItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hideItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.resetItems = function () {\n        this.hideItems = [];\n        this.disableItems = [];\n        this.headerMenuItems = [];\n        this.contentMenuItems = [];\n        this.item = null;\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.ganttID + '_contextMenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        var idPrefix = this.ganttID + '_contextMenu_';\n        if (id.indexOf(idPrefix) > -1) {\n            return id.replace(idPrefix, '');\n        }\n        else {\n            return 'Custom';\n        }\n    };\n    /**\n     * To destroy the contextmenu module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ContextMenu.prototype.destroy = function () {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.removeEventListener();\n        this.contextMenu = null;\n        this.element = null;\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n","import { TreeGrid, ExcelExport as TreeGridExcel } from '@syncfusion/ej2-treegrid';\nimport { getValue, isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * Gantt Excel Export module\n *\n * @hidden\n */\nvar ExcelExport = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function ExcelExport(gantt) {\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridExcel);\n        this.parent.treeGrid.allowExcelExport = this.parent.allowExcelExport;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ExcelExport.prototype.getModuleName = function () {\n        return 'excelExport';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    ExcelExport.prototype.bindEvents = function () {\n        var _this = this;\n        this.parent.treeGrid.beforeExcelExport = function (args) {\n            _this.parent.trigger('beforeExcelExport', args);\n            if (!getValue('cancel', args)) {\n                if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    _this.parent.showMaskRow();\n                }\n                else {\n                    _this.parent.showSpinner();\n                }\n            }\n        };\n        this.parent.treeGrid.excelQueryCellInfo = function (args) {\n            _this.parent.trigger('excelQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelHeaderQueryCellInfo = function (args) {\n            _this.parent.trigger('excelHeaderQueryCellInfo', args);\n        };\n        this.parent.treeGrid.excelExportComplete = function (args) {\n            _this.parent.trigger('excelExportComplete', args);\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n        };\n    };\n    return ExcelExport;\n}());\nexport { ExcelExport };\n","import { TreeGrid, ColumnMenu as TreeGridColumnMenu } from '@syncfusion/ej2-treegrid';\n/**\n * Configures columnMenu collection in Gantt.\n *\n * @hidden\n */\nvar ColumnMenu = /** @class */ (function () {\n    function ColumnMenu(parent) {\n        TreeGrid.Inject(TreeGridColumnMenu);\n        this.parent = parent;\n    }\n    /**\n     * @returns {HTMLAllCollection} .\n     * To get column menu collection.\n     */\n    ColumnMenu.prototype.getColumnMenu = function () {\n        return this.parent.treeGrid.columnMenuModule.getColumnMenu();\n    };\n    ColumnMenu.prototype.destroy = function () {\n        // column menu destroy module\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    ColumnMenu.prototype.getModuleName = function () {\n        return 'columnMenu';\n    };\n    return ColumnMenu;\n}());\nexport { ColumnMenu };\n","import { TreeGrid, RowDD as TreeGridRowDD } from '@syncfusion/ej2-treegrid';\nimport { isNullOrUndefined, extend, addClass, getValue, closest } from '@syncfusion/ej2-base';\nimport { DataManager } from '@syncfusion/ej2-data';\nimport { isCountRequired } from '../base/common';\n/**\n * Gantt Excel Export module\n */\nvar RowDD = /** @class */ (function () {\n    /**\n     * Constructor for Excel Export module\n     *\n     * @param {Gantt} gantt .\n     */\n    function RowDD(gantt) {\n        this.isTest = false;\n        /** @hidden */\n        this.updateParentRecords = [];\n        /** @hidden */\n        this.isaddtoBottom = false;\n        this.updateCollection = {};\n        /** @hidden */\n        this.isSharedTask = false;\n        /** @hidden */\n        this.canDrop = true;\n        this.parent = gantt;\n        TreeGrid.Inject(TreeGridRowDD);\n        this.parent.treeGrid.allowRowDragAndDrop = this.parent.allowRowDragAndDrop;\n        this.bindEvents();\n    }\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} .\n     * @private\n     */\n    RowDD.prototype.getModuleName = function () {\n        return 'rowDragAndDrop';\n    };\n    /**\n     * To destroy excel export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.destroy = function () {\n        // Destroy Method\n    };\n    /**\n     * To bind excel exporting events.\n     *\n     * @returns {void} .\n     * @private\n     */\n    RowDD.prototype.bindEvents = function () {\n        this.parent.treeGrid.rowDragStart = this.rowDragStart.bind(this);\n        this.parent.treeGrid.rowDragStartHelper = this.rowDragStartHelper.bind(this);\n        this.parent.treeGrid.rowDrag = this.rowDrag.bind(this);\n        this.parent.treeGrid.rowDrop = this.rowDrop.bind(this);\n    };\n    RowDD.prototype.rowDragStart = function (args) {\n        this.parent.trigger('rowDragStart', args);\n        this.parent.element.style.position = 'relative'; // for positioning the drag element properly\n    };\n    RowDD.prototype.addErrorElem = function () {\n        var dragElem = document.querySelector('.e-ganttdrag');\n        if (!dragElem) {\n            return;\n        }\n        var errorElemExists = !!dragElem.querySelector('.e-errorelem');\n        if (errorElemExists) {\n            return;\n        }\n        var errorContainer = document.createElement('div');\n        errorContainer.classList.add('e-errorcontainer', 'e-icons', 'e-errorelem');\n        var rowCell = dragElem.querySelector('.e-rowcell');\n        if (!rowCell) {\n            return;\n        }\n        var content = rowCell.childNodes;\n        var errorVal = rowCell.querySelector('.errorValue');\n        if (errorVal) {\n            content = errorVal.childNodes;\n            errorVal.remove(); // Use `remove()` for cleaner DOM manipulation.\n        }\n        rowCell.innerHTML = ''; // Sanitization: Uses innerHTML carefully, ensuring safe content is inserted.\n        var spanContent = document.createElement('span');\n        spanContent.className = 'errorValue';\n        spanContent.style.paddingLeft = '16px';\n        content.forEach(function (node) {\n            spanContent.appendChild(node.cloneNode(true)); // Clone cautiously to maintain structure integrity\n        });\n        rowCell.appendChild(errorContainer);\n        rowCell.appendChild(spanContent);\n    };\n    RowDD.prototype.removeErrorElem = function () {\n        var errorelem = document.querySelector('.e-errorelem');\n        if (errorelem) {\n            errorelem.remove();\n        }\n    };\n    RowDD.prototype.rowDrag = function (args) {\n        var cloneElement = this.parent.element.querySelector('.e-cloneproperties');\n        cloneElement.style.display = 'none';\n        var ganttDragElement = cloneElement.cloneNode(true);\n        ganttDragElement.classList.add('e-ganttdrag');\n        ganttDragElement.style.display = '';\n        if (this.parent.element.querySelectorAll('.e-cloneproperties').length <= 1) {\n            this.parent.element.appendChild(ganttDragElement);\n        }\n        else {\n            if (document.getElementsByClassName('e-cloneproperties')[0].querySelectorAll('.e-errorelem').length) {\n                this.addErrorElem();\n            }\n            else {\n                this.removeErrorElem();\n            }\n        }\n        if (this.parent.gridLines === 'Both') {\n            addClass(this.parent.element.querySelectorAll('.e-ganttdrag .e-rowcell'), ['e-bothganttlines']);\n        }\n        var dragElement = this.parent.element.querySelector('.e-ganttdrag');\n        var ganttTop = this.parent.element.getClientRects()[0].top;\n        var ganttLeft = this.parent.element.getClientRects()[0].left;\n        var left;\n        var top;\n        if (this.parent.isAdaptive) {\n            /* eslint-disable-next-line */\n            left = args.originalEvent.event.touches[0].clientX - ganttLeft;\n            /* eslint-disable-next-line */\n            top = args.originalEvent.event.touches[0].clientY - ganttTop;\n        }\n        else {\n            left = getValue('event', args.originalEvent).clientX - ganttLeft;\n            top = getValue('event', args.originalEvent).clientY - ganttTop;\n        }\n        dragElement.style.left = left + 20 + 'px';\n        dragElement.style.top = top + 20 + 'px';\n        this.parent.trigger('rowDrag', args);\n    };\n    RowDD.prototype.rowDragStartHelper = function (args) {\n        this.parent.trigger('rowDragStartHelper', args);\n        if (this.parent.readOnly) {\n            args.cancel = true;\n        }\n        if (this.parent.viewType === 'ResourceView' && getValue('level', args.data[0]) === 0) {\n            args.cancel = true;\n        }\n    };\n    RowDD.prototype.rowDrop = function (args) {\n        // const ganttDragelem: Element = document.querySelector('.e-ganttdrag');\n        // if (ganttDragelem) {\n        //     ganttDragelem.remove();\n        // }\n        var gridRow = closest(args.target, '.e-row');\n        this.parent['oldRecords'] = extend([], [], args.data, true);\n        var dropIndex = gridRow ? parseInt(gridRow.getAttribute('aria-rowindex'), 10) - 1 : args.dropIndex;\n        args.dropIndex = dropIndex;\n        args.dropRecord = this.parent.updatedRecords[args.dropIndex];\n        this.parent.trigger('rowDrop', args);\n        if (this.parent.viewType === 'ResourceView') {\n            if (args.dropPosition === 'middleSegment') {\n                if (args.dropRecord.level === 1 || args.dropRecord.uniqueID === getValue('parentItem', args.data[0]).uniqueID) {\n                    args.cancel = true; // preventing to drop the record as child to any child records\n                }\n            }\n            if (args.dropPosition !== 'middleSegment') {\n                if (args.dropRecord.level === 0 || getValue('parentItem', args.data[0]).uniqueID === args.dropRecord.parentItem.uniqueID) {\n                    args.cancel = true;\n                }\n            }\n        }\n        if (!args.cancel) {\n            args.requestType = 'beforeDrop';\n            this.parent.trigger('actionBegin', args);\n            if (!args.cancel) {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.showMaskRow();\n                }\n                else {\n                    this.parent.showSpinner();\n                }\n                this.dropRows(args, true); // method to update the data collections based on drop action\n                args.cancel = true;\n            }\n            else {\n                if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                    this.parent.hideMaskRow();\n                }\n                else {\n                    this.parent.hideSpinner();\n                }\n            }\n        }\n    };\n    RowDD.prototype.dropRows = function (args, isByMethod) {\n        if (!this.parent.readOnly) {\n            this.dropPosition = args.dropPosition;\n            if (args.dropPosition !== 'Invalid' && this.parent.editModule) {\n                var gObj = this.parent;\n                this.droppedRecord = gObj.updatedRecords[args.dropIndex];\n                if (this.parent.undoRedoModule && (this.parent['isUndoRedoItemPresent']('RowDragAndDrop'))) {\n                    if (!this.parent.undoRedoModule['isUndoRedoPerformed']) {\n                        if (this.parent.undoRedoModule['redoEnabled']) {\n                            this.parent.undoRedoModule['disableRedo']();\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        if (!args.target && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n                            this.parent.editModule.taskbarEditModule.taskBarEditAction) {\n                            this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = [];\n                        }\n                        else {\n                            this.parent.undoRedoModule['createUndoCollection']();\n                        }\n                        var datas = [];\n                        var _loop_1 = function (i) {\n                            datas.push(this_1.parent.flatData.filter(function (data) {\n                                return args.data[i]['ganttProperties'].taskId === data.ganttProperties.taskId;\n                            })[0]);\n                        };\n                        var this_1 = this;\n                        for (var i = 0; i < args.data.length; i++) {\n                            _loop_1(i);\n                        }\n                        var rowItems = extend([], [], datas, true);\n                        var records = {};\n                        if (args['name']) {\n                            records['action'] = 'RowDragAndDrop';\n                        }\n                        else {\n                            records['action'] = 'TaskbarDragAndDrop';\n                        }\n                        records['beforeDrop'] = [];\n                        var previousDetails = {};\n                        previousDetails['dropRecord'] = extend([], [], [args.dropRecord ? args.dropRecord : this.droppedRecord], true)[0];\n                        previousDetails['data'] = extend([], [], args.data, true);\n                        if (args.dropPosition === 'middleSegment') {\n                            previousDetails['dropPosition'] = 'child';\n                        }\n                        else if (args.dropPosition === 'topSegment') {\n                            previousDetails['dropPosition'] = 'above';\n                        }\n                        else if (args.dropPosition === 'bottomSegment') {\n                            previousDetails['dropPosition'] = 'below';\n                        }\n                        records['afterDrop'] = previousDetails;\n                        this.parent.undoRedoModule['findPosition'](rowItems, records, 'beforeDrop');\n                        this.parent.undoRedoModule['getUndoCollection'][this.parent.undoRedoModule['getUndoCollection'].length - 1] = records;\n                    }\n                    if (this.parent.toolbarModule) {\n                        this.parent.toolbarModule.enableItems([this.parent.controlId + '_undo'], true);\n                    }\n                }\n                var draggedRecord = void 0;\n                var dragRecords = [];\n                var droppedRecord = this.droppedRecord;\n                if (!args.data[0]) {\n                    dragRecords.push(args.data);\n                }\n                else {\n                    dragRecords = args.data;\n                }\n                var count = 0;\n                var dragLength = dragRecords.length;\n                var _loop_2 = function (i) {\n                    this_2.parent.isOnEdit = true;\n                    draggedRecord = dragRecords[i];\n                    this_2.draggedRecord = draggedRecord;\n                    if (this_2.dropPosition !== 'Invalid') {\n                        if (this_2.parent.viewType === 'ResourceView') {\n                            this_2.checkisSharedTask();\n                            if (this_2.draggedRecord.level !== 0) {\n                                this_2.previousParent = this_2.draggedRecord.parentItem.uniqueID;\n                            }\n                        }\n                        if (this_2.isSharedTask) {\n                            return { value: void 0 };\n                        }\n                        if (isByMethod) {\n                            this_2.deleteDragRow();\n                        }\n                        var recordIndex1 = this_2.treeGridData.indexOf(droppedRecord);\n                        if (this_2.dropPosition === 'topSegment') {\n                            this_2.dropAtTop(recordIndex1);\n                        }\n                        if (this_2.dropPosition === 'bottomSegment') {\n                            if (!this_2.isSharedTask) {\n                                if (!droppedRecord.hasChildRecords) {\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + 1, 0, this_2.draggedRecord);\n                                    this_2.parent.ids.splice(recordIndex1 + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var taskId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + 1, 0, taskId);\n                                    }\n                                }\n                                else {\n                                    count = this_2.parent.editModule.getChildCount(droppedRecord, 0);\n                                    if (this_2.parent.taskFields.parentID && this_2.ganttData.length > 0) {\n                                        this_2.ganttData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.taskData);\n                                    }\n                                    this_2.treeGridData.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord);\n                                    /* eslint-disable-next-line */\n                                    this_2.parent.ids.splice(recordIndex1 + count + 1, 0, this_2.draggedRecord.ganttProperties.rowUniqueID.toString());\n                                    if (this_2.parent.viewType === 'ResourceView') {\n                                        var spliceId = this_2.draggedRecord.level === 0 ? 'R' + this_2.draggedRecord.ganttProperties.taskId : 'T' + this_2.draggedRecord.ganttProperties.taskId;\n                                        this_2.parent.getTaskIds().splice(recordIndex1 + count + 1, 0, spliceId);\n                                    }\n                                }\n                                this_2.parent.setRecordValue('parentItem', this_2.treeGridData[recordIndex1].parentItem, draggedRecord);\n                                this_2.parent.setRecordValue('parentUniqueID', this_2.treeGridData[recordIndex1].parentUniqueID, draggedRecord);\n                                this_2.parent.setRecordValue('level', this_2.treeGridData[recordIndex1].level, draggedRecord);\n                                if (draggedRecord.hasChildRecords) {\n                                    var level = 1;\n                                    this_2.updateChildRecordLevel(draggedRecord, level);\n                                    this_2.updateChildRecord(draggedRecord, recordIndex1 + count + 1);\n                                }\n                                if (droppedRecord.parentItem) {\n                                    var rec = this_2.parent.getParentTask(droppedRecord.parentItem).childRecords;\n                                    var childRecords = rec;\n                                    var droppedRecordIndex = childRecords.indexOf(droppedRecord) + 1;\n                                    childRecords.splice(droppedRecordIndex, 0, draggedRecord);\n                                }\n                            }\n                        }\n                        if (this_2.dropPosition === 'middleSegment') {\n                            this_2.dropMiddle(recordIndex1);\n                            if (droppedRecord.childRecords.length > 0) {\n                                delete droppedRecord.ganttProperties.segments;\n                                delete droppedRecord.taskData[this_2.parent.taskFields.segments];\n                            }\n                        }\n                        if (this_2.treeGridData.length !== 0) {\n                            for (var i_1 = 0; i_1 < this_2.treeGridData.length; i_1++) {\n                                this_2.treeGridData[parseInt(i_1.toString(), 10)].index = i_1;\n                                if (!isNullOrUndefined(this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem)) {\n                                    var updatedParent = getValue('uniqueIDCollection.' + this_2.treeGridData[parseInt(i_1.toString(), 10)].parentUniqueID, this_2.parent.treeGrid);\n                                    this_2.treeGridData[parseInt(i_1.toString(), 10)].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        }\n                        // eslint-disable-next-line\n                        if (!isNullOrUndefined(draggedRecord.parentItem && this_2.updateParentRecords.indexOf(draggedRecord.parentItem) !== -1)) {\n                            this_2.updateParentRecords.push(draggedRecord.parentItem);\n                        }\n                    }\n                    if (!this_2.parent.enableVirtualization) {\n                        var data_1 = gObj.flatData;\n                        var startIndex = void 0;\n                        var endIndex = void 0;\n                        var ganttData_1 = this_2.parent.dataSource;\n                        var uniqueTaskID_1 = this_2.parent.taskFields.id;\n                        if (draggedRecord.index < droppedRecord.index) {\n                            startIndex = draggedRecord.index;\n                            var _loop_4 = function (i_2) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_2][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > droppedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_2 = 0; i_2 < ganttData_1.length; i_2++) {\n                                var state_2 = _loop_4(i_2);\n                                if (state_2 === \"break\")\n                                    break;\n                            }\n                        }\n                        else {\n                            startIndex = droppedRecord.index;\n                            var _loop_5 = function (i_3) {\n                                var currentData = this_2.parent.currentViewData.filter(function (e) {\n                                    return e[uniqueTaskID_1] === ganttData_1[i_3][uniqueTaskID_1];\n                                })[0];\n                                if (currentData && currentData.index > draggedRecord.index) {\n                                    endIndex = currentData.index;\n                                    return \"break\";\n                                }\n                            };\n                            for (var i_3 = 0; i_3 < ganttData_1.length; i_3++) {\n                                var state_3 = _loop_5(i_3);\n                                if (state_3 === \"break\")\n                                    break;\n                            }\n                        }\n                        var _loop_6 = function (i_4) {\n                            if (!isNullOrUndefined(data_1[i_4])) {\n                                data_1[i_4].index = i_4;\n                                if (!isNullOrUndefined(data_1[i_4].parentItem)) {\n                                    var updatedParent = data_1.filter(function (e) {\n                                        return e.uniqueID === data_1[i_4].parentUniqueID;\n                                    })[0];\n                                    data_1[i_4].parentItem.index = updatedParent.index;\n                                }\n                            }\n                        };\n                        for (var i_4 = startIndex; i_4 <= endIndex; i_4++) {\n                            _loop_6(i_4);\n                        }\n                    }\n                    gObj.rowDragAndDropModule.refreshDataSource();\n                };\n                var this_2 = this;\n                for (var i = 0; i < dragLength; i++) {\n                    var state_1 = _loop_2(i);\n                    if (typeof state_1 === \"object\")\n                        return state_1.value;\n                }\n                if (this.dropPosition === 'middleSegment') {\n                    if (droppedRecord.ganttProperties.predecessor) {\n                        var len = droppedRecord.ganttProperties.predecessor.length;\n                        for (var count_1 = 0; count_1 < len; count_1++) {\n                            if (droppedRecord.ganttProperties.predecessor && droppedRecord.ganttProperties.predecessor[count_1]) {\n                                var fromRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].from);\n                                var toRecord = this.parent.getRecordByID(droppedRecord.ganttProperties.predecessor[count_1].to);\n                                var validPredecessor = this.parent.predecessorModule.validateParentPredecessor(fromRecord, toRecord);\n                                if (droppedRecord.ganttProperties.predecessor && (!validPredecessor ||\n                                    !this.parent.allowParentDependency)) {\n                                    this.parent.editModule.removePredecessorOnDelete(droppedRecord);\n                                    droppedRecord.ganttProperties.predecessor.splice(0, 1);\n                                    if (droppedRecord.ganttProperties.predecessorsName) {\n                                        var splittedName = droppedRecord.ganttProperties.predecessorsName.split(',');\n                                        for (var i = 0; i < splittedName.length; i++) {\n                                            if (splittedName[i].indexOf(draggedRecord.ganttProperties.taskId + '') !== -1) {\n                                                splittedName.splice(i, 1);\n                                            }\n                                        }\n                                        var validatedPredecessorNames = splittedName.join();\n                                        droppedRecord.ganttProperties.predecessorsName = validatedPredecessorNames;\n                                        droppedRecord[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                        droppedRecord.taskData[this.parent.taskFields.dependency] = validatedPredecessorNames;\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (droppedRecord.ganttProperties.isMilestone) {\n                        this.parent.setRecordValue('isMilestone', false, droppedRecord.ganttProperties, true);\n                        if (!isNullOrUndefined(droppedRecord.taskData[this.parent.taskFields.milestone])) {\n                            if (droppedRecord.taskData[this.parent.taskFields.milestone] === true) {\n                                droppedRecord.taskData[this.parent.taskFields.milestone] = false;\n                            }\n                        }\n                    }\n                }\n                if (this.parent.viewType === 'ResourceView' && !this.isSharedTask) {\n                    var parentUniqueID = void 0;\n                    if (this.dropPosition === 'middleSegment') {\n                        parentUniqueID = this.droppedRecord.uniqueID;\n                    }\n                    else {\n                        parentUniqueID = this.droppedRecord.parentItem ?\n                            this.droppedRecord.parentItem.uniqueID : this.droppedRecord.uniqueID;\n                    }\n                    var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n                    var editedObj = {};\n                    editedObj[this.parent.taskFields.resourceInfo] = [];\n                    editedObj[this.parent.taskFields.resourceInfo].push(droppedParentItem.ganttProperties.taskId);\n                    this.removeExistingResources();\n                    var tempResourceInfo = this.parent.dataOperation.setResourceInfo(editedObj);\n                    var currentTask = this.draggedRecord;\n                    if (isNullOrUndefined(currentTask.ganttProperties.resourceInfo)) {\n                        currentTask.ganttProperties.resourceInfo = [];\n                    }\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        currentTask.ganttProperties.resourceInfo = [];\n                        currentTask.ganttProperties.sharedTaskUniqueIds = [currentTask.ganttProperties.rowUniqueID];\n                    }\n                    else {\n                        currentTask.ganttProperties.resourceInfo.push(tempResourceInfo[0]);\n                    }\n                    this.updateCurrentTask(currentTask);\n                    if (droppedParentItem.ganttProperties.taskName === 'Unassigned Task') {\n                        this.deleteSharedResourceTask();\n                    }\n                    else {\n                        this.updateSharedResourceTask();\n                    }\n                }\n                if (this.parent.taskFields.dependency && this.parent.allowParentDependency) {\n                    var isValidPredecessor = true;\n                    var draggedParent = void 0;\n                    var toParent_1;\n                    if (draggedRecord.parentItem) {\n                        draggedParent = this.parent.flatData[this.parent.ids.indexOf(draggedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        draggedParent = draggedRecord;\n                    }\n                    if (droppedRecord.parentItem) {\n                        toParent_1 = this.parent.flatData[this.parent.ids.indexOf(droppedRecord.parentItem.taskId)];\n                    }\n                    else {\n                        toParent_1 = droppedRecord;\n                    }\n                    var validateRecords = void 0;\n                    if (toParent_1.uniqueID === draggedParent.uniqueID || (draggedParent.parentItem &&\n                        toParent_1.uniqueID === this.parent.flatData[this.parent.ids.indexOf(draggedParent.parentItem.taskId)].uniqueID)) {\n                        validateRecords = this.parent.currentViewData.filter(function (data) {\n                            if ((data.ganttProperties.predecessor && data.ganttProperties.predecessor.length > 0)) {\n                                for (var i = 0; i < data.ganttProperties.predecessor.length; i++) {\n                                    return (parseInt(data.ganttProperties.predecessor[i].to, 10) ===\n                                        parseInt(toParent_1.ganttProperties.taskId, 10) ||\n                                        parseInt(data.ganttProperties.predecessor[i].from, 10) ===\n                                            parseInt(toParent_1.ganttProperties.taskId, 10));\n                                }\n                            }\n                            return null;\n                        });\n                        var predName = [];\n                        for (var i = 0; i < validateRecords.length; i++) {\n                            predName = [];\n                            if (validateRecords[i].ganttProperties.predecessor) {\n                                for (var k = 0; k < validateRecords[i].ganttProperties.predecessor.length; k++) {\n                                    if (parseInt(validateRecords[i].ganttProperties.taskId, 10) !==\n                                        parseInt(validateRecords[i].ganttProperties.predecessor[k].from, 10)) {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].from);\n                                    }\n                                    else {\n                                        predName.push(validateRecords[i].ganttProperties.predecessor[k].to);\n                                    }\n                                }\n                            }\n                            var _loop_3 = function (j) {\n                                var name_1 = predName[j].replace(/\\D/g, '');\n                                var toRec = this_3.parent.currentViewData.filter(function (data) {\n                                    return parseInt(data.ganttProperties.taskId, 10) === parseInt(name_1, 10);\n                                });\n                                isValidPredecessor = this_3.parent.predecessorModule.validateParentPredecessor(validateRecords[i], toRec[0]);\n                                if (!isValidPredecessor) {\n                                    this_3.parent.dataOperation['resetDependency'](validateRecords[i]);\n                                    this_3.parent.dataOperation['resetDependency'](toRec[0]);\n                                }\n                            };\n                            var this_3 = this;\n                            for (var j = 0; j < predName.length; j++) {\n                                _loop_3(j);\n                            }\n                        }\n                    }\n                }\n                // method to update the edited parent records\n                for (var j = 0; j < this.updateParentRecords.length; j++) {\n                    this.parent.dataOperation.updateParentItems(this.updateParentRecords[j]);\n                }\n                if (this.parent.viewType === 'ProjectView' && this.parent.editModule &&\n                    this.parent.editModule.taskbarEditModule && this.parent.undoRedoModule &&\n                    this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n                    this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop' &&\n                    this.parent.undoRedoModule['currentAction']['beforeDrop'][0].position !== 'child') {\n                    var dropRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].dropRecord.ganttProperties.taskId.toString())];\n                    this.parent.editModule.taskbarEditModule.taskBarEditRecord = dropRec;\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n                    this.parent.predecessorModule.validatePredecessor(dropRec, [], '');\n                    this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n                }\n                this.updateParentRecords = [];\n                this.parent.isOnEdit = false;\n            }\n            if (!isNullOrUndefined(this.parent.editModule)) {\n                this.parent.editModule.refreshRecord(args, true);\n            }\n            if (!this.parent.undoRedoModule || (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'])) {\n                this.parent.previousFlatData = extend([], [], this.parent.flatData, true);\n            }\n        }\n        this.parent['oldRecords'] = [];\n    };\n    RowDD.prototype.updateCurrentTask = function (currentTask) {\n        this.parent.dataOperation.updateMappingData(currentTask, 'resourceInfo');\n        this.parent.editModule.updateResourceRelatedFields(currentTask, 'resource');\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n        this.parent.editModule.dialogModule.dialogEditValidationFlag = false;\n        this.parent.editModule.dialogModule.validateDuration(currentTask);\n        this.parent.dataOperation.updateWidthLeft(currentTask);\n        this.parent.dataOperation.updateTaskData(currentTask);\n    };\n    RowDD.prototype.deleteSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                if (this.parent.getTaskByUniqueID(this.parent.flatData[i].parentItem.uniqueID).ganttProperties.taskName !== 'Unassigned Task') {\n                    this.removeRecords(this.parent.flatData[i]);\n                }\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype.removeExistingResources = function () {\n        var preParentRecord = this.parent.getTaskByUniqueID(this.previousParent);\n        if (this.draggedRecord.ganttProperties.resourceInfo) {\n            for (var count = 0; count < this.draggedRecord.ganttProperties.resourceInfo.length; count++) {\n                if (this.draggedRecord.ganttProperties.resourceInfo[parseInt(count.toString(), 10)][this.parent.resourceFields.id] ===\n                    preParentRecord.ganttProperties.taskId) {\n                    this.draggedRecord.ganttProperties.resourceInfo.splice(count, 1);\n                    break;\n                }\n            }\n        }\n    };\n    /*update the record for the same task which are shared with other tasks*/\n    RowDD.prototype.updateSharedResourceTask = function () {\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + this.draggedRecord.ganttProperties.taskId) {\n                this.parent.editModule.updateGanttProperties(this.draggedRecord, this.parent.flatData[i]);\n                this.parent.dataOperation.updateTaskData(this.parent.flatData[i]);\n                if (!isNullOrUndefined(this.parent.flatData[parseInt(i.toString(), 10)].parentItem &&\n                    this.updateParentRecords.indexOf(this.parent.flatData[parseInt(i.toString(), 10)].parentItem) !== -1)) {\n                    this.updateParentRecords.push(this.parent.flatData[i].parentItem);\n                }\n            }\n        }\n    };\n    RowDD.prototype._getExistingTaskWithID = function (record) {\n        var existingTasks = [];\n        for (var i = 0; i < this.parent.getTaskIds().length; i++) {\n            if (this.parent.getTaskIds()[i] === 'T' + record.ganttProperties.taskId) {\n                existingTasks.push(this.parent.flatData[i]);\n            }\n        }\n        return existingTasks;\n    };\n    /*Method to remove resource from resource Info collection and update reosurce related fields*/\n    RowDD.prototype.removeResourceInfo = function (record) {\n        var droppedParentItem = this.parent.getTaskByUniqueID(this.draggedRecord.parentItem.uniqueID);\n        if (record.ganttProperties.resourceInfo && record.ganttProperties.resourceInfo.length > 1) {\n            var sameIdTasks = this._getExistingTaskWithID(record);\n            var currentTask = void 0;\n            if (sameIdTasks === null) {\n                return;\n            }\n            for (var i = 0; i < sameIdTasks.length; i++) {\n                currentTask = sameIdTasks[i];\n                var resources = currentTask.ganttProperties.resourceInfo;\n                for (var count = 0; count < resources.length; count++) {\n                    if (resources[count][this.parent.resourceFields.id] === droppedParentItem.ganttProperties.taskId) {\n                        resources.splice(count, 1);\n                        this.parent.setRecordValue('resourceInfo', resources, currentTask.ganttProperties, true);\n                        this.updateCurrentTask(currentTask);\n                        if (!isNullOrUndefined(currentTask.parentItem && this.updateParentRecords.indexOf(currentTask.parentItem) !== -1)) {\n                            this.updateParentRecords.push(currentTask.parentItem);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    RowDD.prototype.refreshDataSource = function () {\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var proxy = this.parent;\n        var tempDataSource;\n        var idx;\n        var ganttFields = this.parent.taskFields;\n        if (this.parent.dataSource instanceof DataManager) {\n            tempDataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            tempDataSource = proxy.dataSource;\n        }\n        if (tempDataSource.length > 0 && (!isNullOrUndefined(droppedRecord) && !droppedRecord.parentItem)) {\n            for (var i = 0; i < Object.keys(tempDataSource).length; i++) {\n                if (!isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    tempDataSource[i][ganttFields.child] === droppedRecord.taskData[ganttFields.child]) {\n                    idx = i;\n                }\n                else if (isNullOrUndefined(droppedRecord.taskData[ganttFields.child]) &&\n                    droppedRecord.taskData[ganttFields.id] === tempDataSource[i][ganttFields.id]) {\n                    idx = i;\n                }\n            }\n            if (this.dropPosition === 'topSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx, 0, draggedRecord.taskData);\n                }\n            }\n            else if (this.dropPosition === 'bottomSegment') {\n                if (!this.parent.taskFields.parentID) {\n                    tempDataSource.splice(idx + 1, 0, draggedRecord.taskData);\n                }\n            }\n        }\n        else if (!this.parent.taskFields.parentID && (!isNullOrUndefined(droppedRecord) && droppedRecord.parentItem)) {\n            if (this.dropPosition === 'topSegment' || this.dropPosition === 'bottomSegment') {\n                var rowPosition = this.dropPosition === 'topSegment' ? 'Above' : 'Below';\n                this.parent.editModule.addRowSelectedItem = droppedRecord;\n                this.parent.editModule.updateRealDataSource([draggedRecord], rowPosition);\n                delete this.parent.editModule.addRowSelectedItem;\n            }\n        }\n        if (this.parent.taskFields.parentID) {\n            if (draggedRecord.parentItem) {\n                var droppedId = this.dropPosition === 'middleSegment' ? this.parent.taskFields.id :\n                    this.parent.taskFields.parentID;\n                draggedRecord[this.parent.taskFields.parentID] = droppedRecord[droppedId];\n                draggedRecord.ganttProperties.parentId = droppedRecord[droppedId];\n                if ((this.parent.viewType === 'ResourceView' && !(this.dropPosition === 'middleSegment')) ||\n                    this.parent.viewType === 'ProjectView') {\n                    draggedRecord.taskData[this.parent.taskFields.parentID] = droppedRecord.taskData[droppedId];\n                }\n            }\n            else {\n                draggedRecord[this.parent.taskFields.parentID] = null;\n                draggedRecord.taskData[this.parent.taskFields.parentID] = null;\n                draggedRecord.ganttProperties.parentId = null;\n            }\n        }\n        if (this.parent.viewType === 'ProjectView' && this.parent.editModule && this.parent.editModule.taskbarEditModule &&\n            this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && this.parent.predecessorModule &&\n            this.parent.undoRedoModule['currentAction']['action'] === 'TaskbarDragAndDrop') {\n            var dragRec = this.parent.flatData[this.parent.ids.indexOf(this.parent.undoRedoModule['currentAction']['afterDrop'].data[0].ganttProperties.taskId.toString())];\n            this.parent.editModule.taskbarEditModule.taskBarEditRecord = dragRec;\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = 'ChildDrag';\n            this.parent.predecessorModule.validatePredecessor(dragRec, [], '');\n            this.parent.editModule.taskbarEditModule.taskBarEditAction = null;\n        }\n    };\n    RowDD.prototype.dropMiddle = function (recordIndex1) {\n        var gObj = this.parent;\n        var childRecords = this.parent.editModule.getChildCount(this.droppedRecord, 0);\n        var childRecordsLength = (isNullOrUndefined(childRecords) ||\n            childRecords === 0) ? recordIndex1 + 1 :\n            childRecords + recordIndex1 + 1;\n        if (this.dropPosition === 'middleSegment' && !this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(childRecordsLength, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(childRecordsLength, 0, this.draggedRecord);\n            this.parent.ids.splice(childRecordsLength, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            if (this.parent.viewType === 'ResourceView') {\n                var recordId = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(childRecordsLength, 0, recordId);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                this.updateChildRecord(this.draggedRecord, childRecordsLength, this.droppedRecord.expanded);\n            }\n            this.recordLevel();\n            if (isNullOrUndefined(this.draggedRecord.parentItem &&\n                this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.recordLevel = function () {\n        var gObj = this.parent;\n        var draggedRecord = this.draggedRecord;\n        var droppedRecord = this.droppedRecord;\n        var childItem = gObj.taskFields.child;\n        if (!droppedRecord.hasChildRecords) {\n            droppedRecord.hasChildRecords = true;\n            if (!droppedRecord.childRecords.length) {\n                droppedRecord.childRecords = [];\n                if (!gObj.taskFields.parentID && isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                    droppedRecord.taskData[childItem] = [];\n                }\n            }\n        }\n        if (this.dropPosition === 'middleSegment') {\n            var parentItem = extend({}, droppedRecord);\n            delete parentItem.childRecords;\n            var createParentItem = {\n                uniqueID: parentItem.uniqueID,\n                expanded: parentItem.expanded,\n                level: parentItem.level,\n                index: parentItem.index,\n                taskId: parentItem.ganttProperties.rowUniqueID\n            };\n            this.parent.setRecordValue('parentItem', createParentItem, draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', droppedRecord.uniqueID, draggedRecord);\n            droppedRecord.childRecords.splice(droppedRecord.childRecords.length, 0, draggedRecord);\n            if (!isNullOrUndefined(draggedRecord) && !gObj.taskFields.parentID &&\n                !isNullOrUndefined(droppedRecord.taskData[childItem])) {\n                droppedRecord.taskData[gObj.taskFields.child].splice(droppedRecord.childRecords.length, 0, draggedRecord.taskData);\n            }\n            if (!draggedRecord.hasChildRecords) {\n                draggedRecord.level = droppedRecord.level + 1;\n            }\n            else {\n                var level = 1;\n                draggedRecord.level = droppedRecord.level + 1;\n                this.parent.setRecordValue('level', this.draggedRecord.level, this.draggedRecord);\n                this.updateChildRecordLevel(draggedRecord, level);\n            }\n            droppedRecord.expanded = true;\n        }\n    };\n    RowDD.prototype.deleteDragRow = function () {\n        this.treeGridData = isCountRequired(this.parent) ? getValue('result', this.parent.treeGrid.dataSource) :\n            this.parent.treeGrid.dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            this.ganttData = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            this.ganttData = isCountRequired(this.parent) ? getValue('result', this.parent.dataSource) :\n                this.parent.dataSource;\n        }\n        var deletedRow;\n        if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed']) {\n            if (this.parent.viewType === 'ProjectView') {\n                deletedRow = this.parent.flatData[this.parent.ids.indexOf(this.draggedRecord.ganttProperties.taskId.toString())];\n            }\n            else {\n                if (this.draggedRecord.hasChildRecords) {\n                    deletedRow = this.parent.flatData['R' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n                else {\n                    deletedRow = this.parent.flatData['T' + this.parent.taskIds.indexOf(this.draggedRecord.ganttProperties.taskId)];\n                }\n            }\n        }\n        else {\n            deletedRow = this.parent.getTaskByUniqueID(this.draggedRecord.uniqueID);\n        }\n        this.removeRecords(deletedRow);\n    };\n    //method to check the dropped record has already present in the child collection\n    RowDD.prototype.checkisSharedTask = function () {\n        this.isSharedTask = false;\n        var sharedTask = null;\n        // eslint-disable-next-line\n        var parentUniqueID = this.droppedRecord.level === 0 ? this.droppedRecord.uniqueID : this.droppedRecord.parentItem.uniqueID;\n        var droppedParentItem = this.parent.getTaskByUniqueID(parentUniqueID);\n        var childTasks = droppedParentItem.childRecords;\n        for (var i = 0; i < childTasks.length; i++) {\n            if ('T' + this.draggedRecord.ganttProperties.taskId === 'T' + childTasks[i].ganttProperties.taskId) {\n                this.isSharedTask = true;\n                sharedTask = childTasks[i];\n            }\n        }\n        if (this.isSharedTask) {\n            this.removeResourceInfo(sharedTask);\n        }\n    };\n    RowDD.prototype.dropAtTop = function (recordIndex1) {\n        var gObj = this.parent;\n        if (!this.isSharedTask) {\n            if (gObj.taskFields.parentID && this.ganttData.length > 0) {\n                this.ganttData.splice(recordIndex1, 0, this.draggedRecord.taskData);\n            }\n            this.treeGridData.splice(recordIndex1, 0, this.draggedRecord);\n            this.parent.ids.splice(recordIndex1, 0, this.draggedRecord.ganttProperties.rowUniqueID.toString());\n            this.parent.setRecordValue('parentItem', this.droppedRecord.parentItem, this.draggedRecord);\n            this.parent.setRecordValue('parentUniqueID', this.droppedRecord.parentUniqueID, this.draggedRecord);\n            this.parent.setRecordValue('level', this.droppedRecord.level, this.draggedRecord);\n            if (this.parent.viewType === 'ResourceView') {\n                var id = this.draggedRecord.level === 0 ? 'R' + this.draggedRecord.ganttProperties.taskId : 'T' + this.draggedRecord.ganttProperties.taskId;\n                this.parent.getTaskIds().splice(recordIndex1, 0, id);\n            }\n            if (this.draggedRecord.hasChildRecords) {\n                var level = 1;\n                this.updateChildRecord(this.draggedRecord, recordIndex1);\n                this.updateChildRecordLevel(this.draggedRecord, level);\n            }\n            if (this.droppedRecord.parentItem) {\n                var rec = this.parent.getParentTask(this.droppedRecord.parentItem).childRecords;\n                var childRecords = rec;\n                var droppedRecordIndex = childRecords.indexOf(this.droppedRecord);\n                childRecords.splice(droppedRecordIndex, 0, this.draggedRecord);\n            }\n            /* eslint-disable-next-line */\n            if (!isNullOrUndefined(this.draggedRecord.parentItem && this.updateParentRecords.indexOf(this.draggedRecord.parentItem) !== -1)) {\n                this.updateParentRecords.push(this.draggedRecord.parentItem);\n            }\n        }\n    };\n    RowDD.prototype.updateChildRecordLevel = function (record, level) {\n        var length = 0;\n        var currentRecord;\n        level++;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            var parentData = void 0;\n            if (record.parentItem) {\n                var id = 'uniqueIDCollection';\n                parentData = this.parent.treeGrid[id][record.parentItem.uniqueID];\n            }\n            currentRecord.level = record.parentItem ? parentData.level + level : record.level + 1;\n            this.parent.setRecordValue('level', currentRecord.level, currentRecord);\n            if (currentRecord.hasChildRecords) {\n                level--;\n                level = this.updateChildRecordLevel(currentRecord, level);\n            }\n        }\n        return level;\n    };\n    // eslint-disable-next-line\n    RowDD.prototype.updateChildRecord = function (record, count, expanded) {\n        var currentRecord;\n        var gObj = this.parent;\n        var length = 0;\n        if (!record.hasChildRecords) {\n            return 0;\n        }\n        length = record.childRecords.length;\n        for (var i = 0; i < length; i++) {\n            currentRecord = record.childRecords[i];\n            count++;\n            gObj.flatData.splice(count, 0, currentRecord);\n            this.parent.ids.splice(count, 0, currentRecord.ganttProperties.rowUniqueID.toString());\n            if (gObj.taskFields.parentID && gObj.dataSource.length > 0) {\n                this.ganttData.splice(count, 0, currentRecord.taskData);\n            }\n            if (currentRecord.hasChildRecords) {\n                count = this.updateChildRecord(currentRecord, count);\n            }\n        }\n        return count;\n    };\n    RowDD.prototype.removeRecords = function (record) {\n        var gObj = this.parent;\n        var dataSource;\n        if (this.parent.dataSource instanceof DataManager) {\n            dataSource = getValue('dataOperation.dataArray', this.parent);\n        }\n        else {\n            dataSource = this.parent.dataSource;\n        }\n        var deletedRow = record;\n        var flatParentData = deletedRow && deletedRow.parentItem ? this.parent.getParentTask(deletedRow.parentItem) : null;\n        if (deletedRow) {\n            if (deletedRow.parentItem) {\n                var childRecords = [];\n                if (flatParentData) {\n                    childRecords = flatParentData.childRecords;\n                }\n                var childIndex = 0;\n                if (childRecords && childRecords.length > 0) {\n                    if (this.parent.viewType === 'ResourceView' && childRecords.length === 1) {\n                        //For updating the parent record which has zero parent reords.\n                        this.parent.isOnDelete = true;\n                        childRecords[0].isDelete = true;\n                        this.parent.dataOperation.updateParentItems(flatParentData);\n                        this.parent.isOnDelete = false;\n                        childRecords[0].isDelete = false;\n                    }\n                    childIndex = childRecords.indexOf(deletedRow);\n                    flatParentData.childRecords.splice(childIndex, 1);\n                    if (!this.parent.taskFields.parentID && flatParentData.taskData[this.parent.taskFields.child]) {\n                        flatParentData.taskData[this.parent.taskFields.child].splice(childIndex, 1);\n                    }\n                    // collection for updating parent record\n                    this.updateParentRecords.push(flatParentData);\n                }\n            }\n            //method to delete the record from datasource collection\n            if (!this.parent.taskFields.parentID) {\n                var deleteRecordIDs = [];\n                deleteRecordIDs.push(deletedRow.ganttProperties.taskId.toString());\n                if (this.parent.viewType === 'ProjectView' || (this.parent.viewType === 'ResourceView' && this.dropPosition !== 'middleSegment')) {\n                    this.parent.editModule.removeFromDataSource(deleteRecordIDs);\n                }\n            }\n            if (gObj.taskFields.parentID) {\n                if (deletedRow.hasChildRecords && deletedRow.childRecords.length > 0) {\n                    this.removeChildItem(deletedRow);\n                }\n                var idx = void 0;\n                var ganttData = dataSource.length > 0 && this.parent.viewType !== 'ResourceView' ?\n                    dataSource : this.parent.updatedRecords;\n                for (var i = 0; i < ganttData.length; i++) {\n                    if (this.parent.viewType === 'ResourceView') {\n                        if (ganttData[i].ganttProperties.rowUniqueID === deletedRow.ganttProperties.rowUniqueID) {\n                            idx = i;\n                        }\n                    }\n                    else {\n                        if (ganttData[i][this.parent.taskFields.id] === deletedRow.taskData[this.parent.taskFields.id]) {\n                            idx = i;\n                        }\n                    }\n                }\n                if (idx !== -1) {\n                    if (dataSource.length > 0) {\n                        dataSource.splice(idx, 1);\n                    }\n                    var tempIndex = this.treeGridData.indexOf(deletedRow);\n                    this.treeGridData.splice(tempIndex, 1);\n                    this.parent.ids.splice(tempIndex, 1);\n                    if (this.parent.treeGrid.parentData.indexOf(deletedRow) !== -1) {\n                        this.parent.treeGrid.parentData.splice(this.parent.treeGrid.parentData.indexOf(deletedRow), 1);\n                    }\n                    if (this.parent.viewType === 'ResourceView') {\n                        this.parent.getTaskIds().splice(idx, 1);\n                    }\n                }\n            }\n            var recordIndex = this.treeGridData.indexOf(deletedRow);\n            if (!gObj.taskFields.parentID) {\n                var deletedRecordCount = this.parent.editModule.getChildCount(deletedRow, 0);\n                this.treeGridData.splice(recordIndex, deletedRecordCount + 1);\n                this.parent.ids.splice(recordIndex, deletedRecordCount + 1);\n                var parentIndex = this.ganttData.indexOf(deletedRow.taskData);\n                if (parentIndex !== -1) {\n                    this.ganttData.splice(parentIndex, 1);\n                    this.parent.treeGrid.parentData.splice(parentIndex, 1);\n                }\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(recordIndex, deletedRecordCount + 1);\n                }\n            }\n            if (deletedRow.parentItem && flatParentData && flatParentData.childRecords && !flatParentData.childRecords.length) {\n                flatParentData.expanded = false;\n                flatParentData.hasChildRecords = false;\n            }\n        }\n    };\n    RowDD.prototype.removeChildItem = function (record) {\n        var currentRecord;\n        var idx;\n        for (var i = 0; i < record.childRecords.length; i++) {\n            currentRecord = record.childRecords[i];\n            var ganttData = void 0;\n            if (this.parent.dataSource instanceof DataManager) {\n                ganttData = getValue('dataOperation.dataArray', this.parent);\n            }\n            else {\n                ganttData = this.parent.dataSource;\n            }\n            for (var j = 0; j < ganttData.length; j++) {\n                if (ganttData[j][this.parent.taskFields.id] === currentRecord.taskData[this.parent.taskFields.id]) {\n                    idx = j;\n                }\n            }\n            if (idx !== -1) {\n                if (ganttData.length > 0) {\n                    ganttData.splice(idx, 1);\n                }\n                var tempIndex = this.treeGridData.indexOf(currentRecord);\n                this.treeGridData.splice(tempIndex, 1);\n                this.parent.ids.splice(tempIndex, 1);\n                if (this.parent.viewType === 'ResourceView') {\n                    this.parent.getTaskIds().splice(idx, 1);\n                }\n            }\n            if (currentRecord.hasChildRecords) {\n                this.removeChildItem(currentRecord);\n            }\n        }\n    };\n    /**\n     * Reorder the rows based on given indexes and position\n     *\n     * @param {number[]} fromIndexes .\n     * @param {number} toIndex .\n     * @param {string} position .\n     * @returns {void} .\n     */\n    RowDD.prototype.reorderRows = function (fromIndexes, toIndex, position) {\n        if (!this.parent.readOnly) {\n            if (fromIndexes[0] !== toIndex && (position === 'above' || position === 'below' || position === 'child')) {\n                if (position === 'above') {\n                    this.dropPosition = 'topSegment';\n                }\n                if (position === 'below') {\n                    this.dropPosition = 'bottomSegment';\n                }\n                if (position === 'child') {\n                    this.dropPosition = 'middleSegment';\n                }\n                var prevData = void 0;\n                if (this.parent.undoRedoModule) {\n                    prevData = extend([], [], [this.parent.undoRedoModule['currentAction']], true)[0];\n                }\n                var data = [];\n                for (var i = 0; i < fromIndexes.length; i++) {\n                    if (this.parent.undoRedoModule && this.parent.undoRedoModule['isUndoRedoPerformed'] && (prevData['action'] === 'RowDragAndDrop' || prevData['action'] === 'TaskbarDragAndDrop')) {\n                        data[i] = prevData['beforeDrop'][i].data;\n                    }\n                    else {\n                        data[i] = this.parent.flatData[fromIndexes[i]];\n                    }\n                }\n                var isByMethod = true;\n                var args = {\n                    data: data,\n                    dropIndex: toIndex,\n                    dropPosition: this.dropPosition\n                };\n                this.dropRows(args, isByMethod);\n            }\n            else {\n                return;\n            }\n        }\n    };\n    return RowDD;\n}());\nexport { RowDD };\n","import { PdfColor, PdfDashStyle, PdfFontFamily, PdfPen, PdfStringFormat } from '@syncfusion/ej2-pdf-export';\n/**\n * @hidden\n */\nvar PdfGanttTheme = /** @class */ (function () {\n    function PdfGanttTheme(theme) {\n        this.theme = theme;\n        this.ganttStyle = {};\n        this.setTheme(this.ganttStyle, this.theme);\n        this.ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n    }\n    Object.defineProperty(PdfGanttTheme.prototype, \"style\", {\n        get: function () {\n            return this.ganttStyle;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGanttTheme.prototype.setTheme = function (ganttStyle, theme) {\n        this.initStyles(ganttStyle);\n        ganttStyle.columnHeader.fontSize = 9.5;\n        ganttStyle.columnHeader.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.columnHeader.fontColor.gray = 0.2;\n        ganttStyle.columnHeader.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.columnHeader.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.columnHeader.format.lineAlignment = 1; //Centre\n        ganttStyle.columnHeader.format.alignment = 0; //Left\n        ganttStyle.fontFamily = PdfFontFamily.Helvetica;\n        ganttStyle.cell.fontSize = 9.5;\n        ganttStyle.cell.backgroundColor = new PdfColor(255, 255, 255);\n        ganttStyle.cell.borderColor = new PdfColor(234, 234, 234);\n        ganttStyle.cell.fontColor = new PdfColor(0, 0, 0);\n        ganttStyle.cell.fontColor.gray = 0.2;\n        ganttStyle.cell.format.lineAlignment = 1; // Centre\n        ganttStyle.cell.format.alignment = 0; // Left\n        ganttStyle.footer.fontSize = 9.5;\n        ganttStyle.footer.fontStyle = 0;\n        ganttStyle.footer.format.alignment = 1; //Centre\n        ganttStyle.footer.format.lineAlignment = 1; // Middle\n        ganttStyle.footer.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.fontSize = 9.5;\n        ganttStyle.timeline.fontStyle = 0;\n        ganttStyle.timeline.backgroundColor = new PdfColor(252, 252, 252);\n        ganttStyle.timeline.fontColor = new PdfColor(40, 40, 39);\n        ganttStyle.chartGridLineColor = new PdfColor(235, 235, 235);\n        ganttStyle.timeline.borderColor = new PdfColor(235, 235, 235);\n        ganttStyle.eventMarker.label.backgroundColor = new PdfColor(100, 253, 191);\n        ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n        ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n        ganttStyle.eventMarker.lineStyle.dashStyle = PdfDashStyle.Dash;\n        ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n        switch (theme) {\n            case 'Bootstrap':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.progressColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(240, 173, 78);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(240, 173, 78);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(33, 82, 125);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(85, 85, 85);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(33, 82, 125);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(49, 122, 185);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(119, 119, 119);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(117, 56, 201);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(87, 42, 150);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(85, 85, 85);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(87, 42, 150);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(138, 109, 59);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(252, 248, 227);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(49, 122, 185));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n            case 'Bootstrap 4':\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(255, 193, 7);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(255, 193, 7);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 86, 179);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(73, 80, 87);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 86, 179);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(33, 37, 41);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 123, 255);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(108, 117, 125);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(133, 83, 241);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(102, 40, 238);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(73, 80, 87);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(102, 40, 238);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(255, 193, 7);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 123, 255));\n                ganttStyle.holiday.backgroundColor = new PdfColor(233, 236, 239);\n                break;\n            case 'Fabric':\n                ganttStyle.columnHeader.fontColor = new PdfColor(102, 102, 102);\n                ganttStyle.cell.fontColor = new PdfColor(51, 51, 51);\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.progressColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(216, 59, 1);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(216, 59, 1);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(0, 91, 163);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(80, 80, 80);\n                ganttStyle.footer.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(0, 69, 122);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(0, 120, 214);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(118, 118, 118);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(154, 56, 186);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(109, 24, 136);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(80, 80, 80);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(109, 24, 136);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(202, 232, 255);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(0, 90, 158);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(0, 120, 214));\n                ganttStyle.holiday.backgroundColor = new PdfColor(244, 244, 244);\n                break;\n            default:\n                //chart side theme\n                ganttStyle.taskbar.taskColor = new PdfColor(88, 105, 197);\n                ganttStyle.taskbar.progressColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.criticalTaskColor = new PdfColor(255, 139, 139);\n                ganttStyle.taskbar.criticalProgressColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.baselineColor = new PdfColor(193, 87, 0);\n                ganttStyle.taskbar.baselineBorderColor = new PdfColor(193, 87, 0);\n                ganttStyle.criticalConnectorLineColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.criticalTaskBorderColor = new PdfColor(255, 85, 85);\n                ganttStyle.taskbar.parentTaskColor = new PdfColor(132, 132, 132);\n                ganttStyle.taskbar.parentProgressColor = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.taskBorderColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.parentTaskBorderColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.milestoneColor = new PdfColor(97, 97, 97);\n                ganttStyle.footer.fontColor = new PdfColor(0, 0, 0);\n                ganttStyle.footer.fontColor.gray = 0.2;\n                ganttStyle.connectorLineColor = new PdfColor(63, 81, 181);\n                ganttStyle.footer.backgroundColor = new PdfColor(255, 255, 255);\n                ganttStyle.taskbar.progressFontColor = new PdfColor(255, 255, 255);\n                ganttStyle.label.fontColor = new PdfColor(51, 51, 51);\n                ganttStyle.taskbar.splitLineBackground = new PdfColor(0, 0, 0);\n                ganttStyle.taskbar.unscheduledTaskBarColor = new PdfColor(63, 81, 181);\n                ganttStyle.taskbar.manualParentBackground = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualParentProgress = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBackground = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualChildProgress = new PdfColor(0, 135, 134);\n                ganttStyle.taskbar.manualLineColor = new PdfColor(152, 154, 156);\n                ganttStyle.taskbar.manualParentBorder = new PdfColor(97, 97, 97);\n                ganttStyle.taskbar.manualChildBorder = new PdfColor(0, 135, 134);\n                ganttStyle.eventMarker.label.backgroundColor = new PdfColor(253, 191, 100);\n                ganttStyle.eventMarker.label.fontColor = new PdfColor(33, 33, 33);\n                ganttStyle.eventMarker.lineStyle = new PdfPen(new PdfColor(227, 22, 91));\n                ganttStyle.holiday.backgroundColor = new PdfColor(238, 238, 238);\n                break;\n        }\n    };\n    PdfGanttTheme.prototype.initStyles = function (ganttStyle) {\n        ganttStyle.columnHeader = {};\n        ganttStyle.columnHeader.format = new PdfStringFormat();\n        ganttStyle.cell = {};\n        ganttStyle.cell.format = new PdfStringFormat();\n        ganttStyle.timeline = {};\n        ganttStyle.footer = {};\n        ganttStyle.footer.format = new PdfStringFormat();\n        ganttStyle.label = {};\n        ganttStyle.taskbar = {};\n        ganttStyle.eventMarker = {};\n        ganttStyle.eventMarker.label = {};\n        ganttStyle.eventMarker.lineStyle = new PdfPen(null);\n        ganttStyle.holiday = {};\n    };\n    return PdfGanttTheme;\n}());\nexport { PdfGanttTheme };\n","/**\n * Dictionary class\n *\n * @private\n * @hidden\n */\nvar TemporaryDictionary = /** @class */ (function () {\n    function TemporaryDictionary() {\n        /**\n         * @hidden\n         * @private\n         */\n        this.mKeys = [];\n        /**\n         * @hidden\n         * @private\n         */\n        this.mValues = [];\n    }\n    /**\n     * @returns {number} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.size = function () {\n        return this.mKeys.length;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.add = function (key, value) {\n        if (key === undefined || key === null || value === undefined || value === null) {\n            throw new ReferenceError('Provided key or value is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n            return 1;\n        }\n        else {\n            throw new RangeError('An item with the same key has already been added.');\n        }\n    };\n    /**\n     * @template K\n     * @returns {K[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.keys = function () {\n        return this.mKeys;\n    };\n    /**\n     * @template V\n     * @returns {V[]} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.values = function () {\n        return this.mValues;\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @returns {V} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.getValue = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            return this.mValues[index];\n        }\n    };\n    /**\n     * @template K\n     * @template V\n     * @param {K} key .\n     * @param {V} value .\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.setValue = function (key, value) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            this.mKeys.push(key);\n            this.mValues.push(value);\n        }\n        else {\n            this.mValues[index] = value;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.remove = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            throw new RangeError('No item with the specified key has been added.');\n        }\n        else {\n            this.mKeys.splice(index, 1);\n            this.mValues.splice(index, 1);\n            return true;\n        }\n    };\n    /**\n     * @template K\n     * @param {K} key .\n     * @returns {boolean} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.containsKey = function (key) {\n        if (key === undefined || key === null) {\n            throw new ReferenceError('Provided key is not valid.');\n        }\n        var index = this.mKeys.indexOf(key);\n        if (index < 0) {\n            return false;\n        }\n        return true;\n    };\n    /**\n     * @returns {void} .\n     * @hidden\n     * @private\n     */\n    TemporaryDictionary.prototype.clear = function () {\n        this.mKeys = [];\n        this.mValues = [];\n    };\n    return TemporaryDictionary;\n}());\nexport { TemporaryDictionary };\n","/**\n * PdfBorders.ts class for EJ2-PDF\n */\nimport { PdfPen, PdfDashStyle, PdfColor } from '@syncfusion/ej2-pdf-export';\n/**\n * `PdfBorders` class used represents the cell border of the PDF grid.\n *\n * @hidden\n */\nvar PdfBorders = /** @class */ (function () {\n    // Constructor\n    /**\n     * Create a new instance for `PdfBorders` class.\n     *\n     * @private\n     */\n    function PdfBorders() {\n        var defaultBorderPenLeft = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenLeft.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenRight = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenRight.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenTop = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenTop.dashStyle = PdfDashStyle.Solid;\n        var defaultBorderPenBottom = new PdfPen(new PdfColor(0, 0, 0));\n        defaultBorderPenBottom.dashStyle = PdfDashStyle.Solid;\n        this.leftPen = defaultBorderPenLeft;\n        this.rightPen = defaultBorderPenRight;\n        this.topPen = defaultBorderPenTop;\n        this.bottomPen = defaultBorderPenBottom;\n    }\n    Object.defineProperty(PdfBorders.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `Left`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.leftPen;\n        },\n        set: function (value) {\n            this.leftPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"right\", {\n        /**\n         * Gets or sets the `Right`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.rightPen;\n        },\n        set: function (value) {\n            this.rightPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"top\", {\n        /**\n         * Gets or sets the `Top`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.topPen;\n        },\n        set: function (value) {\n            this.topPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `Bottom`.\n         *\n         * @returns {PdfPen} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPen;\n        },\n        set: function (value) {\n            this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"all\", {\n        /**\n         * sets the `All`.\n         *\n         * @param {PdfPen} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPen = this.rightPen = this.topPen = this.bottomPen = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders.prototype, \"isAll\", {\n        /**\n         * Gets a value indicating whether this instance `is all`.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        get: function () {\n            return ((this.leftPen === this.rightPen) && (this.leftPen === this.topPen) && (this.leftPen === this.bottomPen));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfBorders, \"default\", {\n        /**\n         * Gets the `default`.\n         *\n         * @returns {PdfBorders} .\n         * @private\n         */\n        get: function () {\n            return new PdfBorders();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfBorders;\n}());\nexport { PdfBorders };\n/** @hidden */\nvar PdfPaddings = /** @class */ (function () {\n    function PdfPaddings(left, right, top, bottom) {\n        /**\n         * The 'left' border padding set.\n         *\n         * @private\n         */\n        this.hasLeftPad = false;\n        /**\n         * The 'right' border padding set.\n         *\n         * @private\n         */\n        this.hasRightPad = false;\n        /**\n         * The 'top' border padding set.\n         *\n         * @private\n         */\n        this.hasTopPad = false;\n        /**\n         * The 'bottom' border padding set.\n         *\n         * @private\n         */\n        this.hasBottomPad = false;\n        if (typeof left === 'undefined') {\n            //5.76 and 0 are taken from ms-word default table margins.\n            this.leftPad = this.rightPad = 5.76;\n            //0.5 is set for top and bottom by default.\n            this.bottomPad = this.topPad = 0.5;\n        }\n        else {\n            this.leftPad = left;\n            this.rightPad = right;\n            this.topPad = top;\n            this.bottomPad = bottom;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        }\n    }\n    Object.defineProperty(PdfPaddings.prototype, \"left\", {\n        // Properties\n        /**\n         * Gets or sets the `left` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.leftPad;\n        },\n        set: function (value) {\n            this.leftPad = value;\n            this.hasLeftPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"right\", {\n        /**\n         * Gets or sets the `right` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rightPad;\n        },\n        set: function (value) {\n            this.rightPad = value;\n            this.hasRightPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"top\", {\n        /**\n         * Gets or sets the `top` value of the edge\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.topPad;\n        },\n        set: function (value) {\n            this.topPad = value;\n            this.hasTopPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"bottom\", {\n        /**\n         * Gets or sets the `bottom` value of the edge.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.bottomPad;\n        },\n        set: function (value) {\n            this.bottomPad = value;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfPaddings.prototype, \"all\", {\n        /**\n         * Sets value to all sides `left,right,top and bottom`.s\n         *\n         * @param {number} value .\n         * @private\n         */\n        set: function (value) {\n            this.leftPad = this.rightPad = this.topPad = this.bottomPad = value;\n            this.hasLeftPad = true;\n            this.hasRightPad = true;\n            this.hasTopPad = true;\n            this.hasBottomPad = true;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfPaddings;\n}());\nexport { PdfPaddings };\n","/**\n * PdfGridStyleBase.ts class for EJ2-PDF\n */\nimport { PdfBorderOverlapStyle } from '@syncfusion/ej2-pdf-export';\nimport { PdfPaddings } from '../index';\nimport { PdfHorizontalOverflowType } from '../../../base/interface';\n/**\n * Base class for the `treegrid style`,\n */\nvar PdfTreeGridStyleBase = /** @class */ (function () {\n    function PdfTreeGridStyleBase() {\n    }\n    return PdfTreeGridStyleBase;\n}());\nexport { PdfTreeGridStyleBase };\n/**\n * `PdfTreeGridStyle` class provides customization of the appearance for the 'PdfGrid'.\n *\n */\nvar PdfTreeGridStyle = /** @class */ (function () {\n    //constructor\n    /**\n     * Initialize a new instance for `PdfGridStyle` class.\n     *\n     * @private\n     */\n    function PdfTreeGridStyle() {\n        this.cellSpacing = 0;\n        this.borderOverlapStyle = PdfBorderOverlapStyle.Overlap;\n        this.allowHorizontalOverflow = false;\n        this.horizontalOverflowType = PdfHorizontalOverflowType.LastPage;\n        this.cellPadding = new PdfPaddings();\n    }\n    return PdfTreeGridStyle;\n}());\nexport { PdfTreeGridStyle };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders, TemporaryDictionary } from './index';\nimport { PdfHorizontalOverflowType } from '../../base/interface';\nimport { ElementLayouter, PdfLayoutResult, PdfLayoutFormat, SizeF, PointF, RectangleF, RowLayoutResult, PdfLayoutType, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat } from '@syncfusion/ej2-pdf-export';\nimport { pointToPixel } from '../../base/utils';\n/**\n *\n */\nvar PdfTreeGridLayouter = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayouter, _super);\n    function PdfTreeGridLayouter(baseFormat) {\n        var _this = _super.call(this, baseFormat) || this;\n        _this.columnRanges = [];\n        _this.repeatRowIndex = -1;\n        _this.pageHeightCollection = [];\n        _this.headerHeight = 0;\n        _this.currentBounds = new RectangleF(0, 0, 0, 0);\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGridLayouter.prototype, \"treegrid\", {\n        get: function () {\n            return this.elements;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridLayouter.prototype.layoutInternal = function (param) {\n        this.currentPage = param.page;\n        var format = param.format;\n        if (this.currentPage !== null) {\n            this.currentPageBounds = this.currentPage.getClientSize();\n        }\n        this.currentGraphics = this.currentPage.graphics;\n        if (format !== null && format.break === PdfLayoutBreakType.FitColumnsToPage) {\n            /* eslint-disable-next-line */\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), new SizeF(this.treegrid.columns.width, this.currentGraphics.clientSize.height));\n        }\n        else {\n            this.currentBounds = new RectangleF(new PointF(param.bounds.x, param.bounds.y), this.currentGraphics.clientSize);\n        }\n        if (this.treegrid.rows.count !== 0) {\n            this.currentBounds.width = (param.bounds.width > 0) ? param.bounds.width :\n                (this.currentBounds.width - this.treegrid.rows.getRow(0).cells.getCell(0).style.borders.left.width / 2);\n        }\n        this.startLocation = new PointF(param.bounds.x, param.bounds.y);\n        if (param.bounds.height > 0) {\n            this.currentBounds.height = param.bounds.height;\n        }\n        if (!this.treegrid.style.allowHorizontalOverflow && !this.treegrid.isFitToWidth) {\n            this.treegrid.measureColumnsWidth();\n            this.determineColumnDrawRanges();\n        }\n        else {\n            this.treegrid.measureColumnsWidth(this.currentBounds);\n            this.columnRanges.push([0, this.treegrid.columns.count - 1]);\n        }\n        return this.layoutOnPage(param);\n    };\n    /**\n     * `Determines the column draw ranges`.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.determineColumnDrawRanges = function () {\n        var startColumn = 0;\n        var endColumn = 0;\n        var cellWidths = 0;\n        var availableWidth = (this.treegrid['taskbar'].isAutoFit()) ? pointToPixel(this.currentGraphics.clientSize.width) - this.currentBounds.x : this.currentGraphics.clientSize.width - this.currentBounds.x;\n        for (var i = 0; i < this.treegrid.columns.count; i++) {\n            cellWidths += this.treegrid.columns.getColumn(i).width;\n            if (cellWidths >= availableWidth) {\n                var subWidths = 0;\n                for (var j = startColumn; j <= i; j++) {\n                    subWidths += this.treegrid.columns.getColumn(j).width;\n                    if (subWidths > availableWidth) {\n                        break;\n                    }\n                    endColumn = j;\n                }\n                this.columnRanges.push([startColumn, endColumn]);\n                startColumn = endColumn + 1;\n                //endColumn = startColumn;\n                if (endColumn <= i) {\n                    cellWidths = this.treegrid.columns.getColumn(i).width;\n                }\n            }\n        }\n        this.columnRanges.push([startColumn, this.treegrid.columns.count - 1]);\n    };\n    PdfTreeGridLayouter.prototype.getFormat = function (format) {\n        var f = format;\n        return f;\n    };\n    PdfTreeGridLayouter.prototype.updateCollection = function (currentPage, totalDetail, rowDetails, rowIndex, rowHeight, pageNumber, updatePage) {\n        if (currentPage != null) {\n            var currentPageNumber = pageNumber;\n            if (totalDetail.length > 0) {\n                currentPageNumber = totalDetail[totalDetail.length - 1].pageNumber;\n            }\n            rowDetails.push({\n                rowIndex: rowIndex,\n                height: rowHeight,\n                pageNumber: currentPageNumber + updatePage\n            });\n        }\n    };\n    PdfTreeGridLayouter.prototype.layoutOnPage = function (param) {\n        var totalHeight = 0;\n        var pageNumber = 0;\n        var totalDetail = [];\n        var rowDetails = [];\n        var format = this.getFormat(param.format);\n        var result = null;\n        var layoutedPages = new TemporaryDictionary();\n        var startPage = param.page;\n        for (var index = 0; index < this.columnRanges.length; index++) {\n            var range = this.columnRanges[index];\n            this.cellStartIndex = range[0];\n            this.cellEndIndex = range[1];\n            var rowsCount = this.treegrid.rows.count;\n            var i = 0;\n            var repeatRow = false;\n            //Draw row by row with the specified cell range.\n            for (var j = 0; j < rowsCount; j++) {\n                var row = this.treegrid.rows.getRow(j);\n                i++;\n                var originalHeight = this.currentBounds.y;\n                if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                    totalDetail.push({ height: totalHeight, pageNumber: pageNumber });\n                    pageNumber++;\n                    totalHeight = 0;\n                    layoutedPages.add(this.currentPage, range);\n                }\n                var rowResult = this.drawRow(row);\n                //if height remains same, it is understood that row is not draw in the page.\n                if (originalHeight === this.currentBounds.y) {\n                    repeatRow = true;\n                    this.repeatRowIndex = this.treegrid.rows.rowCollection.indexOf(row);\n                }\n                else {\n                    repeatRow = false;\n                    this.repeatRowIndex = -1;\n                    this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 0);\n                }\n                while (!rowResult.isFinish && startPage !== null) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        //If there is no space in the current page, add new page and then draw the remaining row.\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        this.checkBounds(format);\n                        rowResult = this.drawRow(row);\n                        totalHeight = totalHeight + row.height;\n                        this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 1);\n                    }\n                    else if (!this.treegrid.allowRowBreakAcrossPages && i < length) {\n                        this.currentPage = this.getNextPageFormat(format);\n                        if (this.treegrid.enableHeader) {\n                            this.drawHeader();\n                        }\n                        break;\n                    }\n                    else if (i >= length) {\n                        break;\n                    }\n                }\n                if (!rowResult.isFinish && startPage !== null && format.layout !== PdfLayoutType.OnePage && repeatRow) {\n                    this.startLocation.x = this.currentBounds.x;\n                    this.currentPage = this.getNextPageFormat(format);\n                    if (this.treegrid.enableHeader) {\n                        this.drawHeader();\n                    }\n                    this.startLocation.y = this.currentBounds.y;\n                    if (format.paginateBounds === new RectangleF(0, 0, 0, 0)) {\n                        this.currentBounds.x += this.startLocation.x;\n                    }\n                    else {\n                        var currentBoundsx = this.currentBounds.x;\n                        this.currentBounds.x = currentBoundsx;\n                    }\n                    if (this.currentBounds.x === PdfBorders.default.left.width / 2) {\n                        this.currentBounds.y += this.startLocation.x;\n                    }\n                    this.drawRow(row);\n                    if (this.currentPage !== null && !layoutedPages.containsKey(this.currentPage)) {\n                        layoutedPages.add(this.currentPage, range);\n                    }\n                    this.updateCollection(this.currentPage, totalDetail, rowDetails, j, row.height, pageNumber, 0);\n                }\n            }\n            if (this.columnRanges.indexOf(range) < this.columnRanges.length - 1 &&\n                startPage !== null && format.layout !== PdfLayoutType.OnePage) {\n                this.currentPage = this.getNextPageFormat(format);\n                this.checkBounds(format);\n            }\n        }\n        result = this.getLayoutResult();\n        if (this.treegrid.style.allowHorizontalOverflow\n            && this.treegrid.style.horizontalOverflowType === PdfHorizontalOverflowType.NextPage) {\n            this.reArrangePages(layoutedPages);\n        }\n        totalDetail.push({ height: totalHeight, pageNumber: pageNumber });\n        var groupedHeights = {};\n        this.headerHeight = rowDetails[0].height;\n        rowDetails.forEach(function (row) {\n            if (!groupedHeights[row.pageNumber]) {\n                groupedHeights[row.pageNumber] = [];\n            }\n            groupedHeights[row.pageNumber].push(row.height);\n        });\n        var pageHeightSummary = Object.keys(groupedHeights).map(function (key) {\n            var pageNumber = parseInt(key, 10);\n            var heights = groupedHeights[pageNumber];\n            var totalHeight = heights.reduce(function (sum, h) { return sum + h; }, 0);\n            return {\n                pageNumber: pageNumber,\n                totalHeight: totalHeight\n            };\n        });\n        this.pageHeightCollection = pageHeightSummary;\n        return result;\n    };\n    PdfTreeGridLayouter.prototype.checkBounds = function (format) {\n        var location = new PointF(PdfBorders.default.right.width / 2, PdfBorders.default.top.width / 2);\n        if (format.paginateBounds === new RectangleF(0, 0, 0, 0) && this.startLocation === location) {\n            this.currentBounds.x += this.startLocation.x;\n            this.currentBounds.y += this.startLocation.y;\n        }\n    };\n    PdfTreeGridLayouter.prototype.drawHeader = function () {\n        this.drawRow(this.treegrid.rows.getRow(0));\n    };\n    PdfTreeGridLayouter.prototype.reArrangePages = function (layoutPages) {\n        var document = this.currentPage.document;\n        var pages = [];\n        var keys = layoutPages.keys();\n        for (var i = 0; i < keys.length; i++) {\n            var page = keys[i];\n            page.section = null;\n            pages.push(page);\n            document.pages.remove(page);\n        }\n        for (var i = 0; i < layoutPages.size(); i++) {\n            var count = (layoutPages.size() / this.columnRanges.length);\n            for (var j = i; j < layoutPages.size(); j += count) {\n                var page = pages[j];\n                if (document.pages.indexOf(page) === -1) {\n                    document.pages.add(page);\n                }\n            }\n        }\n    };\n    // eslint-disable-next-line\n    PdfTreeGridLayouter.prototype.getNextPageFormat = function (format) {\n        var section = this.currentPage.section;\n        var nextPage = null;\n        var index = section.indexOf(this.currentPage);\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        this.currentGraphics = nextPage.graphics;\n        this.currentBounds = new RectangleF(new PointF(0, 0), nextPage.getClientSize());\n        return nextPage;\n    };\n    PdfTreeGridLayouter.prototype.getLayoutResult = function () {\n        var bounds = new RectangleF(this.startLocation, new SizeF(this.currentBounds.width, this.currentBounds.y -\n            this.startLocation.y));\n        return new PdfTreeGridLayoutResult(this.currentPage, bounds);\n    };\n    PdfTreeGridLayouter.prototype.checkIfDefaultFormat = function (format) {\n        var defaultFormat = new PdfStringFormat();\n        return (format.alignment === defaultFormat.alignment && format.characterSpacing === defaultFormat.characterSpacing &&\n            format.clipPath === defaultFormat.clipPath && format.firstLineIndent === defaultFormat.firstLineIndent &&\n            format.horizontalScalingFactor === defaultFormat.horizontalScalingFactor &&\n            format.lineAlignment === defaultFormat.lineAlignment\n            && format.lineLimit === defaultFormat.lineLimit && format.lineSpacing === defaultFormat.lineSpacing &&\n            format.measureTrailingSpaces === defaultFormat.measureTrailingSpaces && format.noClip === defaultFormat.noClip &&\n            format.paragraphIndent === defaultFormat.paragraphIndent && format.rightToLeft === defaultFormat.rightToLeft &&\n            format.subSuperScript === defaultFormat.subSuperScript && format.wordSpacing === defaultFormat.wordSpacing &&\n            format.wordWrap === defaultFormat.wordWrap);\n    };\n    PdfTreeGridLayouter.prototype.drawRow = function (row, layoutResult, height) {\n        //.. Check if required space available.\n        //.....If the row conains spans which  falls through more than one page, then draw the row to next page.\n        if (isNullOrUndefined(layoutResult)) {\n            var result = new RowLayoutResult();\n            height = row.rowBreakHeight > 0 ? row.rowBreakHeight : row.height;\n            if (height > this.currentPageBounds.height) {\n                if (this.treegrid.allowRowBreakAcrossPages) {\n                    result.isFinish = true;\n                    this.drawRowWithBreak(result, row, height);\n                }\n                else {\n                    // If AllowRowBreakAcrossPages is not true, draw the row till it fits the page.\n                    result.isFinish = false;\n                    this.drawRow(row, result, height);\n                }\n            }\n            else if (this.currentBounds.y + height > this.currentPageBounds.height ||\n                this.currentBounds.y + height > this.currentBounds.height) {\n                if (this.repeatRowIndex > -1 && this.repeatRowIndex === row.rowIndex) {\n                    if (this.treegrid.allowRowBreakAcrossPages) {\n                        result.isFinish = true;\n                        this.drawRowWithBreak(result, row, height);\n                    }\n                    else {\n                        result.isFinish = false;\n                        this.drawRow(row, result, height);\n                    }\n                }\n                else {\n                    result.isFinish = false;\n                }\n            }\n            else {\n                result.isFinish = true;\n                this.drawRow(row, result, height);\n            }\n            return result;\n        }\n        else {\n            var location_1 = new PointF(this.currentBounds.x, this.currentBounds.y);\n            layoutResult.bounds = new RectangleF(location_1, new SizeF(0, 0));\n            var leftAdjustment = 0;\n            height = this.reCalculateHeight(row, height);\n            for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n                var cell = row.cells.getCell(i);\n                var column = this.treegrid.columns.getColumn(i);\n                if (!isNullOrUndefined(cell.value)) {\n                    if (column.isTreeColumn) {\n                        leftAdjustment = row.level;\n                    }\n                    var cancelSpans = ((cell.columnSpan > 1) && (i > this.cellEndIndex + 1));\n                    if (!cancelSpans) {\n                        for (var j = 1; j < cell.columnSpan; j++) {\n                            row.cells.getCell(i + j).isCellMergeContinue = true;\n                        }\n                    }\n                    var size = new SizeF(column.width, height);\n                    if (cell.columnSpan > 1) {\n                        size = new SizeF(cell.width, height);\n                        i += cell.columnSpan;\n                    }\n                    if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                        cell.style.format = column.format;\n                    }\n                    cell.draw(this.currentGraphics, new RectangleF(location_1, size), cancelSpans, leftAdjustment);\n                    /* eslint-disable-next-line */\n                    if (row.treegrid.style.allowHorizontalOverflow && (cell.columnSpan > this.cellEndIndex || i + cell.columnSpan > this.cellEndIndex + 1) && this.cellEndIndex < row.cells.count - 1) {\n                        row.rowOverflowIndex = this.cellEndIndex;\n                    }\n                    location_1.x += column.width;\n                    leftAdjustment = 0;\n                }\n            }\n            this.currentBounds.y += height;\n            /* eslint-disable-next-line */\n            layoutResult.bounds = new RectangleF(new PointF(layoutResult.bounds.x, layoutResult.bounds.y), new SizeF(location_1.x, location_1.y));\n            return null;\n        }\n    };\n    /**\n     * @param {RowLayoutResult} result .\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     */\n    PdfTreeGridLayouter.prototype.drawRowWithBreak = function (result, row, height) {\n        var location = new PointF(this.currentBounds.x, this.currentBounds.y);\n        result.bounds = new RectangleF(location, new SizeF(0, 0));\n        var leftAdjustment = 0;\n        this.treegridHeight = this.currentBounds.height;\n        // Calculate the remaining height.\n        row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n        // No need to explicit break if the row height is equal to treegrid height.\n        for (var c = 0; c < row.cells.count; c++) {\n            var cell = row.cells.getCell(c);\n            var cellHeight = cell.measureHeight();\n            if (cellHeight === height && cell.value === null) {\n                row.rowBreakHeight = this.currentBounds.y + height - this.currentBounds.height;\n            }\n        }\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            var column = this.treegrid.columns.getColumn(i);\n            if (column.isTreeColumn) {\n                leftAdjustment = row.level * 10;\n            }\n            var cell = row.cells.getCell(i);\n            var cancelSpans = ((cell.columnSpan + i > this.cellEndIndex + 1) && (cell.columnSpan > 1));\n            if (!cancelSpans) {\n                for (var j = 1; j < cell.columnSpan; j++) {\n                    row.cells.getCell(i + j).isCellMergeContinue = true;\n                }\n            }\n            var tHeight = this.treegridHeight > 0 ? this.treegridHeight : this.currentBounds.height;\n            var size = new SizeF(column.width, tHeight);\n            if (!this.checkIfDefaultFormat(column.format) && this.checkIfDefaultFormat(cell.style.format)) {\n                cell.style.format = column.format;\n            }\n            cell.draw(this.currentGraphics, new RectangleF(location, size), cancelSpans, leftAdjustment);\n            result.isFinish = (!result.isFinish) ? result.isFinish : cell.finishedDrawingCell;\n            location.x += column.width;\n            leftAdjustment = 0;\n            this.currentBounds.y += this.treegridHeight > 0 ? this.treegridHeight : height;\n            result.bounds = new RectangleF(new PointF(result.bounds.x, result.bounds.y), new SizeF(location.x, location.y));\n        }\n    };\n    /**\n     * `Recalculate row height` for the split cell to be drawn.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @param {number} height .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridLayouter.prototype.reCalculateHeight = function (row, height) {\n        var newHeight = 0;\n        for (var i = this.cellStartIndex; i <= this.cellEndIndex; i++) {\n            if (!isNullOrUndefined(row.cells.getCell(i).remainingString) ||\n                row.cells.getCell(i).remainingString === '') {\n                newHeight = Math.max(newHeight, row.cells.getCell(i).measureHeight());\n            }\n        }\n        return Math.max(height, newHeight);\n    };\n    return PdfTreeGridLayouter;\n}(ElementLayouter));\nexport { PdfTreeGridLayouter };\nvar PdfTreeGridLayoutResult = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutResult, _super);\n    /**\n     * Constructor\n     *\n     * @param {PdfPage} page .\n     * @param {RectangleF} bounds .\n     * @private\n     */\n    function PdfTreeGridLayoutResult(page, bounds) {\n        return _super.call(this, page, bounds) || this;\n    }\n    return PdfTreeGridLayoutResult;\n}(PdfLayoutResult));\nexport { PdfTreeGridLayoutResult };\n/**\n * `PdfGridLayoutFormat` class represents a flexible grid that consists of columns and rows.\n */\nvar PdfTreeGridLayoutFormat = /** @class */ (function (_super) {\n    __extends(PdfTreeGridLayoutFormat, _super);\n    /**\n     * Initializes a new instance of the `PdfGridLayoutFormat` class.\n     *\n     * @param {PdfLayoutFormat} baseFormat .\n     * @private\n     */\n    function PdfTreeGridLayoutFormat(baseFormat) {\n        var _this = this;\n        if (typeof baseFormat === 'undefined') {\n            _this = _super.call(this) || this;\n        }\n        else {\n            _this = _super.call(this, baseFormat) || this;\n        }\n        return _this;\n    }\n    return PdfTreeGridLayoutFormat;\n}(PdfLayoutFormat));\nexport { PdfTreeGridLayoutFormat };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfTreeGridColumnCollection, PdfTreeGridHeaderCollection, PdfTreeGridRowCollection } from './pdf-base/index';\nimport { PdfTreeGridStyle, PdfBorders, PdfTreeGridLayouter } from './pdf-base/index';\nimport { PdfLayoutElement, RectangleF, PdfLayoutFormat, PointF, SizeF } from '@syncfusion/ej2-pdf-export';\n/**\n * PdfTreeGrid Class for EJ2-PDF\n */\nvar PdfTreeGrid = /** @class */ (function (_super) {\n    __extends(PdfTreeGrid, _super);\n    function PdfTreeGrid() {\n        var _this = _super.call(this) || this;\n        _this.treeGridSize = new SizeF(0, 0);\n        _this.treeColumnIndex = 0;\n        _this.allowRowBreakAcrossPages = true;\n        _this.enableHeader = true;\n        _this.isFitToWidth = false;\n        _this.columns = new PdfTreeGridColumnCollection(_this);\n        _this.rows = new PdfTreeGridRowCollection(_this);\n        _this.headers = new PdfTreeGridHeaderCollection(_this);\n        _this.style = new PdfTreeGridStyle();\n        _this.rowHeight = 0;\n        return _this;\n    }\n    Object.defineProperty(PdfTreeGrid.prototype, \"size\", {\n        //Properties\n        /**\n         * Gets a value indicating whether the `start cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseBeginCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.beginCellDraw !== 'undefined' && typeof this.beginCellDraw !== null);\n        // }\n        /**\n         * Gets a value indicating whether the `end cell layout event` should be raised.\n         *\n         * @returns {boolean} .\n         * @private\n         */\n        // public get raiseEndCellDraw(): boolean {\n        //     // eslint-disable-next-line\n        //     return (typeof this.endCellDraw !== 'undefined' && typeof this.endCellDraw !== null);\n        // }\n        get: function () {\n            if ((this.treeGridSize.width === 0 && this.treeGridSize.height === 0)) {\n                this.treeGridSize = this.calculateTreeGridSize();\n            }\n            return this.treeGridSize;\n        },\n        set: function (value) {\n            this.treeGridSize = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * `Draws` the element on the page with the specified page, 'RectangleF' class and layout format\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTreeGrid.prototype.draw = function (arg1, arg2, arg3, arg4) {\n        if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2.x, arg2.y);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && typeof arg4 === 'undefined') {\n            return this.drawHelper(arg1, arg2, arg3, null);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'undefined') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else if (arg2 instanceof PointF && typeof arg2.width === 'undefined' && arg3 instanceof PdfLayoutFormat) {\n            return this.drawHelper(arg1, arg2.x, arg2.y, arg3);\n        }\n        else if (typeof arg2 === 'number' && typeof arg3 === 'number' && (arg4 instanceof PdfLayoutFormat || arg4 === null)) {\n            var width = (arg1.graphics.clientSize.width - arg2);\n            var layoutRectangle = new RectangleF(arg2, arg3, width, 0);\n            return this.drawHelper(arg1, layoutRectangle, arg4);\n        }\n        else if (arg2 instanceof RectangleF && typeof arg2.width !== 'undefined' && typeof arg3 === 'boolean') {\n            return this.drawHelper(arg1, arg2, null);\n        }\n        else {\n            return this.drawHelper(arg1, arg2, arg3);\n        }\n    };\n    PdfTreeGrid.prototype.measureColumnsWidth = function (bounds) {\n        if (typeof bounds !== 'undefined') {\n            var widths = this.columns.getDefaultWidths(bounds.width - bounds.x);\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n        else {\n            var widths = [];\n            var cellWidth = 0;\n            var totalWidth = 0;\n            var rowLevel = 0;\n            // if(this.headers.count > 0){\n            //     let colCount: number = this.headers.getHeader(0).cells.count;\n            //     for(let i: number = 0; i < colCount; i++){\n            //         let rowCount: number = this.headers.count;\n            //         for(let j: number = 0; j < rowCount; j++){\n            //             let tempWidth: number = this.headers.getHeader(j).cells.getCell(i).width;\n            //             let rowWidth: number = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) :\n            //                 tempWidth;\n            //             cellWidth = Math.max(cellWidth, rowWidth);\n            //         }\n            //         widths.push(cellWidth);\n            //     }\n            // }\n            var colCount = this.columns.count;\n            for (var i = 0; i < colCount; i++) {\n                var rowCount = this.rows.count;\n                for (var j = 0; j < rowCount; j++) {\n                    var tempWidth = this.rows.getRow(j).cells.getCell(i).width;\n                    var rowWidth = this.initialWidth > 0 ? Math.min(this.initialWidth, tempWidth) : tempWidth;\n                    cellWidth = Math.max(cellWidth, rowWidth);\n                    cellWidth = Math.max(this.columns.getColumn(i).width, cellWidth);\n                    if (this.columns.getColumn(i).isTreeColumn) {\n                        rowLevel = Math.max(rowLevel, this.rows.getRow(j).level);\n                    }\n                }\n                if (this.columns.getColumn(i).isTreeColumn) {\n                    widths.push(cellWidth + (rowLevel * 10));\n                }\n                else {\n                    widths.push(cellWidth);\n                }\n                // eslint-disable-next-line\n                totalWidth += cellWidth;\n                cellWidth = 0;\n            }\n            for (var i = 0; i < this.columns.count; i++) {\n                if (this.columns.getColumn(i).width < 0) {\n                    this.columns.getColumn(i).width = widths[i];\n                }\n            }\n        }\n    };\n    PdfTreeGrid.prototype.calculateTreeGridSize = function () {\n        var height = 0;\n        var width = this.columns.width;\n        for (var i = 0; i < this.headers.count; i++) {\n            var row = this.headers.getHeader(i);\n            height += row.height;\n        }\n        for (var i = 0; i < this.rows.count; i++) {\n            var row = this.rows.getRow(i);\n            height += row.height;\n        }\n        return new SizeF(width, height);\n    };\n    PdfTreeGrid.prototype.drawGrid = function (page, x, y, format) {\n        this.initialWidth = page.graphics.clientSize.width;\n        var layout = new RectangleF(0, 0, page.getClientSize().height, 0);\n        return this.draw(page, layout, format);\n    };\n    PdfTreeGrid.prototype.layout = function (param) {\n        if (this.rows.count !== 0) {\n            var style = (this.rows.getRow(0).cells.count !== 0) ? this.rows.getRow(0).cells.getCell(0).style : null;\n            if (!isNullOrUndefined(style) && style.borders.left.width !== 1) {\n                var x = style.borders.left.width / 2;\n                var y = style.borders.top.width / 2;\n                if (param.bounds.x === PdfBorders.default.right.width / 2 &&\n                    param.bounds.y === PdfBorders.default.right.width / 2) {\n                    var newBound = new RectangleF(new PointF(x, y), new SizeF(this.size.width, this.size.height));\n                    param.bounds = newBound;\n                }\n            }\n        }\n        //  this.setSpan();\n        this.layouter = new PdfTreeGridLayouter(this);\n        var result = this.layouter.layoutInternal(param);\n        return result;\n    };\n    return PdfTreeGrid;\n}(PdfLayoutElement));\nexport { PdfTreeGrid };\n","import { PdfTreeGrid } from '../pdf-treegrid';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RectangleF, PdfTextAlignment, PdfBorderOverlapStyle, PointF, PdfDashStyle, PdfLineCap, PdfSolidBrush, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { SizeF, PdfFontStyle, PdfBitmap, PdfImage, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfStringLayouter } from '@syncfusion/ej2-pdf-export';\n/**@hidden*/\nvar PdfTreeGridCell = /** @class */ (function () {\n    function PdfTreeGridCell(row) {\n        this.cellWidth = 0;\n        this.cellHeight = 0;\n        /** @private */\n        this.finishedDrawingCell = true;\n        if (isNullOrUndefined(row)) {\n            this.rowSpan = 1;\n            this.columnSpan = 1;\n        }\n        else {\n            this.row = row;\n        }\n        this.style = {};\n    }\n    Object.defineProperty(PdfTreeGridCell.prototype, \"height\", {\n        /**\n         * Gets the `height` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellHeight === 0) {\n                this.cellHeight = this.measureHeight();\n            }\n            return this.cellHeight;\n        },\n        set: function (value) {\n            this.cellHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridCell.prototype, \"width\", {\n        /**\n         * Gets the `width` of the PdfTreeGrid cell.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.cellWidth === 0) {\n                this.cellWidth = this.measureWidth();\n            }\n            return Math.round(this.cellWidth);\n        },\n        set: function (value) {\n            this.cellWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridCell.prototype.measureWidth = function () {\n        var width = 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string') {\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable-next-line */\n            var slr = layouter.layout(this.value, font, this.style.format, new SizeF(Number.MAX_VALUE, Number.MAX_VALUE), false, new SizeF(0, 0));\n            width += slr.actualSize.width;\n            width += (this.style.borders.left.width + this.style.borders.right.width) * 2;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.left !== 'undefined' && this.row.treegrid.style.cellPadding.hasLeftPad) {\n            width += this.row.treegrid.style.cellPadding.left;\n        }\n        if (typeof this.row.treegrid.style.cellPadding.right !== 'undefined' && this.row.treegrid.style.cellPadding.hasRightPad) {\n            width += this.row.treegrid.style.cellPadding.right;\n        }\n        width += this.row.treegrid.style.cellSpacing;\n        return width;\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    /* eslint-disable */\n    PdfTreeGridCell.prototype.measureHeight = function () {\n        var rowHeight = this.row.treegrid.rowHeight;\n        var height = 0;\n        var width = this.calculateWidth();\n        width -= this.row.treegrid.style.cellPadding.right + this.row.treegrid.style.cellPadding.left;\n        width -= this.style.borders ? this.style.borders.left.width + this.style.borders.right.width : 0;\n        var layouter = new PdfStringLayouter();\n        if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var currentValue = this.value;\n            if (!this.finishedDrawingCell) {\n                currentValue = !(isNullOrUndefined(this.remainingString) || this.remainingString === '') ? this.remainingString : this.value;\n            }\n            var font = null;\n            if (this.row.isParentRow) {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, PdfFontStyle.Bold);\n            }\n            else {\n                font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            }\n            if (this.row.treegrid.ganttStyle.font) {\n                font = this.row.treegrid.ganttStyle.font;\n            }\n            /* eslint-disable */\n            var slr = layouter.layout(currentValue, font, this.style.format, new SizeF(width - 10, 0), false, new SizeF(0, 0));\n            var value = Math.max(slr.lineHeight, slr.actualSize.height);\n            if (currentValue.length > 80) {\n                height += value + 20;\n            }\n            else {\n                height += value + (slr.size.height / 2);\n            }\n            height += (this.style.borders.top.width + this.style.borders.bottom.width) * 2;\n        }\n        height += this.row.treegrid.style.cellPadding.top + this.row.treegrid.style.cellPadding.bottom;\n        height += this.row.treegrid.style.cellSpacing;\n        return height > rowHeight ? height : rowHeight;\n    };\n    /* eslint-enable */\n    PdfTreeGridCell.prototype.calculateWidth = function () {\n        var cellIndex = this.row.cells.indexOf(this);\n        var columnSpan = this.columnSpan;\n        var width = 0;\n        for (var i = 0; i < columnSpan; i++) {\n            width += this.row.treegrid.columns.getColumn(cellIndex + i) ? this.row.treegrid.columns.getColumn(cellIndex + i).width : 0;\n        }\n        if (this.row.treegrid.columns.getColumn(cellIndex) && this.row.treegrid.columns.getColumn(cellIndex).isTreeColumn) {\n            width -= (this.row.level * 10);\n        }\n        return width;\n    };\n    /**\n     * `Draws` the specified graphics.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @param {boolean} cancelSubsequentSpans .\n     * @param {number} leftAdjustment .\n     * @returns {PdfStringLayoutResult} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.draw = function (graphics, bounds, cancelSubsequentSpans, leftAdjustment) {\n        var result = null;\n        var padding = 10;\n        // if (cancelSubsequentSpans) {\n        //     // Cancel all subsequent cell spans, if no space exists.\n        //     const currentCellIndex: number = this.row.cells.indexOf(this);\n        //     for (let i: number = currentCellIndex + 1; i <= currentCellIndex + this.columnSpan; i++) {\n        //         this.row.cells.getCell(i).isCellMergeContinue = false;\n        //         this.row.cells.getCell(i).isRowMergeContinue = false;\n        //     }\n        //     this.columnSpan = 1;\n        // }\n        // Skip cells which were already covered by span map.\n        // if (this.isCellMergeContinue || this.isRowMergeContinue) {\n        //     if (this.isCellMergeContinue && this.row.treegrid.style.allowHorizontalOverflow) {\n        //         if ((this.row.rowOverflowIndex > 0 && (this.row.cells.indexOf(this) !== this.row.rowOverflowIndex + 1)) ||\n        //             (this.row.rowOverflowIndex === 0 && this.isCellMergeContinue)) {\n        //             return result;\n        //         } else {\n        //             return result;\n        //         }\n        //     }\n        // }\n        //bounds = this.adjustContentLayoutArea(bounds);\n        this.drawCellBackground(graphics, bounds);\n        var textPen = null;\n        var textBrush = new PdfSolidBrush(this.style.fontColor);\n        var font = null;\n        if (this.row.isParentRow) {\n            var fontStyle = PdfFontStyle.Bold;\n            if (this.style.fontStyle) {\n                fontStyle = this.style.fontStyle;\n            }\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, fontStyle);\n        }\n        else {\n            font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n        }\n        if (this.row.treegrid.ganttStyle.font) {\n            font = this.row.treegrid.ganttStyle.font;\n        }\n        var innerLayoutArea = bounds;\n        if (!this.isHeaderCell) {\n            /* eslint-disable-next-line */\n            innerLayoutArea.x = innerLayoutArea.x;\n            /* eslint-disable-next-line */\n            innerLayoutArea.width = innerLayoutArea.width;\n        }\n        if (innerLayoutArea.height >= graphics.clientSize.height) {\n            // To break row to next page\n            if (this.row.treegrid.allowRowBreakAcrossPages) {\n                innerLayoutArea.height -= innerLayoutArea.y;\n                bounds.height -= bounds.y;\n            }\n            else {\n                innerLayoutArea.height = graphics.clientSize.height;\n                bounds.height = graphics.clientSize.height;\n            }\n        }\n        innerLayoutArea = this.adjustContentLayoutArea(innerLayoutArea);\n        if (this.image && this.value) {\n            var imageBounds = void 0;\n            if (this.image.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x + leftAdjustment, innerLayoutArea.y - this.style.padding.bottom, this.image.width, this.image.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.image, imageBounds.x + leftAdjustment, imageBounds.y - 5, imageBounds.width, imageBounds.height);\n            var temp = null;\n            // font = new PdfStandardFont(this.row.treegrid.ganttStyle.fontFamily, this.style.fontSize, this.style.fontStyle);\n            var customisedFont = void 0;\n            var fontStyles = this.fontStyle;\n            if (!fontStyles) {\n                fontStyles = this.style;\n            }\n            var newFont = new PdfStandardFont(fontStyles.fontFamily, fontStyles.fontSize, fontStyles.fontStyle);\n            if (fontStyles.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment + (imageBounds.width ? imageBounds.width + 8 : 0)), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y - this.style.padding.bottom, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (typeof this.value === 'string' || typeof this.remainingString === 'string') {\n            var temp = null;\n            var customisedFont = void 0;\n            var newFont = new PdfStandardFont(this.style.fontFamily, this.style.fontSize, this.style.fontStyle);\n            if (this.style.fontFamily) {\n                customisedFont = newFont;\n            }\n            else {\n                customisedFont = font;\n            }\n            var customisedBrush = textBrush;\n            if (this.row.treegrid.ganttStyle.cell.fontBrush) {\n                customisedBrush = new PdfSolidBrush(this.row.treegrid.ganttStyle.cell.fontBrush);\n            }\n            if (this.row.treegrid.ganttStyle.cell.format.alignment && !this.isHeaderCell) {\n                this.style.format.alignment = this.row.treegrid.ganttStyle.cell.format.alignment;\n            }\n            if (this.finishedDrawingCell) {\n                temp = (this.remainingString === '') ? this.remainingString : this.value;\n                /* eslint-disable-next-line */\n                graphics.drawString(temp, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : (innerLayoutArea.y - this.style.padding.bottom) - 3, (innerLayoutArea.width - leftAdjustment - padding), (innerLayoutArea.height - padding), this.style.format);\n            }\n            else {\n                /* eslint-disable-next-line */\n                graphics.drawString(this.remainingString, customisedFont, textPen, customisedBrush, (innerLayoutArea.x + leftAdjustment), this.isHeaderCell ? innerLayoutArea.y - 16 : innerLayoutArea.y, this.style.format);\n            }\n            result = graphics.stringLayoutResult;\n        }\n        else if (this.value instanceof PdfImage || this.value instanceof PdfBitmap) {\n            var imageBounds = void 0;\n            if (this.value.width <= innerLayoutArea.width) {\n                imageBounds = new RectangleF(innerLayoutArea.x, innerLayoutArea.y, this.value.width, innerLayoutArea.height);\n            }\n            else {\n                imageBounds = innerLayoutArea;\n            }\n            graphics.drawImage(this.value, imageBounds.x, imageBounds.y - 10, imageBounds.width, imageBounds.height);\n        }\n        else if (this.value instanceof PdfTextWebLink) {\n            this.value.draw(graphics.currentPage, innerLayoutArea);\n        }\n        if (this.style.borders !== null) {\n            this.drawCellBorder(graphics, bounds);\n        }\n        return result;\n    };\n    /**\n     * Draw the `cell background`.\n     *\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBackground = function (graphics, bounds) {\n        var backgroundBrush = new PdfSolidBrush(this.style.backgroundColor);\n        if (backgroundBrush !== null) {\n            graphics.save();\n            graphics.drawRectangle(backgroundBrush, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n        }\n        // if (this.style.backgroundImage !== null) {\n        //     let image: PdfImage = this.getBackgroundImage();\n        //     graphics.drawImage(this.style.backgroundImage, bounds.x, bounds.y, bounds.width, bounds.height);\n        // }\n    };\n    /**\n     * `Adjusts the text layout area`.\n     *\n     * @param {RectangleF} bounds .\n     * @returns {RectangleF} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.adjustContentLayoutArea = function (bounds) {\n        //Add Padding value to its Cell Bounds\n        var returnBounds = new RectangleF(new PointF(bounds.x, bounds.y), new SizeF(bounds.width, bounds.height));\n        var cellPadding = this.style.padding;\n        if (this.value instanceof PdfTreeGrid) {\n            var size = this.value.size;\n            if (this.style.format.alignment === PdfTextAlignment.Center) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width) / 2;\n                returnBounds.y += cellPadding.top + (returnBounds.height - size.height) / 2;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Left) {\n                returnBounds.x += cellPadding.left;\n                returnBounds.y += cellPadding.top;\n            }\n            else if (this.style.format.alignment === PdfTextAlignment.Right) {\n                returnBounds.x += cellPadding.left + (returnBounds.width - size.width);\n                returnBounds.y += cellPadding.top;\n            }\n        }\n        else {\n            returnBounds.x += cellPadding.left;\n            returnBounds.y += cellPadding.top;\n        }\n        return returnBounds;\n    };\n    /**\n     * @param {PdfGraphics} graphics .\n     * @param {RectangleF} bounds .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridCell.prototype.drawCellBorder = function (graphics, bounds) {\n        if (this.row.treegrid.style.borderOverlapStyle === PdfBorderOverlapStyle.Inside) {\n            bounds.x += this.style.borders.left.width;\n            bounds.y += this.style.borders.top.width;\n            bounds.width -= this.style.borders.right.width;\n            bounds.height -= this.style.borders.bottom.width;\n        }\n        if (this.style.borders.isAll && this.isHeaderCell) {\n            graphics.drawRectangle(this.style.borders.left, bounds.x, bounds.y, bounds.width, bounds.height);\n            graphics.restore();\n            return;\n        }\n        else {\n            var p1 = new PointF(bounds.x, bounds.y + bounds.height);\n            var p2 = new PointF(bounds.x, bounds.y);\n            var pen = this.style.borders.left;\n            pen.lineCap = (this.style.borders.left.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            pen = this.style.borders.right;\n            if ((bounds.x + bounds.width) > (graphics.clientSize.width - (pen.width / 2))) {\n                p1 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y);\n                p2 = new PointF(graphics.clientSize.width - (pen.width / 2), bounds.y + bounds.height);\n            }\n            pen.lineCap = (this.style.borders.right.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x, bounds.y);\n            p2 = new PointF(bounds.x + bounds.width, bounds.y);\n            pen = this.style.borders.top;\n            pen.lineCap = (this.style.borders.top.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n            p1 = new PointF(bounds.x + bounds.width, bounds.y + bounds.height);\n            p2 = new PointF(bounds.x, bounds.y + bounds.height);\n            pen = this.style.borders.bottom;\n            if (bounds.y + bounds.height > graphics.clientSize.height - pen.width / 2) {\n                p1 = new PointF(bounds.x + bounds.width, graphics.clientSize.height - pen.width / 2);\n                p2 = new PointF(bounds.x, graphics.clientSize.height - pen.width / 2);\n            }\n            pen.lineCap = (this.style.borders.bottom.dashStyle === PdfDashStyle.Solid) ? PdfLineCap.Square : pen.lineCap;\n            graphics.drawLine(pen, p1, p2);\n            graphics.restore();\n        }\n    };\n    return PdfTreeGridCell;\n}());\nexport { PdfTreeGridCell };\n/**\n * `PdfTreeGridCellCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridCell' objects.\n *\n * @private\n */\nvar PdfTreeGridCellCollection = /** @class */ (function () {\n    //Constructor\n    /**\n     * Initializes a new instance of the `PdfGridCellCollection` class with the row.\n     *\n     * @param { PdfTreeGridRow} row .\n     * @private\n     */\n    function PdfTreeGridCellCollection(row) {\n        this.treegridRow = row;\n        this.cells = [];\n    }\n    //Properties\n    /**\n     * Gets the current `cell`.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridCell} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.getCell = function (index) {\n        if (index < 0 || index >= this.count) {\n            throw new Error('IndexOutOfRangeException');\n        }\n        return this.cells[index];\n    };\n    Object.defineProperty(PdfTreeGridCellCollection.prototype, \"count\", {\n        /**\n         * Gets the cells `count`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.cells.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` this instance.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {PdfTreeGridCell | void} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.add = function (cell) {\n        if (typeof cell === 'undefined') {\n            var tempcell = new PdfTreeGridCell();\n            this.add(tempcell);\n            return cell;\n        }\n        else {\n            cell.row = this.treegridRow;\n            this.cells.push(cell);\n        }\n    };\n    /**\n     * Returns the `index of` a particular cell in the collection.\n     *\n     * @param {PdfTreeGridCell} cell .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridCellCollection.prototype.indexOf = function (cell) {\n        return this.cells.indexOf(cell);\n    };\n    return PdfTreeGridCellCollection;\n}());\nexport { PdfTreeGridCellCollection };\n/**\n *\n */\nvar PdfTreeGridRow = /** @class */ (function () {\n    function PdfTreeGridRow(treegrid) {\n        this.treegridRowOverflowIndex = 0;\n        this.rowHeight = 0;\n        this.rowWidth = 0;\n        /* eslint-disable-next-line */\n        this._isParentRow = false;\n        this.intendLevel = 0;\n        this.pdfTreeGrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRow.prototype, \"cells\", {\n        get: function () {\n            if (isNullOrUndefined(this.treegridCells)) {\n                this.treegridCells = new PdfTreeGridCellCollection(this);\n            }\n            return this.treegridCells;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"isParentRow\", {\n        get: function () {\n            return this._isParentRow;\n        },\n        set: function (value) {\n            this._isParentRow = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"treegrid\", {\n        get: function () {\n            return this.pdfTreeGrid;\n        },\n        set: function (value) {\n            this.pdfTreeGrid = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowBreakHeight\", {\n        /**\n         * `Height` of the row yet to be drawn after split.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (typeof this.treegridRowBreakHeight === 'undefined') {\n                this.treegridRowBreakHeight = 0;\n            }\n            return this.treegridRowBreakHeight;\n        },\n        set: function (value) {\n            this.treegridRowBreakHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowOverflowIndex\", {\n        /**\n         * `over flow index` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.treegridRowOverflowIndex;\n        },\n        set: function (value) {\n            this.treegridRowOverflowIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"level\", {\n        get: function () {\n            return this.intendLevel;\n        },\n        set: function (value) {\n            this.intendLevel = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"height\", {\n        /**\n         * Gets or sets the `height` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowHeight === 0) {\n                this.rowHeight = this.measureHeight();\n            }\n            return this.rowHeight;\n        },\n        set: function (value) {\n            this.rowHeight = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"width\", {\n        /**\n         * Gets or sets the `width` of the row.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.rowWidth === 0) {\n                this.rowWidth = this.measureWidth();\n            }\n            return this.rowWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRow.prototype, \"rowIndex\", {\n        get: function () {\n            return this.treegrid.rows.rowCollection.indexOf(this);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRow.prototype.measureWidth = function () {\n        var columns = this.treegrid.columns.columns;\n        var totalWidth = 0;\n        for (var i = 0; i < columns.length; i++) {\n            var column = columns[i];\n            totalWidth += column.width;\n        }\n        return totalWidth;\n    };\n    PdfTreeGridRow.prototype.measureHeight = function () {\n        var rowHeight = (this.cells.count !== 0 &&\n            !isNullOrUndefined(this.cells.getCell(0).height)) ? this.cells.getCell(0).height : 33;\n        for (var i = 0; i < this.cells.count; i++) {\n            var cell = this.cells.getCell(i);\n            if (cell.columnSpan === 1 || cell.rowSpan === 1) {\n                rowHeight = Math.max(rowHeight, cell.height);\n            }\n            else {\n                rowHeight = Math.min(rowHeight, cell.height);\n            }\n            cell.height = rowHeight;\n        }\n        return rowHeight;\n    };\n    return PdfTreeGridRow;\n}());\nexport { PdfTreeGridRow };\n/**\n * `PdfTreeGridRowCollection` class provides access to an ordered, strongly typed collection of 'PdfTreeGridRow' objects.\n *\n * @private\n */\nvar PdfTreeGridRowCollection = /** @class */ (function () {\n    // Constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridRowCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridRowCollection(treegrid) {\n        this.rows = [];\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"count\", {\n        //Properties\n        /**\n         * Gets the number of header in the `PdfTreeGrid`.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridRowCollection.prototype, \"rowCollection\", {\n        //Implementation\n        /**\n         * Return the row collection of the `treegrid`.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        get: function () {\n            return this.rows;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfTreeGridRowCollection.prototype.addRow = function (row) {\n        if (typeof row === 'undefined') {\n            var row_1 = new PdfTreeGridRow(this.treegrid);\n            this.addRow(row_1);\n            return row_1;\n        }\n        else {\n            if (row.cells.count === 0) {\n                for (var i = 0; i < this.treegrid.columns.count; i++) {\n                    row.cells.add(new PdfTreeGridCell());\n                }\n            }\n            this.rows.push(row);\n        }\n    };\n    /**\n     * Return the row by index.\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridRowCollection.prototype.getRow = function (index) {\n        return this.rows[index];\n    };\n    return PdfTreeGridRowCollection;\n}());\nexport { PdfTreeGridRowCollection };\n/**\n * `PdfTreeGridHeaderCollection` class provides customization of the settings for the header.\n *\n * @private\n */\nvar PdfTreeGridHeaderCollection = /** @class */ (function () {\n    //constructor\n    /**\n     * Initializes a new instance of the `PdfTreeGridHeaderCollection` class with the parent grid.\n     *\n     * @param {PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridHeaderCollection(treegrid) {\n        /**\n         * The array to store the `rows` of the grid header.\n         *\n         * @returns {PdfTreeGridRow[]} .\n         * @private\n         */\n        this.rows = [];\n        this.treegrid = treegrid;\n        this.rows = [];\n    }\n    //Properties\n    /**\n     * Gets a 'PdfTreeGridRow' object that represents the `header` row in a 'PdfGridHeaderCollection' control.[Read-Only].\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridRow} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.getHeader = function (index) {\n        return (this.rows[index]);\n    };\n    Object.defineProperty(PdfTreeGridHeaderCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of header` in the 'PdfGrid'.[Read-Only]\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.rows.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    //Implementation\n    /**\n     * `Adds` the specified row.\n     *\n     * @param {PdfTreeGridRow} row .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridHeaderCollection.prototype.add = function (row) {\n        this.rows.push(row);\n    };\n    PdfTreeGridHeaderCollection.prototype.indexOf = function (row) {\n        return this.rows.indexOf(row);\n    };\n    return PdfTreeGridHeaderCollection;\n}());\nexport { PdfTreeGridHeaderCollection };\nvar PdfTreeGridColumn = /** @class */ (function () {\n    function PdfTreeGridColumn(treegrid) {\n        this.columnWidth = 0;\n        this.treeColumnIndex = false;\n        this._headerText = '';\n        this._field = '';\n        this.treegrid = treegrid;\n    }\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"headerText\", {\n        get: function () {\n            return this._headerText;\n        },\n        set: function (value) {\n            this._headerText = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"field\", {\n        get: function () {\n            return this._field;\n        },\n        set: function (value) {\n            this._field = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"width\", {\n        get: function () {\n            return this.columnWidth;\n        },\n        set: function (value) {\n            this.columnWidth = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"isTreeColumn\", {\n        get: function () {\n            return this.treeColumnIndex;\n        },\n        set: function (value) {\n            this.treeColumnIndex = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumn.prototype, \"format\", {\n        /**\n         * Gets or sets the information about the text `formatting`.\n         *\n         * @returns {PdfStringFormat} .\n         * @private\n         */\n        get: function () {\n            if (isNullOrUndefined(this.stringFormat)) {\n                this.stringFormat = new PdfStringFormat(); //GetDefaultFormat();\n            }\n            return this.stringFormat;\n        },\n        set: function (value) {\n            this.stringFormat = value;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return PdfTreeGridColumn;\n}());\nexport { PdfTreeGridColumn };\n/**\n * `PdfTreeGridColumnCollection` class provides access to an ordered,\n * strongly typed collection of 'PdfTreeGridColumn' objects.\n *\n * @private\n */\nvar PdfTreeGridColumnCollection = /** @class */ (function () {\n    //properties\n    //Constructors\n    /**\n     * Initializes a new instance of the `PdfTreeGridColumnCollection` class with the parent grid.\n     *\n     * @param { PdfTreeGrid} treegrid .\n     * @private\n     */\n    function PdfTreeGridColumnCollection(treegrid) {\n        /**\n         * @private\n         */\n        this.internalColumns = [];\n        /**\n         * @private\n         */\n        this.columnWidth = 0;\n        this.treegrid = treegrid;\n        this.internalColumns = [];\n    }\n    //Implementation\n    /**\n     * `Add` a new column to the 'PdfGrid'.\n     *\n     * @param {number} count .\n     * @returns {void} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.add = function (count) {\n        // public add(column : PdfGridColumn) : void\n        // public add(arg : number|PdfGridColumn) : void {\n        // if (typeof arg === 'number') {\n        for (var i = 0; i < count; i++) {\n            this.internalColumns.push(new PdfTreeGridColumn(this.treegrid));\n            for (var index = 0; index < this.treegrid.rows.count; index++) {\n                var row = this.treegrid.rows.getRow(index);\n                var cell = new PdfTreeGridCell();\n                cell.value = '';\n                row.cells.add(cell);\n            }\n        }\n        // } else {\n        //     let column : PdfGridColumn = new PdfGridColumn(this.grid);\n        //     this.columns.push(column);\n        //     return column;\n        // }\n    };\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"count\", {\n        /**\n         * Gets the `number of columns` in the 'PdfGrid'.[Read-Only].\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"width\", {\n        /**\n         * Gets the `widths`.\n         *\n         * @returns {number} .\n         * @private\n         */\n        get: function () {\n            if (this.columnWidth === 0) {\n                this.columnWidth = this.measureColumnsWidth();\n            }\n            return this.columnWidth;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(PdfTreeGridColumnCollection.prototype, \"columns\", {\n        /**\n         * Gets the `array of PdfGridColumn`.[Read-Only]\n         *\n         * @returns {PdfTreeGridColumn[]} .\n         * @private\n         */\n        get: function () {\n            return this.internalColumns;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    /**\n     * Gets the `PdfTreeGridColumn` from the specified index.[Read-Only]\n     *\n     * @param {number} index .\n     * @returns {PdfTreeGridColumn} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getColumn = function (index) {\n        if (index >= 0 && index <= this.columns.length) {\n            return this.columns[index];\n        }\n        else {\n            throw Error('can not get the column from the index: ' + index);\n        }\n    };\n    //Implementation\n    /**\n     * `Calculates the column widths`.\n     *\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.measureColumnsWidth = function () {\n        var totalWidth = 0;\n        this.treegrid.measureColumnsWidth();\n        for (var i = 0, count = this.internalColumns.length; i < count; i++) {\n            totalWidth += this.internalColumns[i].width;\n        }\n        return totalWidth;\n    };\n    /**\n     * Gets the `widths of the columns`.\n     *\n     * @param {number} totalWidth .\n     * @returns {number} .\n     * @private\n     */\n    PdfTreeGridColumnCollection.prototype.getDefaultWidths = function (totalWidth) {\n        var widths = [];\n        var subFactor = this.count;\n        for (var i = 0; i < this.count; i++) {\n            widths[i] = this.internalColumns[i].width;\n            if (this.internalColumns[i].width > 0) {\n                totalWidth -= this.internalColumns[i].width;\n                subFactor--;\n            }\n            else {\n                widths[i] = 0;\n            }\n        }\n        for (var i = 0; i < this.count; i++) {\n            var width = totalWidth / subFactor;\n            if (widths[i] <= 0) {\n                widths[i] = width;\n            }\n        }\n        return widths;\n    };\n    return PdfTreeGridColumnCollection;\n}());\nexport { PdfTreeGridColumnCollection };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfFontFamily, PdfTextWebLink } from '@syncfusion/ej2-pdf-export';\nimport { PdfStringFormat, PdfPageCountField, PdfPageNumberField } from '@syncfusion/ej2-pdf-export';\nimport { PdfPageTemplateElement, RectangleF, PdfCompositeField, PointF } from '@syncfusion/ej2-pdf-export';\nimport { PdfVerticalAlignment, PdfTextAlignment, PdfStandardFont } from '@syncfusion/ej2-pdf-export';\nimport { PdfFontStyle, PdfColor, PdfPen, PdfSolidBrush, SizeF, PdfBitmap } from '@syncfusion/ej2-pdf-export';\nimport { PdfBorders, PdfPaddings } from './pdf-base/index';\nimport { isNullOrUndefined, Internationalization, getValue, extend } from '@syncfusion/ej2-base';\nimport { getForeignData, ValueFormatter } from '@syncfusion/ej2-grids';\nimport { pixelToPoint, isScheduledTask } from '../base/utils';\n/**\n * @hidden\n * `ExportHelper` for `PdfExport` & `ExcelExport`\n */\nvar ExportHelper = /** @class */ (function () {\n    function ExportHelper(parent) {\n        this.totalColumnWidth = 0;\n        this.beforeSinglePageExport = {};\n        this.baselineHeight = 8;\n        this.parent = parent;\n    }\n    ExportHelper.prototype.processToFit = function () {\n        this.beforeSinglePageExport['zoomingProjectStartDate'] = this.parent.zoomingProjectStartDate;\n        this.beforeSinglePageExport['zoomingProjectEndDate'] = this.parent.zoomingProjectEndDate;\n        this.beforeSinglePageExport['cloneProjectStartDate'] = this.parent.cloneProjectStartDate;\n        this.beforeSinglePageExport['cloneProjectEndDate'] = this.parent.cloneProjectEndDate;\n        this.beforeSinglePageExport['customTimelineSettings'] = extend({}, this.parent.timelineModule.customTimelineSettings, null, true);\n        this.beforeSinglePageExport['isTimelineRoundOff'] = this.parent.isTimelineRoundOff;\n        this.beforeSinglePageExport['topTier'] = this.parent.timelineModule.topTier;\n        this.beforeSinglePageExport['topTierCellWidth'] = this.parent.timelineModule.topTierCellWidth;\n        this.beforeSinglePageExport['topTierCollection'] = this.parent.timelineModule.topTierCollection;\n        this.beforeSinglePageExport['bottomTier'] = this.parent.timelineModule.bottomTier;\n        this.beforeSinglePageExport['bottomTierCellWidth'] = this.parent.timelineModule.bottomTierCellWidth;\n        this.beforeSinglePageExport['bottomTierCollection'] = this.parent.timelineModule.bottomTierCollection;\n        this.beforeSinglePageExport['totalTimelineWidth'] = this.parent.timelineModule.totalTimelineWidth;\n        this.beforeSinglePageExport['timelineStartDate'] = this.parent.timelineModule.timelineStartDate;\n        this.beforeSinglePageExport['timelineEndDate'] = this.parent.timelineModule.timelineEndDate;\n        this.beforeSinglePageExport['timelineRoundOffEndDate'] = this.parent.timelineModule.timelineRoundOffEndDate;\n        this.beforeSinglePageExport['perDayWidth'] = this.parent.perDayWidth;\n        this.beforeSinglePageExport['updatedConnectorLineCollection'] = extend([], this.parent.updatedConnectorLineCollection, null, true);\n        this.parent.timelineModule.isZoomToFit = true;\n        this.parent.timelineModule.isZooming = false;\n        if (!this.parent.zoomingProjectStartDate) {\n            this.parent.zoomingProjectStartDate = this.parent.cloneProjectStartDate;\n            this.parent.zoomingProjectEndDate = this.parent.cloneProjectEndDate;\n        }\n        if (this.parent.zoomingProjectStartDate > this.parent.cloneProjectStartDate) {\n            this.parent.cloneProjectStartDate = new Date(this.parent.allowUnscheduledTasks ?\n                this.parent.zoomingProjectStartDate : this.parent.cloneProjectStartDate);\n        }\n        this.parent.dataOperation.calculateProjectDates();\n        var timeDifference = (this.parent.cloneProjectEndDate.getTime() - this.parent.cloneProjectStartDate.getTime());\n        var totalDays = (timeDifference / (1000 * 3600 * 24));\n        var chartsideWidth;\n        var gridWidth;\n        if (this.exportProps.fitToWidthSettings.gridWidth) {\n            gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n        }\n        if (this.exportProps.fitToWidthSettings.chartWidth) {\n            chartsideWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n        }\n        else {\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                chartsideWidth = 100 - gridWidth;\n            }\n            else {\n                chartsideWidth = 70;\n            }\n        }\n        var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * chartsideWidth) / 100;\n        var chartWidth = pdfwidth;\n        var perDayWidth = chartWidth / totalDays;\n        var zoomingLevel;\n        var firstValue;\n        var secondValue;\n        var zoomingCollections = this.parent.zoomingLevels.slice();\n        var sortedCollectons = zoomingCollections.sort(function (a, b) {\n            return (!a.perDayWidth && !b.perDayWidth ? 0 : (a.perDayWidth < b.perDayWidth) ? 1 : -1);\n        });\n        if (perDayWidth === 0) { // return when the Gantt chart is not in viewable state.\n            return;\n        }\n        for (var i = 0; i < sortedCollectons.length; i++) {\n            firstValue = sortedCollectons[i];\n            if (i === sortedCollectons.length - 1) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            else {\n                secondValue = sortedCollectons[i + 1];\n            }\n            if (perDayWidth >= firstValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i];\n                break;\n            }\n            if (perDayWidth < firstValue.perDayWidth && perDayWidth > secondValue.perDayWidth) {\n                zoomingLevel = sortedCollectons[i + 1];\n                break;\n            }\n        }\n        var newTimeline = extend({}, {}, zoomingLevel, true);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectStartDate, true, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        this.parent.timelineModule['roundOffDateToZoom'](this.parent.cloneProjectEndDate, false, perDayWidth, newTimeline.bottomTier.unit, zoomingLevel);\n        var numberOfCells = this.parent.timelineModule['calculateNumberOfTimelineCells'](newTimeline);\n        var scrollHeight = this.parent.pdfExportModule['pdfPageDimensions'].height; //17 is horizontal scrollbar width\n        var emptySpace = scrollHeight <= 0 ? 0 : 17;\n        newTimeline.timelineUnitSize = Math.abs((chartWidth - emptySpace)) / numberOfCells;\n        this.parent.timelineModule['changeTimelineSettings'](newTimeline);\n        this.parent.timelineModule.isZoomToFit = false;\n        this.parent.timelineModule.isZooming = false;\n    };\n    /**\n     * @param {IGanttData[]} data .\n     * @param {PdfGantt} gantt .\n     * @param {PdfExportProperties} props .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.processGridExport = function (data, gantt, props) {\n        this.flatData = data;\n        this.gantt = gantt;\n        this.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n        this.exportProps = props;\n        this.rowIndex = 0;\n        this.colIndex = 0;\n        this.columns = this.parent.treeGrid.columns;\n        this.gantt.treeColumnIndex = this.parent.treeColumnIndex;\n        this.gantt.rowHeight = pixelToPoint(this.parent.rowHeight);\n        this.gantt.style.cellPadding.left = 0;\n        this.gantt.style.cellPadding.right = 0;\n        this.ganttStyle = this.gantt.ganttStyle;\n        this.gantt.borderColor = this.ganttStyle.chartGridLineColor;\n        this.parent.pdfExportModule.isPdfExport = true;\n        if (this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            this.processToFit();\n        }\n        this.processHeaderContent();\n        this.processGanttContent();\n        this.processTimeline();\n        this.processTaskbar();\n        this.processPredecessor();\n        this.parent.pdfExportModule.isPdfExport = false;\n    };\n    ExportHelper.prototype.processHeaderContent = function () {\n        var _this = this;\n        this.rowIndex++;\n        this.row = this.gantt.rows.addRow();\n        var index = 0;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processColumnHeader(column, index);\n                index++;\n            }\n        });\n    };\n    ExportHelper.prototype.processColumnHeader = function (column, index) {\n        this.gantt.columns.add(1);\n        var pdfColumn = this.gantt.columns.getColumn(index);\n        var colFieldName = this.columns[this.parent.treeColumnIndex].field;\n        if (colFieldName === column.field) {\n            pdfColumn.isTreeColumn = true;\n        }\n        var width = parseInt(column.width, 10);\n        pdfColumn.width = pixelToPoint(width);\n        this.totalColumnWidth += pdfColumn.width;\n        pdfColumn.headerText = column.headerText;\n        pdfColumn.field = column.field;\n        var cell = this.row.cells.getCell(index);\n        cell.value = column.headerText;\n        cell.isHeaderCell = true;\n        if (this.ganttStyle && this.ganttStyle.columnHeader &&\n            !isNullOrUndefined(this.ganttStyle.columnHeader.fontBrush)) {\n            cell.style.fontBrush = new PdfColor(this.ganttStyle.columnHeader.fontBrush);\n        }\n        var treeGridHeaderHeight = this.parent.timelineModule.isSingleTier ? 45 : 60;\n        this.copyStyles(this.ganttStyle.columnHeader, cell, false);\n        this.row.height = pixelToPoint(treeGridHeaderHeight);\n        if (column.headerTextAlign) {\n            cell.style.format.alignment = PdfTextAlignment[column.headerTextAlign];\n        }\n        var template = {\n            image: null,\n            value: null,\n            fontStyle: { fontBrush: null }\n        };\n        cell.fontStyle = {\n            fontSize: 9\n        };\n        var args = {\n            cell: cell,\n            style: cell.style,\n            value: cell.value,\n            column: column,\n            image: null,\n            headerTemplate: template\n        };\n        if (this.parent.pdfColumnHeaderQueryCellInfo) {\n            this.parent.trigger('pdfColumnHeaderQueryCellInfo', args);\n        }\n        if (args.headerTemplate.image && args.headerTemplate.value) {\n            args.image = new PdfBitmap(args.headerTemplate.image[0].base64);\n            args.image.height = args.headerTemplate.image[0].height || args.image.height;\n            args.image.width = args.headerTemplate.image[0].width || args.image.width;\n            cell.image = args.image;\n            cell.value = args.headerTemplate.value;\n            cell.fontStyle.fontSize = args.headerTemplate.fontStyle.fontSize;\n            cell.fontStyle.fontFamily = args.headerTemplate.fontStyle.fontFamily;\n            cell.fontStyle.fontBrush = args.headerTemplate.fontStyle.fontColor;\n        }\n        else {\n            cell.value = args.value;\n        }\n    };\n    ExportHelper.prototype.isColumnVisible = function (column) {\n        var visibleColumn = column.visible || this.exportProps.includeHiddenColumn;\n        return (visibleColumn);\n    };\n    ExportHelper.prototype.processGanttContent = function () {\n        var _this = this;\n        if (this.flatData.length === 0) {\n            this.renderEmptyGantt();\n        }\n        else {\n            var flatData = this.flatData;\n            flatData.forEach(function (data) {\n                _this.row = _this.gantt.rows.addRow();\n                if (data.hasChildRecords) {\n                    _this.gantt.rows.getRow(_this.rowIndex).isParentRow = true;\n                    _this.processRecordRow(data);\n                }\n                else {\n                    _this.processRecordRow(data);\n                }\n                _this.rowIndex++;\n            });\n        }\n    };\n    /**\n     * Method for processing the timeline details\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTimeline = function () {\n        if (this.parent.enableTimelineVirtualization) {\n            this.parent.timelineModule.pdfExportTopTierCollection = [];\n            this.parent.timelineModule.pdfExportBottomTierCollection = [];\n            this.parent.timelineModule.createTimelineSeries();\n        }\n        var timelineSettings = this.parent.timelineModule;\n        this.gantt.chartHeader.topTierHeight = this.gantt.chartHeader.bottomTierHeight\n            = (this.parent.timelineModule.isSingleTier ? 45 : 60 / 2);\n        this.gantt.chartHeader.topTierCellWidth = timelineSettings.topTierCellWidth;\n        this.gantt.chartHeader.bottomTierCellWidth = timelineSettings.bottomTierCellWidth;\n        this.gantt.chartHeader.topTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportTopTierCollection : timelineSettings.topTierCollection, true);\n        this.gantt.chartHeader.bottomTier = extend([], [], this.parent.enableTimelineVirtualization ?\n            timelineSettings.pdfExportBottomTierCollection : timelineSettings.bottomTierCollection, true);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth &&\n            this.parent.enableTimelineVirtualization) {\n            var tier = timelineSettings.topTier === 'None' ? 'bottomTier' : 'topTier';\n            this.gantt.chartHeader.width = timelineSettings['calculateWidthBetweenTwoDate'](tier, timelineSettings.timelineStartDate, timelineSettings.timelineEndDate);\n        }\n        else {\n            this.gantt.chartHeader.width = this.parent.enableTimelineVirtualization ? this.parent.timelineModule.wholeTimelineWidth :\n                timelineSettings.totalTimelineWidth;\n        }\n        this.gantt.chartHeader.height = !isNullOrUndefined(this.gantt.rows.getRow(0).height) ? this.gantt.rows.getRow(0).height : 65;\n        this.gantt.timelineStartDate = new Date(timelineSettings.timelineStartDate.getTime());\n    };\n    /**\n     * Method for create the predecessor collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processPredecessor = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.exportProps.showPredecessorLines) || this.exportProps.showPredecessorLines) {\n            this.parent.pdfExportModule.isPdfExport = true;\n            this.parent.predecessorModule.createConnectorLinesCollection(this.flatData);\n            this.parent.updatedConnectorLineCollection.forEach(function (data) {\n                var predecessor = _this.gantt.predecessor.add();\n                predecessor.parentLeft = data.parentLeft;\n                predecessor.childLeft = data.childLeft;\n                predecessor.parentWidth = data.parentWidth;\n                predecessor.childWidth = data.childWidth;\n                predecessor.parentIndex = _this.findIndexUsingParent(_this.flatData, data.parentIndex);\n                predecessor.childIndex = _this.findIndexUsingParent(_this.flatData, data.childIndex);\n                predecessor.rowHeight = data.rowHeight;\n                predecessor.type = data.type;\n                predecessor.milestoneParent = data.milestoneParent;\n                predecessor.milestoneChild = data.milestoneChild;\n                predecessor.parentEndPoint = data.parentEndPoint;\n                predecessor.lineWidth = _this.parent.connectorLineWidth > 5 ? pixelToPoint(5) : pixelToPoint(_this.parent.connectorLineWidth);\n                if (data.isCritical) {\n                    predecessor.connectorLineColor = _this.ganttStyle.criticalConnectorLineColor;\n                }\n                else {\n                    predecessor.connectorLineColor = _this.ganttStyle.connectorLineColor;\n                }\n                _this.gantt.predecessorCollection.push(predecessor);\n            });\n            this.parent.pdfExportModule.isPdfExport = false;\n        }\n    };\n    ExportHelper.prototype.findIndexUsingParent = function (expandedRecord, parentIndex) {\n        return expandedRecord.findIndex(function (data) { return data.index === parentIndex; });\n    };\n    ExportHelper.prototype.processRecordRow = function (data) {\n        var _this = this;\n        this.colIndex = 0;\n        this.row.level = data.level;\n        this.columns.forEach(function (column) {\n            if (_this.isColumnVisible(column)) {\n                _this.processRecordCell(data, column, _this.row);\n                _this.colIndex++;\n            }\n        });\n    };\n    ExportHelper.prototype.processRecordCell = function (data, column, row) {\n        var cell = row.cells.getCell(this.colIndex);\n        var taskFields = this.parent.taskFields;\n        var ganttProps = data.ganttProperties;\n        if (column.editType === 'datepickeredit' || column.editType === 'datetimepickeredit') {\n            cell.value = data[column.field];\n        }\n        else if (column.field === taskFields.duration) {\n            cell.value = this.parent.getDurationString(ganttProps.duration, ganttProps.durationUnit);\n        }\n        else if (column.field === taskFields.resourceInfo) {\n            cell.value = ganttProps.resourceNames;\n        }\n        else if (column.field === taskFields.work) {\n            cell.value = this.parent.getWorkString(ganttProps.work, ganttProps.workUnit);\n        }\n        else {\n            cell.value = !isNullOrUndefined(data[column.field]) ? data[column.field].toString() : '';\n        }\n        var cellValueString = !isNullOrUndefined(cell.value) ? cell.value.toString() : '';\n        var cellValue = cellValueString;\n        var value = !isNullOrUndefined(cellValue) ? cellValue : '';\n        cell.isHeaderCell = false;\n        cell.style.padding = new PdfPaddings();\n        this.copyStyles(this.ganttStyle.cell, cell, row.isParentRow);\n        if (column['index'] !== this.parent.treeColumnIndex) {\n            cell.style.format.alignment = PdfTextAlignment[column.textAlign];\n        }\n        else {\n            cell.style.format.paragraphIndent = cell.row.level * 10;\n        }\n        var args = {\n            data: data,\n            value: value,\n            column: column,\n            style: cell.style,\n            cell: cell\n        };\n        args.value = this.exportValueFormatter.formatCellValue(args);\n        if (this.parent.pdfQueryCellInfo) {\n            this.parent.trigger('pdfQueryCellInfo', args);\n            if (args.style.backgroundColor) {\n                cell.style.backgroundColor = args.style.backgroundColor;\n            }\n            if (args.style.borderColor) {\n                cell.style.borderColor = args.style.borderColor;\n            }\n            if (args.style.fontBrush) {\n                cell.style.fontBrush = args.style.fontBrush;\n            }\n            if (args.style.fontColor) {\n                cell.style.fontColor = args.style.fontColor;\n            }\n            if (args.style.fontFamily) {\n                var font = args.style.fontFamily;\n                var fontFamily = this.getFontFamily(font);\n                cell.style.fontFamily = fontFamily;\n            }\n            else {\n                cell.style.fontFamily = this.ganttStyle.fontFamily;\n            }\n            if (args.style.fontSize) {\n                cell.style.fontSize = args.style.fontSize;\n            }\n            if (args.style.fontStyle) {\n                var style = args.style.fontStyle;\n                var fontStyle = this.getFontStyle(style);\n                cell.style.fontStyle = fontStyle;\n            }\n            else {\n                cell.style.fontStyle = this.ganttStyle.footer.fontStyle;\n            }\n            if (args.style.format) {\n                cell.style.format = args.style.format;\n            }\n            if (args.style.padding) {\n                cell.style.padding = args.style.padding;\n            }\n        }\n        if (!isNullOrUndefined(args.image) && !isNullOrUndefined(args.image.base64)) {\n            var dimension = extend({}, args.image, null, true);\n            args.image = new PdfBitmap(args.image.base64);\n            args.image.height = dimension['height'] ? dimension['height'] : args.image.height;\n            args.image.width = dimension['width'] ? dimension['width'] : args.image.width;\n            cell.image = args.image;\n        }\n        cell.value = args.value;\n        if (!isNullOrUndefined(args.hyperLink) && (!isNullOrUndefined(args.hyperLink.displayText) ||\n            !isNullOrUndefined(args.hyperLink.target))) {\n            cell.value = this.setHyperLink(args);\n        }\n    };\n    ExportHelper.prototype.setHyperLink = function (args) {\n        // create the Text Web Link\n        var textLink = new PdfTextWebLink();\n        // set the hyperlink\n        textLink.url = args.hyperLink.target;\n        // set the link text\n        textLink.text = args.hyperLink.displayText || args.hyperLink.target;\n        // set the font\n        textLink.font = new PdfStandardFont(PdfFontFamily.Helvetica, 9.75);\n        // set the brush and pen for the text color\n        textLink.brush = new PdfSolidBrush(new PdfColor(51, 102, 187));\n        return textLink;\n    };\n    /**\n     * Method for create the taskbar collection for rendering\n     *\n     * @returns {void} .\n     */\n    ExportHelper.prototype.processTaskbar = function () {\n        var _this = this;\n        var flatData = this.flatData;\n        flatData.forEach(function (data) {\n            var taskbar = _this.gantt.taskbar.add();\n            var ganttProp = data.ganttProperties;\n            taskbar.left = ganttProp.left;\n            taskbar.width = ganttProp.width;\n            if (taskbar.left < 0) {\n                taskbar.width = taskbar.width + taskbar.left;\n                taskbar.left = 0;\n            }\n            taskbar.progress = ganttProp.progress;\n            taskbar.isScheduledTask = isScheduledTask(ganttProp);\n            if (isScheduledTask) {\n                if (isNullOrUndefined(ganttProp.endDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'startDate';\n                }\n                else if (isNullOrUndefined(ganttProp.startDate) && isNullOrUndefined(ganttProp.duration)) {\n                    taskbar.unscheduledTaskBy = 'endDate';\n                }\n                else {\n                    taskbar.unscheduledTaskBy = 'duration';\n                    taskbar.unscheduleStarteDate = _this.parent.dateValidationModule.getValidStartDate(data.ganttProperties);\n                    taskbar.unscheduleEndDate = _this.parent.dateValidationModule.getValidEndDate(data.ganttProperties);\n                }\n            }\n            // else {\n            //     taskbar.unscheduleStarteDate = null;\n            //     taskbar.unscheduleEndDate = null;\n            // }\n            taskbar.startDate = ganttProp.startDate;\n            taskbar.endDate = ganttProp.endDate;\n            taskbar.height = _this.parent.chartRowsModule.taskBarHeight;\n            // if (this.parent.renderBaseline) {\n            //     let height: number;\n            //     if ((taskbar.height + this.baselineHeight) <= this.parent.rowHeight) {\n            //         height = taskbar.height;\n            //     } else {\n            //         height = taskbar.height - (this.baselineHeight + 1);\n            //     }\n            //     taskbar.height = height;\n            // }\n            taskbar.indicators = ganttProp.indicators;\n            taskbar.autoStartDate = ganttProp.autoStartDate;\n            taskbar.autoEndDate = ganttProp.autoEndDate;\n            taskbar.isAutoSchedule = ganttProp.isAutoSchedule;\n            taskbar.autoWidth = ganttProp.autoWidth;\n            taskbar.autoLeft = ganttProp.autoLeft;\n            taskbar.segment = ganttProp.segments;\n            taskbar.isSpliterTask = (isNullOrUndefined(ganttProp.segments) || ganttProp.segments.length === 0) ? false : true;\n            if (taskbar.isSpliterTask) {\n                taskbar.segmentCollection = taskbar.segment.map(function (obj) { return (__assign({}, obj)); });\n            }\n            taskbar.baselineTop = _this.parent.chartRowsModule.baselineTop;\n            taskbar.isMilestone = ganttProp.isMilestone;\n            taskbar.baselineStartDate = ganttProp.baselineStartDate;\n            taskbar.baselineEndDate = ganttProp.baselineEndDate;\n            taskbar.baselineLeft = ganttProp.baselineLeft;\n            taskbar.baselineWidth = ganttProp.baselineWidth;\n            if (taskbar.baselineLeft < 0) {\n                taskbar.baselineWidth = taskbar.baselineWidth + taskbar.baselineLeft;\n                taskbar.baselineLeft = 0;\n            }\n            taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.milestoneColor);\n            taskbar.isParentTask = data.hasChildRecords;\n            if (ganttProp.isMilestone) {\n                taskbar.height = ganttProp.width;\n            }\n            if (data[_this.parent.labelSettings.leftLabel]) {\n                taskbar.leftTaskLabel.value = data[_this.parent.labelSettings.leftLabel].toString();\n            }\n            if (data[_this.parent.labelSettings.rightLabel]) {\n                taskbar.rightTaskLabel.value = data[_this.parent.labelSettings.rightLabel].toString();\n            }\n            if (!isNullOrUndefined(data[_this.parent.labelSettings.taskLabel])) {\n                taskbar.taskLabel = data[_this.parent.labelSettings.taskLabel].toString();\n            }\n            var reduceLeft = ganttProp.isMilestone ? Math.floor(_this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n            var isManualParent = !(data.hasChildRecords && !data.ganttProperties.isAutoSchedule);\n            var baseLeft = isManualParent ? ganttProp.left : ganttProp.autoLeft;\n            var baseWidth = isManualParent ? ganttProp.width : ganttProp.autoWidth;\n            taskbar.rightTaskLabel.left = baseLeft + baseWidth + reduceLeft; // right label left value\n            taskbar.fontFamily = _this.ganttStyle.fontFamily;\n            taskbar.progressWidth = ganttProp.progressWidth;\n            taskbar.labelColor = new PdfColor(_this.ganttStyle.label.fontColor);\n            taskbar.progressFontColor = new PdfColor(_this.ganttStyle.taskbar.progressFontColor);\n            if (taskbar.isParentTask) {\n                taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskColor);\n                taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.parentTaskBorderColor);\n                taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.parentProgressColor);\n            }\n            else {\n                if (data.isCritical) {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.criticalProgressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskBorderColor);\n                    taskbar.milestoneColor = new PdfColor(_this.ganttStyle.taskbar.criticalTaskColor);\n                }\n                else {\n                    taskbar.taskColor = new PdfColor(_this.ganttStyle.taskbar.taskColor);\n                    taskbar.progressColor = new PdfColor(_this.ganttStyle.taskbar.progressColor);\n                    taskbar.taskBorderColor = new PdfColor(_this.ganttStyle.taskbar.taskBorderColor);\n                }\n            }\n            taskbar.manualParentBorder = new PdfColor(_this.ganttStyle.taskbar.manualParentBorder);\n            taskbar.manualChildBorder = new PdfColor(_this.ganttStyle.taskbar.manualChildBorder);\n            taskbar.manuallineColor = new PdfColor(_this.ganttStyle.taskbar.manualLineColor);\n            taskbar.unscheduledTaskBarColor = new PdfColor(_this.ganttStyle.taskbar.unscheduledTaskBarColor);\n            taskbar.manualParentBackground = new PdfColor(_this.ganttStyle.taskbar.manualParentBackground);\n            taskbar.manualParentProgress = new PdfColor(_this.ganttStyle.taskbar.manualParentProgress);\n            taskbar.manualChildBackground = new PdfColor(_this.ganttStyle.taskbar.manualChildBackground);\n            taskbar.manualChildProgress = new PdfColor(_this.ganttStyle.taskbar.manualChildProgress);\n            taskbar.splitLineBackground = new PdfColor(_this.ganttStyle.taskbar.splitLineBackground);\n            taskbar.baselineColor = new PdfColor(_this.ganttStyle.taskbar.baselineColor);\n            taskbar.baselineBorderColor = new PdfColor(_this.ganttStyle.taskbar.baselineBorderColor);\n            taskbar.gridLineColor = new PdfColor(_this.ganttStyle.chartGridLineColor);\n            var labelTemplateStyle = {};\n            labelTemplateStyle.leftLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.rightLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            labelTemplateStyle.taskLabel = { value: null, image: null, fontStyle: { fontBrush: null } };\n            taskbar.labelSettings = labelTemplateStyle;\n            var taskbarTemplate = {\n                value: null,\n                image: null,\n                fontStyle: { fontBrush: null }\n            };\n            taskbar.taskbarTemplate = taskbarTemplate;\n            _this.gantt.taskbarCollection.push(taskbar);\n            var taskStyle = {};\n            taskStyle.progressFontColor = taskbar.progressFontColor;\n            taskStyle.taskColor = taskbar.taskColor;\n            taskStyle.taskBorderColor = taskbar.taskBorderColor;\n            taskStyle.progressColor = taskbar.progressColor;\n            taskStyle.milestoneColor = taskbar.milestoneColor;\n            taskStyle.baselineColor = taskbar.baselineColor;\n            taskStyle.baselineBorderColor = taskbar.baselineBorderColor;\n            taskStyle.unscheduledTaskBarColor = taskbar.unscheduledTaskBarColor;\n            taskStyle.manualParentBackground = taskbar.manualParentBackground;\n            taskStyle.manualParentBorder = taskbar.manualParentBorder;\n            taskStyle.manualParentProgress = taskbar.manualParentProgress;\n            taskStyle.manualChildBackground = taskbar.manualChildBackground;\n            taskStyle.manualChildProgress = taskbar.manualChildProgress;\n            taskStyle.manualLineColor = taskbar.manuallineColor;\n            taskStyle.manualChildBorder = taskbar.manualChildBorder;\n            taskStyle.manualChildProgress = taskbar.manualChildProgress;\n            taskStyle.splitLineBackground = taskbar.splitLineBackground;\n            var args = {\n                taskbar: taskStyle,\n                data: data,\n                indicators: data.ganttProperties.indicators,\n                labelSettings: labelTemplateStyle,\n                taskbarTemplate: taskbarTemplate\n            };\n            if (_this.parent.pdfQueryTaskbarInfo) {\n                var segmentCollection = [];\n                args.taskbar.taskSegmentStyles = null;\n                if (args.data.ganttProperties.segments) {\n                    for (var i = 0; i < args.data.ganttProperties.segments.length; i++) {\n                        var segmentTaskbar = {\n                            taskColor: args.taskbar.taskColor,\n                            taskBorderColor: args.taskbar.taskBorderColor,\n                            progressColor: args.taskbar.progressColor\n                        };\n                        segmentCollection.push(segmentTaskbar);\n                    }\n                    args.taskbar.taskSegmentStyles = segmentCollection;\n                }\n                _this.parent.trigger('pdfQueryTaskbarInfo', args);\n                taskbar.taskSegmentStyles = args.taskbar.taskSegmentStyles;\n                taskbar.progressFontColor = args.taskbar.progressFontColor;\n                taskbar.taskColor = args.taskbar.taskColor;\n                taskbar.taskBorderColor = args.taskbar.taskBorderColor;\n                taskbar.progressColor = args.taskbar.progressColor;\n                taskbar.milestoneColor = args.taskbar.milestoneColor;\n                taskbar.baselineColor = args.taskbar.baselineColor;\n                taskbar.baselineBorderColor = args.taskbar.baselineBorderColor;\n                taskbar.unscheduledTaskBarColor = args.taskbar.unscheduledTaskBarColor;\n                taskbar.manualParentBackground = args.taskbar.manualParentBackground;\n                taskbar.manualParentProgress = args.taskbar.manualParentProgress;\n                taskbar.manualParentBorder = args.taskbar.manualParentBorder;\n                taskbar.manualChildBackground = args.taskbar.manualChildBackground;\n                taskbar.manualChildProgress = args.taskbar.manualChildProgress;\n                taskbar.manuallineColor = args.taskbar.manualLineColor;\n                taskbar.manualChildBorder = args.taskbar.manualChildBorder;\n                taskbar.manualChildProgress = args.taskbar.manualChildProgress;\n                taskbar.splitLineBackground = args.taskbar.splitLineBackground;\n                taskbar.indicators = args.indicators;\n                taskbar.labelSettings.leftLabel.value = args.labelSettings.leftLabel.value;\n                var leftImages = args.labelSettings.leftLabel.image;\n                taskbar.labelSettings.rightLabel.value = args.labelSettings.rightLabel.value;\n                var rightImage = args.labelSettings.rightLabel.image;\n                if (!isNullOrUndefined(args.labelSettings.taskLabel.value)) {\n                    taskbar.taskLabel = args.labelSettings.taskLabel.value;\n                }\n                if (!isNullOrUndefined(args.labelSettings.leftLabel.image) && Array.isArray(args.labelSettings.leftLabel.image[0].base64)\n                    && args.labelSettings.leftLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.leftLabel.image[0].base64.length;\n                    taskbar.labelSettings.leftLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.leftLabel.image.push({\n                            base64: leftImages[0].base64[i],\n                            width: leftImages[0].width,\n                            height: leftImages[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.leftLabel.image)) {\n                    taskbar.labelSettings.leftLabel.image = args.labelSettings.leftLabel.image;\n                }\n                if (!isNullOrUndefined(args.labelSettings.rightLabel.image) && Array.isArray(args.labelSettings.rightLabel.image[0].base64)\n                    && args.labelSettings.rightLabel.image[0].base64.length > 0) {\n                    var baseCount = args.labelSettings.rightLabel.image[0].base64.length;\n                    taskbar.labelSettings.rightLabel.image = [];\n                    for (var i = 0; i < baseCount; i++) {\n                        // Create separate objects for each element of the base64 array\n                        taskbar.labelSettings.rightLabel.image.push({\n                            base64: rightImage[0].base64[i],\n                            width: rightImage[0].width,\n                            height: rightImage[0].height\n                        });\n                    }\n                }\n                else if (!isNullOrUndefined(args.labelSettings.rightLabel.image)) {\n                    taskbar.labelSettings.rightLabel.image = args.labelSettings.rightLabel.image;\n                }\n                /* eslint-disable-next-line */\n                var applyTemplate = function (target, source) {\n                    target.progressFontColor = source.taskbar.progressFontColor;\n                    target.taskColor = new PdfColor(source.taskbar.taskColor);\n                    target.taskBorderColor = source.taskbar.taskBorderColor;\n                    target.progressColor = source.taskbar.progressColor;\n                    target.milestoneColor = source.taskbar.milestoneColor;\n                    if (!isNullOrUndefined(source.taskbarTemplate.image) && !isNullOrUndefined(source.taskbarTemplate.image[0].base64)) {\n                        var width = source.taskbarTemplate.image[0].width;\n                        var milestoneHeight = taskbar.isMilestone ? ((source.taskbarTemplate.image[0].height <\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7)) ? source.taskbarTemplate.image[0].height :\n                            (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2) : (_this.parent.chartRowsModule.taskBarHeight * 0.7) - 2;\n                        var taskbarHeight = !isNullOrUndefined(source.taskbarTemplate.image[0].height) ?\n                            ((source.taskbarTemplate.image[0].height < taskbar.height) ?\n                                source.taskbarTemplate.image[0].height : taskbar.height - 2) : taskbar.height - 2;\n                        var height = taskbar.isMilestone ? milestoneHeight : taskbarHeight;\n                        target.taskbarTemplate.image = source.taskbarTemplate.image;\n                        target.taskbarTemplate.image[0].width = width;\n                        target.taskbarTemplate.image[0].height = height;\n                    }\n                    if (!isNullOrUndefined(source.taskbarTemplate.value)) {\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.value = source.taskbarTemplate.value;\n                        target.taskbarTemplate.fontStyle.fontColor = source.taskbarTemplate.fontStyle.fontColor;\n                        target.taskbarTemplate.fontStyle.fontSize = source.taskbarTemplate.fontStyle.fontSize;\n                        target.taskbarTemplate.fontStyle.fontFamily = source.taskbarTemplate.fontStyle.fontFamily;\n                        target.taskbarTemplate.fontStyle.fontStyle = source.taskbarTemplate.fontStyle.fontStyle;\n                        target.taskbarTemplate.fontStyle.fontBrush = source.taskbarTemplate.fontStyle.fontBrush;\n                    }\n                };\n                if (!args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.hasChildRecords && args.data.ganttProperties.duration !== 0) {\n                    applyTemplate(taskbar, args);\n                }\n                else if (args.data.ganttProperties.duration === 0) {\n                    applyTemplate(taskbar, args);\n                }\n            }\n        });\n    };\n    /**\n     * set text alignment of each columns in exporting grid\n     *\n     * @param {string} textAlign .\n     * @param {PdfStringFormat} format .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getHorizontalAlignment = function (textAlign, format) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n        }\n        switch (textAlign) {\n            case 'Right':\n                format.alignment = PdfTextAlignment.Right;\n                break;\n            case 'Center':\n                format.alignment = PdfTextAlignment.Center;\n                break;\n            case 'Justify':\n                format.alignment = PdfTextAlignment.Justify;\n                break;\n            case 'Left':\n                format.alignment = PdfTextAlignment.Left;\n                break;\n        }\n        return format;\n    };\n    /**\n     * set vertical alignment of each columns in exporting grid\n     *\n     * @param {string} verticalAlign .\n     * @param {PdfStringFormat} format .\n     * @param {string} textAlign .\n     * @returns {PdfStringFormat} .\n     * @private\n     */\n    ExportHelper.prototype.getVerticalAlignment = function (verticalAlign, format, textAlign) {\n        if (format === undefined) {\n            format = new PdfStringFormat();\n            format = this.getHorizontalAlignment(textAlign, format);\n        }\n        switch (verticalAlign) {\n            case 'Bottom':\n                format.lineAlignment = PdfVerticalAlignment.Bottom;\n                break;\n            case 'Middle':\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                break;\n            case 'Top':\n                format.lineAlignment = PdfVerticalAlignment.Top;\n                break;\n        }\n        return format;\n    };\n    ExportHelper.prototype.getFontFamily = function (fontFamily) {\n        switch (fontFamily) {\n            case 'TimesRoman':\n                return 2;\n            case 'Courier':\n                return 1;\n            case 'Symbol':\n                return 3;\n            case 'ZapfDingbats':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getFontStyle = function (fontStyle) {\n        switch (fontStyle) {\n            case 'Strikeout':\n                return 8;\n            case 'Underline':\n                return 4;\n            case 'Italic':\n                return 2;\n            case 'Bold':\n                return 1;\n            default:\n                return 0;\n        }\n    };\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportHelper.prototype.getFont = function (content) {\n        if (content.font) {\n            return content.font;\n        }\n        var defaultFontFamily = this.exportProps.ganttStyle && this.exportProps.ganttStyle.fontFamily ?\n            this.exportProps.ganttStyle.fontFamily : PdfFontFamily.TimesRoman;\n        var fontSize = (!isNullOrUndefined(content.style.fontSize)) ? (content.style.fontSize * 0.75) : 9.75;\n        var fontFamily = (!isNullOrUndefined(content.style.fontFamily)) ?\n            (this.getFontFamily(content.style.fontFamily)) : defaultFontFamily;\n        var fontStyle = PdfFontStyle.Regular;\n        // if (!isNullOrUndefined(content.style.bold) && content.style.bold) {\n        //     fontStyle |= PdfFontStyle.Bold;\n        // }\n        // if (!isNullOrUndefined(content.style.italic) && content.style.italic) {\n        //     fontStyle |= PdfFontStyle.Italic;\n        // }\n        // if (!isNullOrUndefined(content.style.underline) && content.style.underline) {\n        //     fontStyle |= PdfFontStyle.Underline;\n        // }\n        // if (!isNullOrUndefined(content.style.strikeout) && content.style.strikeout) {\n        //     fontStyle |= PdfFontStyle.Strikeout;\n        // }\n        return new PdfStandardFont(fontFamily, fontSize, fontStyle);\n    };\n    ExportHelper.prototype.renderEmptyGantt = function () {\n        var row = this.gantt.rows.addRow();\n        if (row.cells.count === 0) {\n            row.cells.add();\n        }\n        row.cells.getCell(0).isHeaderCell = false;\n        row.height = pixelToPoint(this.parent.rowHeight);\n        this.copyStyles(this.ganttStyle.columnHeader, row.cells.getCell(0), row.isParentRow);\n        var count = this.columns.length;\n        row.cells.getCell(0).value = this.parent.localeObj.getConstant('emptyRecord');\n        this.mergeCells(1, 0, count);\n    };\n    ExportHelper.prototype.mergeCells = function (rowIndex, colIndex, lastColIndex) {\n        this.gantt.rows.getRow(rowIndex).cells.getCell(colIndex).columnSpan = lastColIndex;\n    };\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.copyStyles = function (style, cell, isParentRow) {\n        cell.style.fontColor = new PdfColor(style.fontColor);\n        cell.style.backgroundColor = new PdfColor(style.backgroundColor);\n        cell.style.borderColor = new PdfColor(style.borderColor);\n        cell.style.fontSize = style.fontSize;\n        cell.style.fontStyle = style.fontStyle;\n        /* eslint-disable-next-line */\n        cell.style.format = Object.assign(new PdfStringFormat(), style.format);\n        cell.style.borders = new PdfBorders();\n        cell.style.borders.all = new PdfPen(cell.style.borderColor);\n        cell.style.padding = new PdfPaddings();\n        var padding = 0;\n        if (cell.isHeaderCell) {\n            padding = this.parent.timelineModule.isSingleTier ? 45 / 2 : 60 / 2;\n            cell.style.padding.top = (padding - style.fontSize > 0) ? padding - style.fontSize : padding;\n        }\n        else {\n            padding = this.parent.rowHeight / 2;\n            cell.style.padding.top = padding;\n        }\n        cell.style.padding.bottom = (padding - style.fontSize > 0) ? padding - style.fontSize : 0;\n        cell.style.padding.left = 10;\n        cell.style.padding.right = 10;\n        if (style.padding) {\n            cell.style.padding = style.padding;\n        }\n        if (style.borders) {\n            cell.style.borders = style.borders;\n        }\n    };\n    /**\n     * @param {PdfDocument} pdfDoc .\n     * @returns {void} .\n     * @private\n     */\n    ExportHelper.prototype.initializePdf = function (pdfDoc) {\n        this.pdfDoc = pdfDoc;\n        var widths = [];\n        var treeColumnIndex = 0;\n        var tWidth = (this.pdfDoc.pageSettings.width - 82);\n        if (this.exportProps && this.exportProps.fitToWidthSettings && this.exportProps.fitToWidthSettings.isFitToWidth) {\n            var gridWidth = void 0;\n            if (this.exportProps.fitToWidthSettings.gridWidth) {\n                gridWidth = parseInt(this.exportProps.fitToWidthSettings.gridWidth.split('%')[0], 10);\n            }\n            else {\n                if (this.exportProps.fitToWidthSettings.chartWidth) {\n                    var chartWidth = parseInt(this.exportProps.fitToWidthSettings.chartWidth.split('%')[0], 10);\n                    gridWidth = 100 - chartWidth;\n                }\n                else {\n                    gridWidth = 30;\n                }\n            }\n            var pdfwidth = (this.parent.pdfExportModule['pdfPageDimensions'].width * gridWidth) / 100;\n            var perColumnWidth = pdfwidth / this.gantt.columns.columns.length;\n            for (var i = 0; i < this.gantt.columns.columns.length; i++) {\n                this.gantt.columns.getColumn(i).width = perColumnWidth;\n            }\n        }\n        /* eslint-disable-next-line */\n        var PdfPage = this.parent.pdfExportModule.pdfPage;\n        if (this.totalColumnWidth > (this.pdfDoc.pageSettings.width - 82) && this.totalColumnWidth < PdfPage.getClientSize().width) {\n            this.gantt.style.allowHorizontalOverflow = true;\n        }\n        else if ((tWidth / this.columns.length) < widths[treeColumnIndex]) {\n            this.gantt.columns.getColumn(treeColumnIndex).width = widths[treeColumnIndex];\n        }\n        if (this.exportProps.enableFooter || isNullOrUndefined(this.exportProps.enableFooter)) {\n            //code for draw the footer content\n            var pageSize_1 = this.parent.pdfExportModule.getPageSize(this.exportProps.pageSize);\n            var bounds = new RectangleF(0, 0, pageSize_1.width, 35);\n            var pen = new PdfPen(this.ganttStyle.footer.borderColor);\n            var footer = new PdfPageTemplateElement(bounds);\n            var footerBrush = new PdfSolidBrush(this.ganttStyle.footer.backgroundColor);\n            footer.graphics.drawRectangle(pen, footerBrush, 0, 0, pageSize_1.width, 35);\n            /* eslint-disable-next-line */\n            var font = new PdfStandardFont(this.ganttStyle.fontFamily, this.ganttStyle.footer.fontSize, this.ganttStyle.footer.fontStyle);\n            if (this.ganttStyle.font) {\n                font = this.ganttStyle.font;\n            }\n            var brush = new PdfSolidBrush(this.ganttStyle.footer.fontColor);\n            var pageNumber = new PdfPageNumberField(font);\n            var count = new PdfPageCountField(font, brush);\n            var compositeField = new PdfCompositeField(font, brush, 'Page {0}', pageNumber, count);\n            compositeField.stringFormat = this.ganttStyle.footer.format;\n            compositeField.bounds = bounds;\n            compositeField.draw(footer.graphics, new PointF(0, 0));\n            pdfDoc.template.bottom = footer;\n        }\n        /* eslint-disable-next-line */\n        var pageSize = PdfPage.size;\n        var clientSize = !isNullOrUndefined(pageSize) ? pageSize : this.pdfDoc.pageSettings.size;\n        // code for draw header content\n        if (!isNullOrUndefined(this.exportProps.header)) {\n            var headerProp = this.exportProps.header;\n            var position = new PointF(0, headerProp.fromTop);\n            var size = new SizeF((clientSize.width * 1.1), ((headerProp && headerProp.height) ? headerProp.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            pdfDoc.template.top = this.drawPageTemplate(new PdfPageTemplateElement(bounds), headerProp);\n        }\n        // code for customization of footer\n        if (!this.exportProps.enableFooter && !isNullOrUndefined(this.exportProps.footer)) {\n            var footer = this.exportProps.footer;\n            var position = new PointF(0, ((clientSize.width - 80) - ((footer && footer.fromBottom) ?\n                footer.fromBottom * 0.75 : 0)));\n            var size = new SizeF((clientSize.width * 1.1), ((footer && footer.height) ? footer.height * 0.75 : 50));\n            var bounds = new RectangleF(position, size);\n            this.pdfDoc.template.bottom = this.drawPageTemplate(new PdfPageTemplateElement(bounds), footer);\n        }\n    };\n    ExportHelper.prototype.drawPageTemplate = function (template, element) {\n        for (var _i = 0, _a = element.contents; _i < _a.length; _i++) {\n            var content = _a[_i];\n            switch (content.type) {\n                case 'Text':\n                    if (content.value === '' || content.value === undefined || content.value === null || typeof content.value !== 'string') {\n                        throw new Error('please enter the valid input value in text content...');\n                    }\n                    this.drawText(template, content);\n                    break;\n                case 'PageNumber':\n                    this.drawPageNumber(template, content);\n                    break;\n                case 'Image':\n                    if (content.src === undefined || content.src === null || content.src === '') {\n                        throw new Error('please enter the valid base64 string in image content...');\n                    }\n                    this.drawImage(template, content);\n                    break;\n                case 'Line':\n                    this.drawLine(template, content);\n                    break;\n                default:\n                    throw new Error('Please set valid content type...');\n            }\n        }\n        return template;\n    };\n    // code for draw text\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawText = function (pageTemplate, content) {\n        var font = this.getFont(content);\n        if (this.ganttStyle.font) {\n            font = this.ganttStyle.font;\n        }\n        var brush = this.getBrushFromContent(content);\n        var pen = null;\n        if (!isNullOrUndefined(content.style.textPenColor)) {\n            var penColor = this.hexToRgb(content.style.textPenColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        if (brush === null && pen === null) {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var value = content.value.toString();\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var format = new PdfStringFormat();\n        if (!isNullOrUndefined(content.style.stringFormat)) {\n            format.alignment = content.style.stringFormat.alignment;\n        }\n        var result = this.setContentFormat(content, format);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, result.size.width, result.size.height, result.format);\n        }\n        else {\n            pageTemplate.graphics.drawString(value, font, pen, brush, x, y, format);\n        }\n    };\n    // code for draw pagenumber\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawPageNumber = function (documentHeader, content) {\n        var font = this.getFont(content);\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        else {\n            brush = new PdfSolidBrush(new PdfColor(0, 0, 0));\n        }\n        var pageNumber = new PdfPageNumberField(font, brush);\n        pageNumber.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n        var compositeField;\n        var format;\n        if (!isNullOrUndefined(content.format)) {\n            var total = '$total';\n            var current = '$current';\n            if (content.format.indexOf(total) !== -1 && content.format.indexOf(current) !== -1) {\n                var pageCount = new PdfPageCountField(font);\n                pageCount.numberStyle = this.getPageNumberStyle(content.pageNumberType);\n                if (content.format.indexOf(total) > content.format.indexOf(current)) {\n                    format = content.format.replace(current, '0');\n                    format = format.replace(total, '1');\n                }\n                else {\n                    format = content.format.replace(current, '1');\n                    format = format.replace(total, '0');\n                }\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber, pageCount);\n            }\n            else if (content.format.indexOf(current) !== -1 && content.format.indexOf(total) === -1) {\n                format = content.format.replace(current, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n            }\n            else {\n                var pageCount = new PdfPageCountField(font);\n                format = content.format.replace(total, '0');\n                compositeField = new PdfCompositeField(font, brush, format, pageCount);\n            }\n        }\n        else {\n            format = '{0}';\n            compositeField = new PdfCompositeField(font, brush, format, pageNumber);\n        }\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var result = this.setContentFormat(content, compositeField.stringFormat);\n        if (result !== null && !isNullOrUndefined(result.format) && !isNullOrUndefined(result.size)) {\n            compositeField.stringFormat = result.format;\n            compositeField.bounds = new RectangleF(x, y, result.size.width, result.size.height);\n        }\n        compositeField.draw(documentHeader.graphics, x, y);\n    };\n    // code for draw image\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawImage = function (documentHeader, content) {\n        var x = content.position.x * 0.75;\n        var y = content.position.y * 0.75;\n        var width = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.width)) ?\n            (content.size.width * 0.50) : undefined;\n        var height = (!isNullOrUndefined(content.size) && !isNullOrUndefined(content.size.height)) ?\n            (content.size.height * 0.75) : undefined;\n        var image = new PdfBitmap(content.src);\n        if (!isNullOrUndefined(width)) {\n            documentHeader.graphics.drawImage(image, x, y, width, height);\n        }\n        else {\n            documentHeader.graphics.drawImage(image, x, y);\n        }\n    };\n    // code for draw line\n    /* eslint-disable-next-line */\n    ExportHelper.prototype.drawLine = function (documentHeader, content) {\n        var x1 = content.points.x1 * 0.75;\n        var y1 = content.points.y1 * 0.75;\n        var x2 = content.points.x2 * 0.75;\n        var y2 = content.points.y2 * 0.75;\n        var pen = this.getPenFromContent(content);\n        if (!isNullOrUndefined(content.style)) {\n            if (!isNullOrUndefined(content.style.penSize) && typeof content.style.penSize === 'number') {\n                pen.width = content.style.penSize * 0.75;\n            }\n            pen.dashStyle = this.getDashStyle(content.style.dashStyle);\n        }\n        documentHeader.graphics.drawLine(pen, x1, y1, x2, y2);\n    };\n    ExportHelper.prototype.getPenFromContent = function (content) {\n        var pen = new PdfPen(new PdfColor(0, 0, 0));\n        if (!isNullOrUndefined(content.style) && content.style !== null && !isNullOrUndefined(content.style.penColor)) {\n            var penColor = this.hexToRgb(content.style.penColor);\n            pen = new PdfPen(new PdfColor(penColor.r, penColor.g, penColor.b));\n        }\n        return pen;\n    };\n    ExportHelper.prototype.getDashStyle = function (dashStyle) {\n        switch (dashStyle) {\n            case 'Dash':\n                return 1;\n            case 'Dot':\n                return 2;\n            case 'DashDot':\n                return 3;\n            case 'DashDotDot':\n                return 4;\n            default:\n                return 0;\n        }\n    };\n    ExportHelper.prototype.getBrushFromContent = function (content) {\n        var brush = null;\n        if (!isNullOrUndefined(content.style.textBrushColor)) {\n            /* tslint:disable-next-line:max-line-length */\n            var brushColor = this.hexToRgb(content.style.textBrushColor);\n            brush = new PdfSolidBrush(new PdfColor(brushColor.r, brushColor.g, brushColor.b));\n        }\n        return brush;\n    };\n    ExportHelper.prototype.hexToRgb = function (hex) {\n        if (hex === null || hex === '' || hex.length !== 7) {\n            throw new Error('please set valid hex value for color...');\n        }\n        hex = hex.substring(1);\n        var bigint = parseInt(hex, 16);\n        var r = (bigint >> 16) & 255;\n        var g = (bigint >> 8) & 255;\n        var b = bigint & 255;\n        return { r: r, g: g, b: b };\n    };\n    ExportHelper.prototype.setContentFormat = function (content, format) {\n        var width = (content.size) ? content.size.width * 0.75 : this.pdfDoc.pageSettings.size.width;\n        var height = (content.size) ? content.size.height * 0.75 : (!isNullOrUndefined(this.exportProps.footer) ?\n            this.exportProps.footer.height * 0.50 : 0);\n        format = new PdfStringFormat(PdfTextAlignment.Left, PdfVerticalAlignment.Middle);\n        if (!isNullOrUndefined(content.style.hAlign)) {\n            switch (content.style.hAlign) {\n                case 'Right':\n                    format.alignment = PdfTextAlignment.Right;\n                    break;\n                case 'Center':\n                    format.alignment = PdfTextAlignment.Center;\n                    break;\n                case 'Justify':\n                    format.alignment = PdfTextAlignment.Justify;\n                    break;\n                default:\n                    format.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if (!isNullOrUndefined(content.style.vAlign)) {\n            format = this.getVerticalAlignment(content.style.vAlign, format);\n        }\n        return { format: format, size: new SizeF(width, height) };\n    };\n    ExportHelper.prototype.getPageNumberStyle = function (pageNumberType) {\n        switch (pageNumberType) {\n            case 'LowerLatin':\n                return 2;\n            case 'LowerRoman':\n                return 3;\n            case 'UpperLatin':\n                return 4;\n            case 'UpperRoman':\n                return 5;\n            default:\n                return 1;\n        }\n    };\n    return ExportHelper;\n}());\nexport { ExportHelper };\n/**\n * @hidden\n * `ExportValueFormatter` for `PdfExport` & `ExcelExport`\n */\nvar ExportValueFormatter = /** @class */ (function () {\n    function ExportValueFormatter(culture) {\n        this.valueFormatter = new ValueFormatter(culture);\n        this.internationalization = new Internationalization(culture);\n    }\n    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\n    ExportValueFormatter.prototype.returnFormattedValue = function (args, customFormat) {\n        if (!isNullOrUndefined(args.value) && args.value) {\n            return this.valueFormatter.getFormatFunction(customFormat)(args.value);\n        }\n        else {\n            return '';\n        }\n    };\n    /**\n     * @private\n     */\n    /* eslint-disable-next-line  */\n    ExportValueFormatter.prototype.formatCellValue = function (args) {\n        if (args.isForeignKey) {\n            args.value = getValue(args.column.foreignKeyValue, getForeignData(args.column, {}, args.value)[0]);\n        }\n        if (args.column.type === 'number' && args.column.format !== undefined && args.column.format !== '') {\n            return args.value ? this.internationalization.getNumberFormat({ format: args.column.format })(args.value) : '';\n        }\n        else if (args.column.type === 'boolean') {\n            return args.value ? 'true' : 'false';\n        }\n        else if ((args.column.type === 'date' || args.column.type === 'datetime' || args.column.type === 'time') && args.column.format !== undefined) {\n            if (typeof args.value === 'string') {\n                args.value = new Date(args.value);\n            }\n            if (typeof args.column.format === 'string') {\n                var format = void 0;\n                if (args.column.type === 'date') {\n                    format = { type: 'date', format: args.column.format };\n                }\n                else if (args.column.type === 'time') {\n                    format = { type: 'time', format: args.column.format };\n                }\n                else {\n                    format = { type: 'dateTime', format: args.column.format };\n                }\n                return this.returnFormattedValue(args, format);\n            }\n            else {\n                if (args.column.format instanceof Object && args.column.format.type === undefined) {\n                    return (args.value.toString());\n                }\n                else {\n                    var customFormat = void 0;\n                    if (args.column.type === 'date') {\n                        /* eslint-disable-next-line max-len */\n                        customFormat = { type: args.column.format.type, format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else if (args.column.type === 'time') {\n                        customFormat = { type: 'time', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    else {\n                        customFormat = { type: 'dateTime', format: args.column.format.format, skeleton: args.column.format.skeleton };\n                    }\n                    return this.returnFormattedValue(args, customFormat);\n                }\n            }\n        }\n        else {\n            if ((!isNullOrUndefined(args.column.type) && !isNullOrUndefined(args.value)) || !isNullOrUndefined(args.value)) {\n                return (args.value).toString();\n            }\n            else {\n                return '';\n            }\n        }\n    };\n    return ExportValueFormatter;\n}());\nexport { ExportValueFormatter };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PointF, PdfColor, PdfStringLayouter, PdfPen, PdfSolidBrush, RectangleF, SizeF, PdfStandardFont, PdfFontStyle, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, PdfDashStyle, PdfPath, PdfBitmap, PdfBrushes, PdfLinearGradientBrush } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttTaskbarCollection = /** @class */ (function () {\n    function PdfGanttTaskbarCollection(parent) {\n        /** Defines the task baselineHeight . */\n        this.baselineHeight = 8;\n        this.segment = [];\n        this.segmentCollection = [];\n        /**\n         * @private\n         */\n        this.leftTaskLabel = {};\n        /**\n         * @private\n         */\n        this.rightTaskLabel = {};\n        this.startPage = -1;\n        this.endPage = -1;\n        this.spaceBetweenImageAndValue = 8;\n        this.parent = parent;\n    }\n    PdfGanttTaskbarCollection.prototype.add = function () {\n        return new PdfGanttTaskbarCollection(this.parent);\n    };\n    /**\n     * @param {PdfPage} page .\n     * @returns {PdfPage} .\n     * Get the next PDF page\n     */\n    PdfGanttTaskbarCollection.prototype.GetNextPage = function (page) {\n        var section = page.section;\n        var index = section.indexOf(page);\n        var nextPage = null;\n        if (index === section.count - 1) {\n            nextPage = section.add();\n        }\n        else {\n            nextPage = section.getPages()[index + 1];\n        }\n        return nextPage;\n    };\n    PdfGanttTaskbarCollection.prototype.isAutoFit = function () {\n        return ((this.parent.pdfExportModule && this.parent.pdfExportModule.helper.exportProps &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings &&\n            this.parent.pdfExportModule.helper.exportProps.fitToWidthSettings.isFitToWidth) ||\n            this.parent.timelineModule.isZoomedToFit) ? true : false;\n    };\n    /**\n     * Draw the taskbar, chart back ground\n     *\n     * @private\n     */\n    /* eslint-disable */\n    PdfGanttTaskbarCollection.prototype.drawTaskbar = function (page, startPoint, detail, cumulativeWidth, rowHeight, taskbar, lineWidth, currentPageIndex) {\n        var _this = this;\n        var taskGraphics = page.graphics;\n        var isNextPage = false;\n        var pageSize = page.getClientSize();\n        var yPoint = startPoint.y + rowHeight;\n        var count = currentPageIndex;\n        //code for while current pdf page is exceed\n        if (yPoint > pageSize.height) {\n            page = this.GetNextPage(page);\n            page['contentWidth'] = (this.isAutoFit()) ? pointToPixel(detail.endPoint - detail.startPoint) : detail.endPoint - detail.startPoint;\n            taskGraphics = page.graphics;\n            startPoint.y = 0;\n            this.parent.pdfExportModule.gantt.currentPage = this.parent.pdfExportModule.gantt.currentPage + 1;\n            this.parent.pdfExportModule.gantt.eventMarker.renderHeight = this.parent.pdfExportModule.gantt.layouter.pageHeightCollection[this.parent.pdfExportModule.gantt.currentPage].totalHeight;\n            if (this.parent.pdfExportModule.gantt.enableHeader) {\n                this.parent.pdfExportModule.gantt.chartHeader.drawPageTimeline(page, startPoint, detail, this.parent.pdfExportModule.gantt.currentPage);\n                startPoint.y = pixelToPoint(this.parent.timelineModule.isSingleTier ? 45 : 60);\n            }\n            isNextPage = true;\n        }\n        this.drawLeftLabel(page, startPoint, detail, cumulativeWidth, taskbar);\n        //Draw Taskbar\n        var font = new PdfStandardFont(this.fontFamily, 9, PdfFontStyle.Regular);\n        var fontColor = null;\n        var fontBrush = new PdfSolidBrush(this.progressFontColor);\n        var customizedFont;\n        var customizedFontBrush;\n        var customizedFontColor;\n        customizedFont = font;\n        if (!isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontFamily && taskbar.taskbarTemplate.fontStyle.fontSize) {\n            customizedFont = new PdfStandardFont(taskbar.taskbarTemplate.fontStyle.fontFamily, taskbar.taskbarTemplate.fontStyle.fontSize, taskbar.taskbarTemplate.fontStyle.fontStyle);\n        }\n        customizedFontBrush = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.taskbarTemplate.fontStyle.fontColor)\n            : fontBrush;\n        customizedFontColor = !isNullOrUndefined(taskbar.taskbarTemplate.value) && taskbar.taskbarTemplate.fontStyle && taskbar.taskbarTemplate.fontStyle.fontBrush\n            ? new PdfPen(taskbar.taskbarTemplate.fontStyle.fontBrush)\n            : fontColor;\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var taskLabelFont;\n        var taskLabelFontBrush;\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (taskbar.labelSettings.taskLabel.fontStyle.fontSize) {\n            var taskFont = new PdfStandardFont(taskbar.labelSettings.taskLabel.fontStyle.fontFamily, taskbar.labelSettings.taskLabel.fontStyle.fontSize, taskbar.labelSettings.taskLabel.fontStyle.fontStyle);\n            taskLabelFont = taskFont;\n        }\n        else if (ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) {\n            taskLabelFontBrush = new PdfSolidBrush(ganttStyle.label.fontBrush);\n        }\n        else {\n            taskLabelFont = font;\n        }\n        taskLabelFontBrush = taskbar.labelSettings.taskLabel.fontStyle.fontColor\n            ? new PdfSolidBrush(taskbar.labelSettings.taskLabel.fontStyle.fontColor)\n            : (ganttStyle && ganttStyle.label && ganttStyle.label.fontColor\n                ? new PdfSolidBrush(ganttStyle.label.fontColor)\n                : fontBrush);\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontBrush))) {\n            fontColor = new PdfPen(ganttStyle.label.fontBrush);\n        }\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n            || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n            !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n            taskLabelFont = this.getPdfFont(ganttStyle);\n        }\n        var progressFormat = new PdfStringFormat();\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        progressFormat.alignment = PdfTextAlignment.Right;\n        var isLabelString = false;\n        var updatedWidth;\n        if (!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z0-9]/.test(this.taskLabel))) {\n            if (this.taskLabel === '0' || this.taskLabel === '0%') {\n                updatedWidth = this.width;\n                progressFormat.alignment = PdfTextAlignment.Left;\n            }\n        }\n        if ((!isNullOrUndefined(this.taskLabel) && (/^[a-zA-Z]/.test(this.taskLabel))) || (!isNullOrUndefined(taskbar.taskbarTemplate.value))) {\n            isLabelString = true;\n            progressFormat.alignment = PdfTextAlignment.Left;\n        }\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format)) {\n            progressFormat = ganttStyle.label.format;\n        }\n        var taskLabelPadding = { left: 0, right: 0, top: 0, bottom: 0 };\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n            !isNullOrUndefined(ganttStyle.label.padding)) {\n            taskLabelPadding = ganttStyle.label.padding;\n        }\n        var pageIndex = -1;\n        var baselinePen = new PdfPen(taskbar.baselineBorderColor);\n        var baselineBrush = new PdfSolidBrush(taskbar.baselineColor);\n        var template = taskbar.taskbarTemplate;\n        var renderedBaseline = false;\n        if (!taskbar.isMilestone) {\n            var taskbarPen_1 = new PdfPen(taskbar.taskBorderColor);\n            var taskBrush_1 = new PdfSolidBrush(taskbar.taskColor);\n            var manualParentBorderPen = new PdfPen(taskbar.manualParentBorder);\n            var manualChildBorderPen = new PdfPen(taskbar.manualChildBorder);\n            var manualTaskbarPen = new PdfPen(taskbar.manuallineColor);\n            var manualParentPen = new PdfPen(taskbar.manualParentProgress);\n            var manualline = new PdfPen(taskbar.manuallineColor);\n            var manuallineBrush = new PdfSolidBrush(taskbar.manuallineColor);\n            var splitline = new PdfPen(taskbar.splitLineBackground);\n            var manualBrush = new PdfSolidBrush(taskbar.manualParentBackground);\n            var manualChildBrush = new PdfSolidBrush(taskbar.manualChildBackground);\n            var manualChildProgressBrush = new PdfSolidBrush(taskbar.manualChildProgress);\n            var manualProgressBrush = new PdfSolidBrush(taskbar.manualParentProgress);\n            var progressPen_1 = new PdfPen(taskbar.progressColor);\n            var progressBrush_1 = new PdfSolidBrush(taskbar.progressColor);\n            var adjustHeightforTaskbar = pixelToPoint((this.parent.rowHeight - this.height) / 2.0);\n            var adjustHeightforBaseline = pixelToPoint((this.parent.rowHeight - this.height) / 4.5);\n            var adjustHeight_1 = this.parent.renderBaseline ? adjustHeightforBaseline : adjustHeightforTaskbar;\n            pageIndex = page.section.indexOf(page);\n            var startDate = isNullOrUndefined(this.unscheduleStarteDate) ? this.startDate : this.unscheduleStarteDate;\n            var endDate = isNullOrUndefined(this.unscheduleEndDate) ? this.endDate : this.unscheduleEndDate;\n            var imageSize_1 = 10;\n            //Task start and end date both are in the range of header split up start and end date\n            if (detail.startDate <= startDate && endDate <= detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (taskbar.width) / 2, startPoint.y + adjustHeight_1, (taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        //Draw rectangle to fill linear gradient color\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                        });\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.save();\n                        var path = new PdfPath();\n                        path.addEllipse(0, 0, 5, 5);\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                        taskGraphics.restore();\n                        var path1 = new PdfPath();\n                        path1.addEllipse(0, 0, 5, 5);\n                        taskGraphics.save();\n                        if (this.isAutoFit()) {\n                            taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        else {\n                            taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(this.width), startPoint.y + adjustHeight_1 - 2);\n                        }\n                        taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1);\n                        taskGraphics.restore();\n                        manualline.dashStyle = PdfDashStyle.Solid;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((taskbar.width) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                        else {\n                            taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                        }\n                    }\n                    else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualChildBorderPen, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height));\n                        }\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width / 2.0;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + (taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0, (taskbar.taskbarTemplate.image[0].width) / 2.0, (taskbar.taskbarTemplate.image[0].height) / 2.0);\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (taskbar.taskbarTemplate.value) {\n                                    if (isLabelString) {\n                                        updatedWidth = this.width;\n                                    }\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat) : '';\n                            }\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isSpliterTask) {\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            if (this.isAutoFit() && taskbar.isAutoSchedule) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else if (taskbar.isAutoSchedule) {\n                                taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (!isNullOrUndefined(this.parent.labelSettings.taskLabel) && !isNullOrUndefined(this.taskLabel)) {\n                                if (this.taskLabel !== '0' && this.taskLabel !== '0%') {\n                                    updatedWidth = this.progressWidth;\n                                }\n                                if (isLabelString) {\n                                    updatedWidth = this.width;\n                                }\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 - (taskLabelPadding.top + taskLabelPadding.bottom), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                                else {\n                                    taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                    }\n                    else if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                        });\n                    }\n                }\n                this.isCompleted = true;\n                this.startPage = pageIndex;\n                this.endPage = pageIndex;\n            }\n            //Task start date is in the range of header split up start and end date\n            else if (detail.startDate <= startDate && detail.endDate >= startDate && (endDate >= detail.endDate)) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                var width = this.width;\n                var renderWidth_1 = 0;\n                var progressWidth = 0;\n                var splitRenderwidth_1 = 0;\n                this.width = this.width - (detail.totalWidth - (this.left - cumulativeWidth));\n                renderWidth_1 = (detail.totalWidth - (this.left - cumulativeWidth));\n                progressWidth = (detail.totalWidth - (this.left - cumulativeWidth));\n                if (width < renderWidth_1) {\n                    renderWidth_1 = width;\n                }\n                splitRenderwidth_1 = renderWidth_1;\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    if (this.isAutoFit()) {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, 0), new PointF(startPoint.x + (this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1), 0), new PointF(startPoint.x + (this.left - cumulativeWidth) + (renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + (this.left - cumulativeWidth) + 0.5 + (renderWidth_1) / 2, startPoint.y + adjustHeight_1, (renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                    else {\n                        brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                        taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                        brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1), 0), new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + pixelToPoint(renderWidth_1) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                        taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + pixelToPoint(renderWidth_1) / 2, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1) / 2, pixelToPoint(taskbar.height));\n                        if (template.image || template.value) {\n                            var imageWidth = void 0;\n                            if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                            }\n                            else {\n                                imageWidth = 0;\n                            }\n                            !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5 + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                        }\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    taskGraphics.save();\n                    var path = new PdfPath();\n                    path.addEllipse(0, 0, 5, 5);\n                    if (this.isAutoFit()) {\n                        taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    else {\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 - 2);\n                    }\n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path);\n                    taskGraphics.restore();\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF((renderWidth_1) + startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                    else {\n                        taskGraphics.drawLine(manualline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1), new PointF(pixelToPoint(renderWidth_1) + startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1));\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                    }\n                    taskGraphics.restore();\n                    if (this.isAutoFit()) {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    else {\n                        taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy !== 'duration') {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else {\n                    if (taskbar.isSpliterTask) {\n                        var pervwidth_1 = 0;\n                        var valueChangeBlocker_1 = true;\n                        var lineWidth_1 = 0;\n                        taskbar.segment.map(function (item) {\n                            lineWidth_1 = item.left + item.width;\n                        });\n                        splitline.dashStyle = PdfDashStyle.Dot;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF((lineWidth_1) + (this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        else {\n                            taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(lineWidth_1) + pixelToPoint(this.left - cumulativeWidth) + startPoint.x, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                        }\n                        taskbar.segment.map(function (data, index) {\n                            var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                            var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left), startPoint.y + adjustHeight_1, (taskbar.taskbarTemplate.image[0].width), (taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (_this.left - cumulativeWidth) + 0.5 + (data.left) + imageWidth, startPoint.y + adjustHeight_1, (data.width), (taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                                if (template.image || template.value) {\n                                    var imageWidth = void 0;\n                                    if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                        imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                        var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                        taskGraphics.drawImage(image, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                    }\n                                    else {\n                                        imageWidth = 0;\n                                    }\n                                    !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(_this.left - cumulativeWidth) + 0.5 + pixelToPoint(data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                                }\n                            }\n                            pervwidth_1 = data.left + data.width;\n                            if (renderWidth_1 >= pervwidth_1) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                            }\n                            else {\n                                if (renderWidth_1 >= (pervwidth_1 - data.width)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = 0;\n                                }\n                                else {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].left = ((splitRenderwidth_1 - data.left));\n                                }\n                                if (renderWidth_1 >= (pervwidth_1)) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].width = 0;\n                                }\n                                else {\n                                    if (valueChangeBlocker_1) {\n                                        _this.segmentCollection[parseInt(index.toString(), 10)].width = pervwidth_1 - renderWidth_1;\n                                        valueChangeBlocker_1 = false;\n                                    }\n                                }\n                            }\n                            splitRenderwidth_1 = splitRenderwidth_1 + data.width + data.left;\n                        });\n                    }\n                    else {\n                        if (this.isAutoFit()) {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (renderWidth_1), pixelToPoint(taskbar.height));\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 0.5), (taskbar.taskbarTemplate.image[0].width / 2.0), (taskbar.taskbarTemplate.image[0].height / 2.0));\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var imageWidth = !isNullOrUndefined(taskbar.taskbarTemplate.image) ? taskbar.taskbarTemplate.image[0].width : 0;\n                                    taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + (this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                }\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(template.value) && isNullOrUndefined(template.image)) {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(renderWidth_1), pixelToPoint(taskbar.height));\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 1, startPoint.y + adjustHeight_1 + 1 + pixelToPoint((taskbar.height - taskbar.taskbarTemplate.image[0].height) / 2.0), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    this.stringLeft = pixelToPoint(this.left);\n                                    var result = this.getWidth(taskbar.taskbarTemplate.value, detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + imageWidth, (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result.remainder)) {\n                                        this.remainString = result.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                            }\n                        }\n                        if (taskbar.isAutoSchedule && !taskbar.isSpliterTask) {\n                            var progressBoundsWidth = 0;\n                            if (this.progressWidth <= renderWidth_1) {\n                                progressBoundsWidth = this.progressWidth;\n                            }\n                            else {\n                                progressBoundsWidth = renderWidth_1;\n                            }\n                            if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                                if (this.isAutoFit()) {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + (this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                                else {\n                                    taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(this.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                                }\n                            }\n                            this.progressWidth -= progressBoundsWidth;\n                            if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                                updatedWidth = progressBoundsWidth;\n                                if (isLabelString) {\n                                    updatedWidth = renderWidth_1;\n                                }\n                                this.stringLeft = this.left;\n                                if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                                    var result = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                                    taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), (startPoint.y + adjustHeight_1), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    if (!isNullOrUndefined(result.remainder)) {\n                                        this.remainString = result.remainder;\n                                        this.stringLeft = detail.endPoint;\n                                        // this.rightTaskLabel.isLeftCalculated = true;\n                                    }\n                                }\n                                else {\n                                    if (this.isAutoFit()) {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), (updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                    else {\n                                        taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    if (taskbar.isSpliterTask) {\n                        taskbar.segment.map(function (data, index) {\n                            var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                            var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + (_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, (data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            else {\n                                taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(_this.left + data.left - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                            }\n                            if (_this.segmentCollection[parseInt(index.toString(), 10)].width === 0) {\n                                _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = 0;\n                            }\n                            else {\n                                if (data.width - _this.segmentCollection[parseInt(index.toString(), 10)].width < data.progressWidth && data.width !== _this.segmentCollection[index].width) {\n                                    _this.segmentCollection[parseInt(index.toString(), 10)].progressWidth = data.progressWidth - (data.width - _this.segmentCollection[index].width);\n                                }\n                            }\n                        });\n                    }\n                }\n                this.left = 0;\n                this.isCompleted = false;\n                this.startPage = pageIndex;\n            }\n            //Task end date is in the range of header split up start and end date\n            else if (endDate <= detail.endDate && detail.startDate <= endDate && !this.isCompleted) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left + 0.5) + pixelToPoint(taskbar.width) / 2, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width) / 2, pixelToPoint(taskbar.height));\n                    if (template.image || template.value) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : '';\n                    }\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var path1 = new PdfPath();\n                    path1.addEllipse(0, 0, 5, 5); // Circle with radius 5\n                    taskGraphics.save(); // Save the current graphics state  \n                    var lineStartX = startPoint.x + pixelToPoint(this.left + 0.5); // Calculate the endpoint of the line\n                    var lineEndX = pixelToPoint(taskbar.width) + lineStartX - 5;\n                    var lineY = startPoint.y + adjustHeight_1;\n                    taskGraphics.drawLine(manualline, lineStartX, lineY, lineEndX, lineY); // Draw the line first     \n                    taskGraphics.translateTransform(lineEndX, lineY - 2); // Now move the origin to the line's end point to draw the circle        \n                    taskGraphics.drawPath(manualTaskbarPen, manuallineBrush, path1); // Draw the circle at the end of the line  \n                    taskGraphics.restore(); // Restore the graphics state\n                    manualline.dashStyle = PdfDashStyle.Solid; // Ensure the line has a solid style\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(this.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (taskbar.isSpliterTask) {\n                    splitline.dashStyle = PdfDashStyle.Dot;\n                    taskGraphics.drawLine(splitline, new PointF(startPoint.x + pixelToPoint(this.left) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)), new PointF(pixelToPoint(taskbar.width) + startPoint.x + pixelToPoint(this.left), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height / 2)));\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmenttaskbarPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].taskBorderColor) : taskbarPen_1;\n                        var segmenttaskBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].taskColor) : taskBrush_1;\n                        if (data.width !== 0) {\n                            taskGraphics.drawRectangle(segmenttaskbarPen, segmenttaskBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height));\n                            if (template.image || template.value) {\n                                var imageWidth = void 0;\n                                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                                    imageWidth = taskbar.taskbarTemplate.image[0].width;\n                                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                                    taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                                }\n                                else {\n                                    imageWidth = 0;\n                                }\n                                !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(data.width), pixelToPoint(taskbar.height), progressFormat) : '';\n                            }\n                        }\n                    });\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(taskbar.height));\n                }\n                if (this.isScheduledTask && !taskbar.isSpliterTask) {\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value) && taskbar.isAutoSchedule) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left + 0.5), startPoint.y + adjustHeight_1, pixelToPoint(taskbar.progressWidth), pixelToPoint(taskbar.height));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        updatedWidth = this.progressWidth;\n                        if (isLabelString) {\n                            updatedWidth = this.width;\n                        }\n                        if (isLabelString && isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                        else if (!isNullOrUndefined(this.taskLabel) && !isLabelString) {\n                            updatedWidth = this.progressWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                else if (taskbar.isSpliterTask) {\n                    taskbar.segmentCollection.map(function (data, index) {\n                        var segmentprogressPen = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfPen(_this.taskSegmentStyles[index].progressColor) : progressPen_1;\n                        var segmentprogressBrush = !isNullOrUndefined(_this.taskSegmentStyles) ? new PdfSolidBrush(_this.taskSegmentStyles[index].progressColor) : progressBrush_1;\n                        taskGraphics.drawRectangle(segmentprogressPen, segmentprogressBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5 + data.left), startPoint.y + adjustHeight_1, pixelToPoint(data.progressWidth), pixelToPoint(taskbar.height));\n                    });\n                }\n                this.isCompleted = true;\n                this.endPage = pageIndex;\n            }\n            //Header splitup start and end date with in the task start and end date.\n            //So the task is takes entire width of page.\n            else if (startDate < detail.startDate && endDate > detail.endDate) {\n                if (!this.isStartPoint) {\n                    this.taskStartPoint = __assign({}, startPoint);\n                    this.isStartPoint = true;\n                }\n                if (!this.isScheduledTask && this.unscheduledTaskBy === 'duration') {\n                    var brush1 = void 0;\n                    var brush2 = void 0;\n                    brush1 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, 0), new PointF(startPoint.x + pixelToPoint(taskbar.left), 0), new PdfColor(taskbar.unscheduledTaskBarColor), new PdfColor(255, 255, 255));\n                    taskGraphics.drawRectangle(brush1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    brush2 = new PdfLinearGradientBrush(new PointF(startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth), 0), new PointF(startPoint.x + pixelToPoint(taskbar.left) + pixelToPoint(detail.totalWidth) / 2, 0), new PdfColor(255, 255, 255), new PdfColor(taskbar.unscheduledTaskBarColor));\n                    taskGraphics.drawRectangle(brush2, startPoint.x + pixelToPoint(taskbar.left) + 0.5 + pixelToPoint(detail.totalWidth) / 2, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth) / 2, pixelToPoint(taskbar.height));\n                    if (template.image || template.value) {\n                        var imageWidth = void 0;\n                        if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                            imageWidth = taskbar.taskbarTemplate.image[0].width;\n                            var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                            taskGraphics.drawImage(image, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height));\n                        }\n                        else {\n                            imageWidth = 0;\n                        }\n                        !isNullOrUndefined(taskbar.taskbarTemplate.value) ? taskGraphics.drawString(taskbar.taskbarTemplate.value, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left + 0.5) + imageWidth, startPoint.y + adjustHeight_1, pixelToPoint(taskbar.width), pixelToPoint(this.height), progressFormat) : 0;\n                    }\n                }\n                else if (!this.isScheduledTask && this.unscheduledTaskBy === \"endDate\") {\n                    this.drawUnscheduledTask(taskGraphics, startPoint, cumulativeWidth, adjustHeight_1);\n                }\n                else if (!taskbar.isAutoSchedule && !taskbar.isParentTask) {\n                    taskGraphics.drawRectangle(manualChildBorderPen, null, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.save();\n                    taskGraphics.setTransparency(0.87);\n                    taskGraphics.drawRectangle(null, manualChildBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    taskGraphics.restore();\n                    var progressBoundsWidth = 0;\n                    if (this.progressWidth <= detail.totalWidth) {\n                        progressBoundsWidth = this.progressWidth;\n                    }\n                    else {\n                        progressBoundsWidth = detail.totalWidth;\n                    }\n                    if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                        taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                    }\n                    this.progressWidth -= progressBoundsWidth;\n                    taskGraphics.drawRectangle(null, manualChildProgressBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                }\n                else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    manualline.dashStyle = PdfDashStyle.Solid;\n                    taskGraphics.drawLine(manualline, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), startPoint.y + adjustHeight_1);\n                }\n                else {\n                    taskGraphics.drawRectangle(taskbarPen_1, taskBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.height));\n                    if (!isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                        if (!isNullOrUndefined(this.remainString)) {\n                            var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result.lines[0].text, customizedFont, customizedFontColor, customizedFontBrush, startPoint.x + pixelToPoint(taskbar.left) + 0.5, (startPoint.y + adjustHeight_1), pixelToPoint(detail.totalWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    if (this.isScheduledTask && !taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (isNullOrUndefined(template.image) && isNullOrUndefined(template.value)) {\n                            taskGraphics.drawRectangle(progressPen_1, progressBrush_1, startPoint.x + pixelToPoint(taskbar.left) + 0.5, startPoint.y + adjustHeight_1, pixelToPoint(progressBoundsWidth), pixelToPoint(taskbar.height));\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (!isNullOrUndefined(this.taskLabel)) {\n                            updatedWidth = progressBoundsWidth;\n                            if (isLabelString) {\n                                updatedWidth = this.width;\n                            }\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.left) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(updatedWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                }\n                this.isCompleted = false;\n                this.width -= detail.totalWidth;\n            }\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                if (detail.startDate <= taskbar.baselineStartDate && taskbar.baselineEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.baselineStartDate && detail.endDate >= taskbar.baselineStartDate && (taskbar.baselineEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var width = this.baselineWidth;\n                    var renderWidth = 0;\n                    renderWidth = (detail.totalWidth - (taskbar.baselineLeft - cumulativeWidth));\n                    if (width < renderWidth) {\n                        renderWidth = width;\n                    }\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(renderWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    taskbar.baselineWidth = taskbar.baselineWidth - renderWidth;\n                    this.baselineLeft = 0;\n                    this.isCompletedBaseline = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.baselineEndDate <= detail.endDate && detail.startDate <= taskbar.baselineEndDate && !this.isCompletedBaseline) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft + 0.5), startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(taskbar.baselineWidth), pixelToPoint(this.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.baselineStartDate < detail.startDate && taskbar.baselineEndDate > detail.endDate) {\n                    if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + (taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), (detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(baselinePen, baselineBrush, startPoint.x + pixelToPoint(taskbar.baselineLeft) + 0.5, startPoint.y + adjustHeight_1 + pixelToPoint(taskbar.height + 3), pixelToPoint(detail.totalWidth), pixelToPoint(taskbar.baselineHeight));\n                        }\n                    }\n                    this.isCompletedBaseline = false;\n                    this.baselineWidth -= detail.totalWidth;\n                }\n            }\n            if (!this.isAutoSchedule && taskbar.isParentTask) {\n                if (detail.startDate <= taskbar.autoStartDate && taskbar.autoEndDate <= detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (this.autoWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(this.autoWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                        }\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 + 8 - (taskLabelPadding.top + taskLabelPadding.bottom), (this.autoWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                        else {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), startPoint.y + adjustHeight_1 + 8 - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(this.autoWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.startPage = pageIndex;\n                    this.endPage = pageIndex;\n                }\n                else if (detail.startDate <= taskbar.autoStartDate && detail.endDate >= taskbar.autoStartDate && (taskbar.autoEndDate >= detail.endDate)) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    var renderWidth = 0;\n                    var progressWidth = 0;\n                    renderWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    progressWidth = (detail.totalWidth - (this.autoLeft - cumulativeWidth));\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (renderWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(renderWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (taskbar.progressWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressWidth), pixelToPoint(12));\n                        }\n                        taskbar.autoWidth = taskbar.autoWidth - renderWidth;\n                        taskbar.progressWidth = taskbar.progressWidth - progressWidth;\n                    }\n                    if (this.parent.labelSettings.taskLabel && !isNullOrUndefined(this.taskLabel)) {\n                        this.stringLeft = this.autoLeft;\n                        if (isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            var result = this.getWidth(this.taskLabel.toString(), detail.endPoint - this.stringLeft, 15);\n                            taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5, (startPoint.y + adjustHeight_1 + 10), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            if (!isNullOrUndefined(result.remainder)) {\n                                this.remainString = result.remainder;\n                                this.stringLeft = detail.endPoint;\n                                // this.rightTaskLabel.isLeftCalculated = true;\n                            }\n                        }\n                        else {\n                            if (this.isAutoFit()) {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), (taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                            else {\n                                taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft - cumulativeWidth) + 0.5 - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                    }\n                    this.autoLeft = 0;\n                    this.isCompletedAutotask = false;\n                    this.startPage = pageIndex;\n                }\n                else if (taskbar.autoEndDate <= detail.endDate && detail.startDate <= taskbar.autoEndDate && !this.isCompletedAutotask) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    else if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        taskGraphics.drawRectangle(manualBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.autoWidth), pixelToPoint(12));\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(taskbar.progressWidth), pixelToPoint(12));\n                    }\n                    if (!isNullOrUndefined(this.taskLabel)) {\n                        if (isLabelString && isNullOrUndefined(taskbar.taskbarTemplate.value)) {\n                            if (!isNullOrUndefined(this.remainString)) {\n                                var result = this.getWidth(this.remainString, detail.endPoint - this.stringLeft, 15);\n                                taskGraphics.drawString(result.lines[0].text, taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                            }\n                        }\n                        else if (!isNullOrUndefined(this.taskLabel) && !isLabelString) {\n                            taskGraphics.drawString(this.taskLabel.toString(), taskLabelFont, fontColor, taskLabelFontBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5) - (taskLabelPadding.left + taskLabelPadding.right), (startPoint.y + adjustHeight_1 + 8) - (taskLabelPadding.top + taskLabelPadding.bottom), pixelToPoint(taskbar.progressWidth), pixelToPoint(this.height), progressFormat);\n                        }\n                    }\n                    this.isCompletedAutotask = true;\n                    this.endPage = pageIndex;\n                }\n                else if (taskbar.autoStartDate < detail.startDate && taskbar.autoEndDate > detail.endDate) {\n                    if (!this.isStartPoint) {\n                        this.taskStartPoint = __assign({}, startPoint);\n                        this.isStartPoint = true;\n                    }\n                    if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                        var progressBoundsWidth = 0;\n                        if (this.progressWidth <= detail.totalWidth) {\n                            progressBoundsWidth = this.progressWidth;\n                        }\n                        else {\n                            progressBoundsWidth = detail.totalWidth;\n                        }\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + (this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, (progressBoundsWidth), pixelToPoint(12));\n                        }\n                        else {\n                            if (taskbar.progressWidth !== 0) {\n                                taskGraphics.drawRectangle(null, manualProgressBrush, startPoint.x + pixelToPoint(this.autoLeft + 0.5), startPoint.y + adjustHeight_1 + 10, pixelToPoint(progressBoundsWidth), pixelToPoint(12));\n                            }\n                        }\n                        this.progressWidth -= progressBoundsWidth;\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + (this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(manualParentBorderPen, null, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.save();\n                        taskGraphics.setTransparency(0.87);\n                        if (this.isAutoFit()) {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + (this.autoLeft - cumulativeWidth) + 0.5, startPoint.y + adjustHeight_1 + 10, (detail.totalWidth), pixelToPoint(12));\n                        }\n                        else {\n                            taskGraphics.drawRectangle(null, manualBrush, startPoint.x + pixelToPoint(this.autoLeft) + 0.5, startPoint.y + adjustHeight_1 + 10, pixelToPoint(detail.totalWidth), pixelToPoint(12));\n                        }\n                        taskGraphics.restore();\n                    }\n                    this.isCompletedAutotask = false;\n                    this.autoWidth -= detail.totalWidth;\n                }\n            }\n            if (!isNullOrUndefined(taskbar.indicators) && taskbar.indicators.length > 0) {\n                taskbar.indicators.map(function (items, index) {\n                    var currendate = _this.parent.dateValidationModule.getDateFromFormat(items.date, true);\n                    if (detail.startDate <= currendate && currendate <= detail.endDate) {\n                        var leftValue = _this.parent.chartRowsModule.getIndicatorleft(items.date);\n                        if (!isNullOrUndefined(items.base64)) {\n                            var image = new PdfBitmap(items.base64);\n                            if (_this.isAutoFit()) {\n                                taskGraphics.drawImage(image, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 10) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, (startPoint.x + (leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1) - _this.parent.perDayWidth / 2, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                            else {\n                                taskGraphics.drawImage(image, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 10, startPoint.y + adjustHeight_1, imageSize_1, imageSize_1);\n                                var state = taskGraphics.save();\n                                taskGraphics.setClip(new RectangleF(startPoint.x, startPoint.y, page['contentWidth'], rowHeight));\n                                taskGraphics.drawString(items.name, font, null, PdfBrushes.Black, startPoint.x + pixelToPoint(leftValue - cumulativeWidth) + 0.5 + 15 + imageSize_1, startPoint.y + adjustHeight_1, null);\n                                taskGraphics.restore(state);\n                            }\n                        }\n                    }\n                });\n            }\n        }\n        else {\n            this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, false);\n            if (this.parent.renderBaseline && taskbar.baselineStartDate && taskbar.baselineEndDate) {\n                this.drawMilestone(page, startPoint, detail, cumulativeWidth, taskbar, true);\n            }\n        }\n        this.drawRightLabel(page, startPoint, detail, cumulativeWidth);\n        return isNextPage;\n    };\n    /* eslint-enable */\n    /**\n     * @param {IGanttStyle} ganttStyle .\n     * @returns {PdfFont}\n     * Customizes the font based on the Gantt style.\n     */\n    PdfGanttTaskbarCollection.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.label && (ganttStyle.label.fontSize || ganttStyle.label.fontStyle ||\n            ganttStyle.label.fontFamily)) {\n            var fontSize = ganttStyle.label.fontSize ? ganttStyle.label.fontSize : 9;\n            var fontFamilyValue = ganttStyle.label.fontFamily;\n            var fontFamily = ganttStyle.label.fontFamily ?\n                fontFamilyValue : this.fontFamily;\n            var fontStyleValue = ganttStyle.label.fontStyle;\n            var fontStyle = ganttStyle.label.fontStyle ?\n                this.parent.pdfExportModule.helper['getFontStyle'](fontStyleValue) : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    /* eslint-enable */\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @returns {void}\n     * Draw task right side label\n     */\n    PdfGanttTaskbarCollection.prototype.drawRightLabel = function (page, startPoint, detail, cumulativeWidth) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.rightTaskLabel.value)) {\n            if (this.rightTaskLabel.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    left = (this.rightTaskLabel.left);\n                }\n                else {\n                    left = pixelToPoint(this.rightTaskLabel.left);\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.rightTaskLabel.value) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidth(this.rightTaskLabel.value, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var size = new SizeF((page['contentWidth'] - actualLeft) - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var labelBounds = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Left;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && !isNullOrUndefined(ganttStyle.label.format) &&\n                    !isNullOrUndefined(ganttStyle.label.format.alignment)) {\n                    labelFormat.alignment = ganttStyle.label.format.alignment;\n                }\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var ganttStyle_1 = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                    var fontBrush = new PdfSolidBrush((ganttStyle_1 && ganttStyle_1.label && ganttStyle_1.label.fontBrush) ?\n                        ganttStyle_1.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle_1.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle_1) && !isNullOrUndefined(ganttStyle_1.label) &&\n                        !isNullOrUndefined(ganttStyle_1.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle_1.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, labelBounds.x - 3, labelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, labelBounds.x, labelBounds.y, size.width, size.height, labelFormat);\n                    if (result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        this.rightTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n                this.previousWidthofRightImage = 0;\n                this.previousWidthofRightValue = 0;\n                for (var i = 0; i < this.labelSettings.rightLabel.image.length; i++) {\n                    this.drawRigthlabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.image[i]);\n                    if (this.labelSettings.rightLabel.value) {\n                        var value = this.labelSettings.rightLabel.value.split(',');\n                        if (value) {\n                            this.rightTaskLabel.isCompleted = false;\n                            this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (this.labelSettings.rightLabel.value) {\n                this.drawRightLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.rightLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRigthlabelImage = function (page, startPoint, detail, cumulativeWidth, rightImage) {\n        var left;\n        var graphics = page.graphics;\n        var labelBounds;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel) && !isNullOrUndefined(this.labelSettings.rightLabel.image)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = this.rightTaskLabel.left + +this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    var value = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                        value = this.labelSettings.rightLabel.value.split(',');\n                    }\n                    if (this.labelSettings.rightLabel.image.length > 1 && value.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightValue;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else if (this.labelSettings.rightLabel.image.length > 1) {\n                        left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage;\n                        this.previousWidthofRightImage = rightImage.width;\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(this.labelSettings.rightLabel) && !this.rightTaskLabel.isCompleted) {\n                var result = new SizeF(rightImage.width, rightImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.width, result.height);\n                labelBounds = new RectangleF(point, size);\n                var image = new PdfBitmap(rightImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, labelBounds.x, labelBounds.y, result.width, result.height);\n                    if (this.labelSettings.rightLabel.value !== null) {\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawRightLabelValue = function (page, startPoint, detail, cumulativeWidth, rightString) {\n        var left;\n        var graphics = page.graphics;\n        if (!isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n            if (this.labelSettings.isLeftCalculated) {\n                left = this.rightTaskLabel.left;\n            }\n            else {\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = this.rightTaskLabel.left + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = this.rightTaskLabel.left + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = (this.rightTaskLabel.left);\n                    }\n                }\n                else {\n                    if (this.labelSettings.rightLabel.image) {\n                        if (this.labelSettings.rightLabel.image.length > 1) {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.previousWidthofRightImage + this.previousWidthofRightValue;\n                            if (!isNullOrUndefined(rightString)) {\n                                var result = this.getWidthofrightLabel(rightString, detail.endPoint - left, 15);\n                                this.previousWidthofRightValue += result.actualSize.width + this.previousWidthofRightImage;\n                            }\n                        }\n                        else {\n                            left = pixelToPoint(this.rightTaskLabel.left) + this.labelSettings.rightLabel.image[0].width;\n                        }\n                    }\n                    else {\n                        left = pixelToPoint(this.rightTaskLabel.left);\n                    }\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - (cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint &&\n                !isNullOrUndefined(rightString) && !this.rightTaskLabel.isCompleted) {\n                var result = this.getWidthofrightLabel(rightString, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var point = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var size = new SizeF(result.actualSize.width, result.actualSize.height);\n                var labelBound = new RectangleF(point, size);\n                var labelFormat = new PdfStringFormat();\n                labelFormat.alignment = PdfTextAlignment.Right;\n                labelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.rightLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize, this.labelSettings.rightLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.rightLabel.fontStyle.fontColor ? new PdfSolidBrush(this.labelSettings.rightLabel.fontStyle.fontColor) : fontBrush;\n                    /* eslint-disable-next-line */\n                    graphics.drawString(rightString, newFont, fontColor, newFontBrush, labelBound.x, labelBound.y, result.actualSize.width, result.actualSize.height, labelFormat);\n                    if (!isNullOrUndefined(result.remainder) && result.remainder !== null) {\n                        this.rightTaskLabel.value = result.remainder;\n                        this.rightTaskLabel.left = detail.endPoint;\n                        this.rightTaskLabel.isLeftCalculated = true;\n                    }\n                    else {\n                        if (isNullOrUndefined(this.labelSettings.rightLabel.value)) {\n                            this.rightTaskLabel.isCompleted = true;\n                        }\n                    }\n                }\n                else {\n                    this.rightTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @returns {void}\n     * Draw task left task label\n     */\n    PdfGanttTaskbarCollection.prototype.drawLeftLabel = function (page, startPoint, detail, cumulativeWidth, taskbar) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(this.leftTaskLabel.value)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidth(this.leftTaskLabel.value, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                if (this.isAutoFit()) {\n                    left = (labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                left = this.leftTaskLabel.left;\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = taskbar.left - taskbar.autoLeft;\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - cumulativeWidth + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - cumulativeWidth + startPoint.x - leftValue;\n                    }\n                }\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                if (!taskbar.isAutoSchedule && taskbar.isParentTask) {\n                    var leftValue = pixelToPoint(taskbar.left) - pixelToPoint(taskbar.autoLeft);\n                    if (taskbar.left < taskbar.autoLeft) {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n                    }\n                    else {\n                        actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x - leftValue;\n                    }\n                }\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(this.leftTaskLabel.value)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidth(this.leftTaskLabel.value, detail.endPoint - left, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                var customizedFont = void 0;\n                var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n                    || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n                    !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n                    customizedFont = this.getPdfFont(ganttStyle);\n                }\n                if (!isNullOrUndefined(customizedFont)) {\n                    font = customizedFont;\n                }\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n                if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                    !isNullOrUndefined(ganttStyle.label.padding)) {\n                    padding = ganttStyle.label.padding;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft + padding.left, startPoint.y + adjustHeight + padding.top);\n                var rightLabelSize = new SizeF(result.actualSize.width - (padding.left + padding.right), result.actualSize.height - (padding.top + padding.bottom));\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    /* eslint-disable-next-line */\n                    var fontBrush = new PdfSolidBrush((ganttStyle && ganttStyle.label && ganttStyle.label.fontBrush) ?\n                        ganttStyle.label.fontBrush : this.labelColor);\n                    /* eslint-disable-next-line */\n                    var labelBrush = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.backgroundColor)) {\n                        labelBrush = new PdfSolidBrush(ganttStyle.label.backgroundColor);\n                    }\n                    var lablePen = null;\n                    if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) &&\n                        !isNullOrUndefined(ganttStyle.label.borderColor)) {\n                        lablePen = new PdfPen(ganttStyle.label.borderColor);\n                    }\n                    var strSize = font.measureString(result.lines[0].text);\n                    graphics.drawRectangle(lablePen, labelBrush, rightLabelBounds.x - 3, rightLabelBounds.y, strSize.width + 6, strSize.height);\n                    graphics.drawString(result.lines[0].text, font, fontColor, fontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    if (result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n                this.previousWidthofLeftImage = 0;\n                this.previousWidthofLeftValue = 0;\n                this.totalLeftWidth = 0;\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    var value = void 0;\n                    var result = void 0;\n                    if (!isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                        value = this.labelSettings.leftLabel.value.split(',');\n                        result = this.getWidth(value[i], Number.MAX_VALUE, 15);\n                    }\n                    var totalstringWidth = !isNullOrUndefined(result) ? result.actualSize.width : 0;\n                    this.totalLeftWidth += this.labelSettings.leftLabel.image[i].width + totalstringWidth;\n                }\n                for (var i = 0; i < this.labelSettings.leftLabel.image.length; i++) {\n                    this.drawLeftLabelImage(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.image[i]);\n                    if (this.labelSettings.leftLabel.value) {\n                        var value = this.labelSettings.leftLabel.value.split(',');\n                        if (value) {\n                            this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth - this.spaceBetweenImageAndValue, value[i]);\n                        }\n                    }\n                }\n            }\n            else if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.value)) {\n                this.drawLeftLabelValue(page, startPoint, detail, cumulativeWidth, this.labelSettings.leftLabel.value);\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelImage = function (page, startPoint, detail, cumulativeWidth, leftLabelImage) {\n        var graphics = page.graphics;\n        var left;\n        var labelLeft = 0;\n        labelLeft = this.left;\n        if (!isNullOrUndefined(this.labelSettings.leftLabel) && !isNullOrUndefined(this.labelSettings.leftLabel.image)) {\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = labelLeft - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                else {\n                    if (this.labelSettings.leftLabel.image.length > 0 && value.length > 0) {\n                        left = pixelToPoint(labelLeft) - this.totalLeftWidth - result.width;\n                        this.previousWidthofLeftImage += result.width;\n                    }\n                    else {\n                        left = pixelToPoint(labelLeft - reduceLeft) - result.width;\n                    }\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                if (this.labelSettings.leftLabel.image.length > 1) {\n                    left = this.leftTaskLabel.left + this.previousWidthofLeftValue;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            if (detail.startPoint <= left && left < detail.endPoint && !isNullOrUndefined(leftLabelImage)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = new SizeF(leftLabelImage.width, leftLabelImage.height);\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.width, result.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var image = new PdfBitmap(leftLabelImage.base64);\n                if (result.width > 0) {\n                    graphics.drawImage(image, rightLabelBounds.x, rightLabelBounds.y, result.width, result.height);\n                    this.totalLeftWidth = this.totalLeftWidth - result.width;\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.drawLeftLabelValue = function (page, startPoint, detail, cumulativeWidth, leftLabelValue) {\n        var graphics = page.graphics;\n        var left;\n        if (!isNullOrUndefined(leftLabelValue)) {\n            var labelLeft = 0;\n            labelLeft = this.left;\n            if (!this.leftTaskLabel.isLeftCalculated) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                var reduceLeft = this.isMilestone ? Math.floor(this.parent.chartRowsModule.taskBarHeight / 2) + 33 : 33; // 33 indicates default timeline cell width\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (this.isAutoFit()) {\n                    var isLeftImageExist = !isNullOrUndefined(this.labelSettings.leftLabel.image) ? true : false;\n                    var imageLength = isLeftImageExist ? this.labelSettings.leftLabel.image.length : 0;\n                    if (value.length === 1 && isLeftImageExist && imageLength === 1) {\n                        left = this.leftTaskLabel.left + this.previousWidthofLeftImage;\n                        this.labelSettings.left = left;\n                        var result_1 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_1.actualSize.width;\n                    }\n                    else if (value.length > 1 && isLeftImageExist && imageLength > 1) {\n                        var totalWidth = (this.previousWidthofLeftValue !== 0) ? this.previousWidthofLeftValue\n                            + this.previousWidthofLeftImage : this.previousWidthofLeftImage;\n                        left = this.leftTaskLabel.left + totalWidth;\n                        this.labelSettings.left = left;\n                        var result_2 = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                        this.previousWidthofLeftValue += this.previousWidthofLeftImage + result_2.actualSize.width;\n                    }\n                    else {\n                        left = (labelLeft - reduceLeft) - result.actualSize.width;\n                    }\n                }\n                else {\n                    left = pixelToPoint(labelLeft - reduceLeft) - result.actualSize.width;\n                }\n                this.leftTaskLabel.left = left;\n                this.leftTaskLabel.isLeftCalculated = true;\n            }\n            else {\n                var value = this.labelSettings.leftLabel.value.split(',');\n                if (value.length === 1) {\n                    left = this.leftTaskLabel.left + (this.previousWidthofLeftImage ? this.previousWidthofLeftImage : 0);\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else if (value.length > 1) {\n                    var totalWidth = (this.previousWidthofLeftValue !== 0) ?\n                        this.previousWidthofLeftValue + this.previousWidthofLeftImage\n                        : this.previousWidthofLeftImage;\n                    left = this.leftTaskLabel.left + totalWidth;\n                    this.labelSettings.left = left;\n                    var result = this.getWidthofLeftLabel(leftLabelValue, Number.MAX_VALUE, 15);\n                    this.previousWidthofLeftValue += this.previousWidthofLeftImage + result.actualSize.width;\n                }\n                else {\n                    left = this.leftTaskLabel.left;\n                }\n            }\n            var actualLeft = void 0;\n            if (this.isAutoFit()) {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            else {\n                actualLeft = left - pixelToPoint(cumulativeWidth) + startPoint.x;\n            }\n            var leftForLabel = this.isAutoFit() ? pixelToPoint(left) : left;\n            if (detail.startPoint <= leftForLabel && leftForLabel < detail.endPoint && !isNullOrUndefined(leftLabelValue)\n                && !this.leftTaskLabel.isCompleted) {\n                var result = this.getWidthofLeftLabel(leftLabelValue, detail.endPoint - leftForLabel, 15);\n                var font = new PdfStandardFont(this.fontFamily, 9);\n                if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n                    this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n                    font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n                }\n                var adjustHeight = (pixelToPoint(this.parent.rowHeight) - result.actualSize.height) / 2;\n                var rightLabelpoint = new PointF(actualLeft, startPoint.y + adjustHeight);\n                var rightLabelSize = new SizeF(result.actualSize.width, result.actualSize.height);\n                var rightLabelBounds = new RectangleF(rightLabelpoint, rightLabelSize);\n                var rightLabelFormat = new PdfStringFormat();\n                rightLabelFormat.alignment = PdfTextAlignment.Right;\n                rightLabelFormat.lineAlignment = PdfVerticalAlignment.Middle;\n                if (result.actualSize.width > 0) {\n                    var fontColor = null;\n                    var fontBrush = new PdfSolidBrush(this.labelColor);\n                    var newFont = (this.labelSettings.leftLabel.fontStyle.fontSize) ? new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize, this.labelSettings.leftLabel.fontStyle.fontStyle) : font;\n                    var newFontBrush = this.labelSettings.leftLabel.fontStyle.fontColor ?\n                        new PdfSolidBrush(this.labelSettings.leftLabel.fontStyle.fontColor) : fontBrush;\n                    graphics.drawString(leftLabelValue, newFont, fontColor, newFontBrush, rightLabelBounds.x, rightLabelBounds.y, result.actualSize.width, result.actualSize.height, rightLabelFormat);\n                    var value = this.labelSettings.leftLabel.value.split(',');\n                    if ((!isNullOrUndefined(result.remainder)) && result.remainder !== null) {\n                        this.leftTaskLabel.value = result.remainder;\n                        this.leftTaskLabel.left = detail.endPoint;\n                    }\n                    else if (!isNullOrUndefined(this.labelSettings.leftLabel.image) &&\n                        this.labelSettings.leftLabel.image.length === 1 && value.length === 1) {\n                        this.leftTaskLabel.isCompleted = true;\n                    }\n                }\n                else {\n                    this.leftTaskLabel.left = detail.endPoint;\n                }\n            }\n        }\n    };\n    PdfGanttTaskbarCollection.prototype.getWidth = function (value, width, height) {\n        var font;\n        font = new PdfStandardFont(this.fontFamily, 9);\n        var ganttStyle = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle;\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.label) && (!isNullOrUndefined(ganttStyle.label.fontSize)\n            || !isNullOrUndefined(ganttStyle.label.fontStyle) ||\n            !isNullOrUndefined(ganttStyle.label.fontFamily))) {\n            font = this.getPdfFont(ganttStyle);\n            height = font.height;\n        }\n        if (!isNullOrUndefined(ganttStyle) && ganttStyle.font) {\n            font = ganttStyle.font;\n            height = font.height;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofLeftLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.leftLabel.fontStyle.fontFamily, this.labelSettings.leftLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.leftLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    PdfGanttTaskbarCollection.prototype.getWidthofrightLabel = function (value, width, height) {\n        var newFont = new PdfStandardFont(this.labelSettings.rightLabel.fontStyle.fontFamily, this.labelSettings.rightLabel.fontStyle.fontSize);\n        var font;\n        if (this.labelSettings.rightLabel.fontStyle.fontSize) {\n            font = newFont;\n        }\n        else {\n            font = new PdfStandardFont(this.fontFamily, 9);\n        }\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        var layouter = new PdfStringLayouter();\n        var progressFormat = new PdfStringFormat();\n        progressFormat.alignment = PdfTextAlignment.Left;\n        progressFormat.wordWrap = PdfWordWrapType.Character;\n        progressFormat.lineAlignment = PdfVerticalAlignment.Middle;\n        /* eslint-disable-next-line */\n        var result = layouter.layout(value, font, progressFormat, new SizeF(width, height), false, new SizeF(width, height));\n        return result;\n    };\n    /**\n     * @param {PdfGraphics} taskGraphics .\n     * @param {PointF} startPoint .\n     * @param {number} cumulativeWidth .\n     * @param {number} adjustHeight .\n     * @returns {void}\n     * Draw Unscheduled Task\n     */\n    PdfGanttTaskbarCollection.prototype.drawUnscheduledTask = function (taskGraphics, startPoint, cumulativeWidth, adjustHeight) {\n        var taskBrush = new PdfSolidBrush(this.taskColor);\n        if (this.isAutoFit()) {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n        else {\n            taskGraphics.drawRectangle(taskBrush, startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight, pixelToPoint(3), pixelToPoint(this.height));\n        }\n    };\n    /**\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} cumulativeWidth .\n     * @param {PdfGanttTaskbarCollection} taskbar .\n     * @param {boolean} isBaseline .\n     * @returns {void}\n    Draw milestone task\n     */\n    PdfGanttTaskbarCollection.prototype.drawMilestone = function (page, startPoint, detail, cumulativeWidth, taskbar, isBaseline) {\n        if (detail.startDate <= this.startDate && this.startDate <= detail.endDate) {\n            var taskGraphics = page.graphics;\n            var pageIndex = page.section.indexOf(page);\n            this.taskStartPoint = __assign({}, startPoint);\n            var milestonePen = new PdfPen(this.milestoneColor);\n            var adjustHeightforBaselineMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 3.0));\n            var adjustHeightforMilesone = pixelToPoint(((this.parent.rowHeight - this.height) / 2.0));\n            var adjustHeight = this.parent.renderBaseline ? adjustHeightforBaselineMilesone : adjustHeightforMilesone;\n            var milestoneBrush = new PdfSolidBrush(this.milestoneColor);\n            var baselinePen = new PdfPen(this.baselineBorderColor);\n            var baselineBrush = new PdfSolidBrush(this.baselineColor);\n            taskGraphics.save(); //saving graphics state\n            var height = Math.floor(this.parent.chartRowsModule.taskBarHeight * 0.8);\n            if (!isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(this.left - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            if (isBaseline) {\n                if (this.isAutoFit()) {\n                    taskGraphics.translateTransform(startPoint.x + (taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n                else {\n                    taskGraphics.translateTransform(startPoint.x + pixelToPoint(taskbar.baselineLeft - cumulativeWidth), startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2);\n                }\n            }\n            taskGraphics.rotateTransform(45); //apply rotation\n            if (this.parent.renderBaseline && this.baselineStartDate && this.baselineEndDate && isBaseline) {\n                taskGraphics.drawRectangle(baselinePen, baselineBrush, 2, 2, pixelToPoint(height), pixelToPoint(height));\n            }\n            if (!isBaseline) {\n                taskGraphics.drawRectangle(milestonePen, milestoneBrush, 0, 0, pixelToPoint(height), pixelToPoint(height));\n            }\n            taskGraphics.restore(); //restoring graphics state\n            if (this.isAutoFit()) {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + (this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        ((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    var width = taskbar.taskbarTemplate.image[0].width / 2.0;\n                    var height_1 = taskbar.taskbarTemplate.image[0].height / 2.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        (((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), width, height_1);\n                }\n            }\n            else {\n                if (!isNullOrUndefined(taskbar.taskbarTemplate.image)) {\n                    var image = new PdfBitmap(taskbar.taskbarTemplate.image[0].base64);\n                    var x = startPoint.x + pixelToPoint(this.left - cumulativeWidth) - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 1.0;\n                    taskGraphics.drawImage(image, x, startPoint.y + adjustHeight - (this.parent.chartRowsModule.taskBarHeight * 0.7) / 2 +\n                        pixelToPoint(((this.parent.chartRowsModule.taskBarHeight * 0.7) - taskbar.taskbarTemplate.image[0].height) / 0.5), pixelToPoint(taskbar.taskbarTemplate.image[0].width), pixelToPoint(taskbar.taskbarTemplate.image[0].height - 2));\n                }\n            }\n            this.endPage = this.startPage = pageIndex;\n        }\n    };\n    return PdfGanttTaskbarCollection;\n}());\nexport { PdfGanttTaskbarCollection };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfStringFormat, PdfVerticalAlignment, PdfTextAlignment, PdfWordWrapType, RectangleF, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\n/**\n */\nvar PdfTimeline = /** @class */ (function () {\n    function PdfTimeline(gantt) {\n        this.holidayCompleted = false;\n        this.holidayWidth = 0;\n        this.fitHolidayCompleted = false;\n        this.timelineWidth = 0;\n        this.lastWidth = 0;\n        this.topTierValueLeftPadding = 8;\n        this.timelineHeight = 0;\n        this.width = 0;\n        this.gantt = gantt;\n        this.parent = gantt.parent;\n        this.topTierPoint = new PointF();\n        this.bottomTierPoint = new PointF();\n        this.topTierIndex = 0;\n        this.bottomTierIndex = 0;\n        this.prevTopTierIndex = 0;\n        this.prevBottomTierIndex = 0;\n    }\n    /**\n     * @private\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails} detail .\n     * @param {number} pageIndex .\n     * @returns {void}\n     */\n    PdfTimeline.prototype.drawTimeline = function (page, startPoint, detail, pageIndex) {\n        this.detailsTimeline = detail;\n        this.pageIndex = pageIndex;\n        this.timelineHeight = this.gantt.layouter.headerHeight;\n        var remainWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n            pointToPixel(Math.floor(detail.totalWidth)) : Math.round(detail.totalWidth);\n        var renderWidth = 0;\n        this.topTierPoint.x = startPoint.x;\n        this.topTierPoint.y = startPoint.y;\n        this.prevTopTierIndex = this.topTierIndex;\n        this.prevBottomTierIndex = this.bottomTierIndex;\n        while (remainWidth > 0) {\n            var pHeader = this.topTier[this.topTierIndex];\n            if (this.topTier.length > this.topTierIndex) {\n                var isCompleted = false;\n                if (!this.topTier[this.topTierIndex].isFinished) {\n                    if (remainWidth >= pHeader.width) {\n                        renderWidth = pHeader.width;\n                        pHeader.isFinished = true;\n                        pHeader.completedWidth = renderWidth;\n                        isCompleted = true;\n                    }\n                    else {\n                        renderWidth = remainWidth;\n                        isCompleted = false;\n                        pHeader.isFinished = false;\n                        pHeader.width = pHeader.width - remainWidth;\n                        pHeader.completedWidth = renderWidth;\n                    }\n                }\n                //Primary header Event Arguments\n                var reWidth = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? renderWidth : pixelToPoint(renderWidth);\n                /* eslint-disable-next-line */\n                this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, reWidth, pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                    this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                this.topTierPoint.x += reWidth;\n                remainWidth -= renderWidth;\n                if (isCompleted) {\n                    this.topTierIndex++;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        remainWidth = Math.round(detail.totalWidth);\n        var height = this.parent.timelineModule.isSingleTier ? 0 : this.topTierHeight;\n        this.bottomTierPoint = new PointF(startPoint.x, pixelToPoint(startPoint.y + height));\n        while (remainWidth > 0) {\n            var secondHeader = this.bottomTier[this.bottomTierIndex];\n            if (this.bottomTier.length > this.bottomTierIndex) {\n                var isCompleted = true;\n                var width = secondHeader.width;\n                if (remainWidth < width) {\n                    width = remainWidth;\n                    /* eslint-disable-next-line */\n                    isCompleted = false;\n                    secondHeader.completedWidth = width;\n                }\n                //Secondary header Event Arguments\n                this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? width : pixelToPoint(width), secondHeader.value, false, secondHeader.startDate);\n                this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                    this.bottomTierPoint.x + width : this.bottomTierPoint.x + pixelToPoint(width);\n                remainWidth -= width;\n                secondHeader.completedWidth = width;\n                // if (isCompleted) {\n                this.bottomTierIndex++;\n                // }\n                if (remainWidth > 0 && remainWidth < width) {\n                    remainWidth = secondHeader.width - 1;\n                }\n            }\n            else {\n                remainWidth = 0;\n            }\n        }\n        this.timelineWidth = this.lastWidth;\n    };\n    /**\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {TimelineDetails}  detail .\n     * @returns {void} .\n     * Draw the specific gantt chart side header when the taskbar exceeds the page\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.drawPageTimeline = function (page, startPoint, detail, pageIndex) {\n        this.pageIndex = pageIndex;\n        this.timelineHeight = 0;\n        this.topTierPoint = extend({}, {}, startPoint, true);\n        for (var index = this.prevTopTierIndex; index <= this.topTierIndex; index++) {\n            if (this.topTier.length > index) {\n                var pHeader = this.topTier[index];\n                if (pHeader.completedWidth > 0) {\n                    //Primary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.topTierPoint.x, this.topTierPoint.y, this.topTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pHeader.completedWidth : pixelToPoint(pHeader.completedWidth), pHeader.value, true, this.parent.timelineModule.isSingleTier &&\n                        this.parent.timelineSettings.topTier.unit === 'Day' ? pHeader.startDate : null);\n                    this.topTierPoint.x += (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        pHeader.completedWidth : pixelToPoint(pHeader.completedWidth);\n                }\n            }\n        }\n        this.bottomTierPoint.x = startPoint.x;\n        this.bottomTierPoint.y = pixelToPoint(startPoint.y + this.topTierHeight);\n        for (var index = this.prevBottomTierIndex; index <= this.bottomTierIndex; index++) {\n            if (this.bottomTier.length > index) {\n                var secondHeader = this.bottomTier[index];\n                if (secondHeader.completedWidth > 0) {\n                    //Secondary header Event Arguments\n                    /* eslint-disable-next-line */\n                    this.triggerQueryTimelinecell(page, this.bottomTierPoint.x, this.bottomTierPoint.y, this.bottomTierHeight, (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? secondHeader.width : pixelToPoint(secondHeader.width), secondHeader.value, false, secondHeader.startDate);\n                    this.bottomTierPoint.x = (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ?\n                        this.bottomTierPoint.x + secondHeader.width : this.bottomTierPoint.x + pixelToPoint(secondHeader.width);\n                }\n            }\n        }\n    };\n    /**\n     * Method to trigger pdf query timelinecell event\n     */\n    /* eslint-disable-next-line */\n    PdfTimeline.prototype.triggerQueryTimelinecell = function (page, x, y, height, width, value, isTopTier, currentDate) {\n        var _this = this;\n        var days = new Date(currentDate).getDay();\n        var graphics = page.graphics;\n        var timelineStyle = {};\n        var ganttStyle = this.gantt.ganttStyle;\n        timelineStyle.borderColor = new PdfColor(ganttStyle.timeline.borderColor);\n        timelineStyle.fontColor = new PdfColor(ganttStyle.timeline.fontColor);\n        timelineStyle.fontSize = ganttStyle.timeline.fontSize;\n        timelineStyle.fontStyle = ganttStyle.timeline.fontStyle;\n        timelineStyle.backgroundColor = new PdfColor(ganttStyle.timeline.backgroundColor);\n        if (ganttStyle.timeline.padding) {\n            timelineStyle.padding = ganttStyle.timeline.padding;\n        }\n        var format = this.initializePdfStringFormat(ganttStyle, isTopTier);\n        timelineStyle.format = format;\n        var eventArgs = {\n            timelineCell: timelineStyle,\n            value: value\n        };\n        if (this.parent.pdfQueryTimelineCellInfo) {\n            this.parent.trigger('pdfQueryTimelineCellInfo', eventArgs);\n        }\n        var e = eventArgs.timelineCell;\n        var cellBackgroundColor = new PdfSolidBrush(eventArgs.timelineCell.backgroundColor);\n        var nonWorkingDays = this.parent.nonWorkingDayIndex;\n        var isHoliday = false;\n        var holidayContainerColor = new PdfSolidBrush(ganttStyle.holiday.backgroundColor);\n        if (this.parent.highlightWeekends && nonWorkingDays.indexOf(days) !== -1 && (this.parent.timelineModule.bottomTier === 'Day' || this.parent.timelineModule.bottomTier === 'None' && this.parent.timelineModule.topTier === 'Day')) {\n            cellBackgroundColor = holidayContainerColor;\n            isHoliday = true;\n        }\n        this.parent.holidays.map(function (item) {\n            var fromDate = new Date(item.from);\n            var toDate = new Date(item.to);\n            var timelinedate = new Date(currentDate);\n            if (fromDate <= timelinedate && toDate >= timelinedate && (_this.parent.timelineModule.bottomTier === 'Day' || (_this.parent.timelineModule.bottomTier === 'None' && _this.parent.timelineModule.topTier === 'Day'))) {\n                cellBackgroundColor = holidayContainerColor;\n                if (fromDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayWidth = x;\n                }\n                if (toDate.getTime() === timelinedate.getTime()) {\n                    _this.holidayLabel = item.label;\n                    var changeDate = new Date(item.to);\n                    changeDate.setDate(changeDate.getDate() + 1);\n                    var day = _this.parent.dataOperation.getTaskWidth(fromDate, changeDate);\n                    _this.holidayNumberOfDays = pixelToPoint(day) / width;\n                    _this.holidayCompleted = true;\n                }\n                isHoliday = true;\n            }\n            else if (_this.parent.timelineModule.bottomTier !== 'Day') {\n                if (_this.detailsTimeline.startDate <= fromDate && _this.detailsTimeline.endDate >= fromDate) {\n                    _this.parent.timelineModule.bottomTierCollection.map(function (items) {\n                        if (items.startDate <= fromDate && items.endDate >= fromDate) {\n                            if (items.startDate === currentDate) {\n                                _this.fitHolidayCompleted = true;\n                                _this.fromDataHoliday = item.from;\n                                _this.holidayLabel = item.label;\n                            }\n                        }\n                    });\n                }\n            }\n        });\n        var timelineborder = isHoliday && ganttStyle.holiday && ganttStyle.holiday.borders\n            ? ganttStyle.holiday.borders.left\n            : isHoliday && ganttStyle.holiday && ganttStyle.holiday.borderColor\n                ? new PdfPen(ganttStyle.holiday.borderColor)\n                : new PdfPen(eventArgs.timelineCell.borderColor);\n        if (!this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            this.lastWidth = x + width;\n        }\n        var adjustedWidth = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ? width - 2 : width;\n        // rectangle for timeline header\n        graphics.drawRectangle(timelineborder, cellBackgroundColor, x, y, adjustedWidth, pixelToPoint(height));\n        var rectPen = (!isTopTier && (this.parent.gridLines === 'Both' || this.parent.gridLines === 'Vertical')) ?\n            new PdfPen(ganttStyle.chartGridLineColor) : null;\n        var gridLineColor = isHoliday && (ganttStyle.holiday.borderColor || ganttStyle.holiday.borders) ?\n            timelineborder : rectPen;\n        // rectangle for chart side timeline\n        graphics.drawRectangle(gridLineColor, cellBackgroundColor, x, y + pixelToPoint(height), adjustedWidth, this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight);\n        var font1 = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font1 = ganttStyle.font;\n        }\n        var customizedFont = this.getPdfFont(ganttStyle);\n        if (!isNullOrUndefined(customizedFont)) {\n            font1 = customizedFont;\n        }\n        var fontColor = (ganttStyle.holiday && ganttStyle.holiday.fontColor) ?\n            new PdfSolidBrush(ganttStyle.holiday.fontColor) : new PdfSolidBrush(new PdfColor(0, 0, 0));\n        var fontBrush = (ganttStyle.holiday && ganttStyle.holiday.fontBrush) ?\n            new PdfPen(new PdfColor(ganttStyle.holiday.fontBrush)) : null;\n        var textFormat = new PdfStringFormat();\n        textFormat = (ganttStyle.holiday && ganttStyle.holiday.format) ? ganttStyle.holiday.format : null;\n        var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n        if (!isNullOrUndefined(ganttStyle) && !isNullOrUndefined(ganttStyle.holiday) &&\n            !isNullOrUndefined(ganttStyle.holiday.padding)) {\n            padding = ganttStyle.holiday.padding;\n        }\n        var strSize;\n        if (!isNullOrUndefined(this.holidayLabel)) {\n            strSize = font1.measureString(this.holidayLabel);\n        }\n        if (this.holidayCompleted) {\n            var renderHeight = ((this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight) / 2);\n            var state_1 = graphics.save();\n            var fontHieght = font1.height;\n            var fontSize = font1.size;\n            graphics.translateTransform(this.holidayWidth + width - ((fontSize / 2) * this.holidayNumberOfDays) -\n                fontHieght + (fontHieght / 2) + (width * this.holidayNumberOfDays) / 2, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(renderHeight), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            if ((strSize.width + 10) < renderHeight) {\n                graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            }\n            graphics.restore(state_1);\n            this.holidayCompleted = false;\n        }\n        if (this.fitHolidayCompleted) {\n            var renderHeight = ((this.gantt.layouter.pageHeightCollection[this.pageIndex].totalHeight - this.timelineHeight) / 2);\n            var holidayBrush = holidayContainerColor;\n            var fontSize = font1.size;\n            graphics.drawRectangle(gridLineColor, holidayBrush, x + (width / 2) - fontSize, y +\n                pixelToPoint(height), fontSize, renderHeight * 2);\n            var state_2 = graphics.save();\n            graphics.translateTransform(x + width + (width / 2) - fontSize, 40);\n            graphics.rotateTransform(-90);\n            graphics.translateTransform(-(renderHeight), -((this.holidayWidth + width + fontSize) / ((this.holidayWidth + width) / width)));\n            if ((strSize.width + 10) < renderHeight) {\n                graphics.drawString(this.holidayLabel, font1, fontBrush, fontColor, 5 - (padding.left + padding.right), 5 - (padding.top + padding.bottom), strSize.width + 10, strSize.height + 10, textFormat);\n            }\n            graphics.restore(state_2);\n            this.fitHolidayCompleted = false;\n        }\n        var font = new PdfStandardFont(ganttStyle.fontFamily, e.fontSize, e.fontStyle);\n        if (ganttStyle.font) {\n            font = ganttStyle.font;\n        }\n        var textBrush = new PdfSolidBrush(!isNullOrUndefined(ganttStyle.timeline.fontBrush)\n            ? ganttStyle.timeline.fontBrush : eventArgs.timelineCell.fontColor);\n        var pLeft = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.left : 0;\n        var pTop = ganttStyle.timeline.padding ? eventArgs.timelineCell.padding.top : 0;\n        /* eslint-disable-next-line */\n        var state = graphics.save();\n        graphics.setClip(new RectangleF(x, y, width, pixelToPoint(height)));\n        if (isTopTier) {\n            x = x + pLeft + this.topTierValueLeftPadding;\n        }\n        else {\n            x = x + pLeft;\n        }\n        graphics.drawString(eventArgs.value, font, null, textBrush, x, y + pTop, pixelToPoint(width), pixelToPoint(height), e.format);\n        graphics.restore(state);\n    };\n    /**\n     * Initializes and returns a PdfStringFormat based on the provided Gantt style and tier level.\n     *\n     * @param {IGanttStyle} ganttStyle - The style settings for the Gantt chart which include the timeline format.\n     * @param {boolean} isTopTier - A flag indicating whether the format is for the top tier of the timeline.\n     * @returns {PdfStringFormat} The initialized PdfStringFormat with appropriate line alignment, text alignment,\n     * and word wrap type, as determined by the ganttStyle and isTopTier flag.\n     */\n    PdfTimeline.prototype.initializePdfStringFormat = function (ganttStyle, isTopTier) {\n        var format = new PdfStringFormat();\n        if (isNullOrUndefined(ganttStyle.timeline.format)) {\n            if (isTopTier) {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Left;\n            }\n            else {\n                format.lineAlignment = PdfVerticalAlignment.Middle;\n                format.alignment = PdfTextAlignment.Center;\n                format.wordWrap = PdfWordWrapType.Character;\n            }\n        }\n        else {\n            format = ganttStyle.timeline.format;\n        }\n        return format;\n    };\n    PdfTimeline.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.holiday && (ganttStyle.holiday.fontSize || ganttStyle.holiday.fontStyle ||\n            ganttStyle.holiday.fontFamily)) {\n            var fontSize = ganttStyle.holiday.fontSize ? ganttStyle.holiday.fontSize : 9;\n            var fontFamily = ganttStyle.holiday.fontFamily ?\n                ganttStyle.holiday.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.holiday.fontStyle ?\n                ganttStyle.holiday.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return PdfTimeline;\n}());\nexport { PdfTimeline };\n","import { PointF, PdfPage, PdfPen, PdfSolidBrush, RectangleF, SizeF } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\n/**\n * @hidden\n */\nvar PdfGanttPredecessor = /** @class */ (function () {\n    function PdfGanttPredecessor(parent, pdfGantt) {\n        this.parent = parent;\n        this.pdfGantt = pdfGantt;\n    }\n    /**\n     * @returns {PdfGanttPredecessor} .\n     * @hidden\n     */\n    PdfGanttPredecessor.prototype.add = function () {\n        return new PdfGanttPredecessor(this.parent);\n    };\n    /**\n     * Calculate the predecesor line point and draw the predecessor\n     *\n     * @param {PdfGantt} pdfGantt .\n     * @returns {void}\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawPredecessor = function (pdfGantt) {\n        this.pdfGantt = pdfGantt;\n        var pages = pdfGantt.result.page.section.getPages();\n        var parentTask = pdfGantt.taskbarCollection[this.parentIndex];\n        var childTask = pdfGantt.taskbarCollection[this.childIndex];\n        var startPage = new PdfPage();\n        var endPage = new PdfPage();\n        var predecessorType = '';\n        var parentPageData;\n        var childPageData;\n        var parentY = 0;\n        var childY = 0;\n        if (childTask && parentTask) {\n            switch (this.type) {\n                case 'FS':\n                    if (childTask.startPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType1';\n                            }\n                            else {\n                                predecessorType = 'FSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft < this.childLeft && this.childLeft > (this.parentLeft + this.parentWidth + 25)) {\n                                predecessorType = 'FSType3';\n                            }\n                            else {\n                                predecessorType = 'FSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SF':\n                    if (childTask.endPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType1';\n                            }\n                            else {\n                                predecessorType = 'SFType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft > this.childLeft + this.childWidth) {\n                                predecessorType = 'SFType3';\n                            }\n                            else {\n                                predecessorType = 'SFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'FF':\n                    if (childTask.endPage > -1 && parentTask.endPage > -1) {\n                        startPage = pages[parentTask.endPage];\n                        endPage = pages[childTask.endPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.endPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.endPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType1';\n                            }\n                            else {\n                                predecessorType = 'FFType2';\n                            }\n                        }\n                        else {\n                            if ((this.childLeft + this.childWidth) >= (this.parentLeft + this.parentWidth)) {\n                                predecessorType = 'FFType3';\n                            }\n                            else {\n                                predecessorType = 'FFType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n                case 'SS':\n                    if (childTask.startPage > -1 && parentTask.startPage > -1) {\n                        startPage = pages[parentTask.startPage];\n                        endPage = pages[childTask.startPage];\n                        parentPageData = pdfGantt.pdfPageDetail[parentTask.startPage - pdfGantt.chartPageIndex];\n                        childPageData = pdfGantt.pdfPageDetail[childTask.startPage - pdfGantt.chartPageIndex];\n                        if (this.parentIndex < this.childIndex) {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType1';\n                            }\n                            else {\n                                predecessorType = 'SSType2';\n                            }\n                        }\n                        else {\n                            if (this.parentLeft >= this.childLeft) {\n                                predecessorType = 'SSType3';\n                            }\n                            else {\n                                predecessorType = 'SSType4';\n                            }\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                    break;\n            }\n            var midPointManualparent = Math.round((this.parent.rowHeight - 15) / 2.0);\n            var midPointforTaskbar = Math.round((this.parent.rowHeight - 1) / 2.0);\n            var midPointforBaseline = Math.round((this.parent.rowHeight - 10) / 2.0);\n            var midPoint = this.parent.renderBaseline ? midPointforBaseline :\n                ((!parentTask.isAutoSchedule && parentTask.isParentTask) || (!childTask.isAutoSchedule && childTask.isParentTask)) ?\n                    midPointManualparent : midPointforTaskbar;\n            midPoint = pixelToPoint(midPoint);\n            /* eslint-disable-next-line */\n            var point1 = void 0, point2 = void 0, point3 = void 0, point4 = void 0, point5 = void 0, point6 = void 0;\n            point1 = point2 = point3 = point4 = point5 = point6 = new PointF();\n            var parentTaskpoint = {\n                x: parentTask.taskStartPoint.x,\n                y: parentTask.taskStartPoint.y\n            };\n            var childTaskpoint = {\n                x: childTask.taskStartPoint.x,\n                y: childTask.taskStartPoint.y\n            };\n            parentY = parentTaskpoint.y + parentPageData.startPoint.y;\n            childY = childTaskpoint.y + childPageData.startPoint.y;\n            var ffpoint1 = void 0;\n            var sspoint1 = void 0;\n            var ffpoint3 = void 0;\n            var ffpoint4 = void 0;\n            var sspoint4 = void 0;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                ffpoint1 = new PointF((this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF((this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF((this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF((this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF((this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            else {\n                ffpoint1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth), parentY + midPoint);\n                sspoint1 = new PointF(pixelToPoint(this.parentLeft) - 1, parentY + midPoint);\n                ffpoint3 = new PointF(pixelToPoint(this.childLeft - 20), childY + midPoint);\n                ffpoint4 = new PointF(pixelToPoint(this.childLeft - 6 - this.lineWidth) - 1, childY + midPoint);\n                sspoint4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 6 + this.lineWidth) + 1, childY + midPoint);\n            }\n            switch (predecessorType) {\n                case 'FSType1':\n                case 'FSType3':\n                    point1 = ffpoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = ffpoint3;\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FSType2':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, childY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), childY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), childY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FSType4':\n                    point1 = ffpoint1;\n                    point2 = new PointF(point1.x + 10, parentY + midPoint);\n                    point3 = new PointF(point1.x + 10, parentY + 2);\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point4 = new PointF((this.childLeft - 20), parentY + 2);\n                    }\n                    else {\n                        point4 = new PointF(pixelToPoint(this.childLeft - 20), parentY + 2);\n                    }\n                    point5 = ffpoint3;\n                    point6 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'FFType1':\n                case 'FFType3':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'FFType2':\n                case 'FFType4':\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point1 = new PointF((this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF((this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point1 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth) + 1, parentY + midPoint);\n                        point2 = new PointF(pixelToPoint(this.parentLeft + this.parentWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType1':\n                case 'SSType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SSType2':\n                case 'SSType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = ffpoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType1':\n                case 'SFType3':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + midPoint);\n                    }\n                    point3 = new PointF(point2.x, childY + midPoint);\n                    point4 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint);\n                    break;\n                case 'SFType2':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), childY + 2);\n                    }\n                    point3 = new PointF(point2.x, childY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n                case 'SFType4':\n                    point1 = sspoint1;\n                    if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        point2 = new PointF((this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF((this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    else {\n                        point2 = new PointF(pixelToPoint(this.parentLeft - 20), parentY + midPoint);\n                        point4 = new PointF(pixelToPoint(this.childLeft + this.childWidth + 20), parentY + 2);\n                    }\n                    point3 = new PointF(point2.x, parentY + 2);\n                    point5 = new PointF(point4.x, childY + midPoint);\n                    point6 = sspoint4;\n                    this.connectLines(startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6);\n                    break;\n            }\n        }\n    };\n    /**\n     * Method to draw the predecessor lines with calculated connector points\n     *\n     * @private\n     */\n    /* eslint-disable-next-line */\n    PdfGanttPredecessor.prototype.connectLines = function (startPage, endPage, point1, point2, point3, point4, childTask, midPoint, point5, point6) {\n        this.drawLine(startPage, point1, point2);\n        this.drawLine(startPage, point2, point3);\n        this.drawLine(startPage, point3, point4);\n        if (!isNullOrUndefined(point5) && !isNullOrUndefined(point6)) {\n            this.drawLine(startPage, point4, point5);\n            this.drawLine(startPage, point5, point6);\n        }\n        this.drawArrow(endPage, childTask, midPoint);\n    };\n    /**\n     * Method to check the predecessor line  occurs within the page\n     *\n     * @param {RectangleF} rect .\n     * @param {number} x .\n     * @param {number} y .\n     * @returns {boolean} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.contains = function (rect, x, y) {\n        return rect.x <= x &&\n            x < rect.x + rect.width &&\n            rect.y <= y &&\n            y < rect.y + rect.height;\n    };\n    /**\n     * Find the PDF page index of given point\n     *\n     * @param {PointF} point .\n     * @returns {number} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.findPageIndex = function (point) {\n        var pageIndex = -1;\n        for (var index = 0; index < this.pdfGantt.pdfPageDetail.length; index++) {\n            var pageData = this.pdfGantt.pdfPageDetail[index];\n            var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n            if (this.contains(pageRect, point.x, point.y)) {\n                pageIndex = index;\n                break;\n            }\n        }\n        return pageIndex;\n    };\n    /**\n     * Draw predecessor line\n     *\n     * @param {PdfPage} page .\n     * @param {PointF} startPoint .\n     * @param {PointF} endPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawLine = function (page, startPoint, endPoint) {\n        var pdfPages = this.pdfGantt.result.page.section.getPages();\n        var graphics = page.graphics;\n        var newEndPoint = { x: endPoint.x, y: endPoint.y };\n        var newStartPoint = { x: endPoint.x, y: endPoint.y };\n        var checkStartPoint = { x: endPoint.x, y: endPoint.y };\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        var pageRect = new RectangleF(pageData.startPoint.x, pageData.startPoint.y, pageData.width, pageData.height);\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        var endPointCheck = this.contains(pageRect, endPoint.x, endPoint.y);\n        var pageIndex = -1;\n        startPoint = new PointF(startPoint.x, startPoint.y);\n        endPoint = new PointF(endPoint.x, endPoint.y);\n        if (!startPointCheck && !endPointCheck || endPointCheck && !startPointCheck) {\n            pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                newStartPoint = startPoint;\n                newEndPoint = endPoint;\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        else if (!endPointCheck && startPointCheck) {\n            var pageRectLeft = pageRect.x;\n            var pageRectRight = pageRect.x + pageRect.width;\n            var pageRectBottom = pageRect.y + pageRect.height;\n            var pageRectTop = pageRect.y;\n            if (pageRectLeft > endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectLeft - 1;\n                newStartPoint.x = pageRectLeft - 1;\n            }\n            else if (pageRectRight < endPoint.x) {\n                checkStartPoint.x = endPoint.x = pageRectRight;\n                newStartPoint.x = pageRectRight;\n                checkStartPoint.x += 1;\n            }\n            else if (pageRectBottom < endPoint.y) {\n                checkStartPoint.y = endPoint.y = pageRectBottom;\n                newStartPoint.y = pageRectBottom;\n                checkStartPoint.y += 1;\n                if (this.pdfGantt.enableHeader) {\n                    newStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            else if (pageRectTop > endPoint.y) {\n                newStartPoint.y = checkStartPoint.y = pageRectTop - 1;\n                endPoint.y = pageRectTop;\n                if (this.pdfGantt.enableHeader) {\n                    checkStartPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                    endPoint.y += this.parent.timelineModule.isSingleTier ? pixelToPoint(45) : pixelToPoint(62);\n                }\n            }\n            pageIndex = this.findPageIndex(checkStartPoint);\n            if (pageIndex !== -1) {\n                this.drawLine(pdfPages[pageIndex + this.pdfGantt.chartPageIndex], newStartPoint, newEndPoint);\n            }\n        }\n        if (startPointCheck) {\n            startPoint = new PointF(startPoint.x, startPoint.y);\n            endPoint = new PointF(endPoint.x, endPoint.y);\n            startPoint.x = startPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            startPoint.y = startPoint.y - pageData.startPoint.y;\n            endPoint.x = endPoint.x + pageData.pageStartX - pageData.startPoint.x;\n            endPoint.y = endPoint.y - pageData.startPoint.y;\n            var brush = new PdfSolidBrush(this.connectorLineColor);\n            var predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n            graphics.drawLine(predecessorPen, startPoint, endPoint);\n        }\n    };\n    /**\n     * Draw predecessor arrow\n     *\n     * @param {PdfPage} page .\n     * @param {PdfGanttTaskbarCollection} childTask .\n     * @param {number} midPoint .\n     * @returns {void} .\n     * @private\n     */\n    PdfGanttPredecessor.prototype.drawArrow = function (page, childTask, midPoint) {\n        var pageData = this.pdfGantt.pdfPageDetail[page.section.indexOf(page) - this.pdfGantt.chartPageIndex];\n        /* eslint-disable-next-line */\n        var pageRect = new RectangleF(new PointF(pageData.startPoint.x, pageData.startPoint.y), new SizeF(pageData.width, pageData.height));\n        var startPoint = new PointF();\n        var pdfPages = page.section.getPages();\n        var width = 6 + this.lineWidth;\n        var point2;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF((this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF((this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                startPoint = new PointF(pixelToPoint(this.childLeft) - 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n            else {\n                startPoint = new PointF(pixelToPoint(this.childLeft + this.childWidth) + 1, childTask.taskStartPoint.y + pageData.startPoint.y);\n            }\n        }\n        var startPointCheck = this.contains(pageRect, startPoint.x, startPoint.y);\n        if (!startPointCheck) {\n            var pageIndex = this.findPageIndex(startPoint);\n            if (pageIndex > -1) {\n                pageData = this.pdfGantt.pdfPageDetail[pageIndex];\n                page = pdfPages[pageIndex + this.pdfGantt.chartPageIndex];\n            }\n        }\n        var graphics = page.graphics;\n        startPoint.x = startPoint.x - pageData.startPoint.x + pageData.pageStartX;\n        startPoint.y = startPoint.y - pageData.startPoint.y;\n        var point1 = new PointF(startPoint.x, startPoint.y + midPoint);\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - (width), point1.y - (width));\n            }\n            else {\n                point2 = new PointF(point1.x + (width), point1.y - (width));\n            }\n        }\n        else {\n            if (this.type === 'FS' || this.type === 'SS') {\n                point2 = new PointF(point1.x - pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n            else {\n                point2 = new PointF(point1.x + pixelToPoint(width), point1.y - pixelToPoint(width));\n            }\n        }\n        var brush = new PdfSolidBrush(this.connectorLineColor);\n        var point3;\n        var predecessorPen;\n        if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n            point3 = new PointF(point2.x, point2.y + (2 * width));\n            predecessorPen = new PdfPen(brush, (this.lineWidth));\n        }\n        else {\n            point3 = new PointF(point2.x, point2.y + pixelToPoint(2 * width));\n            predecessorPen = new PdfPen(brush, pixelToPoint(this.lineWidth));\n        }\n        if (this.childLeft > 0) {\n            graphics.drawLine(predecessorPen, point1, point2);\n            graphics.drawLine(predecessorPen, point2, point3);\n            graphics.drawLine(predecessorPen, point3, point1);\n        }\n    };\n    return PdfGanttPredecessor;\n}());\nexport { PdfGanttPredecessor };\n","import { PointF, PdfColor, PdfPen, PdfSolidBrush, PdfStandardFont, PdfFontFamily, PdfStringFormat, PdfTextAlignment, PdfFontStyle } from '@syncfusion/ej2-pdf-export';\nimport { pixelToPoint } from '../base/utils';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PdfBorders } from './../export/pdf-base/pdf-borders';\nvar EventMarker = /** @class */ (function () {\n    function EventMarker(parent) {\n        this.renderHeight = 0;\n        this.parent = parent;\n    }\n    EventMarker.prototype.drawEventMarker = function (page, startPoint, cumulativeWidth, detail, eventMarker, cumulativeHeight, ganttStyles) {\n        var taskGraphics = page.graphics;\n        var pageSize = page.getClientSize();\n        var font = new PdfStandardFont(PdfFontFamily.Helvetica, 10);\n        if (!isNullOrUndefined(this.parent.pdfExportModule['helper']['exportProps'].ganttStyle) &&\n            this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font) {\n            font = this.parent.pdfExportModule['helper']['exportProps'].ganttStyle.font;\n        }\n        /* eslint-disable-next-line */\n        var strSize;\n        if (!isNullOrUndefined(eventMarker.label)) {\n            strSize = font.measureString(eventMarker.label);\n        }\n        var triangle = 8;\n        var eventLine = ganttStyles.eventMarker.lineStyle;\n        eventLine.dashStyle = ganttStyles.eventMarker.lineStyle.dashStyle;\n        if (detail.startDate <= eventMarker.date && eventMarker.date <= detail.endDate) {\n            var enventFormat = new PdfStringFormat();\n            enventFormat.alignment = PdfTextAlignment.Center;\n            var textFormat = !isNullOrUndefined(ganttStyles.eventMarker.label.format) ?\n                ganttStyles.eventMarker.label.format : enventFormat;\n            var eventBrush = new PdfSolidBrush(ganttStyles.eventMarker.label.backgroundColor);\n            var fontColor = (ganttStyles.eventMarker.label && ganttStyles.eventMarker.label.fontColor) ?\n                new PdfSolidBrush(ganttStyles.eventMarker.label.fontColor) : null;\n            var customizedFont = this.getPdfFont(ganttStyles);\n            if (isNullOrUndefined(customizedFont)) {\n                customizedFont = font;\n            }\n            var defaultBorder = ganttStyles.eventMarker.label.borders ? ganttStyles.eventMarker.label.borders : null;\n            if (ganttStyles.eventMarker.label.borderColor) {\n                var pdfborders = new PdfBorders();\n                pdfborders.all = new PdfPen(new PdfColor(ganttStyles.eventMarker.label.borderColor));\n                defaultBorder = pdfborders;\n            }\n            var border = (!isNullOrUndefined(defaultBorder) && !isNullOrUndefined(defaultBorder.left)) ? defaultBorder.left : null;\n            var padding = { left: 0, right: 0, top: 0, bottom: 0 };\n            if (!isNullOrUndefined(ganttStyles) && !isNullOrUndefined(ganttStyles.eventMarker) &&\n                !isNullOrUndefined(ganttStyles.eventMarker.label) && !isNullOrUndefined(ganttStyles.eventMarker.label.padding)) {\n                padding = ganttStyles.eventMarker.label.padding;\n            }\n            var customizedFontBrush = !isNullOrUndefined(ganttStyles.eventMarker.label.fontBrush) ?\n                new PdfPen(ganttStyles.eventMarker.label.fontBrush) : null;\n            var left = this.parent.dataOperation.getTaskLeft(this.parent.dateValidationModule.getDateFromFormat(eventMarker.date, true), false, true);\n            var diff = 10;\n            if (this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + (left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + (left - cumulativeWidth) + diff, this.renderHeight));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    var renderBox = cumulativeHeight + pixelToPoint(50) + (strSize.height * 2);\n                    if (renderBox < this.renderHeight) {\n                        taskGraphics.save();\n                        taskGraphics.translateTransform(startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                        taskGraphics.rotateTransform(45);\n                        taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(border, eventBrush, startPoint.x + (left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                        taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x +\n                            (left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                    }\n                }\n            }\n            else {\n                taskGraphics.drawLine(eventLine, new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, cumulativeHeight), new PointF(startPoint.x + pixelToPoint(left - cumulativeWidth) + diff, this.renderHeight));\n                if (!isNullOrUndefined(eventMarker.label) && eventMarker.label.length > 0) {\n                    var renderBox = cumulativeHeight + pixelToPoint(50) + (strSize.height * 2);\n                    if (renderBox < this.renderHeight) {\n                        taskGraphics.save();\n                        taskGraphics.translateTransform(startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50) + strSize.height / 2);\n                        taskGraphics.rotateTransform(45);\n                        taskGraphics.drawRectangle(border, eventBrush, 0, 0, triangle, triangle);\n                        taskGraphics.restore();\n                        taskGraphics.drawRectangle(border, eventBrush, startPoint.x + pixelToPoint(left - cumulativeWidth) + 7 + diff, cumulativeHeight + pixelToPoint(50), strSize.width + 10, strSize.height * 2);\n                        taskGraphics.drawString(eventMarker.label, customizedFont, customizedFontBrush, fontColor, (startPoint.x + pixelToPoint(left - cumulativeWidth) + 12 + diff) - (padding.left + padding.right), (cumulativeHeight + pixelToPoint(50) + pixelToPoint(strSize.height / 2)) - (padding.top + padding.bottom), strSize.width, strSize.height, textFormat);\n                    }\n                }\n            }\n        }\n    };\n    EventMarker.prototype.getPdfFont = function (ganttStyle) {\n        var font;\n        if (ganttStyle && ganttStyle.eventMarker && ganttStyle.eventMarker.label &&\n            (ganttStyle.eventMarker.label.fontSize || ganttStyle.eventMarker.label.fontStyle ||\n                ganttStyle.eventMarker.label.fontFamily)) {\n            var fontSize = ganttStyle.eventMarker.label.fontSize ? ganttStyle.eventMarker.label.fontSize : 9;\n            var fontFamily = ganttStyle.eventMarker.label.fontFamily ?\n                ganttStyle.eventMarker.label.fontFamily : this.fontFamily;\n            var fontStyle = ganttStyle.eventMarker.label.fontStyle ?\n                ganttStyle.eventMarker.label.fontStyle : PdfFontStyle.Regular;\n            font = new PdfStandardFont(fontFamily, fontSize, fontStyle);\n        }\n        return font;\n    };\n    return EventMarker;\n}());\nexport { EventMarker };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { PdfGanttTaskbarCollection } from './pdf-taskbar';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { PointF, PdfPen, PdfColor } from '@syncfusion/ej2-pdf-export';\nimport { PdfTreeGrid } from './pdf-treegrid';\nimport { PdfTimeline } from './pdf-timeline';\nimport { pixelToPoint, pointToPixel } from '../base/utils';\nimport { PdfGanttPredecessor } from './pdf-connector-line';\nimport { EventMarker } from './pdf-event-marker';\n/**\n *\n */\nvar PdfGantt = /** @class */ (function (_super) {\n    __extends(PdfGantt, _super);\n    function PdfGantt(parent) {\n        var _this = _super.call(this) || this;\n        _this.exportProps = {};\n        _this.changeCloneProjectDates = false;\n        _this.currentPage = 0;\n        _this.parent = parent;\n        _this.chartHeader = new PdfTimeline(_this);\n        _this.eventMarker = new EventMarker(parent);\n        _this.predecessor = new PdfGanttPredecessor(parent, _this);\n        _this.headerDetails = [];\n        _this.pdfPageDetail = [];\n        _this.taskbarCollection = [];\n        _this.predecessorCollection = [];\n        return _this;\n    }\n    Object.defineProperty(PdfGantt.prototype, \"taskbar\", {\n        get: function () {\n            if (isNullOrUndefined(this.taskbars)) {\n                this.taskbars = new PdfGanttTaskbarCollection(this.parent);\n            }\n            return this.taskbars;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    PdfGantt.prototype.drawChart = function (result) {\n        this.result = result;\n        this.totalPages = this.result.page.section.count;\n        this.perColumnPages = this.totalPages / this.layouter.columnRanges.length;\n        this.calculateRange();\n        this.drawGantttChart();\n        this.drawPageBorder();\n    };\n    //Calcualte the header range for each pdf page based on schedule start and end date.\n    PdfGantt.prototype.calculateRange = function () {\n        var lastColumnRange = this.layouter.columnRanges[this.layouter.columnRanges.length - 1];\n        var totalColumnWidth = 0;\n        var isPageFinished = true;\n        var pageWidth = 0;\n        var remainWidth = 0;\n        var point = 0;\n        var headerWidth = pixelToPoint(this.chartHeader.width);\n        var timelineSettings = this.parent.timelineModule;\n        for (var index = lastColumnRange[0]; index <= lastColumnRange[1]; index++) {\n            totalColumnWidth += this.layouter.treegrid.columns.getColumn(index).width;\n        }\n        totalColumnWidth += 0.5;\n        if (totalColumnWidth + 100 < this.result.page.getClientSize().width) {\n            remainWidth = this.result.page.getClientSize().width - totalColumnWidth;\n            this.chartPageIndex = this.startPageIndex = this.totalPages - this.perColumnPages;\n            isPageFinished = false;\n            this.startPoint = new PointF(totalColumnWidth, 0);\n        }\n        else {\n            this.result.page.section.add();\n            this.chartPageIndex = this.startPageIndex = this.totalPages;\n            isPageFinished = true;\n            this.startPoint = new PointF(point, 0);\n        }\n        while (Math.round(point) < Math.round(headerWidth)) {\n            if (isPageFinished) {\n                pageWidth = this.result.page.getClientSize().width;\n            }\n            else {\n                pageWidth = remainWidth;\n                isPageFinished = true;\n            }\n            var detail = {};\n            var range = [];\n            var convertedWidth = pixelToPoint(this.chartHeader.bottomTierCellWidth);\n            var width = 0;\n            if (this.chartHeader.bottomTierCellWidth !== 0) {\n                width = (Math.floor(pageWidth / convertedWidth) * convertedWidth);\n            }\n            range[0] = point;\n            if (headerWidth - point <= width) {\n                range[1] = headerWidth;\n                detail.totalWidth = pointToPixel(headerWidth - point);\n            }\n            else {\n                range[1] = point + width;\n                detail.totalWidth = pointToPixel(width);\n            }\n            detail.startPoint = range[0];\n            detail.endPoint = range[1];\n            if (this.parent.cloneProjectStartDate.getHours() === 0 && this.parent.cloneProjectStartDate.getMinutes() === 0\n                && this.parent.cloneProjectStartDate.getSeconds() === 0) {\n                this.changeCloneProjectDates = true;\n                this.parent.cloneProjectStartDate.setHours(8);\n            }\n            var timelineStartDate = this.parent.dataOperation.getDateFromFormat(this.parent.timelineModule.timelineStartDate);\n            var count = isNullOrUndefined(timelineSettings.customTimelineSettings.bottomTier.count) ?\n                timelineSettings.customTimelineSettings.topTier.count : timelineSettings.customTimelineSettings.bottomTier.count;\n            var scheduleType = timelineSettings.customTimelineSettings.bottomTier.unit === 'None' ?\n                timelineSettings.customTimelineSettings.topTier.unit : timelineSettings.customTimelineSettings.bottomTier.unit;\n            switch (scheduleType) {\n                case 'Minutes':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var sDays = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        detail.startDate.setMinutes(detail.startDate.getMinutes() + sDays * count);\n                        detail.startDate.setSeconds(detail.startDate.getSeconds() + 1);\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        var eDays = Math.floor(pointToPixel(detail.endPoint - detail.startPoint)\n                            / (this.chartHeader.bottomTierCellWidth));\n                        detail.endDate.setMinutes(detail.endDate.getMinutes() + eDays * count);\n                        break;\n                    }\n                case 'Hour':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startHours = Math.floor(pointToPixel(detail.startPoint) / (this.chartHeader.bottomTierCellWidth));\n                        var currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateHoursWithoutNonworkingDays(currentDate, startHours, count);\n                            detail.startDate = new Date(currentDate.getTime());\n                        }\n                        else {\n                            detail.startDate.setHours(detail.startDate.getHours() + startHours * count);\n                            detail.startDate.setMinutes(detail.startDate.getMinutes() + 1);\n                        }\n                        var endHours = Math.floor((detail.endPoint - detail.startPoint)\n                            / pointToPixel(this.chartHeader.bottomTierCellWidth));\n                        currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateHoursWithoutNonworkingDays(currentDate, endHours, count);\n                        }\n                        else {\n                            currentDate.setHours(currentDate.getHours() + endHours * count);\n                        }\n                        detail.endDate = new Date(currentDate.getTime());\n                        break;\n                    }\n                case 'Day':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays = Math.round(detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth));\n                        var currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            detail.startDate = this.calculateDaysWithoutNonworkingDays(detail.startDate, startDays * count);\n                        }\n                        else {\n                            detail.startDate.setDate(detail.startDate.getDate() + startDays * count);\n                        }\n                        var endDays = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) - 1;\n                        var startdate = detail.startDate;\n                        startdate.setHours(0, 0, 0, 0);\n                        currentDate = new Date(detail.startDate.getTime());\n                        if (!this.parent.timelineSettings.showWeekend) {\n                            currentDate = this.calculateDaysWithoutNonworkingDays(currentDate, endDays * count);\n                        }\n                        else {\n                            currentDate.setDate(currentDate.getDate() + endDays * count);\n                        }\n                        var secondsToAdd = this.parent.workingTimeRanges[0].to * 1000;\n                        detail.endDate = new Date(currentDate.getTime());\n                        detail.endDate.setTime(detail.endDate.getTime() + secondsToAdd);\n                        break;\n                    }\n                case 'Week':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays1 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 7);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays1 * count);\n                        var endDays1 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 7 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays1 * count);\n                        break;\n                    }\n                case 'Month':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays2 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 31);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays2 * count);\n                        var endDays2 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 31 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays2 * count);\n                        break;\n                    }\n                case 'Year':\n                    {\n                        detail.startDate = new Date(timelineStartDate.getTime());\n                        var startDays3 = (detail.startPoint / pixelToPoint(this.chartHeader.bottomTierCellWidth) * 365);\n                        detail.startDate.setDate(detail.startDate.getDate() + startDays3 * count);\n                        var endDays3 = Math.round((detail.endPoint - detail.startPoint)\n                            / pixelToPoint(this.chartHeader.bottomTierCellWidth)) * 365 - 1;\n                        detail.endDate = new Date(detail.startDate.getTime());\n                        detail.endDate.setDate(detail.startDate.getDate() + endDays3 * count);\n                        break;\n                    }\n            }\n            this.headerDetails.push(detail);\n            point += width;\n        }\n    };\n    /**\n     * Calculates the end date by adding the specified number of working hours to the current date,\n     * excluding any non-working days as specified in the nonWorkingDayIndex.\n     *\n     * @param {Date} currentDate - The starting date from which to begin adding working hours.\n     * @param {number} startHours - The number of hours to add to the current date.\n     * @param {number} count - A multiplier to apply to the startHours, typically representing a scaling factor.\n     * @returns {Date} - A new Date object representing the calculated date/time after working hours have been added.\n     *\n     */\n    PdfGantt.prototype.calculateHoursWithoutNonworkingDays = function (currentDate, startHours, count) {\n        var totalHours = 0;\n        while (totalHours < startHours * count) {\n            currentDate.setHours(currentDate.getHours() + 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDate.getDay()) === -1) {\n                totalHours++;\n            }\n            if (this.parent.nonWorkingDayIndex.indexOf(currentDate.getDay()) !== -1) {\n                currentDate.setHours(24, 0, 0, 0);\n            }\n        }\n        return currentDate;\n    };\n    /**\n     * Calculates the end date by adding the specified number of working days to the current date,\n     * excluding any non-working days as defined in the nonWorkingDayIndex.\n     *\n     * @param {Date} startDate - The starting date from which to begin adding working days.\n     * @param {number} daysToAdd - The number of days to add to the current date.\n     * @param {number} count - A multiplier applied to daysToAdd, typically representing the number of units.\n     * @returns {Date} - A new Date object representing the calculated date after working days have been added.\n     *\n     */\n    PdfGantt.prototype.calculateDaysWithoutNonworkingDays = function (startDate, daysToAdd) {\n        var result = new Date(startDate.getTime());\n        var nonWorkingDays = this.parent.nonWorkingDayIndex.length;\n        var workingDaysInWeek = 7 - nonWorkingDays;\n        var fullWeeks = Math.floor(daysToAdd / workingDaysInWeek);\n        var remainingDays = daysToAdd % workingDaysInWeek;\n        result.setDate(result.getDate() + fullWeeks * 7);\n        // Process remaining days\n        while (remainingDays > 0) {\n            result.setDate(result.getDate() + 1);\n            if (this.parent.nonWorkingDayIndex.indexOf(result.getDay()) === -1) {\n                remainingDays--;\n            }\n        }\n        return result;\n    };\n    PdfGantt.prototype.drawPageBorder = function () {\n        var pages = this.result.page.section.getPages();\n        for (var index = 0; index < pages.length; index++) {\n            var page = pages[index];\n            var graphics = page.graphics;\n            var pageSize = page.getClientSize();\n            var pen = new PdfPen(new PdfColor(this.ganttStyle.chartGridLineColor));\n            graphics.drawRectangle(pen, 0, 0, pageSize.width, pageSize.height);\n        }\n    };\n    //Draw the gantt chart side\n    PdfGantt.prototype.drawGantttChart = function () {\n        var _this = this;\n        var taskbarPoint = this.startPoint;\n        var pagePoint = new PointF();\n        var pageStartX = 0;\n        var cumulativeWidth = 0;\n        var cumulativeHeight = 0;\n        var pageData;\n        this.headerDetails.forEach(function (detail, index) {\n            _this.currentPage = 0;\n            var page = _this.result.page.section.getPages()[_this.startPageIndex];\n            page['contentWidth'] = (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) ? pointToPixel(_this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint) : _this.headerDetails[index].endPoint - _this.headerDetails[index].startPoint;\n            _this.chartHeader.drawTimeline(page, _this.startPoint, detail, 0);\n            taskbarPoint.y = taskbarPoint.y + pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            pageStartX = taskbarPoint.x;\n            cumulativeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60); // headerHeight\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].startIndex = _this.startPageIndex;\n            _this.headerDetails[_this.headerDetails.indexOf(detail)].pageStartPoint = taskbarPoint;\n            for (var i = 0; i < _this.taskbarCollection.length; i++) {\n                var task = _this.taskbarCollection[i];\n                var rowHeight = _this.rows.getRow(i + 1).height;\n                var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                var graphics = pdfPage.graphics;\n                var pen = new PdfPen(new PdfColor(_this.ganttStyle.chartGridLineColor));\n                var lineWidth = void 0;\n                if (page['contentWidth'] && (_this.parent.gridLines === 'Both' || _this.parent.gridLines === 'Horizontal')) {\n                    lineWidth = _this.chartHeader.timelineWidth;\n                    graphics.drawRectangle(pen, pageStartX, taskbarPoint.y, page['contentWidth'] + 0.5, rowHeight);\n                }\n                var isNextPage = task.drawTaskbar(pdfPage, taskbarPoint, detail, cumulativeWidth, rowHeight, _this.taskbarCollection[parseInt(i.toString(), 10)], lineWidth, index);\n                if (isNextPage) {\n                    if (_this.enableHeader) {\n                        taskbarPoint.y = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                    }\n                    _this.startPageIndex++;\n                    pageData = {};\n                    pageData.height = cumulativeHeight;\n                    pageData.pageStartX = pageStartX;\n                    pageData.startPoint = __assign({}, pagePoint);\n                    if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    else {\n                        pageData.width = (detail.totalWidth);\n                    }\n                    _this.pdfPageDetail.push(pageData);\n                    pagePoint.y += pageData.height;\n                    if (_this.enableHeader) {\n                        cumulativeHeight = _this.chartHeader.height;\n                    }\n                    else {\n                        taskbarPoint.y = 0;\n                        cumulativeHeight = 0;\n                    }\n                }\n                taskbarPoint.y += rowHeight;\n                cumulativeHeight += rowHeight;\n                _this.eventMarker.renderHeight = _this.layouter.pageHeightCollection[_this.currentPage].totalHeight;\n                _this.parent.eventMarkerColloction.map(function (eventMarker) {\n                    var timelimeHeight = pixelToPoint(_this.parent.timelineModule.isSingleTier ? 45 : 60);\n                    if (_this.currentPage !== 0) {\n                        _this.eventMarker.renderHeight = _this.layouter.pageHeightCollection[_this.currentPage].totalHeight + timelimeHeight;\n                    }\n                    var pdfPage = _this.result.page.section.getPages()[_this.startPageIndex];\n                    _this.eventMarker.drawEventMarker(pdfPage, taskbarPoint, cumulativeWidth, detail, eventMarker, timelimeHeight, _this.ganttStyle);\n                });\n            }\n            _this.headerDetails[index].endIndex = _this.startPageIndex;\n            cumulativeWidth += detail.totalWidth;\n            pageData = {};\n            pageData.height = cumulativeHeight;\n            pageData.pageStartX = pageStartX;\n            pageData.startPoint = __assign({}, pagePoint);\n            if (_this.parent.pdfExportModule.gantt.taskbar.isAutoFit()) {\n                pageData.width = (detail.totalWidth);\n            }\n            else {\n                pageData.width = pixelToPoint(detail.totalWidth);\n            }\n            _this.pdfPageDetail.push(pageData);\n            pagePoint.x += pageData.width;\n            pagePoint.y = 0;\n            if (_this.enableHeader) {\n                cumulativeHeight = _this.chartHeader.height;\n            }\n            else {\n                taskbarPoint.y = 0;\n            }\n            if (_this.headerDetails.indexOf(detail) !== _this.headerDetails.length - 1) {\n                _this.result.page.section.add();\n                _this.startPageIndex = _this.result.page.section.count - 1;\n                taskbarPoint = _this.startPoint = new PointF(0, 0);\n            }\n        });\n        // Draw predecessor line.\n        for (var i = 0; i < this.predecessorCollection.length; i++) {\n            var predecessor = this.predecessorCollection[i];\n            predecessor.drawPredecessor(this);\n        }\n    };\n    return PdfGantt;\n}(PdfTreeGrid));\nexport { PdfGantt };\n","import { PdfGanttTheme } from './../export/pdf-base/pdf-style/gantt-theme';\nimport { PdfTreeGridLayoutFormat } from './../export/pdf-base/index';\nimport { isNullOrUndefined, getValue, extend } from '@syncfusion/ej2-base';\nimport { ExportHelper } from '../export/export-helper';\nimport { PdfDocument, PdfPageSettings, PdfPageOrientation, SizeF, PdfLayoutBreakType } from '@syncfusion/ej2-pdf-export';\nimport { PdfGantt } from '../export/pdf-gantt';\n/**\n *\n * @hidden\n */\nvar PdfExport = /** @class */ (function () {\n    /**\n     * @param {Gantt} parent .\n     * @hidden\n     */\n    function PdfExport(parent) {\n        this.isPdfExport = false;\n        this.parent = parent;\n        this.helper = new ExportHelper(this.parent);\n        this.pdfDocument = undefined;\n    }\n    /**\n     * @returns {string} .\n     */\n    PdfExport.prototype.getModuleName = function () {\n        return 'pdfExport';\n    };\n    /**\n     * To destroy Pdf export module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    PdfExport.prototype.destroy = function () {\n        // Destroy Method\n    };\n    PdfExport.prototype.initGantt = function () {\n        this.pdfDocument = undefined;\n        this.gantt = new PdfGantt(this.parent);\n        // this.gantt.exportValueFormatter = new ExportValueFormatter(this.parent.locale);\n    };\n    /**\n     * @param {PdfExportProperties} pdfExportProperties .\n     * @param {boolean} isMultipleExport .\n     * @param {object} pdfDoc .\n     * @param {boolean} isBlob .\n     * @returns {Promise<Object>} .\n     */\n    PdfExport.prototype.export = function (pdfExportProperties, isMultipleExport, pdfDoc, isBlob) {\n        var _this = this;\n        this.isBlob = isBlob;\n        var args = {\n            requestType: 'beforePdfExport',\n            ganttObject: this.parent,\n            cancel: false\n        };\n        this.parent.trigger('beforePdfExport', args);\n        if (getValue('cancel', args)) {\n            /* eslint-disable-next-line */\n            return new Promise(function (resolve, reject) {\n                return resolve();\n            });\n        }\n        else {\n            if (!isNullOrUndefined(this.parent.loadingIndicator) && this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                this.parent.showMaskRow();\n            }\n            else {\n                this.parent.showSpinner();\n            }\n        }\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.exportWithData(pdfDoc, resolve, pdfExportProperties, isMultipleExport);\n        });\n    };\n    PdfExport.prototype.exportWithData = function (pdfDoc, resolve, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var data = [];\n        var updatedRecords = this.parent.getExpandedRecords(this.parent.updatedRecords);\n        if (isNullOrUndefined(pdfExportProperties)) {\n            pdfExportProperties = {};\n        }\n        if (pdfExportProperties.fitToWidthSettings && pdfExportProperties.fitToWidthSettings.isFitToWidth) {\n            if (pdfExportProperties.exportType === 'CurrentViewData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.currentViewData, null, true);\n            }\n            else if (pdfExportProperties.exportType === 'AllData') {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], this.parent.flatData, null, true);\n            }\n            else {\n                this.helper.beforeSinglePageExport['cloneFlatData'] = extend([], updatedRecords, null, true);\n            }\n            this.helper.beforeSinglePageExport['cloneCurrentViewData'] = extend([], this.parent.currentViewData, null, true);\n            data = this.helper.beforeSinglePageExport['cloneFlatData'];\n        }\n        else {\n            if (!isNullOrUndefined(pdfExportProperties.exportType)) {\n                if (pdfExportProperties.exportType === 'CurrentViewData') {\n                    data = this.parent.currentViewData;\n                }\n                else {\n                    data = this.parent.flatData;\n                }\n            }\n            else {\n                data = updatedRecords;\n            }\n        }\n        this.initGantt();\n        if (!isNullOrUndefined(pdfDoc)) {\n            this.pdfDocument = pdfDoc;\n        }\n        else {\n            this.pdfDocument = new PdfDocument();\n        }\n        this.processExport(data, pdfExportProperties, isMultipleExport).then(function () {\n            _this.parent.trigger('pdfExportComplete', _this.isBlob ? { promise: _this.blobPromise } : {});\n            if (!isNullOrUndefined(_this.parent.loadingIndicator) && _this.parent.loadingIndicator.indicatorType === 'Shimmer') {\n                _this.parent.hideMaskRow();\n            }\n            else {\n                _this.parent.hideSpinner();\n            }\n            resolve(_this.pdfDocument);\n        });\n    };\n    PdfExport.prototype.processExport = function (data, pdfExportProperties, isMultipleExport) {\n        var _this = this;\n        var section = this.pdfDocument.sections.add();\n        this.processSectionExportProperties(section, pdfExportProperties);\n        this.pdfPage = section.pages.add();\n        this.pdfPageDimensions = this.pdfPage.getClientSize();\n        /* eslint-disable-next-line */\n        return new Promise(function (resolve, reject) {\n            _this.helper.processGridExport(data, _this.gantt, pdfExportProperties);\n            _this.helper.initializePdf(_this.pdfDocument);\n            resolve();\n        }).then(function () {\n            var format = new PdfTreeGridLayoutFormat();\n            format.break = PdfLayoutBreakType.FitElement;\n            var layouter = _this.gantt.drawGrid(_this.pdfPage, 0, 0, format);\n            _this.gantt.drawChart(layouter);\n            if (_this.helper.exportProps && _this.helper.exportProps.fitToWidthSettings &&\n                _this.helper.exportProps.fitToWidthSettings.isFitToWidth) {\n                _this.parent.zoomingProjectStartDate = _this.helper.beforeSinglePageExport['zoomingProjectStartDate'];\n                _this.parent.zoomingProjectEndDate = _this.helper.beforeSinglePageExport['zoomingProjectEndDate'];\n                _this.parent.cloneProjectStartDate = _this.helper.beforeSinglePageExport['cloneProjectStartDate'];\n                _this.parent.cloneProjectEndDate = _this.helper.beforeSinglePageExport['cloneProjectEndDate'];\n                _this.parent.timelineModule.customTimelineSettings = _this.helper.beforeSinglePageExport['customTimelineSettings'];\n                _this.parent.isTimelineRoundOff = _this.helper.beforeSinglePageExport['isTimelineRoundOff'];\n                _this.parent.timelineModule.topTier = _this.helper.beforeSinglePageExport['topTier'];\n                _this.parent.timelineModule.topTierCellWidth = _this.helper.beforeSinglePageExport['topTierCellWidth'];\n                _this.parent.timelineModule.topTierCollection = _this.helper.beforeSinglePageExport['topTierCollection'];\n                _this.parent.timelineModule.bottomTier = _this.helper.beforeSinglePageExport['bottomTier'];\n                _this.parent.timelineModule.bottomTierCellWidth = _this.helper.beforeSinglePageExport['bottomTierCellWidth'];\n                _this.parent.timelineModule.bottomTierCollection = _this.helper.beforeSinglePageExport['bottomTierCollection'];\n                _this.parent.timelineModule.totalTimelineWidth = _this.helper.beforeSinglePageExport['totalTimelineWidth'];\n                _this.parent.timelineModule.timelineStartDate = _this.helper.beforeSinglePageExport['timelineStartDate'];\n                _this.parent.timelineModule.timelineEndDate = _this.helper.beforeSinglePageExport['timelineEndDate'];\n                _this.parent.timelineModule.timelineRoundOffEndDate = _this.helper.beforeSinglePageExport['timelineRoundOffEndDate'];\n                _this.parent.perDayWidth = _this.helper.beforeSinglePageExport['perDayWidth'];\n                _this.parent.updatedConnectorLineCollection = _this.helper.beforeSinglePageExport['updatedConnectorLineCollection'];\n            }\n            if (_this.gantt.changeCloneProjectDates) {\n                _this.parent.cloneProjectStartDate.setHours(0);\n                _this.gantt.changeCloneProjectDates = false;\n            }\n            if (!isMultipleExport) {\n                if (!_this.isBlob) {\n                    // save the PDF\n                    if (!isNullOrUndefined(pdfExportProperties) && pdfExportProperties.fileName) {\n                        _this.pdfDocument.save(pdfExportProperties.fileName);\n                    }\n                    else {\n                        _this.pdfDocument.save('Export.pdf');\n                    }\n                }\n                else {\n                    _this.blobPromise = _this.pdfDocument.save();\n                }\n                _this.pdfDocument.destroy();\n            }\n            return _this.pdfDocument;\n        });\n    };\n    PdfExport.prototype.processSectionExportProperties = function (section, pdfExportProperties) {\n        //To set section page size and page orientation.\n        if (!isNullOrUndefined(pdfExportProperties)) {\n            var pdfPageSettings = new PdfPageSettings();\n            if (!isNullOrUndefined(pdfExportProperties.pageOrientation) && pdfExportProperties.pageOrientation === 'Portrait') {\n                pdfPageSettings.orientation = PdfPageOrientation.Portrait;\n            }\n            else {\n                pdfPageSettings.orientation = PdfPageOrientation.Landscape;\n            }\n            if (!isNullOrUndefined(pdfExportProperties.pageSize)) {\n                pdfPageSettings.size = this.getPageSize(pdfExportProperties.pageSize);\n            }\n            section.setPageSettings(pdfPageSettings);\n            if (!isNullOrUndefined(pdfExportProperties.ganttStyle)) {\n                var defaultGanttTheme = new PdfGanttTheme(pdfExportProperties.theme).style;\n                this.gantt.ganttStyle = extend({}, defaultGanttTheme, pdfExportProperties.ganttStyle, true);\n            }\n            else {\n                this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n            }\n        }\n        else {\n            this.gantt.ganttStyle = new PdfGanttTheme(pdfExportProperties.theme).style;\n        }\n    };\n    PdfExport.prototype.getPageSize = function (pageSize) {\n        switch (pageSize) {\n            case 'Letter':\n                return new SizeF(612, 792);\n            case 'Note':\n                return new SizeF(540, 720);\n            case 'Legal':\n                return new SizeF(612, 1008);\n            case 'A0':\n                return new SizeF(2380, 3368);\n            case 'A1':\n                return new SizeF(1684, 2380);\n            case 'A2':\n                return new SizeF(1190, 1684);\n            case 'A3':\n                return new SizeF(842, 1190);\n            case 'A5':\n                return new SizeF(421, 595);\n            case 'A6':\n                return new SizeF(297, 421);\n            case 'A7':\n                return new SizeF(210, 297);\n            case 'A8':\n                return new SizeF(148, 210);\n            case 'A9':\n                return new SizeF(105, 148);\n            // case 'A10':\n            //     return new SizeF(74, 105);\n            case 'B0':\n                return new SizeF(2836, 4008);\n            case 'B1':\n                return new SizeF(2004, 2836);\n            case 'B2':\n                return new SizeF(1418, 2004);\n            case 'B3':\n                return new SizeF(1002, 1418);\n            case 'B4':\n                return new SizeF(709, 1002);\n            case 'B5':\n                return new SizeF(501, 709);\n            case 'Archa':\n                return new SizeF(648, 864);\n            case 'Archb':\n                return new SizeF(864, 1296);\n            case 'Archc':\n                return new SizeF(1296, 1728);\n            case 'Archd':\n                return new SizeF(1728, 2592);\n            case 'Arche':\n                return new SizeF(2592, 3456);\n            case 'Flsa':\n                return new SizeF(612, 936);\n            case 'HalfLetter':\n                return new SizeF(396, 612);\n            case 'Letter11x17':\n                return new SizeF(792, 1224);\n            case 'Ledger':\n                return new SizeF(1224, 792);\n            default:\n                return new SizeF(595, 842);\n        }\n    };\n    return PdfExport;\n}());\nexport { PdfExport };\n","import { TreeGrid, VirtualScroll as TreeGridVirtualScroll } from '@syncfusion/ej2-treegrid';\n/**\n * Gantt Virtual Scroll module will handle Virtualization\n *\n * @hidden\n */\nvar VirtualScroll = /** @class */ (function () {\n    function VirtualScroll(parent) {\n        this.parent = parent;\n        this.bindTreeGridProperties();\n    }\n    /**\n     * Get module name\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.getModuleName = function () {\n        return 'virtualScroll';\n    };\n    /**\n     * Bind virtual-scroll related properties from Gantt to TreeGrid\n     *\n     * @returns {void} .\n     */\n    VirtualScroll.prototype.bindTreeGridProperties = function () {\n        this.parent.treeGrid.enableVirtualization = this.parent.enableVirtualization;\n        TreeGrid.Inject(TreeGridVirtualScroll);\n    };\n    /**\n     * @returns {number} .\n     * @private\n     */\n    VirtualScroll.prototype.getTopPosition = function () {\n        var virtualTable = this.parent.ganttChartModule.scrollElement.querySelector('.e-virtualtable');\n        var translates = virtualTable.style.transform.split(',');\n        var top;\n        if (translates.length > 1) {\n            top = translates[1].trim().split(')')[0];\n        }\n        else {\n            var transformString = virtualTable.style.transform;\n            top = transformString.substring(transformString.lastIndexOf('(') + 1, transformString.lastIndexOf(')'));\n        }\n        return parseFloat(top);\n    };\n    /**\n     * To destroy the virtual scroll module.\n     *\n     * @returns {void} .\n     * @private\n     */\n    VirtualScroll.prototype.destroy = function () {\n        // destroy module\n    };\n    return VirtualScroll;\n}());\nexport { VirtualScroll };\n","import * as index from './index';\nindex.Gantt.Inject(index.Filter, index.Selection, index.Sort, index.Reorder, index.Resize, index.Edit, index.DayMarkers, index.Toolbar, index.ContextMenu, index.ExcelExport, index.RowDD, index.ColumnMenu, index.PdfExport, index.VirtualScroll, index.CriticalPath, index.UndoRedo);\nexport * from './index';\n"],"names":["parentsUntil","elem","selector","isID","parent","id","classList","contains","parentElement","isScheduledTask","ganttProp","isNullOrUndefined","startDate","endDate","duration","isCountRequired","dataSource","DataManager","getSwapKey","obj","temp","_i","_a","Object","keys","length","key","isEmptyObject","getUniversalTime","date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","Date","UTC","isRemoteData","adaptor","ODataAdaptor","ODataV4Adaptor","WebApiAdaptor","WebMethodAdaptor","CacheAdaptor","RemoteSaveAdaptor","UrlAdaptor","getTaskData","records","isNotExtend","eventArgs","result","i","data","parseInt","toString","extend","taskData","timezone","updateDates","push","record","ganttProperties","taskFields","dateValidationModule","remove","baselineEndDate","baselineStartDate","formatString","str","args","regx","RegExp","replace","getIndex","value","key1","collection","key2","index","getValue","pixelToPoint","pointToPixel","getUid","uid","DateProcessor","this","fromSegments","mondayTimeRangeLength","tuesdayTimeRangeLength","wednesdayTimeRangeLength","thursdayTimeRangeLength","fridayTimeRangeLength","saturdayTimeRangeLength","sundayTimeRangeLength","prototype","isValidateNonWorkDays","isAutoSchedule","includeWeekend","totalHolidayDates","checkStartDate","validateAsMilestone","isLoad","currentDay","getTime","dayStartTime","dayEndTime","cloneStartDate","hour","getSecondsInDecimal","isMilestone","setTime","setDate","workingRange","workingTimeRanges","weekWorkingTime","to","from","tStartDate","autoCalculateDateScheduling","treeGrid","loadChildOnDemand","hasChildMapping","holidayLength","autoEndDate","startTime","tempDate","getNextWorkingDay","count","holidayFrom","getDateFromFormat","holidayTo","setHours","checkEndDate","editModule","taskbarEditModule","taskBarEditRecord","defaultStartTime","defaultEndTime","cloneEndDate","taskfields","tempCheckDate","getPreviousWorkingDay","tempHoliday","setMinutes","checkBaselineStartDate","cloneDate","checkBaselineEndDate","autoStartDate","calculateStartDate","ganttData","tempStartDate","getStartDate","durationUnit","setRecordValue","dataOperation","updateMappingData","calculateEndDate","tempEndDate","compareDates","calculateDuration","segments","totalDuration","getEndDate","offsetDuration","tDuration","sumOfDuration","milestone","getDuration","col","columnByField","columnMapping","cellEditModule","isCellEdit","edit","read","dialog","dialogModule","textBox","querySelector","element","ej2_instances","dataBind","getNonworkingTime","sDate","eDate","isCheckTimeZone","weekendCount","getWeekendCount","totalHours","getNumberOfSeconds","holidaysCount","getHolidaysCount","totWorkDays","nonWorkHours","getNonWorkingSecondsOnDate","nonWorkingSeconds","secondsPerDay","workDays","fromDuration","newStartDate","newEndDate","timeDiff","isOnHolidayOrWeekEnd","currentDaySeconds","totSeconds","durationValue","durationHours","getTimeDifference","undefined","getFormatedDate","parseFloat","getDurationAsSeconds","toLocaleLowerCase","secondDuration","tempStart","calculateSecondDuration","setSeconds","fromValidation","tempEnd","fromEndDate","num","Number","isInteger","deciNumber","split","getProjectStartDate","cloneProjectStartDate","projectStartDate","flatData","minStartDate","getValidStartDate","isAuto","autoDuration","ganttTask","getTaskByUniqueID","uniqueID","allowUnscheduledTasks","parentItem","parentTask","getParentTask","getValidEndDate","getWorkingTime","currentRange","totalSeconds","nonWorkingHours","nonWorkingTimeRanges","startHour","endHour","sdSeconds","edSeconds","assignStartTime","toLowerCase","assignEndTime","isWorking","interval","mondayDefaultStartTime","tuesdayDefaultStartTime","wednesdayDefaultStartTime","thursdayDefaultStartTime","fridayDefaultStartTime","saturdayDefaultStartTime","sundayDefaultStartTime","mondayDefaultEndTime","tuesdayDefaultEndTime","wednesdayDefaultEndTime","thursdayDefaultEndTime","fridayDefaultEndTime","saturdayDefaultEndTime","sundayDefaultEndTime","calculateWeekWorkTime","j","getSecondsPerDay","dayWorkingTime","dayOfWeek","timeRange","dayWorkingTime_1","_b","weekWorkingTime_1","weekDay","seconds_1","_c","_d","dayDefaultStartTime","seconds_2","getDurationValue","isFromDialog","values","match","trim","unit","durationUnitEditText","indexOf","dayIndex","getDay","nonWorkingDayIndex","holidays","currentHoliday","getHolidayDates","holidayDates","checkWeekEnd","startnonWorkingTimeRange","endnonWorkingTimeRange","sHour","eHour","startRangeIndex","endRangeIndex","totNonWrkSecs","startOnHoliday","endOnHoliday","val","previousIndex","getNonWorkingDayIndex","weekDayLength","workWeek","slice","min","sec","updateDateWithTimeZone","uTZ","uDate","sTZ","getTimezoneOffset","eTZ","standardTZ","tzDiff","offset","localOffset","convertedDate","toLocaleString","timeZone","isNaN","error","reverse","fromOffset","toOffset","fromLocalOffset","toLocalOffset","convert","toConvert","updatedDate","dateObject","globalize","parseDate","format","getDateFormat","type","date1","date2","getDurationString","toFixed","plural","localeObj","getConstant","getWorkString","work","workUnit","calculateProjectDatesForValidatedTasks","editArgs","_this","projectEndDate","maxEndDate","sortedStartDate","sort","a","b","sortedEndDate","cloneProjectEndDate","calculateProjectDates","enablePersistence","timelineModule","isZooming","currentViewData","taskRange","addDateToList","sortDates","dates","isZoomToFit","filterModule","filteredResult","forEach","task","renderBaseline","indicators","item","eventMarkers","marker","holiday","setValue","prevProjectStartDate","splitTasksDuration","bottomTier","Math","ceil","__extends","extendStatics","d","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","create","TaskProcessor","_super","call","customSegmentProperties","isBaseline","isDurationValueUpdated","isTaskIDInteger","recordIndex","taskIds","hierarchyData","addEventListener","on","checkDataBinding","bind","isChange","updatedRecords","dataArray","ids","predecessorsCollection","parentData","processTimeline","renderGantt","initDataSource","ganttdata","cloneDataSource","map","chartRowsModule","updateSegment","taskId","enableValidation","validateTimelineProp","queryManager","query","Query","requiresCount","dataManager","executeQuery","then","e","catch","trigger","constructDataSource","mappingData","executeLocal","group","parentID","rootData","groupData","child","items","apply","dataReorder","taskIdMapping","parentIdMapping","hierarchicalData","tempDataArray","enableVirtualization","JSON","parse","stringify","tempData","setProperties","segmentId","segmentCollection","segmentData","viewType","resources","unassignedTasks","constructResourceViewDataSource","resourceName","resourceFields","name","prepareDataSource","this_1","resourceData","resourceInfo","resourceIdMapping","isResourceString","resource","prepareRecordCollection","initialLoadData","dataMap","reduce","set","Map","calculateSharedTaskUniqueIds","dependency","predecessorModule","ensurePredecessorCollection","this_2","getTaskIds","sharedRecords_1","ids_1","filter","level","rowUniqueID","sharedTaskUniqueIds","this_3","x","createRecord","updateTaskLeftWidth","setTaskIds","childData","parentProp","updateWorkWithDuration","parentWork","floor","calculateAutoDuration","updateAutoWidthLeft","allowParentDependency","resetDependency","updateWidthLeft","updateTaskData","addCustomFieldValue","ganttRecord","columns","ganttColumns","field","getGanttUid","prefix","taskSettings","progress","notes","unModifiedData","predecessors","autoSchedule","taskMode","manual","predecessor","undoRedoModule","addTaskData","test","setResourceInfo","updateResourceName","calculateScheduledValues","toLocaleDateString","predecessorsName","cssClass","getCloneParent","parentUniqId","hasChildRecords","collapseAllParentTasks","updateExpandStateMappingValue","calculateWidth","calculateLeft","getProgressWidth","width","calculateBaselineLeft","calculateBaselineWidth","childRecords","uniqueId","setSegmentsInfo","sortSegmentsData","onLoad","ganttSegments","remainingDuration","totalOffsetDuration","predefinedProperties","segment","cleanedObject","extraProperties","String","left","segmentIndex","timelineSettings","prevSegmentDate","setSegmentTaskData","mergedObject","assign","segmenttaskData","fetchResources","ganttResources","resourceOneDayWork","resourcesLength","resourceUnit","actualOneDayWork","durationInDay","getDurationInDay","isOnEdit","childCompletedWorks","taskType","cloneParent","expanded","reUpdateResources","json","offline","tempData_1","segmentDataCollection","updatableValue","expandStateMapping","expandState","mappingValue","setValidatedDates","updateDurationValue","isMileStone","durationMapping","validateDurationUnitMapping","validateWorkUnitMapping","taskTypeMapping","tType","validateTaskTypeMapping","calculateDateFromStartDate","calculateDateFromEndDate","startDate_1","updateDurationWithWork","totalResourceOneDayWork","updatedDuration","getWorkInHour","updateUnitWithWork","totalUnitInPercentage","individualUnit","isTreeGridRendered","parentWidth","percent","getTaskWidth","getTaskbarHeight","rowHeight","taskBarHeight","taskbarHeight","parentRec","getTaskLeft","calculateAutoLeft","calculateAutoWidth","tierMode","customTimelineSettings","topTier","isValid","modifiedsDate","perDayWidth","isValid_1","k","dateDiff","hasDSTTransition","showWeekend","isOnHoliday","totalWorkingHoursPerDay","start","end","expectedEnd","hoursToAdd","fullDays","remainingHours","abs","weekEndCount","weekEndInMilliSecond","calculateNonWorkingDaysBetweenDates","totalDays","currentDate","getDSTTransitions","findLastSunday","lastDayOfMonth","getUTCDate","getUTCDay","convertToTimezone","Intl","DateTimeFormat","minute","second","hour12","dstStartDate","dstEndDate","dstStart","dstEnd","baseOffset","mid","currentOffset","isFromTimelineVirtulization","isTimeSet","leftValueForStartDate","enableTimelineVirtualization","ganttChartModule","scrollObject","scrollLeft","getTimelineLeft","timelineStartDate","leftValue","calculateLeftValue","newDate","setStartDate","startdate","nonWorkingDaysCount","getSplitTaskWidth","getSplitTaskLeft","segmentTaskStartDate","stDate","segmentStartTime","segmentStartdate","fieldName","resourceSettings","resourcesId","resourcesName","resName","join","updateTaskDataResource","setRecordDate","setRecordDuration","segmentTaskData","isEdit","contextMenuModule","preTaskResources","isAdded","data_1","mapping","isDynamicData","setDataSource","createData","isArray","dataMapping","taskName","parentId","resourceIdCollection","isAddNewResource","resourceIDMapping","resourceUnitMapping","resourceGroup","resource_1","resourceIds_1","includes","ganttDataResource","updateResourceUnit","length_1","taskMapping","resourceLength","stringResourceName","taskResources","flatCollection","rootCollection","shift","splice","tempDuration","reUpdateGanttData","updateGanttData","_isInStartDateRange","isInRange","_isInEndDateRange","updateOverlappingValues","resourceTask","currentTask","tasks","ranges","workTimelineRanges","setSortedChildTasks","updateOverlappingIndex","this_4","range","currSegment","cStartDate","cEndDate","tEndDate","rangeObj","mergeRangeCollections","calculateRangeLeftWidth","eOverlapIndex","isSplit","finalRange","currentTopRange","cCompareRange","sortedRanges","sortBy","splitRangeCollection","rangeCollection","fromField","toField","isSingleTier","getRangeWithWeek","getRangeWithDay","splitArray","splitRangeForDayMode","fromString","rangeObject","nStart","nEndDate","nextAvailDuration","round","splitRangeForWeekMode","isInSplit","isStartNotHolidayOrWeekend","isTempEndDateNotHolidayOrWeekend","isDifferentDates","systemTimeZone","resolvedOptions","parentTaskMap","flatData_1","lenth","shouldProcessUpdateWidth","Boolean","parentRecords","get","isLastChild","updateParentItems","reUpdateGanttDataPosition","pdfExportModule","isPdfExport","helper","exportProps","fitToWidthSettings","isFitToWidth","beforeSinglePageExport","totalSegmentsProgressWidth","progressResizer","incrementSegments","showProgress","progressWidth","pStartDate","setProgress","autoWidth","getParentProgress","childGanttRecord","progressValues","totalProgress","recordProp","isUnscheduledTask","parantData","filledProperty","properties_1","prop","isFromManual","isParent","deleteUpdate","isParentUnschecule","childData_1","previousStartDate","previousEndDate","childRecords_1","childLength","milestoneCount","countOfScheduled_1","countOfUnScheduled_1","some","childRecord","isUnscheduled","propertyWithValue","isChildBoth","this_5","isOnDelete","isDelete","propertyWithValue_1","ganttRec","rec","formattedEndDate","formattedStartDate","isChildBothAndScheduled","numericValue","taskCount","parentProgress","taskbarEditedArgs","action","leftLabelContainer","rightLabelContainer","taskBarMainContainer","taskLabel","childProgressBarInnerDiv","baselineBar","chartRow","childProgressResizer","traceChildTaskBar","manualParentTaskBar","label","templatePadding","dependencyViewContainer","connectorPointLeft","content","rangeContainer","ChartScroll","previousCount","isSetScrollLeft","previousScroll","top","scrollElement","addEventListeners","gridScrollHandler","EventHandler","add","onScroll","grid","updateShimmer","removeShimmer","transformChange","removeEventListeners","off","scrollTop","isFromTreeGrid","updateContent","ganttElement","currentCount","offsetWidth","isZoomingAction","deleteTableElements","createTimelineSeries","gridLines","dayMarkersModule","renderEventMarkers","nonworkingDayRender","renderWeekends","renderHolidays","updateChartElementStyles","chartTimelineContainer","tLeft","resultantWidth","wholeTimelineWidth","enableRtl","isBackwardScrolled","tableContainer","getElementsByClassName","innerHTML","outerHTML","translateXValue","dependencyViewer","connectorLineModule","taskTable","style","right","updateTopPosition","contentScrollTop","virtualScrollModule","getTopPosition","holidayContainer","weekendContainer","eventMarkersContainer","formatUnit","chartVerticalLineContainer","setTimeout","hideMaskRow","allowTaskbarOverlap","showOverAllocation","tr","ganttChartTableBody","childNodes","display","isExpandAll","isCollapseAll","getRowByIndex","height","getRows","contentHeight","children","virtualRender","adjustTable","showMaskRow","updateSpinner","showSpinner","window","clearTimeout","isScrolling","hideSpinner","scrollArgs","notify","previousScrollTop","scrollDirection","previousScrollLeft","totalTimelineWidth","updateWidthAndHeight","svgObject","setAttribute","isToolBarClick","isVirtualScroll","showIndicator","enableVirtualMaskRow","loadingIndicator","indicatorType","requestType","setHeight","setWidth","setScrollTop","setScrollLeft","leftSign","destroy","VirtualContentRenderer","renderWrapper","wrapper","createElement","className","styles","appendChild","virtualTrack","chartBodyContent","appendChildElements","getContent","virtualTable","document","transform","treegridVirtualHeight","translateYValue","GanttChart","isExpandCollapseFromChart","debounceTimeoutNext","debounceTimeout","isGanttElement","previousPinchDistance","currentToolbarIndex","isPinching","preventScrollIntoView","rangeViewContainer","cls.rangeContainer","renderChartContainer","renderChartElements","renderInitialContents","renderChartContents","wireEvents","chartElement","chartPane","renderTimelineContainer","renderBodyContainers","renderOverAllocationContainer","filterSettings","renderRangeContainer","isFromOnPropertyChange","updateProjectDates","isTimelineRoundOff","renderChartRows","connectorLineIds","updatedConnectorLineCollection","createConnectorLinesCollection","renderConnectorLines","node","criticalModule","criticalPathModule","enableCriticalPath","criticalPathCollection","criticalConnectorLine","detailPredecessorCollection","predecessorCollectionTaskIds","processZoomToFit","recordLength","renderRange","getTopValue","currentRecord","getExpandedRecords","nestedParent","getRecordByID","getHierarchyChildRecords","hierarchyChildRecords","records_1","collectHierarchyChildren","accumulator","records_2","getRangeHeight","heightDifference","calculateCollapsedRowHeight","hierarchyChildLength","calculateHierarchyChildLength","calculateExpandedRowHeight","hierarchyChildDataLength","hierarchyChildRecords_1","topValue","rowIndex","enableMultiTaskbar","parentRecord","getRootParent","offsetTop","rowOffset","sameIDElement","parentDiv","leftDiv","cls.rangeChildContainer","rightDiv","borderLeftWidth","borderRightWidth","chartBodyContainer","cls.chartScrollElement","toolbarHeight","toolbarModule","offsetHeight","ganttHeight","emptyHeight","contentElement","scrollHeight","isZoomedToFit","clientWidth","setVirtualHeight","updateGridLineContainerHeight","updateLastRowBottomWidth","wrapper1","navigator","userAgent","expandedRecords","lastExpandedRow","lastExpandedRowIndex","lastRow","table","querySelectorAll","removeClass","clientHeight","addClass","removeEventListener","isDestroyed","ganttChartMouseDown","cancel","TouchEvent","touches","initPinchDistance","calculatePinchDistance","allowTaskbarDragAndDrop","editSettings","allowTaskbarEditing","editAction","getRecordByTaskBar","target","closest","which","tabIndex","isTaskbarEdited","button","allowEditing","endEdit","touch1","touch2","dx","clientX","dy","clientY","sqrt","ganttChartMouseClick","autoFocusTasks","scrollToTarget","ganttChartMouseUp","resizeCheck","Check","falseline","removeFalseLine","isOnTaskbarElement","cls.taskBarMainContainer","isAdaptive","chartExpandCollapseRequest","row","dateObjLeft","updateScrollLeft","scrollWidth","mouseUp","allowRowDragAndDrop","ganttDragElemet","documentMouseUp","showActiveElement","focusedElement","onTaskbarClick","taskbarElement","getRecordByTarget","ganttChartLeave","ganttChartMove","currentPinchDistance","processZooming","pageX","getOffsetRect","connectorLineEditModule","updateConnectorLineEditElement","contextClick","allowFiltering","closeFilterOnContextClick","srcElement","mouseMoveHandler","onMouseMove","originalEvent","rowData","rowElement","columnElement","cellIndex","column","indicator","tooltipModule","getPredecessorTooltipData","getMarkerTooltipData","dataset","doubleClickHandler","recordDoubleClick","getAttribute","getChartRows","getElementById","gridRow","collapseGanttRow","expandGanttRow","reRenderConnectorLines","arg","collapsedGanttRow","expandCollapseChartRows","idField_1","gridRec","getCurrentViewRecords","collapseRow","renderMultiTaskbar","updateContentHeight","expandedGanttRow","idField_2","expandRow","isExpandCollapseLevelMethod","refreshRecords","isChild","displayType","targetElement","t","chartRows","rows","expandCollapseAll","expandAll","collapseAll","treeGridContentHeight","expandAtLevel","collapseAtLevel","isIE11Pointer","Browser","isPointer","mouseDown","touchStartEvent","touchEndEvent","mouseMove","touchMoveEvent","onWheelZoom","tapTimeout_1","event","click","body","unWireEvents","ctrlKey","preventDefault","zoomIn1_1","deltaY","isTouchpad_1","verticalScrollDelta","getIndexByTaskBar","updateElement","next","currentColumn","isTab","isInEditedState","getNextElement","saveCell","editCell","onTabAction","enableHeaderFocus","toolbarItems","$target","focusModule","setActiveElement","focusedRowIndex","nextElement","colIndex","toolbar","itemIndex","isUpdated","tempNextElement","childrenIndex","nextElementIndex","isEditableElement","manageFocus","allowNextRowEdit","columnName","getNextRowElement","getChildElement","editedColumn","nextElementSibling","fmodule","currentInfo","elementToFocus","matrix","current","previousElementSibling","labelSettings","rightLabel","leftLabel","matches","validateNextElement","rowRecord","isChartRow","currentItem","expandedRecordIndex","nextRecord","nextRowIndex","elementByClass","hasChildNodes","childElement","focus","isChartElement","keyAction","getElementsByTagName","blur","scrollIntoView","block","inline","cls.chartRow","__assign","s","n","arguments","Timeline","ganttObj","isZoomIn","topTierCollection","bottomTierCollection","pdfExportTopTierCollection","pdfExportBottomTierCollection","restrictRender","applyDstHour","performedTimeSpanAction","dstIncreaseHour","fromDummyDate","increaseIteration","isFirstLoop","inconsistenceDstApplied","initProperties","timelineEndDate","currentZoomingLevel","roundOffDays","processTimelineProperty","timelineWidthCalculation","refreshTimeline","processTimelineUnit","timelineContainer","refreshTimelineByTimeSpan","updateChartByNewTimeline","refreshChartByTimeline","currentScrollLeft","isReact","updateUndoRedo","zoomingProjectStartDate","zoomingProjectEndDate","checkCurrentZoomingLevel","currentLevel","getZoomLevel","updateToolbar","zoomingLevels","findIndex","tempLevel","newTimeline","timeline","changeTimelineSettings","previousTimeline","previousZoomingLevel","find","enableItems","controlId","skipProperty","property","tier","calculateWidthBetweenTwoDate","clientWidthDifference","nonWorkingDays","zoomingLevel","firstValue","secondValue","chartWidth","sortedCollectons","roundOffDateToZoom","numberOfCells","calculateNumberOfTimelineCells","emptySpace","timelineUnitSize","bottomTierCellWidthCalc","mode","zoomLevel","convertedMilliSeconds","daysInMonth","daysInYear","isStartDate","roundOffTime","numberOfDays","directProperty","innerProperty","tierUnits","extendFunction","timelineViewMode","previousIsSingleTier","validateCount","validateFormat","weekStartDay","calculateZoomingLevelsPerDayWidth","collections","getPerDayWidth","getCurrentZoomingLevel","currentZoomCollection","checkSameCountLevels","getZoomingLevels","sameUnitLevels","closestUnit_1","getClosestUnit","sortedUnitLevels","checkCollectionsWidth","closetUnit","isCont","bottomTierUnits","checkSameLevels","zoomLevels","sortedZoomLevels","updateTimelineHeaderHeight","dateByLeftValue","milliSecondsPerPixel","calculateDateExcludingNonWorkingDays","isInDst","workingDaysPerWeek","fullWeeks","extraDays","calculatedDate","daysAdded","td","div","thead","virtualTableDiv","virtualTrackDiv","loopCount","trTemplate","createTimelineTemplate","timelineVirtualizationStyles","trackWidth","contentVirtualTrack","position","virtualTableStylesT","virtualTableStylesB","virtualTrackStylesT","virtualTrackStylesB","difference","tierCount","timeDifference","timelineRoundOffEndDate","validateBottomTierCount","tierFormat","cloneObj","propertyCollection","tempObj","formatDateHeader","dayFormat","dummyStartDate","dateString","formatDate","locale","updateHourInFormat","updatedFormat","isDateAffectedByDST","modifiedDate","offsetAfter","hoursBack","calculateIteration","dummystartDate","setMilliseconds","iterations","startMinute","formattedDate","newHour","hourMatch","hasHour","hourFormat","formatParts","dateParts","hourIndex","part","formattedHour","numStr","customFormat","formatter","parentTr","increment","newTime","isFirstCell","parentTh","scheduleDateCollection","uniqueTimestamps","Set","WidthForVirtualTable","hasDST","loopEnd","isNonWorkingDayHeader","timelineCell","incrementsDone","calculatedIteration","getHeaterTemplateString","timestamp","has","incrementResult","getIncrement","dummyDateIncrement","tierCollection","weekendEndDate","calculateQuarterEndDate","tempCount","updateTimelineAfterZooming","resized","totWidth","contentWidth","splitterModule","splitterObject","splitterSettings","view","widthDiff","additionalDays","spanDays","startIndex","getTimelineRoundOffEndDate","dateIncrement","firstDay","lastDay","isDstEnd","dstDateCompate","startDateUTC","expectedYearDiff","endDateUTC","resetToNextYear","adjustForDST","expectedMonthDiff","resetToNextMonth","dayIntervel","expectedWeekDiff","nextDayMidnightUTC","resetToNextDay","expectedDayDiff","expectedHourDiff","resetToNextHour","dstDateCompare","resetToNextMinute","expectedMinuteDiff","now","expectedDiff","dstAdjustment","isWeekendHeaderCell","calculateTotalHours","totalHour","scheduleWeeks","isLast","template","timelineTemplate","templateCompiler","thWidth","copyStartDate","orginalDate","enddate","cellWidth","isWeekendCell","textClassName","displayDate","isWeekend","firstElement","getTemplateID","HTMLElement","weekendClass","th","weekendBackground","title","showTooltip","textContent","append","startDay","completeWeekDays","remainingDays","additionalWorkingDays","bottomTierCount","topTierCount","bottomTierCellWidth","topTierCellWidth","roundOffStartDate","last","updateScheduleDatesByToolBar","span","updateTimeLineOnEditing","tempArray","filteredStartDateRecord","pdc","filteredEndDateRecord","DataUtil","aggregates","minEndDate","max","validStartDate","validEndDate","maxStartLeft","maxEndLeft","validStartLeft","validEndLeft","isChanged","taskbarModule","taskBarEditAction","performTimeSpanAction","isFrom","timeSpanActionEvent","ProjectEndDate","eventType","Column","options","allowReordering","allowResizing","allowSorting","merge","GanttTreeGrid","isPersist","setCancelArgs","queryCellInfo","headerCellInfo","rowDataBound","columnMenuOpen","filPopOptions","filOptions","filterMenuElement","columnMenuClick","objectEqualityChecker","old","isEqual","excludeKeys","modifiedRecords","TreeGrid","allowSelection","allowKeyboard","enableHtmlSanitizer","enableImmutableMode","treeGridColumns","isLocaleChanged","previousGanttColumns","validateGanttColumns","createContainer","updateScrollTop","renderReactTemplate","args_1","portal","renderTemplates","treeGridElement","tempHeader","treeGridPane","renderTreeGrid","composeProperties","bindEvents","registeredTemplate","appendTo","portals","enableAdaptiveUI","idMapping","showColumnMenu","enableCollapseAll","columnMenuItems","childMapping","treeColumnIndex","searchSettings","fields","getContentDiv","getHeaderDiv","getScrollbarWidth","outer","visibility","overflow","msOverflowStyle","inner","scrollbarWidth","parentNode","removeChild","ensureScrollBar","headerDiv","isMobile","cssText","dataBound","collapsing","collapsed","expanding","actionBegin","actionComplete","treeActionComplete","created","actionFailure","beforeDataBound","dataStateChange","selectionModule","selectionSettings","persistSelection","getSelectedRowIndexes","treeDataBound","refreshToolbarItems","prevCurrentView","collapsingArgs","createExpandCollapseArgs","expandingArgs","collapsingNodeData","collapsedArgs","expandedArgs","filterElement","updateKeyConfigSettings","recordOne","preventEventTrigger","updatedArgs","sortSettings","deleteObject","currentEditRow","initiateCellEdit","isCancelled","addDeleteRecord","selectedRowIndex","selectedIndexes","selectedRowIndexes","selectRows","selectRow","selectedRecords","getSelectedRecords","selectedTaskId","deletedRecord","indexvalue_1","currentSelection","addedRecord","initiateEditAction","updateDragDropRecords","keyboardModule","keyConfigs","delete","insert","upArrow","downArrow","ctrlHome","ctrlEnd","enter","tab","shiftTab","ctrlShiftUpArrow","ctrlShiftDownArrow","ctrlUpArrow","ctrlDownArrow","scrollHandler","treeGridClickHandler","isOpen","contextMenu","close","customColumns","tasksMapping","headerText","editType","bindTreeGridColumnProperties","createTreeGridColumn","composeUniqueIDColumn","isDefined","previousColumn","prevcolumn","disableHtmlEncode","clipMode","composeIDColumn","params","renderWorkingDayCell","renderDayCell","valueAccessor","durationValueAccessor","composeProgressColumn","dependencyValueAccessor","ui","flValInput","dropInstance","AutoComplete","changeLocale","text","placeholder","popupHeight","write","filteredValue","fltrObj","filterByColumn","operator","changeDelocale","composeResourceColumn","showInlineNotes","contentTemp","initializeCSPTemplate","colName","workValueAccessor","taskTypeValueAccessor","modeValueAccessor","value_1","splitString_1","splitvalue","FF","FS","SS","SF","splitString_2","value_2","resourceValueAccessor","getResourceIds","taskIDName","isProjectView","lengthDataSource","isPrimaryKey","idValueAccessor","visible","newGanttColumn","treeGridColumn","ganttColumn","GanttColumn","value_3","splitString_3","resourceNames","newScrollTop","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","DayWorkingTime","Property","ChildProperty","AddDialogFieldSettings","EditDialogFieldSettings","EditSettings","EventMarker","FilterSettings","Collection","Predicate","SearchSettings","Holiday","LabelSettings","SelectionSettings","SplitterSettings","TaskFields","TimelineTierSettings","TimelineSettings","Complex","TooltipSettings","SortDescriptor","SortSettings","ResourceFields","LoadingIndicator","WeekWorkingTime","ChartRows","milestoneHeight","milesStoneRadius","baselineTop","baselineHeight","touchLeftConnectorpoint","touchRightConnectorpoint","dropSplit","refreshedTr","refreshedData","tagRegex","attributeRegex","taskBaselineTemplateNode","handleTouchMove","handleTouchEnd","initPublicProp","createChartTable","initiateTemplates","prevDate","contentModule","refreshGanttRows","cls.taskTable","attrs","cellspacing","colgroup","initChartHelperPrivateVariable","initializeChartTemplate","createTaskbarTemplate","isGanttChartRendered","getIndicatorNode","templateString","getIndicatorleft","iconClass","createDivElement","getChildTaskbarNode","rootElement","direction","childTaskbarNode","templateData","childTaskbarTemplateFunction","labelString","taskbarInnerDiv","progressDiv","cls.childProgressBarInnerDiv","getBorderRadius","tempDiv","taskLabelTemplateFunction","taskLabelTemplateNode","getTaskLabel","SanitizeHtmlHelper","sanitize","isTemplate","splitTaskbar","cls.traceChildTaskBar","getSplitProgressResizerNode","templateElement","innerText","childLabel","marginLeft","marginRight","textAlign","splitTasks","progressBarVisible","generateSpiltTaskAriaLabel","getSplitTaskbarLeftResizerNode","getSplitTaskBorderRadius","cls.taskLabel","getSplitTaskbarRightResizerNode","lResizerLeft","rResizerLeft","getSegmentIndex","splitStartDate","mergeTask","segmentIndexes","mergeArrayLength","mergeData","details","getUndoActions","previousFlatData","firstSegmentIndex","arrayLength","firstSegment","secondSegment","secondSegmentIndex","insertIndex","segmentFields","modifiedSegments","refreshChartAfterSegment","filterData","segmentsArray","segmentObj","updatedRecordsDateByPredecessor","removePreviousConnectorLines","refreshEditedRecordConnectorLine","isInPredecessorValidation","editedRecords","modifiedTaskData","triggerQueryTaskbarInfoByIndex","clearSelection","splitTask","splitDates","splitDate","splitRecord","segmentDuration","splitSegmentedTaskbar","constructSegments","checkClickState","endDateState","segmentEndDate","mode_1","timeIncrement","diff","taskbarHeightValue","defaultTaskbarHeight","getMilestoneNode","milestoneNode","milestoneTemplateFunction","getTaskBaselineNode","baselineLeft","baselineWidth","baselineColor","updateTaskBaselineNode","getMilestoneBaselineNode","baselineMilestoneHeight","milestoneMarginTop","getLeftLabelNode","leftLabelNode","generateTaskLabelAriaLabel","leftLabelTemplateNode","leftTaskLabelTemplateFunction","getLableText","paddingLeft","paddingRight","labelDiv","leftLabelHeight","taskBarMarginTop","spanElem","cls.label","getRightLabelNode","rightLabelNode","rightLabelTemplateNode","rightTaskLabelTemplateFunction","getManualTaskbar","childEle","cls.manualParentTaskBar","autoLeft","milestoneTemplate","getParentTaskbarNode","parentTaskbarNode","parentTaskbarTemplateFunction","tHeight","getExpandClass","progressBarInnerDiv","parentTaskLabelNode","labelElement","parentLabel","getTableTrNode","activecls","treeGridModule","isSelected","tbody","tableRow","getRowClassName","getExpandDisplayProp","tableCell","parentTaskbarTemplate","taskbarTemplate","parseTemplate","htmlString","parseHtmlStringToElementTree","constructElementFromNode","html","stack","lastIndex","exec","fullMatch","tagName","attributeString","substring","attributes","startsWith","pop","endsWith","setAttributes","childNode","attributesString","cleanStyleString","templateName","cls.leftLabelContainer","taskNameWidth","taskbarContainer","manualParent","getUnscheduledTaskClass","cls.rightLabelContainer","getRightLabelLeft","childTaskbarLeftResizer","childTaskbarRightResizer","childTaskbarProgressResizer","getLeftPointNode","marginTop","mileStoneLeftValue","pointerLeft","connectorPointWidth","mileStoneLeft","pointerTop","connectorPointMargin","canAdd","cls.connectorPointLeft","getRightPointNode","pointerRight","resultString","getResourceName","getFieldValue","getExpandStatus","rowClass","length_2","taskBarMarginTopValue","milestoneHeightValue","trs","collapsedResourceRecord","oldKeys","oldRowElements","getPrimaryKeyFieldNames","oldIndex","modifiedRecIndex","isFromRenderBaseline","tRow","getGanttChartRow","dupChartBody","tempTemplateData","maintainSelectedRecords","replaceChildren","Element","initialChartRowElements","triggerQueryTaskbarInfo","updateOverlapped","parentTrNode","taskbarContainerNode","generateAriaLabel","connectorLineLeftNode","connectorLineRightNode","parentTaskbarTemplateNode","taskbarContainerNode1","appendChildTaskbars","manualTaskbar","connectorLineRightNode_1","milestoneTemplateNode","collapseParent","appendIndicators","setAriaRowIndex","visualData","queryTaskbarInfo","trElement","segmentLength","segmentElement","taskIndicatorNode","taskIndicatorTextNode","indicatorIndex","tooltip","taskbarCollection","scheduledTask","childTaskbarProgressResizeNode","childTaskbarRightResizeNode","childTaskbarLeftResizeNode","childTaskbarTemplateNode","length_3","segmentConnector","i_1","customizeTaskbars","segmentRowElement","taskbarType","classCollections","getClassName","milestoneColor","getComputedStyle","backgroundColor","cls.baselineBar","childTask","progressTask","taskbarBgColor","taskbarBorderColor","outlineColor","progressBarBgColor","taskLabelColor","color","rightLabelColor","leftLabelColor","taskbarArgs","updateQueryTaskbarInfoArgs","triggerTaskbarElement","currentData","taskbarElements","getRowByID","segmentElements","segmentedTasks","i_2","taskbarElement_1","taskBarElement","borderTopColor","classCollection","compile","eOverlapped","rowIDs","rowCounts","rowuniqueid","verticalAlign","rowDragAndDropModule","draggedRecordMarginTop","refreshRow","isValidateRange","isUndoRedo","selectedItem","replaceChild","replaceWith","every","targetData","parentIndex","dataId","setRowData","nextEditableElement","getRowObjectFromUID","getDataRows","updateResourceTaskbarElement","cloneElement","mainTaskbar","zIndex","cloneChildElement","cloneNode","defaultValue","nameConstant","startDateConstant","endDateConstant","durationConstant","taskNameVal","startDateVal","endDateVal","durationVal","generateBaselineAriaLabel","Dependency","gantt","parentIds","parentPredecessors","validatedParentIds","storeId","isChildRecordValidated","dateValidateModule","predecessorTasks_1","ensurePredecessorCollectionHelper","predecessorVal","preValues","predecessorItem","preValue","offsetUnits","offsetUnit","tempOffsetUnits","getOffsetDurationUnit","checkIsParent","calculatePredecessor","getPredecessorStringValue","updateUnscheduledDependency","prdList","predId","predData","updateRecordByID","fromId","boolValue","parentUniqueID","validateParentPredecessor","fromRecord","toRecord","predecessorValue","offsetValue","predecessorText","el","firstPart","predecessorName","isGUId","isAlpha","regex","elSplit","lastIndexOf","lastPart","match_1","processedResult","prefixMatch","indexFS","spliceLength","isExist","toUpperCase","tempOffset","isDrawn","isOwnParent","fromData","toData","creatCollection","checkColloction","fdata","temp1","currentValue","multiple","durationUnitLabels","updatePredecessors","flatDataCollection","updatePredecessorHelper","successorGanttRecord","connectorsCollection","connectorCount","connector","predecessorCollection","traverseParents","totLength","properties","validatePredecessorDates","predecessorCollection_1","validateRecord","updateChildItems","recordId","updateParentPredecessor","enablePredecessorValidation","parentGanttRecord","currentTaskId_1","previousIds","validateManualTasksOnLinking","validateChildGanttRecord","editedPredecessorRecords","childRecordProperty","currentTaskId_2","childPredecessor","getPredecessorDate","maxStartDate","validatedPredecessor","getRecord","getValidatedStartDate","ganttProperty","parentRecordProperty","returnStartDate","updateDateByOffset","resultDate","ganttRecords","exportType","flatData_2","deletedTaskDetails","addPredecessorsCollection","predecessorsLength","predecessorCount","updateConnectorLineObject","connectorObj","createConnectorLineObject","isCritical","connectorLineId","shouldUpdatePredecessor","parentPreviousStart","parentPreviousEnd","predecessorConnected","matchingPredecessor","parentProps","recordProps","parentStart","parentEnd","recordStart","recordEnd","handleTaskUpdate","previousGanttProps","previousRecord","previousRecords","isDialogEditing","isPredecessorDrawn","isUpdateSucessorTask","updateOffsetOnTaskbarEdit","validatePredecessor","previousValue","validationOn","taskBarModule","successor","currentTaskId_3","successors","isValidationEnabled","isValidatedParentTaskID","rootParent","ganttProp_1","childRec","isFirstCall","taskIdsForView","idAsString","concat","validUpdate","validatedChildItems","previousData","calcEndDate","isRightMove","durationDiff","currentStartDate","getUpdatableChildRecords","calculateDateByRoundOffDuration","childLists","getValidPredecessor","validPredecessor","recPredecessor","ConnectorLine","connectorLinePath","arrowPath","taskLineValue","cls.dependencyViewContainer","pointerEvents","renderer","SvgRenderer","createSvg","getconnectorLineGap","milestoneChild","lineColor","connectorLineBackground","lineStroke","connectorLineWidth","createConnectorLineTooltipTable","getTaskbarMidpoint","parentGanttData","childGanttData","childIndex","parentIndexInCurrentView","childIndexInCurrentView","parentLeft","childLeft","childWidth","childId","milestoneParent","parentEndPoint","childEndPoint","connectorLinesCollection","connectorLine","ariaConnector","getConnectorLineTemplate","innerChild","ariaString","insertBefore","lastChild","getParentPosition","getHeightValue","getInnerElementWidthSSType2","getInnerElementLeftSSType2","getInnerChildWidthSSType2","calculateAdjustments","adjustY1","adjustX","adjustY2","adjustZ","shouldAdjustForBaseline","updateParentChildRowsHeight","lastRowIndex","rowElements","parentRowIndexHeight","childRowIndexHeight","lastRowIndexHeight","totalDisplayedRows","setInnerChildWidthSSType2","setInnerElementWidthSSType2","setInnerElementLeftSSType2","getPosition","rowPositionHeight","modifiedValue","heightValue","borderTopWidth","addTop","parentOverlapTopValue","childOverlapTopValue","fromRecordIsParent","toRecordIsParent","fromRecordIsManual","toRecordIsManual","predType","rowHeight1","adjustments","connectorId","groupObject","createGroup","class","connectorPath","drawPath","fill","stroke-width","arrowlinePath","stroke","adjustedValue","x1","x2","y1","y2","x3","x4","y3","y4","point1","adjustedX","point2","arrowX","topPosition","lineHeight","isMilestoneParent","midPointParent","midPoint","isParentIndex","isChildIndex","tooltipTable","cellpadding","tooltipBody","getConnectorLineTooltipInnerTd","fromTaskName","fromPredecessorText","toTaskName","toPredecessorText","createRow","td1","padding","td2","td3","fromName","toName","finish","isObjectType","isObject","pre","lineId","removeConnectorLineById","Splitter","isSplitterResized","renderSplitter","splitterPosition","calculateSplitterPosition","splitterElement","SplitterLayout","ganttWidth","separatorSize","paneSettings","resizable","size","getSpliterPositionInPercentage","minimum","orientation","resizeStart","leftPane","pane","rightPane","splitterPreviousPositionGrid","splitterPreviousPositionChart","callBackPromise","Deferred","resizeStartArgs","resolve","resizing","resizeStop","splitterResizedArgs","splitterLeftPane","ariaValueNow","splitter","columnIndex","getTotalColumnWidthByIndex","widthAsString","intValue","updateSplitterPosition","triggerCustomResizedEvent","pane1","pane2","separator","paneSize","Tooltip","createTooltip","toolTipObj","TooltipComponent","openDelay","animation","open","effect","delay","afterOpen","updateTooltipPosition","showTipPointer","beforeRender","tooltipBeforeRender","afterClose","tooltipCloseHandler","isStringTemplate","argsData","tierValue","templateContext","timelineTemplateNode","tooltipSettings","tooltipTemplate","getTooltipContent","taskbar","taskbarTemplateNode","baseLineTemplateNode","baseline","baselineTemplate","dependencyLineTemplateNode","predecessorTooltipData","callBackPromise_1","argData","currentTarget","tooltipMouseEvent","parentWithZoomStyle","postion","getPointorPosition","containerPosition","topEnd","leftEnd","tooltipPositionX","tooltipPositionY","y","innerHeight","posX","posY","documentElement","elementType","taskNameValue","milestoneStartDate","sDateValue","sDate_1","startDateValue","endDateValue","progressValue","cls.templatePadding","endDate_1","duration_1","progress_1","baselineStartDateValue_1","baselineEndDateValue_1","markerTooltipElement","markerTooltipElementValue_1","markerLabel_1","fromNameValue_1","fromIdValue_1","toNameValue_1","toIdValue_1","toId","linkTextValue_1","linkText","offsetStringValue_1","offsetString","titleValue_1","timlineTitleValue_1","autoStartDateValue","autoEndDateValue","durationUnitValue","manualStartDateValue","manualEndDateValue","autoStartDate_1","autoEndDate_1","durationValue_1","manualStartDate_1","manualEndDate_1","autoStartValue","autoEndValue","dateValue","autoStart_1","autoEnd_1","date_1","markerTooltipId","predeceesorParent","fromTask","toTask","linkType","getPredecessorTextValue","propName","tooltipFunction","templateID","FocusModule","isFromKeyboardAction","activeElement","previousActiveElement","getActiveElement","isPreviousActiveElement","onKeyPress","ele","focussedElement","sortModule","hidePopUp","getCellSelectedRecords","currentSelectingRecord","searchElement","upDownKeyNavigate","expandCollapseKey","textValue","tempValue","dialogObj","stopPropagation","addRecord","newRowPosition","allowAdding","openAddDialog","openToolbarEditDialog","touchEdit","getSelectedRowCellIndexes","startDeleteAction","selectedId","selectCellIndex","scrollToTask","top_1","undo","redo","ganttRow","firstRowIndex","selectRowsByRange","keyEvent","selectingRowIndex","selectedCellItem","currentCellIndex","cellIndexes","cellInfo","selectCell","selectedRowIndex_1","expandByIndex","collapseByIndex","Gantt","isRowSelected","singleTier","triggeredColumnName","totalUndoAction","isExpandPerformed","oldRecords","updateDuration","isConvertedMilestone","isOnAdded","isFromEventMarker","isConnectorLineUpdate","staticSelectedRowIndex","needsID","eventMarkerColloction","mergePersistGanttData","getModuleName","preRender","getCurrentDayStartTime","getCurrentDayEndTime","getStartTime","getEndTime","endTime","getNonWorkingRange","nonWorkingTimeRange","sundayNonWorkingTimeRanges","mondayNonWorkingTimeRanges","tuesdayNonWorkingTimeRanges","wednesdayNonWorkingTimeRanges","thursdayNonWorkingTimeRanges","fridayNonWorkingTimeRanges","saturdayNonWorkingTimeRanges","getWorkingRange","sundayWorkingTimeRanges","mondayWorkingTimeRanges","tuesdayWorkingTimeRanges","wednesdayWorkingTimeRanges","thursdayWorkingTimeRanges","fridayWorkingTimeRanges","saturdayWorkingTimeRanges","sundaySeconds","mondaySeconds","tuesdaySeconds","wednesdaySeconds","thursdaySeconds","fridaySeconds","saturdaySeconds","Internationalization","isDevice","UpdateOffsetOnTaskbarEdit","L10n","getDefaultLocale","mondayNonWorkingHours","tuesdayNonWorkingHours","wednesdayNonWorkingHours","thursdayNonWorkingHours","fridayNonWorkingHours","saturdayNonWorkingHours","sundayNonWorkingHours","durationUnitTexts","days","isMileStoneEdited","validationDialogElement","currentEditedArgs","dialogValidateMode","respectLink","removeLink","preserveLinkWithEditing","keyConfig","home","saveRequest","escape","addRow","addRowDialog","editRowDialog","focusTask","indentLevel","outdentLevel","focusSearch","selectAll","resourceFieldsMapping","isUndoRedoItemPresent","undoRedoActions","dateFormat","getDatePattern","skeleton","getDefaultTZOffset","janMonth","julMonth","resourceNameMapping","validateDimentionValue","calculateDimensions","settingsHeight","settingsWidth","elementStyleHeight","elementStyleWidth","render","isVue","vueInstance","createSpinner","renderToolbar","actionFailures","clear","checkModule","moduleName","settings","injectedModules","failureCases","modules","lettersRegex","allPropertiesNull","isPrimary","markers","allowDeleting","showDeleteConfirmDialog","allowExcelExport","dragAndDrop","enableUndoRedo","dayMarkers","highlightWeekends","enableContextMenu","allowPdfExport","failureEventArgs_1","err","isTablePresent","contentMaskTable","maskTable","headerMaskTable","ganttHeader","scrollLeftValue","ganttContent","renderBackGround","createMaskTable","renderHeaderBackground","backgroundLines","containerWidth","getBoundingClientRect","firstChild","shimmerContainerHeight","header","createEmptyTimeLineTable","removeProperty","createEmptyMaskTable","timelineHeight","duplicateRow","topBottomHeader","applyTimelineMaskRow","maskRow","maskCells","maskCell","innerMaskCells","htmlInner","columnLoop","applyMaskRow","renderChartVerticalLines","removeCriticalPathStyles","ganttChartElement","KeyboardEvents","keyActionHandler","eventName","windowResize","keyDownHandler","unwireEvents","altKey","keyCode","updateRowHeightInConnectorLine","updateContainerHeight","firstMenuItem","columnMenuModule","updateCurrentViewData","getRecordFromFlatdata","updatedRecord","_WeekStartDay","updateTimescaleView","displayHalfValue","displayQuarterValue","updateTreeColumns","gridColumns","getColumns","gridColumn","isUndefined","scrollContainer","searchString","matchedObject","treeColumn","timelineContainer_1","createGanttPopUpElement","renderComplete","getCurrentRecords","showCriticalPath","onPropertyChanged","newProp","oldProp","isRefresh","refreshColumns","module","getActualProperties","renderChartGridLines","enableToggle","updateSearchTextBox","processDialogFields","reUpdateDimention","reUpdateEditModules","selectRowByIndex","closeGanttActions","enable","contextMenuItems","updateOverAllocationCotainer","refresh","getPersistData","keyEntity","ignoreOnPersist","ignoreOnColumn","currentObject","ignoreInArrays","addOnPersist","ignoreInColumn","nonworkingContainer","resetTemplates","requiredModules","member","sortColumn","isMultiSort","mergeColumns","storedColumn","setFrozenCount","splitFrozenCount","isFrozenGrid","clearSorting","verticalLines","chartRowsTD","getContentHeight","currentProp","getHeaderContent","headerTable","thElements","thLength","leftPos","containerDiv","divElement","emptyRecord","criticalPath","changeScheduleMode","subTasksStartDate","subTasksEndDate","scheduleStartDate","scheduleEndDate","auto","resourceID","generalTab","customTab","writeNotes","addDialogTitle","editDialogTitle","update","search","zoomIn","zoomOut","zoomToFit","excelExport","csvExport","pdfExport","nextTimeSpan","prevTimeSpan","saveButton","taskBeforePredecessorFS","taskAfterPredecessorFS","taskBeforePredecessorSS","taskAfterPredecessorSS","taskBeforePredecessorFF","taskAfterPredecessorFF","taskBeforePredecessorSF","taskAfterPredecessorSF","okText","confirmDelete","taskLink","lag","enterValue","taskInformation","deleteTask","deleteDependency","save","above","below","toMilestone","leftTaskLabel","rightTaskLabel","confirmPredecessorDelete","unassignedTask","indent","outdent","removeSortColumn","actionBeginTask","scrollToDate","updateChartScrollOffset","parent_1","parent_2","filterOperator","filterValue","predicate","matchCase","ignoreAccent","excelExportProperties","isMultipleExport","workbook","isBlob","excelExportModule","pdfExportProperties","pdfDoc","export","clearFiltering","removeFilteredColsByField","isCustomManual","currentEditedRowData","isDisabled","previousTimeSpan","timeSpan","browserZoomLevel","outerWidth","innerWidth","reorderColumns","fromFName","toFName","isStart","isTaskData","makeCloneData","task_1","currentAction","oldRecord","cloneData","prevValue","clonedValue","isObjectArray","closeEdit","hide","dialogClose","setSplitterPosition","tempSplitterSettings","contructExpandCollapseArgs","ind","expandByID","collapseByID","rowPosition","addRowPosition","addRowIndex","dropChildRecord","updateTaskId","currentId","newId","getRedoActions","clearUndoCollection","clearRedoCollection","getCriticalTasks","fitToProject","reorderRows","fromIndexes","toIndex","updateRecordByIndex","addPredecessor","predecessorString","removePredecessor","updatePredecessor","openEditDialog","gridRows","popup","keyVal","box","pageYOffset","pageXOffset","clientTop","clientLeft","updateDataSource","getGridColumns","getColumnByField","getGanttColumns","showColumn","showBy","showColumns","hideColumn","hideBy","hideColumns","cancelEdit","isToggle","selectCells","rowCellIndexes","deleteRecord","taskDetail","isEnable","updateDataArgs","customData","convertToMilestone","changeTaskMode","updateTaskScheduleModes","initiateUpdateAction","renderReactTemplates","clearTemplate","Event","NotifyPropertyChanges","Component","PdfHorizontalOverflowType","CellEdit","isResourceCellEdited","bindTreeGridProperties","cellEdit","ensureEditCell","Inject","Edit","readOnly","parentReference_1","openNotesEditor","isNOU","updatedEditFields","editedObj","editedArgs","editedValue","endEditAction","taskNameEdited","startDateEdited","endDateEdited","durationEdited","resourceEdited","progressEdited","baselineEdited","dependencyEdited","notedEdited","workEdited","taskmodeEdited","initiateSaveAction","typeEdited","updateEditedRecord","ganttProb","validateEndDateWithSegments","toTimeString","compareDatesFromRecord","revertCellEdit","updateResourceRelatedFields","durationString","currentDuration","updateSegmentProgress","baseLineStartDate","baseLineEndDate","editedResourceId","editedResouceLength","previousResource","editedResources","newIndex","previousResourceLength","isResourceUpdate","cellEditArgs","workValue","EditTooltip","taskbarEdit","opensOn","mouseTrail","windowCollision","offsetLeft","editing","scrollY","toolTipHeight","showHideTaskbarEditTooltip","bool","updateTooltip","connectorSecondAction","connectorSecondElement","taskBarEditElement","taskWidth","getTooltipText","offsetY","offsetX","tooltipString","instance","editRecord","templateNode","TaskbarEdit","previousLeftValue","isMouseDragged","dependencyCancel","isDragged","editElement","elementOffsetLeft","elementOffsetTop","elementOffsetWidth","elementOffsetHeight","currentItemTop","currentItemPrevTop","isClonedElement","updatePosition","tooltipValue","editTooltip","mouseDownHandler","mouseUpHandler","mouseLeaveHandler","mouseMoveAction","mouseClickHandler","connectorSecondRecord","highlightedSecondElement","finalPredecessor","drawPredecessor","roundOffDuration","dragMouseLeave","previousItemProperty","tapPointOnFocus","canDrag","getElementByPosition","updateTaskBarEditElement","enableSelectMultiTouch","validateConnectorPoint","taskBarEditingAction","showHideActivePredecessors","multipleSelectionEnabled","showHideTaskBarEditingElements","show","applyActiveColor","chartContent","$tr","$taskbar","$connectorElement","predecessorIndex","renderPredecessorDeleteConfirmDialog","cloneTaskBar","realTaskbarElement","getTaskBarAction","index_1","ganttprop","parentleft","resizeElement","setProperty","currentindex","resizeTable","resizetableBody","createTable","taskbarPosition","tableBody","cloneTaskbarElement","taskbarResizer","currentIndex","updateMouseDownProperties","prevZIndex","secondElement","fadeConnectorLine","isShowProgressResizer","isShowConnectorPoints","progressElement","cls.childProgressResizer","connectorElement","record_2","leftConnector","rightConnector","mouseDownElement","getCoordinate","zoom1","zoom","pageY","mouseDownX","mouseDownY","dragMoveY","isMouseDragCheck","mouseMoveX","mouseMoveY","previousItem","removeFirstBorder","canremove","removeLastBorder","islastRowIndex","isEmptyRow","removetopOrBottomBorder","border","addRemoveClasses","topOrBottomBorder","gridElement","removeChildBorder","borderElem","cells","len","addErrorElem","dragelem","paddingTop","removeErrorElem","errorelem","ensurePosition","draggedRecords","draggedRecord","ganttRowElement","currentElement","xValue","yValue","elementFromPoint","draggedTreeGridRowElement","draggedTreeGridRowHeight","chartRowElement_1","droppedTreeGridRowElement","tObj","rowTop","toolHeight","positionOffSet","firstElementChild","divide","topRowSegment","middleRowSegment","bottomRowSegment","posy","isTopSegment","isMiddleRowSegment","isBottomRowSegment","droppedTreeGridRecord","isMouseClick","editingFields","updateMouseMoveProperties","oldData","mainElement","resizeGripper","currentWidth","performProgressResize","enableLeftResizing","enableRightResizing","enableDragging","updateConnectorLineSecondProperties","triggerDependencyEvent","drawFalseLine","parentClientRect","coordinates","pos","reduceHeight","currentSegmentIndex","setItemPosition","updateEditedItem","taskBarEditedAction","isConnectorLineEdit","mouseX","mouseY","timerCount","startScrollTimer","stopScrollTimer","scrollTimer","setInterval","sign","timelineWidth","clearInterval","differenceWidth","previousMouseMove","previousSegment","nextSegment","validateProgressWidth","totalTaskWidth","endIndex","diffrenceWidth","prevProgress","widthValue","progressBorderRadius","enableSplitTaskLeftResize","updateEditPosition","segment_1","segment_2","segment_3","updateIsMilestone","segmentWidth","updatedValues","getProgressPercent","getRoundOffStartLeft","getDateByLeft","updateSplitLeftResize","getRoundOffEndLeft","tempdate","updateSplitRightResizing","updateChildDrag","setSplitTaskDrag","extractEndDates","predecessorList","predecessorRecord","compareDate","isValidDependency","predecessorArray","maxDate","segmentOffsetDuration","segmentOffset","segmentDate","isRoundOff","totalLeft","remainingContribution","remainingLeft","positionValue","inHour","inMinutes","remainDays","remainDaysInDecimal","rightResizer","segmentedTaskBarContainer","traceChildProgressBar","taskBarRightResizer","traceParentTaskBar","traceParentProgressBar","traceConnectorPointRight","segmentConnectorPointRight","manualParentTaskbar","resizeLine","segment_4","borderBottomRightRadius","borderTopRightRadius","width_1","progressElements","width_2","resizeValue","mouseDragged","cancelTaskbarEditActionInMouseLeave","resMouseY","taskbarEdited","reUpdatePreviousRecords","fixedWidth","totalProgressWidth","tempWidth","draggedRecIndex","flatRecordCol","droppedRecord","droppedTarget","droppedParentRecordIndex","draggedParentRecordIndex","fromIndex","dropIndex","dropPosition","dropRecord","droppedRecordIndex","updateParentProgress","segment_5","eDate_1","parentwidth","progresswidth","angle","atan2","PI","falseLine","transformOrigin","isRemoveConnectorPointDisplay","isBigger","zoomedPageY","fromItem","toItem","isValidLink","validatePredecessorRelation","newPredecessorString","tooltipElement","e_1","changedTouches","DialogEdit","isFromDialogPredecessor","isTriggered","taskFieldColumn","customFieldColumn","processedId","updatedAddFields","dialogEditValidationFlag","isValidData","isResourceTabUpdated","beforeOpenArgs","types","getPredecessorType","editedRecord","inputs","booleanedit","CheckBox","dropdownedit","DropDownList","datepickeredit","DatePicker","datetimepickeredit","DateTimePicker","maskededit","MaskedTextBox","numericedit","NumericTextBox","stringedit","TextBox","defaultedit","dblClickHandler","editDialogFields","getDefaultDialogFields","validateDialogFields","addDialogFields","dialogFields","newDialogFields","emptyCustomColumn","fieldItem","getGeneralColumnFields","getCustomColumnFields","valueOf","composeAddRecord","isFromAddDialog","createDialog","getMinimumStartDate","minDate","getNewTaskId","gObj","selectedRowId","numericOrString","isFromEditDialog","dialogModel","dialogMaxWidth","animationSettings","isModal","allowDragging","showCloseIcon","X","Y","closeOnEscape","beforeClose","closedBy","nodeName","dialogElement","generalTabElement","tabObj","select","maxHeight","buttons","buttonModel","buttonClick","createTab","CustomformObj","formObj","storeValidTab","validate","storeDependencyTab","firstOccuringTab","dependencyTab","storeResourceTab","resourceTab","initiateDialogSave","resetValues","destroyDialogInnerElements","tabModel","destroyCustomField","inputElement","controlObj","getObject","getEditFields","tabElement","tabItems","dialogSettings","dialogField","tabItem","getFieldsModel","getSegmentsModel","getPredecessorModel","getResourcesModel","getNotesModel","renderTabItems","selected","tabSelectedEvent","overflowMode","Tab","Dialog","actionCompleteArgs","validationRules","changeFormObj","actionCompleteArg","storeColumn","getFilteredDialogFields","validateColumn","firstFieldType","customFieldColumns","taskFieldColumns","validationRulesArray","customColumn","createFormObj","taskColumn","targetArray","columnValue","form","rules","FormValidator","validationComplete","customPlacement","nameAttribute","valErrorPlacement","getElemTable","tooltipContent","errorMessage","existingTooltip","tooltipContainer","labelId","tooltipLabel","errorMessageElement","arrow","status","selectedContent","hasEditedBatchCell","hasEditedOrAddedRow","batchSave","isValidateColumn","responsiveTabContent","resourceSelection","enableToolbarItems","dialogContent","dialogContentHeight","toolbar_1","fieldsModel","createInputModel","common","floatLabelType","checkboxModel","change","validateScheduleFields","numeric","datePickerObj","strictMode","firstDayOfWeek","dateTimePickerObj","ID","Value","dropDownListObj","targetId","cellValue","strViewType","container","path","customFn","required","minLength","validateSegmentFields","validateScheduleValuesByCurrentField","updateScheduleFields","ganttField","ganttId","taskField","picker","numericTextBox","validateDuration","updatedStartDate","validateStartDate","validateEndDate","segmentInputModel","prefixIcon","tooltipText","align","datePickerModel","columnFields","inputTextModel","getGridColumnByField","updateSegmentField","inputValue","gridModel","selectedSegment","inputModel","foreignKeyField","foreignKeyValue","checkboxOnly","checkboxMode","toolbarSettings","createFormElement","createInputElement","isCustomTab","renderGeneralTab","disabled","renderPredecessorTab","renderResourceTab","renderCustomTab","renderNotesTab","renderSegmentsTab","segmentGridActionBegin","gridData","taskIdField_1","newId_1","getDialogTabIndex","tabName","indexValue","setInjected","allProperty","Grid","toolbarCollection","columnCollection","additionalParams","Filter","Sort","Page","Group","Aggregate","ColumnChooser","ColumnMenu","ContextMenu","Resize","Reorder","DetailRow","RowDD","Search","Selection","VirtualScroll","Print","PdfExport","ExcelExport","GridToolbar","itemName","preData","ForeignKey","columnCollections","updateColumns","gridObj","addFields","itemModel","getId","inputElements","childElement_1","renderInputElements","templateFields","scriptElement","templateContent","isCheckIsDisabled","stringOrNumber","isParentValid","dependencyColumn","taskNameCollection","predecessorEditCollection","updatePredecessorDropDownData","predecessorLength","preTableCollection","gridActionComplete","gridActionBegin","ComboBox","idCollection","allowCustom","idInput","itemData","autofill","existingColumns","newColumns","columnMap","newColumn","isEdit_1","gridData_1","updateResourceCollection","resourceTreeGridId","resourceTreeGrid","tempRecords","selectedItems","rowResource","rowResourceLength","resourceDataLength","rowSelected","currentResources","rowDeselected","toolbars","TreeGridFilter","TreeGridSort","TreeGridPage","TreeGridEdit","TreeGridAggregate","TreeGridResize","TreeGridReorder","TreeGridRowDD","TreeGridSelection","TreeGridToolbar","isColumnMenu","treeGridObj","resourceColumn","RichTextEditor","Image","Table","EmojiPicker","FileManager","FormatPainter","RTEToolbar","MarkdownEditor","Link","HtmlEditor","QuickToolbar","Count","notesColumn","enabled","checked","inputObj","preTaskIds","currentFlatData","tempObject","preDataCollection","validSuccessorTasks","fromId_1","idIndex","isIdInclude","item_1","arraysMatch","typeText","indexes","id_1","rowItems_1","updateGeneralTab","updatePredecessorTab","updateNotesTab","updateResourceTab","updateCustomTab","updateSegmentsData","disableUndo","newRecords","parentRecordIndex","compareObjects","prevSegments","currentSegments","obj1","obj2","updateSegmentTaskData","segmentForm","generalForm","isCustom","tasksData","editorChild","valueString","HTMLInputElement","updateScheduleProperties","validateUpdateValues","getMatchingPrefix","idArray","parts","preElement","newValues","splitString","name_1","resourceElement","notesElement","rte","getText","getHtml","customElement","ConnectorLineEdit","validationPredecessor","confirmPredecessorDialog","validatedId","validatedOffsetIds","isPublicDependencyDelete","initPredecessorValidationDialog","getConnectorLineHoverElement","highlightConnectorLineElements","isOnLine","isArrow","isCriticalLine","isCriticalArrow","connectorLineElement","removeHighlight","addHighlight","pathElement","getEditedConnectorLineString","idSet","lineFragment","createDocumentFragment","lineElement","editedConnectorElement","idFromPredecessor","preArray","preIdArray","strArray","splitName","predecessorValidation","visitedIdArray","state_1","currentIdArray","predecessorIdArray","flag","state_2","checkParentRelation","checkArray","countFlag","state_3","currentIdIndex","tempPredecessorString","stringValue","editingData","state_4","renderValidationDialog","validationDialog","validationDialogClose","validationDialogOkButton","validationDialogCancelButton","currentArgs","validateMode","applyPredecessorOption","checkChildRecords","updateEditedTask","editEventArgs","connectedTaskId_1","taskId_1","processPredecessors","compareArrays","arr1","arr2","record_1","calculateOffset","isIdInclude_1","removePredecessors","keys1","keys2","isRecursive","prevPredecessor","validPredecessor_1","cumulativePredecessorChanges","pred","isNegativeOffset","preIndex","parentPreIndex","validPredecessor_2","matchingObjects","objectToCompare","preLength","parentPredecessor","openValidationDialog","contentTemplate","validationDialogTemplate","topContentText","contentdiv","parenttaskData","violationType","recordName","recordNewStartDate","recordArgs","topContent","innerTable","validateTypes","violatedParent","ganttTaskData","violateType","endDateOlny","startDateOlny","addRemovePredecessor","prevData","newPredecessor","prevPredecessor_1","this_6","removePredecessorByIndex","confirmOkDeleteButton","confirmCloseDialog","confirmDialog","isFromDeleteMethod","targetedRecords","isNewRecordAdded","isValidatedEditedRecord","createArray","canReset","updateParentRecords","isaddtoBottom","taskbarMoved","predecessorUpdated","isBreakLoop","renderDeleteConfirmDialog","updateDefaultColumnEditors","customEditorColumns","updateIDColumnEditParams","updateProgessColumnEditParams","updateResourceColumnEditor","updateTaskTypeColumnEditor","editParam","decimals","validateDecimalOnType","showSpinButton","updateEditParams","getResourceEditor","editor","editObject","MultiSelect","CheckBoxSelection","showDropDownIcon","delimiterChar","getTaskTypeEditor","ganttPropByMapping","scheduleFieldNames","isScheduleValueUpdated","ganttProps","isDurationKey","ganttPropKey","totDuration","acc","sdate","edate","seg","validateScheduleValues","previousdata","fieldNames","validateScheduleByTwoValues","isTaskbarMoved","isMoved","prevStart","prevEnd","prevDuration","prevDurationUnit","isPredecessorUpdated","isCheckPredecessor","isValidatePredecessor","updateGanttProperties","updateData","childRecordIndex","validateObject","newArgs","validateTaskEvent","dependencyValidationResult","editedEventArgs","resetValidateArgs","validateChildPredecessors","updateParentChildRecord","updateParentItemOnEditing","childCount","milesStoneCount","resetEditProperties","isRefreshChart","isRefreshGrid","prevTask","originalData","copyTaskData","existing","newValue","updateScheduleDatesOnEditing","currentBaselineStart","currentBaselineEnd","currentProgress","eventArg","updatedData","changedRecords","crud","dataAdaptor","batchUrl","saveChanges","dmSuccess","dmFailure","saveSuccess","updateEditedFields","eLength","_aLength","updateEditedRecordFields","deleteRecords","updateSharedTask","updateResoures","isTreeGridRefresh","updateRowIndex","prevResource","currentResource","updateRecord","flatRecords","currentLength","previousLength","prevResourceID","addNewRecord","record1","prevLength","taskID","removeChildRecord","checkWithUnassignedTask","unassignTaskObj","beforeEditStatus","cAddedRecord","addRecordAsBottom","recordIndex1","updateTreeGridUniqueID","addRecordAsChild","deletedRow","flatParentData","deleteChildRecords","uniqueIDIndex","deleteRecordIDs","removeFromDataSource","flatRecordIndex","idx","deletedRecordCount","getChildCount","childRecordsLength","spliceIndex","deletedIndexes","draggedParent","saveFailed","confirmDeleteOkButton","closeConfirmDialog","deleteSelectedItems","deleteResourceRecords","resourceParent","deleteRow","totalRecords","variableType","updateTargetedRecords","taskDetailArray","rowItems","deleteItems","canDeletePredecessor","removePredecessorOnDelete","delereArgs","deletedRecordCollection","updatedRecordCollection","initiateDeleteAction","toRecordPredcessor","updatePredecessorValues","fromRecordPredcessor","predcessorArray","cId","nId","cIndex","nIndex","thisRecord","currentGanttRecord","updatePredecessorOnUpdateId","removeData","dataCollection","modifiedRecord","updatedData_1","deletedRecords","query_1","deleteCrud","deleteSuccess","isUnassignedTask","isCollapsed","prevRecordIndex","flatIndex","treeGridParentIndex","dataIndex","refreshRecordInImmutableMode","updateUnAssignedResources_1","isDuplicate","newTaskId","maxId","prepareNewlyAddedData","newTaskIDmd","taskModel","updateNewlyAddedDataBeforeAjax","pIndex","backUpAndPushNewlyAddedRecord","addRowSelectedItem","newRecord","getVisibleChildRecordCount","updatePredecessorOnIndentOutdent","parentRecordTaskData","updatedPredecessor","predecessorCollections","prdcList","temppredecessorCollection","currentItemIndex","updatedCollectionIndex","recordCollectionUpdate","dataChildCount","newlyAddedRecordBackup","constructTaskAddedEventArgs","newTaskData","addSuccess","dragged","treeIndex","uniqueTaskID","originalIndex","renderModule","cellRender","cell","RowModifier","updateRealDataSource","addDataInRealDataSource","updateClientDataFromServer","serverReturnedValue","addedRecords","addNewUndoCollection","tempArray_1","addedRec","this_7","tempTaskID","cAddedRecord_1","validateTaskPosition","addData","addIndex","removeAddedRecord","_resetProperties","data_2","updatedData_2","processedID_1","previousIDIndex","prevID","idsIndex","updateNewRecord","data_3","canDelete","isPresent","id_2","refreshNewlyAddedRecord","createNewRecord","tempRecord","taskSettingsFields","AddRecord","rowCount","objCollection","undoRedoModule_1","handleResourceUpdate","flatRecordsIndex","currentViewDataIndex","getPrevRecordIndex","prevRecord","selectedRecord","indentOutdentRow","thisParent","actionArgs","actionArg","reArrangeRows","isByMethod","draggedRec","dragRecords","droppedRec","dLength","deleteDragRow","treeGridData","updateChildRecordLevel","updateChildRecord","dropMiddle","newParentIndex","refreshDataSource","refreshRecord","isDrag","queryValue","indentSuccess","indentFailure","indentOutdentSuccess","indx","proxy","rowPos","dragRecord","delRow","removeRecords","updateIndentedChildRecords","indentedRecord","createParentItem","recordLevel","levl","currentRec","flatParent","removeChildItem","gridIndx","recordIdx","childItem","columnDragStart","columnDrag","columnDrop","updateCustomFilters","initiateFiltering","updateModel","getCustomFilterUi","filterUI","getDurationFilter","getDateTimePickerFilter","getDatePickerFilter","dropDateInstance","timeValue","getCustomDateFormat","textBoxInstance","durationObj","intVal","dayVal","datePickerElement","dateTimePickerElement","filterAfterOpen","updateFilterMenuPosition","filterObj","filterValues","instanceObj","setPosition","li","ul","gridPos","offsetParentGridPos","offsetParent","liPos","ulPos","diffOfMargin","reduceTop","getColumnHeaderByField","getFilterMenuPostion","TreeGrdSort","sortByColumn","isSelectionFromChart","isFromChart","multipleIndexes","openPopup","popUpClickHandler","rowSelecting","rowDeselecting","cellSelecting","cellSelected","cellDeselecting","cellDeselected","isCtrlPressed","isMultiCtrlRequest","isShiftPressed","isMultiShiftRequest","actualTarget","foreignKeyData","addRemoveClass","prevRowIndex","previousSelection","isInteracted","isContains","rowIndexes","cellselectingArgs","isPreventFocus","condition","selectedRow","preventFocus","selectedClass","selectedRows","selectedIndexes_1","cellDetails","cellSelectedRecords","getSelectedRows","highlightSelectedRows","fromChart","shiftKey","rIndex","addRowsToSelection","getselectedrowsIndex","request","persist","selectedRecordLen","removeAttribute","showPopup","setCssInGridPopUp","$popUpElemet","spanElement","elements","targetEl","Toolbar","predefinedItems","propertyChanged","headerModule","preItems_1","itemStr","localeName","searchLocalText","createToolbar","addReactToolbarPortals","getItems","NavToolbar","clicked","toolbarClickHandler","cancelItem","updateItem","getSearchBarElement","showClearButton","wireEvent","textbox","onclick","keyUpHandler","focusHandler","blurHandler","unWireEvent","searchIndex","searchItem","toolbarItems_1","getItemObject","getItem","itemObject","gID","adaptiveSearchbar","disableItems","previousGanttRecord","toolbarDefaultItems","isResouceParent","hasData","isDeleteSelected","selectedRecordsCount","hideItem","items_1","NonWorkingDay","weekendWidthUpdated","createNonworkingContainer","holidayElements","getHolidaysElement","fromDate","toDate","viewportHeight","holidayDiv","spanTop","weekendElements","getWeekendElements","nonWorkingIndex","isFirstExecution","dubDate","sDateOffset","dubDateOffset","isHourTimeline","weekendDiv","updateHolidayLabelHeight","gantttable","labels","removeContainers","getEventMarkersElements","removeContainer","eventMarkerElement","rightArrow","eventMarkerCollection","DayMarkers","eventMarkerRender","refreshMarkers","updateHeight","CriticalPath","validatedids","resourceCollectionIds","criticalTasks","modelIds","dateDifference","checkBeyondEnddate_1","totalPredecessorsCollection","totalPredecessorsCollectionId","taskBeyondEnddate","predecessorTaskBeyondEnddate","collectionTaskId","fromDataObject","criticalPathIds","slack","currentRecords","endTask","toPredecessor","fromPredecessor","individualPredecessorLength","taskid","collectionLength","indexEnddate","z","fromdata","todateID","fromDataPredecessor","slackCalculation","finalCriticalPath","pathIndex","modelRecordIds","fromDateArray","fromTaskIdIndex","indexFromTaskId","indexToTaskId","totaskId","prevTaskEnddate","offsetInMillSec","ffslack","fromDateArray1","fromIdFlatData","toIdFlatData","getSlackDuration","updateCriticalTasks","resourceIndex","noSlackValue","toID","criticalData","taskClass","parentTaskbarElement","currentdata","checking","checkint","taskIdString","checkintString","UndoRedo","isUndoRedoPerformed","getRedoCollection","getUndoCollection","redoEnabled","previousSortedColumns","isFromUndoRedo","canUpdateIndex","sortedColumnsLength","undoAction","updateAction_1","previousActions","previousDetails","findPosition","columnsArray","fromColumn","toColumn","char","isShowDeleteConfirmDialog","deleteRec","redoAction","updateAction","createUndoCollection","undoRedoStepsCount","disableRedo","detail","recIndex","prevInd","parentDataIndex","existingRecord","isCntxtMenuDependencyDelete","headerContextMenuClick","headerContextMenuOpen","ganttID","TreeGridContextMenu","contextMenuClick","contextMenuOpen","resetItems","reRenderContextMenu","contextMenuItemClick","contextMenuBeforeOpen","Menu","getMenuItems","beforeOpen","onOpen","onClose","contextMenuOnClose","headerMenuItems","getKeyFromId","parentItem_1","resourceFieldId_1","matchingResource","mergeCall","splitTaskCall","currentClickedDate","getClickedDate","mergeSegmentIndexes","ganttElementPositionLeft","pageLeft","currentTaskDifference","clickedPosition","splitTaskDuration","contextMenuClickDate","menuElement","contentMenuItems","getLocale","updateItemStatus","hideItems","hideChildItems","revertItemStatus","editForm","subMenu","updateItemVisibility","createItemModel","cons.content","getPredecessorsItems","isSelect","isBottomTierMinute","isBottomTierHour","mergeItemVisiblity","menuItems_1","getDefaultItems","buildDefaultItems","iconCss","generateID","iconCSS","contentMenuItem","getIconCSS","menuClass","iconString","showItems","idPrefix","TreeGridExcel","beforeExcelExport","excelQueryCellInfo","excelHeaderQueryCellInfo","excelExportComplete","TreeGridColumnMenu","getColumnMenu","isTest","updateCollection","isSharedTask","canDrop","rowDragStart","rowDragStartHelper","rowDrag","rowDrop","dragElem","errorContainer","rowCell","errorVal","spanContent","ganttDragElement","dragElement","ganttTop","getClientRects","ganttLeft","dropRows","datas","dragLength","checkisSharedTask","previousParent","dropAtTop","spliceId","updatedParent","ganttData_1","uniqueTaskID_1","i_3","i_4","count_1","splittedName","validatedPredecessorNames","droppedParentItem","removeExistingResources","tempResourceInfo","updateCurrentTask","deleteSharedResourceTask","updateSharedResourceTask","toParent_1","isValidPredecessor","validateRecords","predName","toRec","dropRec","preParentRecord","_getExistingTaskWithID","existingTasks","removeResourceInfo","sameIdTasks","tempDataSource","ganttFields","droppedId","dragRec","sharedTask","childTasks","tempIndex","PdfGanttTheme","theme","ganttStyle","setTheme","eventMarker","lineStyle","dashStyle","PdfDashStyle","Dash","enumerable","configurable","initStyles","columnHeader","fontSize","fontColor","PdfColor","gray","borderColor","lineAlignment","alignment","fontFamily","PdfFontFamily","Helvetica","footer","fontStyle","chartGridLineColor","PdfPen","taskColor","progressColor","criticalTaskColor","criticalProgressColor","baselineBorderColor","criticalConnectorLineColor","criticalTaskBorderColor","parentTaskColor","parentProgressColor","taskBorderColor","parentTaskBorderColor","connectorLineColor","progressFontColor","splitLineBackground","unscheduledTaskBarColor","manualParentBackground","manualParentProgress","manualChildBackground","manualChildProgress","manualLineColor","manualParentBorder","manualChildBorder","PdfStringFormat","TemporaryDictionary","mKeys","mValues","ReferenceError","RangeError","containsKey","PdfBorders","defaultBorderPenLeft","Solid","defaultBorderPenRight","defaultBorderPenTop","defaultBorderPenBottom","leftPen","rightPen","topPen","bottomPen","PdfPaddings","bottom","hasLeftPad","hasRightPad","hasTopPad","hasBottomPad","leftPad","rightPad","bottomPad","topPad","PdfTreeGridStyleBase","PdfTreeGridStyle","cellSpacing","borderOverlapStyle","PdfBorderOverlapStyle","Overlap","allowHorizontalOverflow","horizontalOverflowType","LastPage","cellPadding","PdfTreeGridLayouter","baseFormat","columnRanges","repeatRowIndex","pageHeightCollection","headerHeight","currentBounds","RectangleF","layoutInternal","param","currentPage","page","currentPageBounds","getClientSize","currentGraphics","graphics","break","PdfLayoutBreakType","FitColumnsToPage","PointF","bounds","SizeF","treegrid","clientSize","getRow","getCell","borders","startLocation","measureColumnsWidth","determineColumnDrawRanges","layoutOnPage","startColumn","endColumn","cellWidths","availableWidth","isAutoFit","getColumn","subWidths","getFormat","totalDetail","rowDetails","pageNumber","updatePage","currentPageNumber","totalHeight","layoutedPages","startPage","cellStartIndex","cellEndIndex","rowsCount","repeatRow","originalHeight","rowResult","drawRow","rowCollection","isFinish","allowRowBreakAcrossPages","getNextPageFormat","enableHeader","drawHeader","checkBounds","layout","PdfLayoutType","OnePage","paginateBounds","currentBoundsx","default","getLayoutResult","NextPage","reArrangePages","groupedHeights","pageHeightSummary","sum","h","location","layoutPages","pages","section","nextPage","getPages","PdfTreeGridLayoutResult","checkIfDefaultFormat","defaultFormat","characterSpacing","clipPath","firstLineIndent","horizontalScalingFactor","lineLimit","lineSpacing","measureTrailingSpaces","noClip","paragraphIndent","rightToLeft","subSuperScript","wordSpacing","wordWrap","layoutResult","RowLayoutResult","rowBreakHeight","drawRowWithBreak","location_1","leftAdjustment","reCalculateHeight","isTreeColumn","cancelSpans","columnSpan","isCellMergeContinue","draw","rowOverflowIndex","treegridHeight","measureHeight","finishedDrawingCell","newHeight","remainingString","ElementLayouter","PdfLayoutResult","PdfTreeGridLayoutFormat","PdfLayoutFormat","PdfTreeGrid","treeGridSize","PdfTreeGridColumnCollection","PdfTreeGridRowCollection","headers","PdfTreeGridHeaderCollection","calculateTreeGridSize","arg1","arg2","arg3","arg4","drawHelper","layoutRectangle","widths","getDefaultWidths","rowLevel","colCount","rowWidth","initialWidth","getHeader","drawGrid","newBound","layouter","PdfLayoutElement","PdfTreeGridCell","cellHeight","rowSpan","measureWidth","PdfStringLayouter","font","PdfStandardFont","isParentRow","PdfFontStyle","Bold","MAX_VALUE","actualSize","slr","cancelSubsequentSpans","drawCellBackground","textBrush","PdfSolidBrush","innerLayoutArea","isHeaderCell","adjustContentLayoutArea","image","imageBounds","drawImage","customisedFont","fontStyles","newFont","customisedBrush","fontBrush","drawString","stringLayoutResult","PdfImage","PdfBitmap","PdfTextWebLink","drawCellBorder","backgroundBrush","drawRectangle","restore","returnBounds","PdfTextAlignment","Center","Left","Right","Inside","isAll","p1","p2","pen","lineCap","PdfLineCap","Square","drawLine","PdfTreeGridCellCollection","treegridRow","Error","tempcell","PdfTreeGridRow","treegridRowOverflowIndex","_isParentRow","intendLevel","pdfTreeGrid","treegridCells","treegridRowBreakHeight","totalWidth","row_1","PdfTreeGridColumn","columnWidth","_headerText","_field","stringFormat","internalColumns","subFactor","ExportHelper","totalColumnWidth","processToFit","chartsideWidth","gridWidth","processGridExport","props","exportValueFormatter","ExportValueFormatter","processHeaderContent","processGanttContent","processTaskbar","processPredecessor","isColumnVisible","processColumnHeader","pdfColumn","treeGridHeaderHeight","copyStyles","headerTextAlign","headerTemplate","pdfColumnHeaderQueryCellInfo","base64","includeHiddenColumn","renderEmptyGantt","processRecordRow","chartHeader","topTierHeight","bottomTierHeight","showPredecessorLines","findIndexUsingParent","lineWidth","expandedRecord","processRecordCell","formatCellValue","pdfQueryCellInfo","getFontFamily","getFontStyle","dimension","hyperLink","displayText","setHyperLink","textLink","url","brush","unscheduledTaskBy","unscheduleStarteDate","unscheduleEndDate","isSpliterTask","isParentTask","reduceLeft","isManualParent","baseLeft","baseWidth","labelColor","manuallineColor","gridLineColor","labelTemplateStyle","taskStyle","pdfQueryTaskbarInfo","taskSegmentStyles","segmentTaskbar","leftImages","rightImage","baseCount","applyTemplate","source","getHorizontalAlignment","Justify","getVerticalAlignment","PdfVerticalAlignment","Bottom","Middle","Top","getFont","defaultFontFamily","TimesRoman","Regular","mergeCells","lastColIndex","all","initializePdf","tWidth","pageSettings","perColumnWidth","PdfPage","pdfPage","enableFooter","pageSize_1","getPageSize","pageSize","PdfPageTemplateElement","footerBrush","PdfPageNumberField","PdfPageCountField","compositeField","PdfCompositeField","headerProp","fromTop","drawPageTemplate","fromBottom","contents","drawText","drawPageNumber","src","pageTemplate","getBrushFromContent","textPenColor","penColor","hexToRgb","g","setContentFormat","documentHeader","textBrushColor","brushColor","numberStyle","getPageNumberStyle","pageNumberType","total","pageCount","points","getPenFromContent","penSize","getDashStyle","hex","bigint","hAlign","vAlign","culture","valueFormatter","ValueFormatter","internationalization","returnFormattedValue","getFormatFunction","isForeignKey","getForeignData","getNumberFormat","PdfGanttTaskbarCollection","endPage","spaceBetweenImageAndValue","GetNextPage","drawTaskbar","startPoint","cumulativeWidth","currentPageIndex","taskGraphics","isNextPage","endPoint","renderHeight","drawPageTimeline","drawLeftLabel","customizedFont","customizedFontBrush","customizedFontColor","taskLabelFont","taskLabelFontBrush","getPdfFont","progressFormat","updatedWidth","isLabelString","taskLabelPadding","pageIndex","baselinePen","baselineBrush","drawMilestone","taskbarPen_1","taskBrush_1","manualParentBorderPen","manualChildBorderPen","manualTaskbarPen","manualline","manuallineBrush","splitline","manualBrush","manualChildBrush","manualChildProgressBrush","manualProgressBrush","progressPen_1","progressBrush_1","adjustHeightforTaskbar","adjustHeightforBaseline","adjustHeight_1","isStartPoint","taskStartPoint","Dot","segmenttaskbarPen","segmenttaskBrush","imageWidth","PdfPath","addEllipse","translateTransform","path1","setTransparency","segmentprogressPen","segmentprogressBrush","drawUnscheduledTask","brush1","brush2","PdfLinearGradientBrush","isCompleted","renderWidth_1","splitRenderwidth_1","pervwidth_1","valueChangeBlocker_1","lineWidth_1","stringLeft","getWidth","lines","remainder","remainString","progressBoundsWidth","lineStartX","lineEndX","lineY","isCompletedBaseline","renderWidth","isCompletedAutotask","currendate","state","setClip","PdfBrushes","Black","drawRightLabel","fontFamilyValue","fontStyleValue","drawRightLabelValue","previousWidthofRightImage","previousWidthofRightValue","drawRigthlabelImage","isLeftCalculated","actualLeft","leftForLabel","adjustHeight","point","labelBounds","labelFormat","ganttStyle_1","labelBrush","lablePen","strSize","measureString","rightString","getWidthofrightLabel","labelBound","newFontBrush","drawLeftLabelValue","previousWidthofLeftImage","previousWidthofLeftValue","totalLeftWidth","totalstringWidth","drawLeftLabelImage","labelLeft","rightLabelpoint","rightLabelSize","rightLabelBounds","rightLabelFormat","leftLabelImage","leftLabelValue","getWidthofLeftLabel","isLeftImageExist","imageLength","result_1","result_2","PdfWordWrapType","Character","taskBrush","milestonePen","adjustHeightforBaselineMilesone","adjustHeightforMilesone","milestoneBrush","rotateTransform","height_1","PdfTimeline","holidayCompleted","holidayWidth","fitHolidayCompleted","lastWidth","topTierValueLeftPadding","topTierPoint","bottomTierPoint","topTierIndex","bottomTierIndex","prevTopTierIndex","prevBottomTierIndex","drawTimeline","detailsTimeline","remainWidth","pHeader","isFinished","completedWidth","reWidth","triggerQueryTimelinecell","secondHeader","isTopTier","timelineStyle","initializePdfStringFormat","pdfQueryTimelineCellInfo","cellBackgroundColor","isHoliday","holidayContainerColor","timelinedate","holidayLabel","changeDate","holidayNumberOfDays","fromDataHoliday","timelineborder","adjustedWidth","rectPen","font1","textFormat","fontHieght","holidayBrush","pLeft","pTop","PdfGanttPredecessor","pdfGantt","parentPageData","childPageData","predecessorType","parentY","childY","pdfPageDetail","chartPageIndex","midPointManualparent","midPointforTaskbar","midPointforBaseline","point3","point4","point5","point6","parentTaskpoint","childTaskpoint","ffpoint1","sspoint1","ffpoint3","ffpoint4","sspoint4","connectLines","drawArrow","rect","findPageIndex","pageData","pageRect","pdfPages","newEndPoint","newStartPoint","checkStartPoint","startPointCheck","endPointCheck","pageRectLeft","pageRectRight","pageRectBottom","pageRectTop","pageStartX","predecessorPen","drawEventMarker","cumulativeHeight","ganttStyles","eventLine","enventFormat","eventBrush","defaultBorder","pdfborders","renderBox","PdfGantt","changeCloneProjectDates","headerDetails","taskbars","drawChart","totalPages","perColumnPages","calculateRange","drawGantttChart","drawPageBorder","lastColumnRange","isPageFinished","pageWidth","headerWidth","startPageIndex","convertedWidth","sDays","eDays","startHours","calculateHoursWithoutNonworkingDays","endHours","startDays","calculateDaysWithoutNonworkingDays","endDays","secondsToAdd","startDays1","endDays1","startDays2","endDays2","startDays3","endDays3","daysToAdd","workingDaysInWeek","taskbarPoint","pagePoint","pageStartPoint","timelimeHeight","pdfDocument","initGantt","ganttObject","Promise","reject","exportWithData","PdfDocument","processExport","promise","blobPromise","sections","processSectionExportProperties","pdfPageDimensions","FitElement","fileName","pdfPageSettings","PdfPageSettings","pageOrientation","PdfPageOrientation","Landscape","Portrait","setPageSettings","defaultGanttTheme","TreeGridVirtualScroll","translates","transformString","index.Filter","index.Selection","index.Sort","index.Reorder","index.Resize","index.Edit","index.DayMarkers","index.Toolbar","index.ContextMenu","index.ExcelExport","index.RowDD","index.ColumnMenu","index.PdfExport","index.VirtualScroll","index.CriticalPath","index.UndoRedo"],"mappings":"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"}